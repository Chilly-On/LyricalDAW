var TO=Object.defineProperty;var h2=i=>{throw TypeError(i)};var NO=(i,t,r)=>t in i?TO(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r;var tr=(i,t,r)=>NO(i,typeof t!="symbol"?t+"":t,r),Jg=(i,t,r)=>t.has(i)||h2("Cannot "+r);var Qe=(i,t,r)=>(Jg(i,t,"read from private field"),r?r.call(i):t.get(i)),_r=(i,t,r)=>t.has(i)?h2("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,r),Dn=(i,t,r,n)=>(Jg(i,t,"write to private field"),n?n.call(i,r):t.set(i,r),r),Zr=(i,t,r)=>(Jg(i,t,"access private method"),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var OO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var em={exports:{}},bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f2;function FO(){if(f2)return bc;f2=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var l in s)l!=="key"&&(a[l]=s[l])}else a=s;return s=a.ref,{$$typeof:i,type:n,key:o,ref:s!==void 0?s:null,props:a}}return bc.Fragment=t,bc.jsx=r,bc.jsxs=r,bc}var d2;function RO(){return d2||(d2=1,em.exports=FO()),em.exports}var he=RO(),tm={exports:{}},xc={},rm={exports:{}},nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function MO(){return p2||(p2=1,function(i){function t(ne,de){var ve=ne.length;ne.push(de);e:for(;0<ve;){var xe=ve-1>>>1,Q=ne[xe];if(0<s(Q,de))ne[xe]=de,ne[ve]=Q,ve=xe;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var de=ne[0],ve=ne.pop();if(ve!==de){ne[0]=ve;e:for(var xe=0,Q=ne.length,oe=Q>>>1;xe<oe;){var ae=2*(xe+1)-1,ge=ne[ae],me=ae+1,Ae=ne[me];if(0>s(ge,ve))me<Q&&0>s(Ae,ge)?(ne[xe]=Ae,ne[me]=ve,xe=me):(ne[xe]=ge,ne[ae]=ve,xe=ae);else if(me<Q&&0>s(Ae,ve))ne[xe]=Ae,ne[me]=ve,xe=me;else break e}}return de}function s(ne,de){var ve=ne.sortIndex-de.sortIndex;return ve!==0?ve:ne.id-de.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();i.unstable_now=function(){return o.now()-l}}var d=[],p=[],g=1,y=null,x=3,S=!1,_=!1,w=!1,A=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function F(ne){for(var de=r(p);de!==null;){if(de.callback===null)n(p);else if(de.startTime<=ne)n(p),de.sortIndex=de.expirationTime,t(d,de);else break;de=r(p)}}function T(ne){if(w=!1,F(ne),!_)if(r(d)!==null)_=!0,U||(U=!0,z());else{var de=r(p);de!==null&&le(T,de.startTime-ne)}}var U=!1,k=-1,B=5,L=-1;function V(){return A?!0:!(i.unstable_now()-L<B)}function H(){if(A=!1,U){var ne=i.unstable_now();L=ne;var de=!0;try{e:{_=!1,w&&(w=!1,D(k),k=-1),S=!0;var ve=x;try{t:{for(F(ne),y=r(d);y!==null&&!(y.expirationTime>ne&&V());){var xe=y.callback;if(typeof xe=="function"){y.callback=null,x=y.priorityLevel;var Q=xe(y.expirationTime<=ne);if(ne=i.unstable_now(),typeof Q=="function"){y.callback=Q,F(ne),de=!0;break t}y===r(d)&&n(d),F(ne)}else n(d);y=r(d)}if(y!==null)de=!0;else{var oe=r(p);oe!==null&&le(T,oe.startTime-ne),de=!1}}break e}finally{y=null,x=ve,S=!1}de=void 0}}finally{de?z():U=!1}}}var z;if(typeof R=="function")z=function(){R(H)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,K=G.port2;G.port1.onmessage=H,z=function(){K.postMessage(null)}}else z=function(){P(H,0)};function le(ne,de){k=P(function(){ne(i.unstable_now())},de)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ne){ne.callback=null},i.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ne?Math.floor(1e3/ne):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(ne){switch(x){case 1:case 2:case 3:var de=3;break;default:de=x}var ve=x;x=de;try{return ne()}finally{x=ve}},i.unstable_requestPaint=function(){A=!0},i.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ve=x;x=ne;try{return de()}finally{x=ve}},i.unstable_scheduleCallback=function(ne,de,ve){var xe=i.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?xe+ve:xe):ve=xe,ne){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ve+Q,ne={id:g++,callback:de,priorityLevel:ne,startTime:ve,expirationTime:Q,sortIndex:-1},ve>xe?(ne.sortIndex=ve,t(p,ne),r(d)===null&&ne===r(p)&&(w?(D(k),k=-1):w=!0,le(T,ve-xe))):(ne.sortIndex=Q,t(d,ne),_||S||(_=!0,U||(U=!0,z()))),ne},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(ne){var de=x;return function(){var ve=x;x=de;try{return ne.apply(this,arguments)}finally{x=ve}}}}(nm)),nm}var g2;function kO(){return g2||(g2=1,rm.exports=MO()),rm.exports}var im={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2;function PO(){if(m2)return Vt;m2=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(Q){return Q===null||typeof Q!="object"?null:(Q=y&&Q[y]||Q["@@iterator"],typeof Q=="function"?Q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function A(Q,oe,ae){this.props=Q,this.context=oe,this.refs=w,this.updater=ae||S}A.prototype.isReactComponent={},A.prototype.setState=function(Q,oe){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,oe,"setState")},A.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function P(){}P.prototype=A.prototype;function D(Q,oe,ae){this.props=Q,this.context=oe,this.refs=w,this.updater=ae||S}var R=D.prototype=new P;R.constructor=D,_(R,A.prototype),R.isPureReactComponent=!0;var F=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function k(Q,oe,ae,ge,me,Ae){return ae=Ae.ref,{$$typeof:i,type:Q,key:oe,ref:ae!==void 0?ae:null,props:Ae}}function B(Q,oe){return k(Q.type,oe,void 0,void 0,void 0,Q.props)}function L(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===i}function V(Q){var oe={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(ae){return oe[ae]})}var H=/\/+/g;function z(Q,oe){return typeof Q=="object"&&Q!==null&&Q.key!=null?V(""+Q.key):oe.toString(36)}function G(){}function K(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(G,G):(Q.status="pending",Q.then(function(oe){Q.status==="pending"&&(Q.status="fulfilled",Q.value=oe)},function(oe){Q.status==="pending"&&(Q.status="rejected",Q.reason=oe)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function le(Q,oe,ae,ge,me){var Ae=typeof Q;(Ae==="undefined"||Ae==="boolean")&&(Q=null);var Ce=!1;if(Q===null)Ce=!0;else switch(Ae){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(Q.$$typeof){case i:case t:Ce=!0;break;case g:return Ce=Q._init,le(Ce(Q._payload),oe,ae,ge,me)}}if(Ce)return me=me(Q),Ce=ge===""?"."+z(Q,0):ge,F(me)?(ae="",Ce!=null&&(ae=Ce.replace(H,"$&/")+"/"),le(me,oe,ae,"",function(Le){return Le})):me!=null&&(L(me)&&(me=B(me,ae+(me.key==null||Q&&Q.key===me.key?"":(""+me.key).replace(H,"$&/")+"/")+Ce)),oe.push(me)),1;Ce=0;var $e=ge===""?".":ge+":";if(F(Q))for(var Ye=0;Ye<Q.length;Ye++)ge=Q[Ye],Ae=$e+z(ge,Ye),Ce+=le(ge,oe,ae,Ae,me);else if(Ye=x(Q),typeof Ye=="function")for(Q=Ye.call(Q),Ye=0;!(ge=Q.next()).done;)ge=ge.value,Ae=$e+z(ge,Ye++),Ce+=le(ge,oe,ae,Ae,me);else if(Ae==="object"){if(typeof Q.then=="function")return le(K(Q),oe,ae,ge,me);throw oe=String(Q),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ne(Q,oe,ae){if(Q==null)return Q;var ge=[],me=0;return le(Q,ge,"","",function(Ae){return oe.call(ae,Ae,me++)}),ge}function de(Q){if(Q._status===-1){var oe=Q._result;oe=oe(),oe.then(function(ae){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=ae)},function(ae){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=ae)}),Q._status===-1&&(Q._status=0,Q._result=oe)}if(Q._status===1)return Q._result.default;throw Q._result}var ve=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function xe(){}return Vt.Children={map:ne,forEach:function(Q,oe,ae){ne(Q,function(){oe.apply(this,arguments)},ae)},count:function(Q){var oe=0;return ne(Q,function(){oe++}),oe},toArray:function(Q){return ne(Q,function(oe){return oe})||[]},only:function(Q){if(!L(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Vt.Component=A,Vt.Fragment=r,Vt.Profiler=s,Vt.PureComponent=D,Vt.StrictMode=n,Vt.Suspense=d,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return T.H.useMemoCache(Q)}},Vt.cache=function(Q){return function(){return Q.apply(null,arguments)}},Vt.cloneElement=function(Q,oe,ae){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var ge=_({},Q.props),me=Q.key,Ae=void 0;if(oe!=null)for(Ce in oe.ref!==void 0&&(Ae=void 0),oe.key!==void 0&&(me=""+oe.key),oe)!U.call(oe,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&oe.ref===void 0||(ge[Ce]=oe[Ce]);var Ce=arguments.length-2;if(Ce===1)ge.children=ae;else if(1<Ce){for(var $e=Array(Ce),Ye=0;Ye<Ce;Ye++)$e[Ye]=arguments[Ye+2];ge.children=$e}return k(Q.type,me,void 0,void 0,Ae,ge)},Vt.createContext=function(Q){return Q={$$typeof:o,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:a,_context:Q},Q},Vt.createElement=function(Q,oe,ae){var ge,me={},Ae=null;if(oe!=null)for(ge in oe.key!==void 0&&(Ae=""+oe.key),oe)U.call(oe,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(me[ge]=oe[ge]);var Ce=arguments.length-2;if(Ce===1)me.children=ae;else if(1<Ce){for(var $e=Array(Ce),Ye=0;Ye<Ce;Ye++)$e[Ye]=arguments[Ye+2];me.children=$e}if(Q&&Q.defaultProps)for(ge in Ce=Q.defaultProps,Ce)me[ge]===void 0&&(me[ge]=Ce[ge]);return k(Q,Ae,void 0,void 0,null,me)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(Q){return{$$typeof:l,render:Q}},Vt.isValidElement=L,Vt.lazy=function(Q){return{$$typeof:g,_payload:{_status:-1,_result:Q},_init:de}},Vt.memo=function(Q,oe){return{$$typeof:p,type:Q,compare:oe===void 0?null:oe}},Vt.startTransition=function(Q){var oe=T.T,ae={};T.T=ae;try{var ge=Q(),me=T.S;me!==null&&me(ae,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(xe,ve)}catch(Ae){ve(Ae)}finally{T.T=oe}},Vt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Vt.use=function(Q){return T.H.use(Q)},Vt.useActionState=function(Q,oe,ae){return T.H.useActionState(Q,oe,ae)},Vt.useCallback=function(Q,oe){return T.H.useCallback(Q,oe)},Vt.useContext=function(Q){return T.H.useContext(Q)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(Q,oe){return T.H.useDeferredValue(Q,oe)},Vt.useEffect=function(Q,oe,ae){var ge=T.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(Q,oe)},Vt.useId=function(){return T.H.useId()},Vt.useImperativeHandle=function(Q,oe,ae){return T.H.useImperativeHandle(Q,oe,ae)},Vt.useInsertionEffect=function(Q,oe){return T.H.useInsertionEffect(Q,oe)},Vt.useLayoutEffect=function(Q,oe){return T.H.useLayoutEffect(Q,oe)},Vt.useMemo=function(Q,oe){return T.H.useMemo(Q,oe)},Vt.useOptimistic=function(Q,oe){return T.H.useOptimistic(Q,oe)},Vt.useReducer=function(Q,oe,ae){return T.H.useReducer(Q,oe,ae)},Vt.useRef=function(Q){return T.H.useRef(Q)},Vt.useState=function(Q){return T.H.useState(Q)},Vt.useSyncExternalStore=function(Q,oe,ae){return T.H.useSyncExternalStore(Q,oe,ae)},Vt.useTransition=function(){return T.H.useTransition()},Vt.version="19.1.0",Vt}var y2;function lv(){return y2||(y2=1,im.exports=PO()),im.exports}var sm={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2;function LO(){if(v2)return Tn;v2=1;var i=lv();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Tn.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return a(d,p,null,g)},Tn.flushSync=function(d){var p=o.T,g=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=p,n.p=g,n.d.f()}},Tn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(d,p))},Tn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Tn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=l(g,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?n.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:S}):g==="script"&&n.d.X(d,{crossOrigin:y,integrity:x,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=l(p.as,p.crossOrigin);n.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(d)},Tn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=l(g,p.crossOrigin);n.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tn.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=l(p.as,p.crossOrigin);n.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(d)},Tn.requestFormReset=function(d){n.d.r(d)},Tn.unstable_batchedUpdates=function(d,p){return d(p)},Tn.useFormState=function(d,p,g){return o.H.useFormState(d,p,g)},Tn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Tn.version="19.1.0",Tn}var b2;function IO(){if(b2)return sm.exports;b2=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),sm.exports=LO(),sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function BO(){if(x2)return xc;x2=1;var i=kO(),t=lv(),r=IO();function n(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function a(u){var h=u,m=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(m=h.return),u=h.return;while(u)}return h.tag===3?m:null}function o(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function l(u){if(a(u)!==u)throw Error(n(188))}function d(u){var h=u.alternate;if(!h){if(h=a(u),h===null)throw Error(n(188));return h!==u?null:u}for(var m=u,b=h;;){var E=m.return;if(E===null)break;var N=E.alternate;if(N===null){if(b=E.return,b!==null){m=b;continue}break}if(E.child===N.child){for(N=E.child;N;){if(N===m)return l(E),u;if(N===b)return l(E),h;N=N.sibling}throw Error(n(188))}if(m.return!==b.return)m=E,b=N;else{for(var $=!1,J=E.child;J;){if(J===m){$=!0,m=E,b=N;break}if(J===b){$=!0,b=E,m=N;break}J=J.sibling}if(!$){for(J=N.child;J;){if(J===m){$=!0,m=N,b=E;break}if(J===b){$=!0,b=N,m=E;break}J=J.sibling}if(!$)throw Error(n(189))}}if(m.alternate!==b)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?u:h}function p(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=p(u),h!==null)return h;u=u.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function z(u){return u===null||typeof u!="object"?null:(u=H&&u[H]||u["@@iterator"],typeof u=="function"?u:null)}var G=Symbol.for("react.client.reference");function K(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===G?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case _:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case U:return"SuspenseList";case L:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case S:return"Portal";case R:return(u.displayName||"Context")+".Provider";case D:return(u._context.displayName||"Context")+".Consumer";case F:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case k:return h=u.displayName||null,h!==null?h:K(u.type)||"Memo";case B:h=u._payload,u=u._init;try{return K(u(h))}catch{}}return null}var le=Array.isArray,ne=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},xe=[],Q=-1;function oe(u){return{current:u}}function ae(u){0>Q||(u.current=xe[Q],xe[Q]=null,Q--)}function ge(u,h){Q++,xe[Q]=u.current,u.current=h}var me=oe(null),Ae=oe(null),Ce=oe(null),$e=oe(null);function Ye(u,h){switch(ge(Ce,h),ge(Ae,u),ge(me,null),h.nodeType){case 9:case 11:u=(u=h.documentElement)&&(u=u.namespaceURI)?U_(u):0;break;default:if(u=h.tagName,h=h.namespaceURI)h=U_(h),u=V_(h,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}ae(me),ge(me,u)}function Le(){ae(me),ae(Ae),ae(Ce)}function Re(u){u.memoizedState!==null&&ge($e,u);var h=me.current,m=V_(h,u.type);h!==m&&(ge(Ae,u),ge(me,m))}function Ne(u){Ae.current===u&&(ae(me),ae(Ae)),$e.current===u&&(ae($e),pc._currentValue=ve)}var Ge=Object.prototype.hasOwnProperty,Xe=i.unstable_scheduleCallback,Be=i.unstable_cancelCallback,se=i.unstable_shouldYield,te=i.unstable_requestPaint,ce=i.unstable_now,_e=i.unstable_getCurrentPriorityLevel,Me=i.unstable_ImmediatePriority,Te=i.unstable_UserBlockingPriority,rt=i.unstable_NormalPriority,tt=i.unstable_LowPriority,ct=i.unstable_IdlePriority,wt=i.log,st=i.unstable_setDisableYieldValue,Mt=null,et=null;function mt(u){if(typeof wt=="function"&&st(u),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Mt,u)}catch{}}var pt=Math.clz32?Math.clz32:Qt,$r=Math.log,Wr=Math.LN2;function Qt(u){return u>>>=0,u===0?32:31-($r(u)/Wr|0)|0}var jr=256,j=4194304;function Z(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function re(u,h,m){var b=u.pendingLanes;if(b===0)return 0;var E=0,N=u.suspendedLanes,$=u.pingedLanes;u=u.warmLanes;var J=b&134217727;return J!==0?(b=J&~N,b!==0?E=Z(b):($&=J,$!==0?E=Z($):m||(m=J&~u,m!==0&&(E=Z(m))))):(J=b&~N,J!==0?E=Z(J):$!==0?E=Z($):m||(m=b&~u,m!==0&&(E=Z(m)))),E===0?0:h!==0&&h!==E&&(h&N)===0&&(N=E&-E,m=h&-h,N>=m||N===32&&(m&4194048)!==0)?h:E}function ue(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function pe(u,h){switch(u){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pe(){var u=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),u}function je(){var u=j;return j<<=1,(j&62914560)===0&&(j=4194304),u}function it(u){for(var h=[],m=0;31>m;m++)h.push(u);return h}function vt(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Ft(u,h,m,b,E,N){var $=u.pendingLanes;u.pendingLanes=m,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=m,u.entangledLanes&=m,u.errorRecoveryDisabledLanes&=m,u.shellSuspendCounter=0;var J=u.entanglements,fe=u.expirationTimes,Ee=u.hiddenUpdates;for(m=$&~m;0<m;){var Ue=31-pt(m),He=1<<Ue;J[Ue]=0,fe[Ue]=-1;var De=Ee[Ue];if(De!==null)for(Ee[Ue]=null,Ue=0;Ue<De.length;Ue++){var Oe=De[Ue];Oe!==null&&(Oe.lane&=-536870913)}m&=~He}b!==0&&Sr(u,b,0),N!==0&&E===0&&u.tag!==0&&(u.suspendedLanes|=N&~($&~h))}function Sr(u,h,m){u.pendingLanes|=h,u.suspendedLanes&=~h;var b=31-pt(h);u.entangledLanes|=h,u.entanglements[b]=u.entanglements[b]|1073741824|m&4194090}function I(u,h){var m=u.entangledLanes|=h;for(u=u.entanglements;m;){var b=31-pt(m),E=1<<b;E&h|u[b]&h&&(u[b]|=h),m&=~E}}function X(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function W(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Y(){var u=de.p;return u!==0?u:(u=window.event,u===void 0?32:s2(u.type))}function ie(u,h){var m=de.p;try{return de.p=u,h()}finally{de.p=m}}var Fe=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Fe,We="__reactProps$"+Fe,at="__reactContainer$"+Fe,Gt="__reactEvents$"+Fe,zr="__reactListeners$"+Fe,hs="__reactHandles$"+Fe,fs="__reactResources$"+Fe,Xs="__reactMarker$"+Fe;function zo(u){delete u[Ie],delete u[We],delete u[Gt],delete u[zr],delete u[hs]}function xn(u){var h=u[Ie];if(h)return h;for(var m=u.parentNode;m;){if(h=m[at]||m[Ie]){if(m=h.alternate,h.child!==null||m!==null&&m.child!==null)for(u=H_(u);u!==null;){if(m=u[Ie])return m;u=H_(u)}return h}u=m,m=u.parentNode}return null}function Go(u){if(u=u[Ie]||u[at]){var h=u.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return u}return null}function Al(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(n(33))}function Ho(u){var h=u[fs];return h||(h=u[fs]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function hn(u){u[Xs]=!0}var T1=new Set,N1={};function Ga(u,h){qo(u,h),qo(u+"Capture",h)}function qo(u,h){for(N1[u]=h,u=0;u<h.length;u++)T1.add(h[u])}var x3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),O1={},F1={};function _3(u){return Ge.call(F1,u)?!0:Ge.call(O1,u)?!1:x3.test(u)?F1[u]=!0:(O1[u]=!0,!1)}function Mh(u,h,m){if(_3(h))if(m===null)u.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var b=h.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+m)}}function kh(u,h,m){if(m===null)u.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+m)}}function ds(u,h,m,b){if(b===null)u.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(m);return}u.setAttributeNS(h,m,""+b)}}var Wp,R1;function $o(u){if(Wp===void 0)try{throw Error()}catch(m){var h=m.stack.trim().match(/\n( *(at )?)/);Wp=h&&h[1]||"",R1=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wp+u+R1}var Yp=!1;function Xp(u,h){if(!u||Yp)return"";Yp=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(h){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Oe){var De=Oe}Reflect.construct(u,[],He)}else{try{He.call()}catch(Oe){De=Oe}u.call(He.prototype)}}else{try{throw Error()}catch(Oe){De=Oe}(He=u())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Oe){if(Oe&&De&&typeof Oe.stack=="string")return[Oe.stack,De.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=b.DetermineComponentFrameRoot(),$=N[0],J=N[1];if($&&J){var fe=$.split(`
`),Ee=J.split(`
`);for(E=b=0;b<fe.length&&!fe[b].includes("DetermineComponentFrameRoot");)b++;for(;E<Ee.length&&!Ee[E].includes("DetermineComponentFrameRoot");)E++;if(b===fe.length||E===Ee.length)for(b=fe.length-1,E=Ee.length-1;1<=b&&0<=E&&fe[b]!==Ee[E];)E--;for(;1<=b&&0<=E;b--,E--)if(fe[b]!==Ee[E]){if(b!==1||E!==1)do if(b--,E--,0>E||fe[b]!==Ee[E]){var Ue=`
`+fe[b].replace(" at new "," at ");return u.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",u.displayName)),Ue}while(1<=b&&0<=E);break}}}finally{Yp=!1,Error.prepareStackTrace=m}return(m=u?u.displayName||u.name:"")?$o(m):""}function S3(u){switch(u.tag){case 26:case 27:case 5:return $o(u.type);case 16:return $o("Lazy");case 13:return $o("Suspense");case 19:return $o("SuspenseList");case 0:case 15:return Xp(u.type,!1);case 11:return Xp(u.type.render,!1);case 1:return Xp(u.type,!0);case 31:return $o("Activity");default:return""}}function M1(u){try{var h="";do h+=S3(u),u=u.return;while(u);return h}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function fi(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function k1(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function w3(u){var h=k1(u)?"checked":"value",m=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),b=""+u[h];if(!u.hasOwnProperty(h)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,N=m.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return E.call(this)},set:function($){b=""+$,N.call(this,$)}}),Object.defineProperty(u,h,{enumerable:m.enumerable}),{getValue:function(){return b},setValue:function($){b=""+$},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Ph(u){u._valueTracker||(u._valueTracker=w3(u))}function P1(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var m=h.getValue(),b="";return u&&(b=k1(u)?u.checked?"true":"false":u.value),u=b,u!==m?(h.setValue(u),!0):!1}function Lh(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var E3=/[\n"\\]/g;function di(u){return u.replace(E3,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function Zp(u,h,m,b,E,N,$,J){u.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?u.type=$:u.removeAttribute("type"),h!=null?$==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+fi(h)):u.value!==""+fi(h)&&(u.value=""+fi(h)):$!=="submit"&&$!=="reset"||u.removeAttribute("value"),h!=null?Kp(u,$,fi(h)):m!=null?Kp(u,$,fi(m)):b!=null&&u.removeAttribute("value"),E==null&&N!=null&&(u.defaultChecked=!!N),E!=null&&(u.checked=E&&typeof E!="function"&&typeof E!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?u.name=""+fi(J):u.removeAttribute("name")}function L1(u,h,m,b,E,N,$,J){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(u.type=N),h!=null||m!=null){if(!(N!=="submit"&&N!=="reset"||h!=null))return;m=m!=null?""+fi(m):"",h=h!=null?""+fi(h):m,J||h===u.value||(u.value=h),u.defaultValue=h}b=b??E,b=typeof b!="function"&&typeof b!="symbol"&&!!b,u.checked=J?u.checked:!!b,u.defaultChecked=!!b,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(u.name=$)}function Kp(u,h,m){h==="number"&&Lh(u.ownerDocument)===u||u.defaultValue===""+m||(u.defaultValue=""+m)}function Wo(u,h,m,b){if(u=u.options,h){h={};for(var E=0;E<m.length;E++)h["$"+m[E]]=!0;for(m=0;m<u.length;m++)E=h.hasOwnProperty("$"+u[m].value),u[m].selected!==E&&(u[m].selected=E),E&&b&&(u[m].defaultSelected=!0)}else{for(m=""+fi(m),h=null,E=0;E<u.length;E++){if(u[E].value===m){u[E].selected=!0,b&&(u[E].defaultSelected=!0);return}h!==null||u[E].disabled||(h=u[E])}h!==null&&(h.selected=!0)}}function I1(u,h,m){if(h!=null&&(h=""+fi(h),h!==u.value&&(u.value=h),m==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=m!=null?""+fi(m):""}function B1(u,h,m,b){if(h==null){if(b!=null){if(m!=null)throw Error(n(92));if(le(b)){if(1<b.length)throw Error(n(93));b=b[0]}m=b}m==null&&(m=""),h=m}m=fi(h),u.defaultValue=m,b=u.textContent,b===m&&b!==""&&b!==null&&(u.value=b)}function Yo(u,h){if(h){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=h;return}}u.textContent=h}var C3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function U1(u,h,m){var b=h.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?b?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":b?u.setProperty(h,m):typeof m!="number"||m===0||C3.has(h)?h==="float"?u.cssFloat=m:u[h]=(""+m).trim():u[h]=m+"px"}function V1(u,h,m){if(h!=null&&typeof h!="object")throw Error(n(62));if(u=u.style,m!=null){for(var b in m)!m.hasOwnProperty(b)||h!=null&&h.hasOwnProperty(b)||(b.indexOf("--")===0?u.setProperty(b,""):b==="float"?u.cssFloat="":u[b]="");for(var E in h)b=h[E],h.hasOwnProperty(E)&&m[E]!==b&&U1(u,E,b)}else for(var N in h)h.hasOwnProperty(N)&&U1(u,N,h[N])}function Qp(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),D3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ih(u){return D3.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Jp=null;function e0(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Xo=null,Zo=null;function j1(u){var h=Go(u);if(h&&(u=h.stateNode)){var m=u[We]||null;e:switch(u=h.stateNode,h.type){case"input":if(Zp(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),h=m.name,m.type==="radio"&&h!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+di(""+h)+'"][type="radio"]'),h=0;h<m.length;h++){var b=m[h];if(b!==u&&b.form===u.form){var E=b[We]||null;if(!E)throw Error(n(90));Zp(b,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(h=0;h<m.length;h++)b=m[h],b.form===u.form&&P1(b)}break e;case"textarea":I1(u,m.value,m.defaultValue);break e;case"select":h=m.value,h!=null&&Wo(u,!!m.multiple,h,!1)}}}var t0=!1;function z1(u,h,m){if(t0)return u(h,m);t0=!0;try{var b=u(h);return b}finally{if(t0=!1,(Xo!==null||Zo!==null)&&(wf(),Xo&&(h=Xo,u=Zo,Zo=Xo=null,j1(h),u)))for(h=0;h<u.length;h++)j1(u[h])}}function Dl(u,h){var m=u.stateNode;if(m===null)return null;var b=m[We]||null;if(b===null)return null;m=b[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(u=u.type,b=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!b;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(n(231,h,typeof m));return m}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r0=!1;if(ps)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){r0=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{r0=!1}var Zs=null,n0=null,Bh=null;function G1(){if(Bh)return Bh;var u,h=n0,m=h.length,b,E="value"in Zs?Zs.value:Zs.textContent,N=E.length;for(u=0;u<m&&h[u]===E[u];u++);var $=m-u;for(b=1;b<=$&&h[m-b]===E[N-b];b++);return Bh=E.slice(u,1<b?1-b:void 0)}function Uh(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function Vh(){return!0}function H1(){return!1}function Bn(u){function h(m,b,E,N,$){this._reactName=m,this._targetInst=E,this.type=b,this.nativeEvent=N,this.target=$,this.currentTarget=null;for(var J in u)u.hasOwnProperty(J)&&(m=u[J],this[J]=m?m(N):N[J]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Vh:H1,this.isPropagationStopped=H1,this}return g(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Vh)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Vh)},persist:function(){},isPersistent:Vh}),h}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jh=Bn(Ha),Nl=g({},Ha,{view:0,detail:0}),T3=Bn(Nl),i0,s0,Ol,zh=g({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o0,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ol&&(Ol&&u.type==="mousemove"?(i0=u.screenX-Ol.screenX,s0=u.screenY-Ol.screenY):s0=i0=0,Ol=u),i0)},movementY:function(u){return"movementY"in u?u.movementY:s0}}),q1=Bn(zh),N3=g({},zh,{dataTransfer:0}),O3=Bn(N3),F3=g({},Nl,{relatedTarget:0}),a0=Bn(F3),R3=g({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),M3=Bn(R3),k3=g({},Ha,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),P3=Bn(k3),L3=g({},Ha,{data:0}),$1=Bn(L3),I3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V3(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=U3[u])?!!h[u]:!1}function o0(){return V3}var j3=g({},Nl,{key:function(u){if(u.key){var h=I3[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Uh(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?B3[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o0,charCode:function(u){return u.type==="keypress"?Uh(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Uh(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),z3=Bn(j3),G3=g({},zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W1=Bn(G3),H3=g({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o0}),q3=Bn(H3),$3=g({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),W3=Bn($3),Y3=g({},zh,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),X3=Bn(Y3),Z3=g({},Ha,{newState:0,oldState:0}),K3=Bn(Z3),Q3=[9,13,27,32],u0=ps&&"CompositionEvent"in window,Fl=null;ps&&"documentMode"in document&&(Fl=document.documentMode);var J3=ps&&"TextEvent"in window&&!Fl,Y1=ps&&(!u0||Fl&&8<Fl&&11>=Fl),X1=" ",Z1=!1;function K1(u,h){switch(u){case"keyup":return Q3.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q1(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Ko=!1;function eN(u,h){switch(u){case"compositionend":return Q1(h);case"keypress":return h.which!==32?null:(Z1=!0,X1);case"textInput":return u=h.data,u===X1&&Z1?null:u;default:return null}}function tN(u,h){if(Ko)return u==="compositionend"||!u0&&K1(u,h)?(u=G1(),Bh=n0=Zs=null,Ko=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Y1&&h.locale!=="ko"?null:h.data;default:return null}}var rN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J1(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!rN[u.type]:h==="textarea"}function eb(u,h,m,b){Xo?Zo?Zo.push(b):Zo=[b]:Xo=b,h=Nf(h,"onChange"),0<h.length&&(m=new jh("onChange","change",null,m,b),u.push({event:m,listeners:h}))}var Rl=null,Ml=null;function nN(u){k_(u,0)}function Gh(u){var h=Al(u);if(P1(h))return u}function tb(u,h){if(u==="change")return h}var rb=!1;if(ps){var l0;if(ps){var c0="oninput"in document;if(!c0){var nb=document.createElement("div");nb.setAttribute("oninput","return;"),c0=typeof nb.oninput=="function"}l0=c0}else l0=!1;rb=l0&&(!document.documentMode||9<document.documentMode)}function ib(){Rl&&(Rl.detachEvent("onpropertychange",sb),Ml=Rl=null)}function sb(u){if(u.propertyName==="value"&&Gh(Ml)){var h=[];eb(h,Ml,u,e0(u)),z1(nN,h)}}function iN(u,h,m){u==="focusin"?(ib(),Rl=h,Ml=m,Rl.attachEvent("onpropertychange",sb)):u==="focusout"&&ib()}function sN(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Gh(Ml)}function aN(u,h){if(u==="click")return Gh(h)}function oN(u,h){if(u==="input"||u==="change")return Gh(h)}function uN(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Qn=typeof Object.is=="function"?Object.is:uN;function kl(u,h){if(Qn(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var m=Object.keys(u),b=Object.keys(h);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var E=m[b];if(!Ge.call(h,E)||!Qn(u[E],h[E]))return!1}return!0}function ab(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function ob(u,h){var m=ab(u);u=0;for(var b;m;){if(m.nodeType===3){if(b=u+m.textContent.length,u<=h&&b>=h)return{node:m,offset:h-u};u=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=ab(m)}}function ub(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?ub(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function lb(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=Lh(u.document);h instanceof u.HTMLIFrameElement;){try{var m=typeof h.contentWindow.location.href=="string"}catch{m=!1}if(m)u=h.contentWindow;else break;h=Lh(u.document)}return h}function h0(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}var lN=ps&&"documentMode"in document&&11>=document.documentMode,Qo=null,f0=null,Pl=null,d0=!1;function cb(u,h,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;d0||Qo==null||Qo!==Lh(b)||(b=Qo,"selectionStart"in b&&h0(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Pl&&kl(Pl,b)||(Pl=b,b=Nf(f0,"onSelect"),0<b.length&&(h=new jh("onSelect","select",null,h,m),u.push({event:h,listeners:b}),h.target=Qo)))}function qa(u,h){var m={};return m[u.toLowerCase()]=h.toLowerCase(),m["Webkit"+u]="webkit"+h,m["Moz"+u]="moz"+h,m}var Jo={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},p0={},hb={};ps&&(hb=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function $a(u){if(p0[u])return p0[u];if(!Jo[u])return u;var h=Jo[u],m;for(m in h)if(h.hasOwnProperty(m)&&m in hb)return p0[u]=h[m];return u}var fb=$a("animationend"),db=$a("animationiteration"),pb=$a("animationstart"),cN=$a("transitionrun"),hN=$a("transitionstart"),fN=$a("transitioncancel"),gb=$a("transitionend"),mb=new Map,g0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");g0.push("scrollEnd");function Fi(u,h){mb.set(u,h),Ga(h,[u])}var yb=new WeakMap;function pi(u,h){if(typeof u=="object"&&u!==null){var m=yb.get(u);return m!==void 0?m:(h={value:u,source:h,stack:M1(h)},yb.set(u,h),h)}return{value:u,source:h,stack:M1(h)}}var gi=[],eu=0,m0=0;function Hh(){for(var u=eu,h=m0=eu=0;h<u;){var m=gi[h];gi[h++]=null;var b=gi[h];gi[h++]=null;var E=gi[h];gi[h++]=null;var N=gi[h];if(gi[h++]=null,b!==null&&E!==null){var $=b.pending;$===null?E.next=E:(E.next=$.next,$.next=E),b.pending=E}N!==0&&vb(m,E,N)}}function qh(u,h,m,b){gi[eu++]=u,gi[eu++]=h,gi[eu++]=m,gi[eu++]=b,m0|=b,u.lanes|=b,u=u.alternate,u!==null&&(u.lanes|=b)}function y0(u,h,m,b){return qh(u,h,m,b),$h(u)}function tu(u,h){return qh(u,null,null,h),$h(u)}function vb(u,h,m){u.lanes|=m;var b=u.alternate;b!==null&&(b.lanes|=m);for(var E=!1,N=u.return;N!==null;)N.childLanes|=m,b=N.alternate,b!==null&&(b.childLanes|=m),N.tag===22&&(u=N.stateNode,u===null||u._visibility&1||(E=!0)),u=N,N=N.return;return u.tag===3?(N=u.stateNode,E&&h!==null&&(E=31-pt(m),u=N.hiddenUpdates,b=u[E],b===null?u[E]=[h]:b.push(h),h.lane=m|536870912),N):null}function $h(u){if(50<ac)throw ac=0,wg=null,Error(n(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var ru={};function dN(u,h,m,b){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(u,h,m,b){return new dN(u,h,m,b)}function v0(u){return u=u.prototype,!(!u||!u.isReactComponent)}function gs(u,h){var m=u.alternate;return m===null?(m=Jn(u.tag,h,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=h,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&65011712,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,h=u.dependencies,m.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m.refCleanup=u.refCleanup,m}function bb(u,h){u.flags&=65011714;var m=u.alternate;return m===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=m.childLanes,u.lanes=m.lanes,u.child=m.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=m.memoizedProps,u.memoizedState=m.memoizedState,u.updateQueue=m.updateQueue,u.type=m.type,h=m.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function Wh(u,h,m,b,E,N){var $=0;if(b=u,typeof u=="function")v0(u)&&($=1);else if(typeof u=="string")$=gO(u,m,me.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case L:return u=Jn(31,m,h,E),u.elementType=L,u.lanes=N,u;case _:return Wa(m.children,E,N,h);case w:$=8,E|=24;break;case A:return u=Jn(12,m,h,E|2),u.elementType=A,u.lanes=N,u;case T:return u=Jn(13,m,h,E),u.elementType=T,u.lanes=N,u;case U:return u=Jn(19,m,h,E),u.elementType=U,u.lanes=N,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case P:case R:$=10;break e;case D:$=9;break e;case F:$=11;break e;case k:$=14;break e;case B:$=16,b=null;break e}$=29,m=Error(n(130,u===null?"null":typeof u,"")),b=null}return h=Jn($,m,h,E),h.elementType=u,h.type=b,h.lanes=N,h}function Wa(u,h,m,b){return u=Jn(7,u,b,h),u.lanes=m,u}function b0(u,h,m){return u=Jn(6,u,null,h),u.lanes=m,u}function x0(u,h,m){return h=Jn(4,u.children!==null?u.children:[],u.key,h),h.lanes=m,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}var nu=[],iu=0,Yh=null,Xh=0,mi=[],yi=0,Ya=null,ms=1,ys="";function Xa(u,h){nu[iu++]=Xh,nu[iu++]=Yh,Yh=u,Xh=h}function xb(u,h,m){mi[yi++]=ms,mi[yi++]=ys,mi[yi++]=Ya,Ya=u;var b=ms;u=ys;var E=32-pt(b)-1;b&=~(1<<E),m+=1;var N=32-pt(h)+E;if(30<N){var $=E-E%5;N=(b&(1<<$)-1).toString(32),b>>=$,E-=$,ms=1<<32-pt(h)+E|m<<E|b,ys=N+u}else ms=1<<N|m<<E|b,ys=u}function _0(u){u.return!==null&&(Xa(u,1),xb(u,1,0))}function S0(u){for(;u===Yh;)Yh=nu[--iu],nu[iu]=null,Xh=nu[--iu],nu[iu]=null;for(;u===Ya;)Ya=mi[--yi],mi[yi]=null,ys=mi[--yi],mi[yi]=null,ms=mi[--yi],mi[yi]=null}var Rn=null,Lr=null,hr=!1,Za=null,Hi=!1,w0=Error(n(519));function Ka(u){var h=Error(n(418,""));throw Bl(pi(h,u)),w0}function _b(u){var h=u.stateNode,m=u.type,b=u.memoizedProps;switch(h[Ie]=u,h[We]=b,m){case"dialog":Kt("cancel",h),Kt("close",h);break;case"iframe":case"object":case"embed":Kt("load",h);break;case"video":case"audio":for(m=0;m<uc.length;m++)Kt(uc[m],h);break;case"source":Kt("error",h);break;case"img":case"image":case"link":Kt("error",h),Kt("load",h);break;case"details":Kt("toggle",h);break;case"input":Kt("invalid",h),L1(h,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),Ph(h);break;case"select":Kt("invalid",h);break;case"textarea":Kt("invalid",h),B1(h,b.value,b.defaultValue,b.children),Ph(h)}m=b.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||h.textContent===""+m||b.suppressHydrationWarning===!0||B_(h.textContent,m)?(b.popover!=null&&(Kt("beforetoggle",h),Kt("toggle",h)),b.onScroll!=null&&Kt("scroll",h),b.onScrollEnd!=null&&Kt("scrollend",h),b.onClick!=null&&(h.onclick=Of),h=!0):h=!1,h||Ka(u)}function Sb(u){for(Rn=u.return;Rn;)switch(Rn.tag){case 5:case 13:Hi=!1;return;case 27:case 3:Hi=!0;return;default:Rn=Rn.return}}function Ll(u){if(u!==Rn)return!1;if(!hr)return Sb(u),hr=!0,!1;var h=u.tag,m;if((m=h!==3&&h!==27)&&((m=h===5)&&(m=u.type,m=!(m!=="form"&&m!=="button")||Ug(u.type,u.memoizedProps)),m=!m),m&&Lr&&Ka(u),Sb(u),h===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8)if(m=u.data,m==="/$"){if(h===0){Lr=Mi(u.nextSibling);break e}h--}else m!=="$"&&m!=="$!"&&m!=="$?"||h++;u=u.nextSibling}Lr=null}}else h===27?(h=Lr,fa(u.type)?(u=Gg,Gg=null,Lr=u):Lr=h):Lr=Rn?Mi(u.stateNode.nextSibling):null;return!0}function Il(){Lr=Rn=null,hr=!1}function wb(){var u=Za;return u!==null&&(jn===null?jn=u:jn.push.apply(jn,u),Za=null),u}function Bl(u){Za===null?Za=[u]:Za.push(u)}var E0=oe(null),Qa=null,vs=null;function Ks(u,h,m){ge(E0,h._currentValue),h._currentValue=m}function bs(u){u._currentValue=E0.current,ae(E0)}function C0(u,h,m){for(;u!==null;){var b=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,b!==null&&(b.childLanes|=h)):b!==null&&(b.childLanes&h)!==h&&(b.childLanes|=h),u===m)break;u=u.return}}function A0(u,h,m,b){var E=u.child;for(E!==null&&(E.return=u);E!==null;){var N=E.dependencies;if(N!==null){var $=E.child;N=N.firstContext;e:for(;N!==null;){var J=N;N=E;for(var fe=0;fe<h.length;fe++)if(J.context===h[fe]){N.lanes|=m,J=N.alternate,J!==null&&(J.lanes|=m),C0(N.return,m,u),b||($=null);break e}N=J.next}}else if(E.tag===18){if($=E.return,$===null)throw Error(n(341));$.lanes|=m,N=$.alternate,N!==null&&(N.lanes|=m),C0($,m,u),$=null}else $=E.child;if($!==null)$.return=E;else for($=E;$!==null;){if($===u){$=null;break}if(E=$.sibling,E!==null){E.return=$.return,$=E;break}$=$.return}E=$}}function Ul(u,h,m,b){u=null;for(var E=h,N=!1;E!==null;){if(!N){if((E.flags&524288)!==0)N=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var $=E.alternate;if($===null)throw Error(n(387));if($=$.memoizedProps,$!==null){var J=E.type;Qn(E.pendingProps.value,$.value)||(u!==null?u.push(J):u=[J])}}else if(E===$e.current){if($=E.alternate,$===null)throw Error(n(387));$.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(u!==null?u.push(pc):u=[pc])}E=E.return}u!==null&&A0(h,u,m,b),h.flags|=262144}function Zh(u){for(u=u.firstContext;u!==null;){if(!Qn(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Ja(u){Qa=u,vs=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function An(u){return Eb(Qa,u)}function Kh(u,h){return Qa===null&&Ja(u),Eb(u,h)}function Eb(u,h){var m=h._currentValue;if(h={context:h,memoizedValue:m,next:null},vs===null){if(u===null)throw Error(n(308));vs=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else vs=vs.next=h;return m}var pN=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(m,b){u.push(b)}};this.abort=function(){h.aborted=!0,u.forEach(function(m){return m()})}},gN=i.unstable_scheduleCallback,mN=i.unstable_NormalPriority,sn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function D0(){return{controller:new pN,data:new Map,refCount:0}}function Vl(u){u.refCount--,u.refCount===0&&gN(mN,function(){u.controller.abort()})}var jl=null,T0=0,su=0,au=null;function yN(u,h){if(jl===null){var m=jl=[];T0=0,su=Og(),au={status:"pending",value:void 0,then:function(b){m.push(b)}}}return T0++,h.then(Cb,Cb),h}function Cb(){if(--T0===0&&jl!==null){au!==null&&(au.status="fulfilled");var u=jl;jl=null,su=0,au=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function vN(u,h){var m=[],b={status:"pending",value:null,reason:null,then:function(E){m.push(E)}};return u.then(function(){b.status="fulfilled",b.value=h;for(var E=0;E<m.length;E++)(0,m[E])(h)},function(E){for(b.status="rejected",b.reason=E,E=0;E<m.length;E++)(0,m[E])(void 0)}),b}var Ab=ne.S;ne.S=function(u,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&yN(u,h),Ab!==null&&Ab(u,h)};var eo=oe(null);function N0(){var u=eo.current;return u!==null?u:Dr.pooledCache}function Qh(u,h){h===null?ge(eo,eo.current):ge(eo,h.pool)}function Db(){var u=N0();return u===null?null:{parent:sn._currentValue,pool:u}}var zl=Error(n(460)),Tb=Error(n(474)),Jh=Error(n(542)),O0={then:function(){}};function Nb(u){return u=u.status,u==="fulfilled"||u==="rejected"}function ef(){}function Ob(u,h,m){switch(m=u[m],m===void 0?u.push(h):m!==h&&(h.then(ef,ef),h=m),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,Rb(u),u;default:if(typeof h.status=="string")h.then(ef,ef);else{if(u=Dr,u!==null&&100<u.shellSuspendCounter)throw Error(n(482));u=h,u.status="pending",u.then(function(b){if(h.status==="pending"){var E=h;E.status="fulfilled",E.value=b}},function(b){if(h.status==="pending"){var E=h;E.status="rejected",E.reason=b}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,Rb(u),u}throw Gl=h,zl}}var Gl=null;function Fb(){if(Gl===null)throw Error(n(459));var u=Gl;return Gl=null,u}function Rb(u){if(u===zl||u===Jh)throw Error(n(483))}var Qs=!1;function F0(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function R0(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Js(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function ea(u,h,m){var b=u.updateQueue;if(b===null)return null;if(b=b.shared,(mr&2)!==0){var E=b.pending;return E===null?h.next=h:(h.next=E.next,E.next=h),b.pending=h,h=$h(u),vb(u,null,m),h}return qh(u,b,h,m),$h(u)}function Hl(u,h,m){if(h=h.updateQueue,h!==null&&(h=h.shared,(m&4194048)!==0)){var b=h.lanes;b&=u.pendingLanes,m|=b,h.lanes=m,I(u,m)}}function M0(u,h){var m=u.updateQueue,b=u.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var E=null,N=null;if(m=m.firstBaseUpdate,m!==null){do{var $={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};N===null?E=N=$:N=N.next=$,m=m.next}while(m!==null);N===null?E=N=h:N=N.next=h}else E=N=h;m={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:N,shared:b.shared,callbacks:b.callbacks},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=h:u.next=h,m.lastBaseUpdate=h}var k0=!1;function ql(){if(k0){var u=au;if(u!==null)throw u}}function $l(u,h,m,b){k0=!1;var E=u.updateQueue;Qs=!1;var N=E.firstBaseUpdate,$=E.lastBaseUpdate,J=E.shared.pending;if(J!==null){E.shared.pending=null;var fe=J,Ee=fe.next;fe.next=null,$===null?N=Ee:$.next=Ee,$=fe;var Ue=u.alternate;Ue!==null&&(Ue=Ue.updateQueue,J=Ue.lastBaseUpdate,J!==$&&(J===null?Ue.firstBaseUpdate=Ee:J.next=Ee,Ue.lastBaseUpdate=fe))}if(N!==null){var He=E.baseState;$=0,Ue=Ee=fe=null,J=N;do{var De=J.lane&-536870913,Oe=De!==J.lane;if(Oe?(ir&De)===De:(b&De)===De){De!==0&&De===su&&(k0=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var Nt=u,At=J;De=h;var xr=m;switch(At.tag){case 1:if(Nt=At.payload,typeof Nt=="function"){He=Nt.call(xr,He,De);break e}He=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=At.payload,De=typeof Nt=="function"?Nt.call(xr,He,De):Nt,De==null)break e;He=g({},He,De);break e;case 2:Qs=!0}}De=J.callback,De!==null&&(u.flags|=64,Oe&&(u.flags|=8192),Oe=E.callbacks,Oe===null?E.callbacks=[De]:Oe.push(De))}else Oe={lane:De,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ue===null?(Ee=Ue=Oe,fe=He):Ue=Ue.next=Oe,$|=De;if(J=J.next,J===null){if(J=E.shared.pending,J===null)break;Oe=J,J=Oe.next,Oe.next=null,E.lastBaseUpdate=Oe,E.shared.pending=null}}while(!0);Ue===null&&(fe=He),E.baseState=fe,E.firstBaseUpdate=Ee,E.lastBaseUpdate=Ue,N===null&&(E.shared.lanes=0),ua|=$,u.lanes=$,u.memoizedState=He}}function Mb(u,h){if(typeof u!="function")throw Error(n(191,u));u.call(h)}function kb(u,h){var m=u.callbacks;if(m!==null)for(u.callbacks=null,u=0;u<m.length;u++)Mb(m[u],h)}var ou=oe(null),tf=oe(0);function Pb(u,h){u=As,ge(tf,u),ge(ou,h),As=u|h.baseLanes}function P0(){ge(tf,As),ge(ou,ou.current)}function L0(){As=tf.current,ae(ou),ae(tf)}var ta=0,Ht=null,vr=null,Yr=null,rf=!1,uu=!1,to=!1,nf=0,Wl=0,lu=null,bN=0;function Gr(){throw Error(n(321))}function I0(u,h){if(h===null)return!1;for(var m=0;m<h.length&&m<u.length;m++)if(!Qn(u[m],h[m]))return!1;return!0}function B0(u,h,m,b,E,N){return ta=N,Ht=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,ne.H=u===null||u.memoizedState===null?vx:bx,to=!1,N=m(b,E),to=!1,uu&&(N=Ib(h,m,b,E)),Lb(u),N}function Lb(u){ne.H=cf;var h=vr!==null&&vr.next!==null;if(ta=0,Yr=vr=Ht=null,rf=!1,Wl=0,lu=null,h)throw Error(n(300));u===null||dn||(u=u.dependencies,u!==null&&Zh(u)&&(dn=!0))}function Ib(u,h,m,b){Ht=u;var E=0;do{if(uu&&(lu=null),Wl=0,uu=!1,25<=E)throw Error(n(301));if(E+=1,Yr=vr=null,u.updateQueue!=null){var N=u.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}ne.H=AN,N=h(m,b)}while(uu);return N}function xN(){var u=ne.H,h=u.useState()[0];return h=typeof h.then=="function"?Yl(h):h,u=u.useState()[0],(vr!==null?vr.memoizedState:null)!==u&&(Ht.flags|=1024),h}function U0(){var u=nf!==0;return nf=0,u}function V0(u,h,m){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~m}function j0(u){if(rf){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}rf=!1}ta=0,Yr=vr=Ht=null,uu=!1,Wl=nf=0,lu=null}function Un(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?Ht.memoizedState=Yr=u:Yr=Yr.next=u,Yr}function Xr(){if(vr===null){var u=Ht.alternate;u=u!==null?u.memoizedState:null}else u=vr.next;var h=Yr===null?Ht.memoizedState:Yr.next;if(h!==null)Yr=h,vr=u;else{if(u===null)throw Ht.alternate===null?Error(n(467)):Error(n(310));vr=u,u={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},Yr===null?Ht.memoizedState=Yr=u:Yr=Yr.next=u}return Yr}function z0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(u){var h=Wl;return Wl+=1,lu===null&&(lu=[]),u=Ob(lu,u,h),h=Ht,(Yr===null?h.memoizedState:Yr.next)===null&&(h=h.alternate,ne.H=h===null||h.memoizedState===null?vx:bx),u}function sf(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Yl(u);if(u.$$typeof===R)return An(u)}throw Error(n(438,String(u)))}function G0(u){var h=null,m=Ht.updateQueue;if(m!==null&&(h=m.memoCache),h==null){var b=Ht.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(h={data:b.data.map(function(E){return E.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),m===null&&(m=z0(),Ht.updateQueue=m),m.memoCache=h,m=h.data[h.index],m===void 0)for(m=h.data[h.index]=Array(u),b=0;b<u;b++)m[b]=V;return h.index++,m}function xs(u,h){return typeof h=="function"?h(u):h}function af(u){var h=Xr();return H0(h,vr,u)}function H0(u,h,m){var b=u.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=m;var E=u.baseQueue,N=b.pending;if(N!==null){if(E!==null){var $=E.next;E.next=N.next,N.next=$}h.baseQueue=E=N,b.pending=null}if(N=u.baseState,E===null)u.memoizedState=N;else{h=E.next;var J=$=null,fe=null,Ee=h,Ue=!1;do{var He=Ee.lane&-536870913;if(He!==Ee.lane?(ir&He)===He:(ta&He)===He){var De=Ee.revertLane;if(De===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),He===su&&(Ue=!0);else if((ta&De)===De){Ee=Ee.next,De===su&&(Ue=!0);continue}else He={lane:0,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},fe===null?(J=fe=He,$=N):fe=fe.next=He,Ht.lanes|=De,ua|=De;He=Ee.action,to&&m(N,He),N=Ee.hasEagerState?Ee.eagerState:m(N,He)}else De={lane:He,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},fe===null?(J=fe=De,$=N):fe=fe.next=De,Ht.lanes|=He,ua|=He;Ee=Ee.next}while(Ee!==null&&Ee!==h);if(fe===null?$=N:fe.next=J,!Qn(N,u.memoizedState)&&(dn=!0,Ue&&(m=au,m!==null)))throw m;u.memoizedState=N,u.baseState=$,u.baseQueue=fe,b.lastRenderedState=N}return E===null&&(b.lanes=0),[u.memoizedState,b.dispatch]}function q0(u){var h=Xr(),m=h.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=u;var b=m.dispatch,E=m.pending,N=h.memoizedState;if(E!==null){m.pending=null;var $=E=E.next;do N=u(N,$.action),$=$.next;while($!==E);Qn(N,h.memoizedState)||(dn=!0),h.memoizedState=N,h.baseQueue===null&&(h.baseState=N),m.lastRenderedState=N}return[N,b]}function Bb(u,h,m){var b=Ht,E=Xr(),N=hr;if(N){if(m===void 0)throw Error(n(407));m=m()}else m=h();var $=!Qn((vr||E).memoizedState,m);$&&(E.memoizedState=m,dn=!0),E=E.queue;var J=jb.bind(null,b,E,u);if(Xl(2048,8,J,[u]),E.getSnapshot!==h||$||Yr!==null&&Yr.memoizedState.tag&1){if(b.flags|=2048,cu(9,of(),Vb.bind(null,b,E,m,h),null),Dr===null)throw Error(n(349));N||(ta&124)!==0||Ub(b,h,m)}return m}function Ub(u,h,m){u.flags|=16384,u={getSnapshot:h,value:m},h=Ht.updateQueue,h===null?(h=z0(),Ht.updateQueue=h,h.stores=[u]):(m=h.stores,m===null?h.stores=[u]:m.push(u))}function Vb(u,h,m,b){h.value=m,h.getSnapshot=b,zb(h)&&Gb(u)}function jb(u,h,m){return m(function(){zb(h)&&Gb(u)})}function zb(u){var h=u.getSnapshot;u=u.value;try{var m=h();return!Qn(u,m)}catch{return!0}}function Gb(u){var h=tu(u,2);h!==null&&ii(h,u,2)}function $0(u){var h=Un();if(typeof u=="function"){var m=u;if(u=m(),to){mt(!0);try{m()}finally{mt(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:u},h}function Hb(u,h,m,b){return u.baseState=m,H0(u,vr,typeof b=="function"?b:xs)}function _N(u,h,m,b,E){if(lf(u))throw Error(n(485));if(u=h.action,u!==null){var N={payload:E,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){N.listeners.push($)}};ne.T!==null?m(!0):N.isTransition=!1,b(N),m=h.pending,m===null?(N.next=h.pending=N,qb(h,N)):(N.next=m.next,h.pending=m.next=N)}}function qb(u,h){var m=h.action,b=h.payload,E=u.state;if(h.isTransition){var N=ne.T,$={};ne.T=$;try{var J=m(E,b),fe=ne.S;fe!==null&&fe($,J),$b(u,h,J)}catch(Ee){W0(u,h,Ee)}finally{ne.T=N}}else try{N=m(E,b),$b(u,h,N)}catch(Ee){W0(u,h,Ee)}}function $b(u,h,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(b){Wb(u,h,b)},function(b){return W0(u,h,b)}):Wb(u,h,m)}function Wb(u,h,m){h.status="fulfilled",h.value=m,Yb(h),u.state=m,h=u.pending,h!==null&&(m=h.next,m===h?u.pending=null:(m=m.next,h.next=m,qb(u,m)))}function W0(u,h,m){var b=u.pending;if(u.pending=null,b!==null){b=b.next;do h.status="rejected",h.reason=m,Yb(h),h=h.next;while(h!==b)}u.action=null}function Yb(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function Xb(u,h){return h}function Zb(u,h){if(hr){var m=Dr.formState;if(m!==null){e:{var b=Ht;if(hr){if(Lr){t:{for(var E=Lr,N=Hi;E.nodeType!==8;){if(!N){E=null;break t}if(E=Mi(E.nextSibling),E===null){E=null;break t}}N=E.data,E=N==="F!"||N==="F"?E:null}if(E){Lr=Mi(E.nextSibling),b=E.data==="F!";break e}}Ka(b)}b=!1}b&&(h=m[0])}}return m=Un(),m.memoizedState=m.baseState=h,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xb,lastRenderedState:h},m.queue=b,m=gx.bind(null,Ht,b),b.dispatch=m,b=$0(!1),N=Q0.bind(null,Ht,!1,b.queue),b=Un(),E={state:h,dispatch:null,action:u,pending:null},b.queue=E,m=_N.bind(null,Ht,E,N,m),E.dispatch=m,b.memoizedState=u,[h,m,!1]}function Kb(u){var h=Xr();return Qb(h,vr,u)}function Qb(u,h,m){if(h=H0(u,h,Xb)[0],u=af(xs)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var b=Yl(h)}catch($){throw $===zl?Jh:$}else b=h;h=Xr();var E=h.queue,N=E.dispatch;return m!==h.memoizedState&&(Ht.flags|=2048,cu(9,of(),SN.bind(null,E,m),null)),[b,N,u]}function SN(u,h){u.action=h}function Jb(u){var h=Xr(),m=vr;if(m!==null)return Qb(h,m,u);Xr(),h=h.memoizedState,m=Xr();var b=m.queue.dispatch;return m.memoizedState=u,[h,b,!1]}function cu(u,h,m,b){return u={tag:u,create:m,deps:b,inst:h,next:null},h=Ht.updateQueue,h===null&&(h=z0(),Ht.updateQueue=h),m=h.lastEffect,m===null?h.lastEffect=u.next=u:(b=m.next,m.next=u,u.next=b,h.lastEffect=u),u}function of(){return{destroy:void 0,resource:void 0}}function ex(){return Xr().memoizedState}function uf(u,h,m,b){var E=Un();b=b===void 0?null:b,Ht.flags|=u,E.memoizedState=cu(1|h,of(),m,b)}function Xl(u,h,m,b){var E=Xr();b=b===void 0?null:b;var N=E.memoizedState.inst;vr!==null&&b!==null&&I0(b,vr.memoizedState.deps)?E.memoizedState=cu(h,N,m,b):(Ht.flags|=u,E.memoizedState=cu(1|h,N,m,b))}function tx(u,h){uf(8390656,8,u,h)}function rx(u,h){Xl(2048,8,u,h)}function nx(u,h){return Xl(4,2,u,h)}function ix(u,h){return Xl(4,4,u,h)}function sx(u,h){if(typeof h=="function"){u=u();var m=h(u);return function(){typeof m=="function"?m():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function ax(u,h,m){m=m!=null?m.concat([u]):null,Xl(4,4,sx.bind(null,h,u),m)}function Y0(){}function ox(u,h){var m=Xr();h=h===void 0?null:h;var b=m.memoizedState;return h!==null&&I0(h,b[1])?b[0]:(m.memoizedState=[u,h],u)}function ux(u,h){var m=Xr();h=h===void 0?null:h;var b=m.memoizedState;if(h!==null&&I0(h,b[1]))return b[0];if(b=u(),to){mt(!0);try{u()}finally{mt(!1)}}return m.memoizedState=[b,h],b}function X0(u,h,m){return m===void 0||(ta&1073741824)!==0?u.memoizedState=h:(u.memoizedState=m,u=h_(),Ht.lanes|=u,ua|=u,m)}function lx(u,h,m,b){return Qn(m,h)?m:ou.current!==null?(u=X0(u,m,b),Qn(u,h)||(dn=!0),u):(ta&42)===0?(dn=!0,u.memoizedState=m):(u=h_(),Ht.lanes|=u,ua|=u,h)}function cx(u,h,m,b,E){var N=de.p;de.p=N!==0&&8>N?N:8;var $=ne.T,J={};ne.T=J,Q0(u,!1,h,m);try{var fe=E(),Ee=ne.S;if(Ee!==null&&Ee(J,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ue=vN(fe,b);Zl(u,h,Ue,ni(u))}else Zl(u,h,b,ni(u))}catch(He){Zl(u,h,{then:function(){},status:"rejected",reason:He},ni())}finally{de.p=N,ne.T=$}}function wN(){}function Z0(u,h,m,b){if(u.tag!==5)throw Error(n(476));var E=hx(u).queue;cx(u,E,h,ve,m===null?wN:function(){return fx(u),m(b)})}function hx(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:ve},next:null};var m={};return h.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:m},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function fx(u){var h=hx(u).next.queue;Zl(u,h,{},ni())}function K0(){return An(pc)}function dx(){return Xr().memoizedState}function px(){return Xr().memoizedState}function EN(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var m=ni();u=Js(m);var b=ea(h,u,m);b!==null&&(ii(b,h,m),Hl(b,h,m)),h={cache:D0()},u.payload=h;return}h=h.return}}function CN(u,h,m){var b=ni();m={lane:b,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},lf(u)?mx(h,m):(m=y0(u,h,m,b),m!==null&&(ii(m,u,b),yx(m,h,b)))}function gx(u,h,m){var b=ni();Zl(u,h,m,b)}function Zl(u,h,m,b){var E={lane:b,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(lf(u))mx(h,E);else{var N=u.alternate;if(u.lanes===0&&(N===null||N.lanes===0)&&(N=h.lastRenderedReducer,N!==null))try{var $=h.lastRenderedState,J=N($,m);if(E.hasEagerState=!0,E.eagerState=J,Qn(J,$))return qh(u,h,E,0),Dr===null&&Hh(),!1}catch{}finally{}if(m=y0(u,h,E,b),m!==null)return ii(m,u,b),yx(m,h,b),!0}return!1}function Q0(u,h,m,b){if(b={lane:2,revertLane:Og(),action:b,hasEagerState:!1,eagerState:null,next:null},lf(u)){if(h)throw Error(n(479))}else h=y0(u,m,b,2),h!==null&&ii(h,u,2)}function lf(u){var h=u.alternate;return u===Ht||h!==null&&h===Ht}function mx(u,h){uu=rf=!0;var m=u.pending;m===null?h.next=h:(h.next=m.next,m.next=h),u.pending=h}function yx(u,h,m){if((m&4194048)!==0){var b=h.lanes;b&=u.pendingLanes,m|=b,h.lanes=m,I(u,m)}}var cf={readContext:An,use:sf,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useLayoutEffect:Gr,useInsertionEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useSyncExternalStore:Gr,useId:Gr,useHostTransitionStatus:Gr,useFormState:Gr,useActionState:Gr,useOptimistic:Gr,useMemoCache:Gr,useCacheRefresh:Gr},vx={readContext:An,use:sf,useCallback:function(u,h){return Un().memoizedState=[u,h===void 0?null:h],u},useContext:An,useEffect:tx,useImperativeHandle:function(u,h,m){m=m!=null?m.concat([u]):null,uf(4194308,4,sx.bind(null,h,u),m)},useLayoutEffect:function(u,h){return uf(4194308,4,u,h)},useInsertionEffect:function(u,h){uf(4,2,u,h)},useMemo:function(u,h){var m=Un();h=h===void 0?null:h;var b=u();if(to){mt(!0);try{u()}finally{mt(!1)}}return m.memoizedState=[b,h],b},useReducer:function(u,h,m){var b=Un();if(m!==void 0){var E=m(h);if(to){mt(!0);try{m(h)}finally{mt(!1)}}}else E=h;return b.memoizedState=b.baseState=E,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:E},b.queue=u,u=u.dispatch=CN.bind(null,Ht,u),[b.memoizedState,u]},useRef:function(u){var h=Un();return u={current:u},h.memoizedState=u},useState:function(u){u=$0(u);var h=u.queue,m=gx.bind(null,Ht,h);return h.dispatch=m,[u.memoizedState,m]},useDebugValue:Y0,useDeferredValue:function(u,h){var m=Un();return X0(m,u,h)},useTransition:function(){var u=$0(!1);return u=cx.bind(null,Ht,u.queue,!0,!1),Un().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,m){var b=Ht,E=Un();if(hr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=h(),Dr===null)throw Error(n(349));(ir&124)!==0||Ub(b,h,m)}E.memoizedState=m;var N={value:m,getSnapshot:h};return E.queue=N,tx(jb.bind(null,b,N,u),[u]),b.flags|=2048,cu(9,of(),Vb.bind(null,b,N,m,h),null),m},useId:function(){var u=Un(),h=Dr.identifierPrefix;if(hr){var m=ys,b=ms;m=(b&~(1<<32-pt(b)-1)).toString(32)+m,h="«"+h+"R"+m,m=nf++,0<m&&(h+="H"+m.toString(32)),h+="»"}else m=bN++,h="«"+h+"r"+m.toString(32)+"»";return u.memoizedState=h},useHostTransitionStatus:K0,useFormState:Zb,useActionState:Zb,useOptimistic:function(u){var h=Un();h.memoizedState=h.baseState=u;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=m,h=Q0.bind(null,Ht,!0,m),m.dispatch=h,[u,h]},useMemoCache:G0,useCacheRefresh:function(){return Un().memoizedState=EN.bind(null,Ht)}},bx={readContext:An,use:sf,useCallback:ox,useContext:An,useEffect:rx,useImperativeHandle:ax,useInsertionEffect:nx,useLayoutEffect:ix,useMemo:ux,useReducer:af,useRef:ex,useState:function(){return af(xs)},useDebugValue:Y0,useDeferredValue:function(u,h){var m=Xr();return lx(m,vr.memoizedState,u,h)},useTransition:function(){var u=af(xs)[0],h=Xr().memoizedState;return[typeof u=="boolean"?u:Yl(u),h]},useSyncExternalStore:Bb,useId:dx,useHostTransitionStatus:K0,useFormState:Kb,useActionState:Kb,useOptimistic:function(u,h){var m=Xr();return Hb(m,vr,u,h)},useMemoCache:G0,useCacheRefresh:px},AN={readContext:An,use:sf,useCallback:ox,useContext:An,useEffect:rx,useImperativeHandle:ax,useInsertionEffect:nx,useLayoutEffect:ix,useMemo:ux,useReducer:q0,useRef:ex,useState:function(){return q0(xs)},useDebugValue:Y0,useDeferredValue:function(u,h){var m=Xr();return vr===null?X0(m,u,h):lx(m,vr.memoizedState,u,h)},useTransition:function(){var u=q0(xs)[0],h=Xr().memoizedState;return[typeof u=="boolean"?u:Yl(u),h]},useSyncExternalStore:Bb,useId:dx,useHostTransitionStatus:K0,useFormState:Jb,useActionState:Jb,useOptimistic:function(u,h){var m=Xr();return vr!==null?Hb(m,vr,u,h):(m.baseState=u,[u,m.queue.dispatch])},useMemoCache:G0,useCacheRefresh:px},hu=null,Kl=0;function hf(u){var h=Kl;return Kl+=1,hu===null&&(hu=[]),Ob(hu,u,h)}function Ql(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function ff(u,h){throw h.$$typeof===y?Error(n(525)):(u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function xx(u){var h=u._init;return h(u._payload)}function _x(u){function h(Se,ye){if(u){var we=Se.deletions;we===null?(Se.deletions=[ye],Se.flags|=16):we.push(ye)}}function m(Se,ye){if(!u)return null;for(;ye!==null;)h(Se,ye),ye=ye.sibling;return null}function b(Se){for(var ye=new Map;Se!==null;)Se.key!==null?ye.set(Se.key,Se):ye.set(Se.index,Se),Se=Se.sibling;return ye}function E(Se,ye){return Se=gs(Se,ye),Se.index=0,Se.sibling=null,Se}function N(Se,ye,we){return Se.index=we,u?(we=Se.alternate,we!==null?(we=we.index,we<ye?(Se.flags|=67108866,ye):we):(Se.flags|=67108866,ye)):(Se.flags|=1048576,ye)}function $(Se){return u&&Se.alternate===null&&(Se.flags|=67108866),Se}function J(Se,ye,we,ze){return ye===null||ye.tag!==6?(ye=b0(we,Se.mode,ze),ye.return=Se,ye):(ye=E(ye,we),ye.return=Se,ye)}function fe(Se,ye,we,ze){var ht=we.type;return ht===_?Ue(Se,ye,we.props.children,ze,we.key):ye!==null&&(ye.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===B&&xx(ht)===ye.type)?(ye=E(ye,we.props),Ql(ye,we),ye.return=Se,ye):(ye=Wh(we.type,we.key,we.props,null,Se.mode,ze),Ql(ye,we),ye.return=Se,ye)}function Ee(Se,ye,we,ze){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==we.containerInfo||ye.stateNode.implementation!==we.implementation?(ye=x0(we,Se.mode,ze),ye.return=Se,ye):(ye=E(ye,we.children||[]),ye.return=Se,ye)}function Ue(Se,ye,we,ze,ht){return ye===null||ye.tag!==7?(ye=Wa(we,Se.mode,ze,ht),ye.return=Se,ye):(ye=E(ye,we),ye.return=Se,ye)}function He(Se,ye,we){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=b0(""+ye,Se.mode,we),ye.return=Se,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:return we=Wh(ye.type,ye.key,ye.props,null,Se.mode,we),Ql(we,ye),we.return=Se,we;case S:return ye=x0(ye,Se.mode,we),ye.return=Se,ye;case B:var ze=ye._init;return ye=ze(ye._payload),He(Se,ye,we)}if(le(ye)||z(ye))return ye=Wa(ye,Se.mode,we,null),ye.return=Se,ye;if(typeof ye.then=="function")return He(Se,hf(ye),we);if(ye.$$typeof===R)return He(Se,Kh(Se,ye),we);ff(Se,ye)}return null}function De(Se,ye,we,ze){var ht=ye!==null?ye.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ht!==null?null:J(Se,ye,""+we,ze);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case x:return we.key===ht?fe(Se,ye,we,ze):null;case S:return we.key===ht?Ee(Se,ye,we,ze):null;case B:return ht=we._init,we=ht(we._payload),De(Se,ye,we,ze)}if(le(we)||z(we))return ht!==null?null:Ue(Se,ye,we,ze,null);if(typeof we.then=="function")return De(Se,ye,hf(we),ze);if(we.$$typeof===R)return De(Se,ye,Kh(Se,we),ze);ff(Se,we)}return null}function Oe(Se,ye,we,ze,ht){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Se=Se.get(we)||null,J(ye,Se,""+ze,ht);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case x:return Se=Se.get(ze.key===null?we:ze.key)||null,fe(ye,Se,ze,ht);case S:return Se=Se.get(ze.key===null?we:ze.key)||null,Ee(ye,Se,ze,ht);case B:var Wt=ze._init;return ze=Wt(ze._payload),Oe(Se,ye,we,ze,ht)}if(le(ze)||z(ze))return Se=Se.get(we)||null,Ue(ye,Se,ze,ht,null);if(typeof ze.then=="function")return Oe(Se,ye,we,hf(ze),ht);if(ze.$$typeof===R)return Oe(Se,ye,we,Kh(ye,ze),ht);ff(ye,ze)}return null}function Nt(Se,ye,we,ze){for(var ht=null,Wt=null,xt=ye,Dt=ye=0,gn=null;xt!==null&&Dt<we.length;Dt++){xt.index>Dt?(gn=xt,xt=null):gn=xt.sibling;var lr=De(Se,xt,we[Dt],ze);if(lr===null){xt===null&&(xt=gn);break}u&&xt&&lr.alternate===null&&h(Se,xt),ye=N(lr,ye,Dt),Wt===null?ht=lr:Wt.sibling=lr,Wt=lr,xt=gn}if(Dt===we.length)return m(Se,xt),hr&&Xa(Se,Dt),ht;if(xt===null){for(;Dt<we.length;Dt++)xt=He(Se,we[Dt],ze),xt!==null&&(ye=N(xt,ye,Dt),Wt===null?ht=xt:Wt.sibling=xt,Wt=xt);return hr&&Xa(Se,Dt),ht}for(xt=b(xt);Dt<we.length;Dt++)gn=Oe(xt,Se,Dt,we[Dt],ze),gn!==null&&(u&&gn.alternate!==null&&xt.delete(gn.key===null?Dt:gn.key),ye=N(gn,ye,Dt),Wt===null?ht=gn:Wt.sibling=gn,Wt=gn);return u&&xt.forEach(function(ya){return h(Se,ya)}),hr&&Xa(Se,Dt),ht}function At(Se,ye,we,ze){if(we==null)throw Error(n(151));for(var ht=null,Wt=null,xt=ye,Dt=ye=0,gn=null,lr=we.next();xt!==null&&!lr.done;Dt++,lr=we.next()){xt.index>Dt?(gn=xt,xt=null):gn=xt.sibling;var ya=De(Se,xt,lr.value,ze);if(ya===null){xt===null&&(xt=gn);break}u&&xt&&ya.alternate===null&&h(Se,xt),ye=N(ya,ye,Dt),Wt===null?ht=ya:Wt.sibling=ya,Wt=ya,xt=gn}if(lr.done)return m(Se,xt),hr&&Xa(Se,Dt),ht;if(xt===null){for(;!lr.done;Dt++,lr=we.next())lr=He(Se,lr.value,ze),lr!==null&&(ye=N(lr,ye,Dt),Wt===null?ht=lr:Wt.sibling=lr,Wt=lr);return hr&&Xa(Se,Dt),ht}for(xt=b(xt);!lr.done;Dt++,lr=we.next())lr=Oe(xt,Se,Dt,lr.value,ze),lr!==null&&(u&&lr.alternate!==null&&xt.delete(lr.key===null?Dt:lr.key),ye=N(lr,ye,Dt),Wt===null?ht=lr:Wt.sibling=lr,Wt=lr);return u&&xt.forEach(function(DO){return h(Se,DO)}),hr&&Xa(Se,Dt),ht}function xr(Se,ye,we,ze){if(typeof we=="object"&&we!==null&&we.type===_&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case x:e:{for(var ht=we.key;ye!==null;){if(ye.key===ht){if(ht=we.type,ht===_){if(ye.tag===7){m(Se,ye.sibling),ze=E(ye,we.props.children),ze.return=Se,Se=ze;break e}}else if(ye.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===B&&xx(ht)===ye.type){m(Se,ye.sibling),ze=E(ye,we.props),Ql(ze,we),ze.return=Se,Se=ze;break e}m(Se,ye);break}else h(Se,ye);ye=ye.sibling}we.type===_?(ze=Wa(we.props.children,Se.mode,ze,we.key),ze.return=Se,Se=ze):(ze=Wh(we.type,we.key,we.props,null,Se.mode,ze),Ql(ze,we),ze.return=Se,Se=ze)}return $(Se);case S:e:{for(ht=we.key;ye!==null;){if(ye.key===ht)if(ye.tag===4&&ye.stateNode.containerInfo===we.containerInfo&&ye.stateNode.implementation===we.implementation){m(Se,ye.sibling),ze=E(ye,we.children||[]),ze.return=Se,Se=ze;break e}else{m(Se,ye);break}else h(Se,ye);ye=ye.sibling}ze=x0(we,Se.mode,ze),ze.return=Se,Se=ze}return $(Se);case B:return ht=we._init,we=ht(we._payload),xr(Se,ye,we,ze)}if(le(we))return Nt(Se,ye,we,ze);if(z(we)){if(ht=z(we),typeof ht!="function")throw Error(n(150));return we=ht.call(we),At(Se,ye,we,ze)}if(typeof we.then=="function")return xr(Se,ye,hf(we),ze);if(we.$$typeof===R)return xr(Se,ye,Kh(Se,we),ze);ff(Se,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,ye!==null&&ye.tag===6?(m(Se,ye.sibling),ze=E(ye,we),ze.return=Se,Se=ze):(m(Se,ye),ze=b0(we,Se.mode,ze),ze.return=Se,Se=ze),$(Se)):m(Se,ye)}return function(Se,ye,we,ze){try{Kl=0;var ht=xr(Se,ye,we,ze);return hu=null,ht}catch(xt){if(xt===zl||xt===Jh)throw xt;var Wt=Jn(29,xt,null,Se.mode);return Wt.lanes=ze,Wt.return=Se,Wt}finally{}}}var fu=_x(!0),Sx=_x(!1),vi=oe(null),qi=null;function ra(u){var h=u.alternate;ge(an,an.current&1),ge(vi,u),qi===null&&(h===null||ou.current!==null||h.memoizedState!==null)&&(qi=u)}function wx(u){if(u.tag===22){if(ge(an,an.current),ge(vi,u),qi===null){var h=u.alternate;h!==null&&h.memoizedState!==null&&(qi=u)}}else na()}function na(){ge(an,an.current),ge(vi,vi.current)}function _s(u){ae(vi),qi===u&&(qi=null),ae(an)}var an=oe(0);function df(u){for(var h=u;h!==null;){if(h.tag===13){var m=h.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||zg(m)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function J0(u,h,m,b){h=u.memoizedState,m=m(b,h),m=m==null?h:g({},h,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var eg={enqueueSetState:function(u,h,m){u=u._reactInternals;var b=ni(),E=Js(b);E.payload=h,m!=null&&(E.callback=m),h=ea(u,E,b),h!==null&&(ii(h,u,b),Hl(h,u,b))},enqueueReplaceState:function(u,h,m){u=u._reactInternals;var b=ni(),E=Js(b);E.tag=1,E.payload=h,m!=null&&(E.callback=m),h=ea(u,E,b),h!==null&&(ii(h,u,b),Hl(h,u,b))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var m=ni(),b=Js(m);b.tag=2,h!=null&&(b.callback=h),h=ea(u,b,m),h!==null&&(ii(h,u,m),Hl(h,u,m))}};function Ex(u,h,m,b,E,N,$){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(b,N,$):h.prototype&&h.prototype.isPureReactComponent?!kl(m,b)||!kl(E,N):!0}function Cx(u,h,m,b){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(m,b),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(m,b),h.state!==u&&eg.enqueueReplaceState(h,h.state,null)}function ro(u,h){var m=h;if("ref"in h){m={};for(var b in h)b!=="ref"&&(m[b]=h[b])}if(u=u.defaultProps){m===h&&(m=g({},m));for(var E in u)m[E]===void 0&&(m[E]=u[E])}return m}var pf=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function Ax(u){pf(u)}function Dx(u){console.error(u)}function Tx(u){pf(u)}function gf(u,h){try{var m=u.onUncaughtError;m(h.value,{componentStack:h.stack})}catch(b){setTimeout(function(){throw b})}}function Nx(u,h,m){try{var b=u.onCaughtError;b(m.value,{componentStack:m.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function tg(u,h,m){return m=Js(m),m.tag=3,m.payload={element:null},m.callback=function(){gf(u,h)},m}function Ox(u){return u=Js(u),u.tag=3,u}function Fx(u,h,m,b){var E=m.type.getDerivedStateFromError;if(typeof E=="function"){var N=b.value;u.payload=function(){return E(N)},u.callback=function(){Nx(h,m,b)}}var $=m.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(u.callback=function(){Nx(h,m,b),typeof E!="function"&&(la===null?la=new Set([this]):la.add(this));var J=b.stack;this.componentDidCatch(b.value,{componentStack:J!==null?J:""})})}function DN(u,h,m,b,E){if(m.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(h=m.alternate,h!==null&&Ul(h,m,E,!0),m=vi.current,m!==null){switch(m.tag){case 13:return qi===null?Cg():m.alternate===null&&Ir===0&&(Ir=3),m.flags&=-257,m.flags|=65536,m.lanes=E,b===O0?m.flags|=16384:(h=m.updateQueue,h===null?m.updateQueue=new Set([b]):h.add(b),Dg(u,b,E)),!1;case 22:return m.flags|=65536,b===O0?m.flags|=16384:(h=m.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([b])},m.updateQueue=h):(m=h.retryQueue,m===null?h.retryQueue=new Set([b]):m.add(b)),Dg(u,b,E)),!1}throw Error(n(435,m.tag))}return Dg(u,b,E),Cg(),!1}if(hr)return h=vi.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=E,b!==w0&&(u=Error(n(422),{cause:b}),Bl(pi(u,m)))):(b!==w0&&(h=Error(n(423),{cause:b}),Bl(pi(h,m))),u=u.current.alternate,u.flags|=65536,E&=-E,u.lanes|=E,b=pi(b,m),E=tg(u.stateNode,b,E),M0(u,E),Ir!==4&&(Ir=2)),!1;var N=Error(n(520),{cause:b});if(N=pi(N,m),sc===null?sc=[N]:sc.push(N),Ir!==4&&(Ir=2),h===null)return!0;b=pi(b,m),m=h;do{switch(m.tag){case 3:return m.flags|=65536,u=E&-E,m.lanes|=u,u=tg(m.stateNode,b,u),M0(m,u),!1;case 1:if(h=m.type,N=m.stateNode,(m.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(la===null||!la.has(N))))return m.flags|=65536,E&=-E,m.lanes|=E,E=Ox(E),Fx(E,u,m,b),M0(m,E),!1}m=m.return}while(m!==null);return!1}var Rx=Error(n(461)),dn=!1;function _n(u,h,m,b){h.child=u===null?Sx(h,null,m,b):fu(h,u.child,m,b)}function Mx(u,h,m,b,E){m=m.render;var N=h.ref;if("ref"in b){var $={};for(var J in b)J!=="ref"&&($[J]=b[J])}else $=b;return Ja(h),b=B0(u,h,m,$,N,E),J=U0(),u!==null&&!dn?(V0(u,h,E),Ss(u,h,E)):(hr&&J&&_0(h),h.flags|=1,_n(u,h,b,E),h.child)}function kx(u,h,m,b,E){if(u===null){var N=m.type;return typeof N=="function"&&!v0(N)&&N.defaultProps===void 0&&m.compare===null?(h.tag=15,h.type=N,Px(u,h,N,b,E)):(u=Wh(m.type,null,b,h,h.mode,E),u.ref=h.ref,u.return=h,h.child=u)}if(N=u.child,!lg(u,E)){var $=N.memoizedProps;if(m=m.compare,m=m!==null?m:kl,m($,b)&&u.ref===h.ref)return Ss(u,h,E)}return h.flags|=1,u=gs(N,b),u.ref=h.ref,u.return=h,h.child=u}function Px(u,h,m,b,E){if(u!==null){var N=u.memoizedProps;if(kl(N,b)&&u.ref===h.ref)if(dn=!1,h.pendingProps=b=N,lg(u,E))(u.flags&131072)!==0&&(dn=!0);else return h.lanes=u.lanes,Ss(u,h,E)}return rg(u,h,m,b,E)}function Lx(u,h,m){var b=h.pendingProps,E=b.children,N=u!==null?u.memoizedState:null;if(b.mode==="hidden"){if((h.flags&128)!==0){if(b=N!==null?N.baseLanes|m:m,u!==null){for(E=h.child=u.child,N=0;E!==null;)N=N|E.lanes|E.childLanes,E=E.sibling;h.childLanes=N&~b}else h.childLanes=0,h.child=null;return Ix(u,h,b,m)}if((m&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&Qh(h,N!==null?N.cachePool:null),N!==null?Pb(h,N):P0(),wx(h);else return h.lanes=h.childLanes=536870912,Ix(u,h,N!==null?N.baseLanes|m:m,m)}else N!==null?(Qh(h,N.cachePool),Pb(h,N),na(),h.memoizedState=null):(u!==null&&Qh(h,null),P0(),na());return _n(u,h,E,m),h.child}function Ix(u,h,m,b){var E=N0();return E=E===null?null:{parent:sn._currentValue,pool:E},h.memoizedState={baseLanes:m,cachePool:E},u!==null&&Qh(h,null),P0(),wx(h),u!==null&&Ul(u,h,b,!0),null}function mf(u,h){var m=h.ref;if(m===null)u!==null&&u.ref!==null&&(h.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(u===null||u.ref!==m)&&(h.flags|=4194816)}}function rg(u,h,m,b,E){return Ja(h),m=B0(u,h,m,b,void 0,E),b=U0(),u!==null&&!dn?(V0(u,h,E),Ss(u,h,E)):(hr&&b&&_0(h),h.flags|=1,_n(u,h,m,E),h.child)}function Bx(u,h,m,b,E,N){return Ja(h),h.updateQueue=null,m=Ib(h,b,m,E),Lb(u),b=U0(),u!==null&&!dn?(V0(u,h,N),Ss(u,h,N)):(hr&&b&&_0(h),h.flags|=1,_n(u,h,m,N),h.child)}function Ux(u,h,m,b,E){if(Ja(h),h.stateNode===null){var N=ru,$=m.contextType;typeof $=="object"&&$!==null&&(N=An($)),N=new m(b,N),h.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=eg,h.stateNode=N,N._reactInternals=h,N=h.stateNode,N.props=b,N.state=h.memoizedState,N.refs={},F0(h),$=m.contextType,N.context=typeof $=="object"&&$!==null?An($):ru,N.state=h.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(J0(h,m,$,b),N.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||($=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),$!==N.state&&eg.enqueueReplaceState(N,N.state,null),$l(h,b,N,E),ql(),N.state=h.memoizedState),typeof N.componentDidMount=="function"&&(h.flags|=4194308),b=!0}else if(u===null){N=h.stateNode;var J=h.memoizedProps,fe=ro(m,J);N.props=fe;var Ee=N.context,Ue=m.contextType;$=ru,typeof Ue=="object"&&Ue!==null&&($=An(Ue));var He=m.getDerivedStateFromProps;Ue=typeof He=="function"||typeof N.getSnapshotBeforeUpdate=="function",J=h.pendingProps!==J,Ue||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(J||Ee!==$)&&Cx(h,N,b,$),Qs=!1;var De=h.memoizedState;N.state=De,$l(h,b,N,E),ql(),Ee=h.memoizedState,J||De!==Ee||Qs?(typeof He=="function"&&(J0(h,m,He,b),Ee=h.memoizedState),(fe=Qs||Ex(h,m,fe,b,De,Ee,$))?(Ue||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(h.flags|=4194308)):(typeof N.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=b,h.memoizedState=Ee),N.props=b,N.state=Ee,N.context=$,b=fe):(typeof N.componentDidMount=="function"&&(h.flags|=4194308),b=!1)}else{N=h.stateNode,R0(u,h),$=h.memoizedProps,Ue=ro(m,$),N.props=Ue,He=h.pendingProps,De=N.context,Ee=m.contextType,fe=ru,typeof Ee=="object"&&Ee!==null&&(fe=An(Ee)),J=m.getDerivedStateFromProps,(Ee=typeof J=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||($!==He||De!==fe)&&Cx(h,N,b,fe),Qs=!1,De=h.memoizedState,N.state=De,$l(h,b,N,E),ql();var Oe=h.memoizedState;$!==He||De!==Oe||Qs||u!==null&&u.dependencies!==null&&Zh(u.dependencies)?(typeof J=="function"&&(J0(h,m,J,b),Oe=h.memoizedState),(Ue=Qs||Ex(h,m,Ue,b,De,Oe,fe)||u!==null&&u.dependencies!==null&&Zh(u.dependencies))?(Ee||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(b,Oe,fe),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(b,Oe,fe)),typeof N.componentDidUpdate=="function"&&(h.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof N.componentDidUpdate!="function"||$===u.memoizedProps&&De===u.memoizedState||(h.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===u.memoizedProps&&De===u.memoizedState||(h.flags|=1024),h.memoizedProps=b,h.memoizedState=Oe),N.props=b,N.state=Oe,N.context=fe,b=Ue):(typeof N.componentDidUpdate!="function"||$===u.memoizedProps&&De===u.memoizedState||(h.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||$===u.memoizedProps&&De===u.memoizedState||(h.flags|=1024),b=!1)}return N=b,mf(u,h),b=(h.flags&128)!==0,N||b?(N=h.stateNode,m=b&&typeof m.getDerivedStateFromError!="function"?null:N.render(),h.flags|=1,u!==null&&b?(h.child=fu(h,u.child,null,E),h.child=fu(h,null,m,E)):_n(u,h,m,E),h.memoizedState=N.state,u=h.child):u=Ss(u,h,E),u}function Vx(u,h,m,b){return Il(),h.flags|=256,_n(u,h,m,b),h.child}var ng={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ig(u){return{baseLanes:u,cachePool:Db()}}function sg(u,h,m){return u=u!==null?u.childLanes&~m:0,h&&(u|=bi),u}function jx(u,h,m){var b=h.pendingProps,E=!1,N=(h.flags&128)!==0,$;if(($=N)||($=u!==null&&u.memoizedState===null?!1:(an.current&2)!==0),$&&(E=!0,h.flags&=-129),$=(h.flags&32)!==0,h.flags&=-33,u===null){if(hr){if(E?ra(h):na(),hr){var J=Lr,fe;if(fe=J){e:{for(fe=J,J=Hi;fe.nodeType!==8;){if(!J){J=null;break e}if(fe=Mi(fe.nextSibling),fe===null){J=null;break e}}J=fe}J!==null?(h.memoizedState={dehydrated:J,treeContext:Ya!==null?{id:ms,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},fe=Jn(18,null,null,0),fe.stateNode=J,fe.return=h,h.child=fe,Rn=h,Lr=null,fe=!0):fe=!1}fe||Ka(h)}if(J=h.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return zg(J)?h.lanes=32:h.lanes=536870912,null;_s(h)}return J=b.children,b=b.fallback,E?(na(),E=h.mode,J=yf({mode:"hidden",children:J},E),b=Wa(b,E,m,null),J.return=h,b.return=h,J.sibling=b,h.child=J,E=h.child,E.memoizedState=ig(m),E.childLanes=sg(u,$,m),h.memoizedState=ng,b):(ra(h),ag(h,J))}if(fe=u.memoizedState,fe!==null&&(J=fe.dehydrated,J!==null)){if(N)h.flags&256?(ra(h),h.flags&=-257,h=og(u,h,m)):h.memoizedState!==null?(na(),h.child=u.child,h.flags|=128,h=null):(na(),E=b.fallback,J=h.mode,b=yf({mode:"visible",children:b.children},J),E=Wa(E,J,m,null),E.flags|=2,b.return=h,E.return=h,b.sibling=E,h.child=b,fu(h,u.child,null,m),b=h.child,b.memoizedState=ig(m),b.childLanes=sg(u,$,m),h.memoizedState=ng,h=E);else if(ra(h),zg(J)){if($=J.nextSibling&&J.nextSibling.dataset,$)var Ee=$.dgst;$=Ee,b=Error(n(419)),b.stack="",b.digest=$,Bl({value:b,source:null,stack:null}),h=og(u,h,m)}else if(dn||Ul(u,h,m,!1),$=(m&u.childLanes)!==0,dn||$){if($=Dr,$!==null&&(b=m&-m,b=(b&42)!==0?1:X(b),b=(b&($.suspendedLanes|m))!==0?0:b,b!==0&&b!==fe.retryLane))throw fe.retryLane=b,tu(u,b),ii($,u,b),Rx;J.data==="$?"||Cg(),h=og(u,h,m)}else J.data==="$?"?(h.flags|=192,h.child=u.child,h=null):(u=fe.treeContext,Lr=Mi(J.nextSibling),Rn=h,hr=!0,Za=null,Hi=!1,u!==null&&(mi[yi++]=ms,mi[yi++]=ys,mi[yi++]=Ya,ms=u.id,ys=u.overflow,Ya=h),h=ag(h,b.children),h.flags|=4096);return h}return E?(na(),E=b.fallback,J=h.mode,fe=u.child,Ee=fe.sibling,b=gs(fe,{mode:"hidden",children:b.children}),b.subtreeFlags=fe.subtreeFlags&65011712,Ee!==null?E=gs(Ee,E):(E=Wa(E,J,m,null),E.flags|=2),E.return=h,b.return=h,b.sibling=E,h.child=b,b=E,E=h.child,J=u.child.memoizedState,J===null?J=ig(m):(fe=J.cachePool,fe!==null?(Ee=sn._currentValue,fe=fe.parent!==Ee?{parent:Ee,pool:Ee}:fe):fe=Db(),J={baseLanes:J.baseLanes|m,cachePool:fe}),E.memoizedState=J,E.childLanes=sg(u,$,m),h.memoizedState=ng,b):(ra(h),m=u.child,u=m.sibling,m=gs(m,{mode:"visible",children:b.children}),m.return=h,m.sibling=null,u!==null&&($=h.deletions,$===null?(h.deletions=[u],h.flags|=16):$.push(u)),h.child=m,h.memoizedState=null,m)}function ag(u,h){return h=yf({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function yf(u,h){return u=Jn(22,u,null,h),u.lanes=0,u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},u}function og(u,h,m){return fu(h,u.child,null,m),u=ag(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function zx(u,h,m){u.lanes|=h;var b=u.alternate;b!==null&&(b.lanes|=h),C0(u.return,h,m)}function ug(u,h,m,b,E){var N=u.memoizedState;N===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:E}:(N.isBackwards=h,N.rendering=null,N.renderingStartTime=0,N.last=b,N.tail=m,N.tailMode=E)}function Gx(u,h,m){var b=h.pendingProps,E=b.revealOrder,N=b.tail;if(_n(u,h,b.children,m),b=an.current,(b&2)!==0)b=b&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&zx(u,m,h);else if(u.tag===19)zx(u,m,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}b&=1}switch(ge(an,b),E){case"forwards":for(m=h.child,E=null;m!==null;)u=m.alternate,u!==null&&df(u)===null&&(E=m),m=m.sibling;m=E,m===null?(E=h.child,h.child=null):(E=m.sibling,m.sibling=null),ug(h,!1,E,m,N);break;case"backwards":for(m=null,E=h.child,h.child=null;E!==null;){if(u=E.alternate,u!==null&&df(u)===null){h.child=E;break}u=E.sibling,E.sibling=m,m=E,E=u}ug(h,!0,m,null,N);break;case"together":ug(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Ss(u,h,m){if(u!==null&&(h.dependencies=u.dependencies),ua|=h.lanes,(m&h.childLanes)===0)if(u!==null){if(Ul(u,h,m,!1),(m&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,m=gs(u,u.pendingProps),h.child=m,m.return=h;u.sibling!==null;)u=u.sibling,m=m.sibling=gs(u,u.pendingProps),m.return=h;m.sibling=null}return h.child}function lg(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&Zh(u)))}function TN(u,h,m){switch(h.tag){case 3:Ye(h,h.stateNode.containerInfo),Ks(h,sn,u.memoizedState.cache),Il();break;case 27:case 5:Re(h);break;case 4:Ye(h,h.stateNode.containerInfo);break;case 10:Ks(h,h.type,h.memoizedProps.value);break;case 13:var b=h.memoizedState;if(b!==null)return b.dehydrated!==null?(ra(h),h.flags|=128,null):(m&h.child.childLanes)!==0?jx(u,h,m):(ra(h),u=Ss(u,h,m),u!==null?u.sibling:null);ra(h);break;case 19:var E=(u.flags&128)!==0;if(b=(m&h.childLanes)!==0,b||(Ul(u,h,m,!1),b=(m&h.childLanes)!==0),E){if(b)return Gx(u,h,m);h.flags|=128}if(E=h.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),ge(an,an.current),b)break;return null;case 22:case 23:return h.lanes=0,Lx(u,h,m);case 24:Ks(h,sn,u.memoizedState.cache)}return Ss(u,h,m)}function Hx(u,h,m){if(u!==null)if(u.memoizedProps!==h.pendingProps)dn=!0;else{if(!lg(u,m)&&(h.flags&128)===0)return dn=!1,TN(u,h,m);dn=(u.flags&131072)!==0}else dn=!1,hr&&(h.flags&1048576)!==0&&xb(h,Xh,h.index);switch(h.lanes=0,h.tag){case 16:e:{u=h.pendingProps;var b=h.elementType,E=b._init;if(b=E(b._payload),h.type=b,typeof b=="function")v0(b)?(u=ro(b,u),h.tag=1,h=Ux(null,h,b,u,m)):(h.tag=0,h=rg(null,h,b,u,m));else{if(b!=null){if(E=b.$$typeof,E===F){h.tag=11,h=Mx(null,h,b,u,m);break e}else if(E===k){h.tag=14,h=kx(null,h,b,u,m);break e}}throw h=K(b)||b,Error(n(306,h,""))}}return h;case 0:return rg(u,h,h.type,h.pendingProps,m);case 1:return b=h.type,E=ro(b,h.pendingProps),Ux(u,h,b,E,m);case 3:e:{if(Ye(h,h.stateNode.containerInfo),u===null)throw Error(n(387));b=h.pendingProps;var N=h.memoizedState;E=N.element,R0(u,h),$l(h,b,null,m);var $=h.memoizedState;if(b=$.cache,Ks(h,sn,b),b!==N.cache&&A0(h,[sn],m,!0),ql(),b=$.element,N.isDehydrated)if(N={element:b,isDehydrated:!1,cache:$.cache},h.updateQueue.baseState=N,h.memoizedState=N,h.flags&256){h=Vx(u,h,b,m);break e}else if(b!==E){E=pi(Error(n(424)),h),Bl(E),h=Vx(u,h,b,m);break e}else{switch(u=h.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Lr=Mi(u.firstChild),Rn=h,hr=!0,Za=null,Hi=!0,m=Sx(h,null,b,m),h.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Il(),b===E){h=Ss(u,h,m);break e}_n(u,h,b,m)}h=h.child}return h;case 26:return mf(u,h),u===null?(m=Y_(h.type,null,h.pendingProps,null))?h.memoizedState=m:hr||(m=h.type,u=h.pendingProps,b=Ff(Ce.current).createElement(m),b[Ie]=h,b[We]=u,wn(b,m,u),hn(b),h.stateNode=b):h.memoizedState=Y_(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return Re(h),u===null&&hr&&(b=h.stateNode=q_(h.type,h.pendingProps,Ce.current),Rn=h,Hi=!0,E=Lr,fa(h.type)?(Gg=E,Lr=Mi(b.firstChild)):Lr=E),_n(u,h,h.pendingProps.children,m),mf(u,h),u===null&&(h.flags|=4194304),h.child;case 5:return u===null&&hr&&((E=b=Lr)&&(b=rO(b,h.type,h.pendingProps,Hi),b!==null?(h.stateNode=b,Rn=h,Lr=Mi(b.firstChild),Hi=!1,E=!0):E=!1),E||Ka(h)),Re(h),E=h.type,N=h.pendingProps,$=u!==null?u.memoizedProps:null,b=N.children,Ug(E,N)?b=null:$!==null&&Ug(E,$)&&(h.flags|=32),h.memoizedState!==null&&(E=B0(u,h,xN,null,null,m),pc._currentValue=E),mf(u,h),_n(u,h,b,m),h.child;case 6:return u===null&&hr&&((u=m=Lr)&&(m=nO(m,h.pendingProps,Hi),m!==null?(h.stateNode=m,Rn=h,Lr=null,u=!0):u=!1),u||Ka(h)),null;case 13:return jx(u,h,m);case 4:return Ye(h,h.stateNode.containerInfo),b=h.pendingProps,u===null?h.child=fu(h,null,b,m):_n(u,h,b,m),h.child;case 11:return Mx(u,h,h.type,h.pendingProps,m);case 7:return _n(u,h,h.pendingProps,m),h.child;case 8:return _n(u,h,h.pendingProps.children,m),h.child;case 12:return _n(u,h,h.pendingProps.children,m),h.child;case 10:return b=h.pendingProps,Ks(h,h.type,b.value),_n(u,h,b.children,m),h.child;case 9:return E=h.type._context,b=h.pendingProps.children,Ja(h),E=An(E),b=b(E),h.flags|=1,_n(u,h,b,m),h.child;case 14:return kx(u,h,h.type,h.pendingProps,m);case 15:return Px(u,h,h.type,h.pendingProps,m);case 19:return Gx(u,h,m);case 31:return b=h.pendingProps,m=h.mode,b={mode:b.mode,children:b.children},u===null?(m=yf(b,m),m.ref=h.ref,h.child=m,m.return=h,h=m):(m=gs(u.child,b),m.ref=h.ref,h.child=m,m.return=h,h=m),h;case 22:return Lx(u,h,m);case 24:return Ja(h),b=An(sn),u===null?(E=N0(),E===null&&(E=Dr,N=D0(),E.pooledCache=N,N.refCount++,N!==null&&(E.pooledCacheLanes|=m),E=N),h.memoizedState={parent:b,cache:E},F0(h),Ks(h,sn,E)):((u.lanes&m)!==0&&(R0(u,h),$l(h,null,null,m),ql()),E=u.memoizedState,N=h.memoizedState,E.parent!==b?(E={parent:b,cache:b},h.memoizedState=E,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=E),Ks(h,sn,b)):(b=N.cache,Ks(h,sn,b),b!==E.cache&&A0(h,[sn],m,!0))),_n(u,h,h.pendingProps.children,m),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function ws(u){u.flags|=4}function qx(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!J_(h)){if(h=vi.current,h!==null&&((ir&4194048)===ir?qi!==null:(ir&62914560)!==ir&&(ir&536870912)===0||h!==qi))throw Gl=O0,Tb;u.flags|=8192}}function vf(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?je():536870912,u.lanes|=h,mu|=h)}function Jl(u,h){if(!hr)switch(u.tailMode){case"hidden":h=u.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:b.sibling=null}}function kr(u){var h=u.alternate!==null&&u.alternate.child===u.child,m=0,b=0;if(h)for(var E=u.child;E!==null;)m|=E.lanes|E.childLanes,b|=E.subtreeFlags&65011712,b|=E.flags&65011712,E.return=u,E=E.sibling;else for(E=u.child;E!==null;)m|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=u,E=E.sibling;return u.subtreeFlags|=b,u.childLanes=m,h}function NN(u,h,m){var b=h.pendingProps;switch(S0(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(h),null;case 1:return kr(h),null;case 3:return m=h.stateNode,b=null,u!==null&&(b=u.memoizedState.cache),h.memoizedState.cache!==b&&(h.flags|=2048),bs(sn),Le(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(u===null||u.child===null)&&(Ll(h)?ws(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,wb())),kr(h),null;case 26:return m=h.memoizedState,u===null?(ws(h),m!==null?(kr(h),qx(h,m)):(kr(h),h.flags&=-16777217)):m?m!==u.memoizedState?(ws(h),kr(h),qx(h,m)):(kr(h),h.flags&=-16777217):(u.memoizedProps!==b&&ws(h),kr(h),h.flags&=-16777217),null;case 27:Ne(h),m=Ce.current;var E=h.type;if(u!==null&&h.stateNode!=null)u.memoizedProps!==b&&ws(h);else{if(!b){if(h.stateNode===null)throw Error(n(166));return kr(h),null}u=me.current,Ll(h)?_b(h):(u=q_(E,b,m),h.stateNode=u,ws(h))}return kr(h),null;case 5:if(Ne(h),m=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==b&&ws(h);else{if(!b){if(h.stateNode===null)throw Error(n(166));return kr(h),null}if(u=me.current,Ll(h))_b(h);else{switch(E=Ff(Ce.current),u){case 1:u=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:u=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":u=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":u=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":u=E.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof b.is=="string"?E.createElement("select",{is:b.is}):E.createElement("select"),b.multiple?u.multiple=!0:b.size&&(u.size=b.size);break;default:u=typeof b.is=="string"?E.createElement(m,{is:b.is}):E.createElement(m)}}u[Ie]=h,u[We]=b;e:for(E=h.child;E!==null;){if(E.tag===5||E.tag===6)u.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===h)break e;for(;E.sibling===null;){if(E.return===null||E.return===h)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}h.stateNode=u;e:switch(wn(u,m,b),m){case"button":case"input":case"select":case"textarea":u=!!b.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ws(h)}}return kr(h),h.flags&=-16777217,null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==b&&ws(h);else{if(typeof b!="string"&&h.stateNode===null)throw Error(n(166));if(u=Ce.current,Ll(h)){if(u=h.stateNode,m=h.memoizedProps,b=null,E=Rn,E!==null)switch(E.tag){case 27:case 5:b=E.memoizedProps}u[Ie]=h,u=!!(u.nodeValue===m||b!==null&&b.suppressHydrationWarning===!0||B_(u.nodeValue,m)),u||Ka(h)}else u=Ff(u).createTextNode(b),u[Ie]=h,h.stateNode=u}return kr(h),null;case 13:if(b=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(E=Ll(h),b!==null&&b.dehydrated!==null){if(u===null){if(!E)throw Error(n(318));if(E=h.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[Ie]=h}else Il(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;kr(h),E=!1}else E=wb(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=E),E=!0;if(!E)return h.flags&256?(_s(h),h):(_s(h),null)}if(_s(h),(h.flags&128)!==0)return h.lanes=m,h;if(m=b!==null,u=u!==null&&u.memoizedState!==null,m){b=h.child,E=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(E=b.alternate.memoizedState.cachePool.pool);var N=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(N=b.memoizedState.cachePool.pool),N!==E&&(b.flags|=2048)}return m!==u&&m&&(h.child.flags|=8192),vf(h,h.updateQueue),kr(h),null;case 4:return Le(),u===null&&kg(h.stateNode.containerInfo),kr(h),null;case 10:return bs(h.type),kr(h),null;case 19:if(ae(an),E=h.memoizedState,E===null)return kr(h),null;if(b=(h.flags&128)!==0,N=E.rendering,N===null)if(b)Jl(E,!1);else{if(Ir!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(N=df(u),N!==null){for(h.flags|=128,Jl(E,!1),u=N.updateQueue,h.updateQueue=u,vf(h,u),h.subtreeFlags=0,u=m,m=h.child;m!==null;)bb(m,u),m=m.sibling;return ge(an,an.current&1|2),h.child}u=u.sibling}E.tail!==null&&ce()>_f&&(h.flags|=128,b=!0,Jl(E,!1),h.lanes=4194304)}else{if(!b)if(u=df(N),u!==null){if(h.flags|=128,b=!0,u=u.updateQueue,h.updateQueue=u,vf(h,u),Jl(E,!0),E.tail===null&&E.tailMode==="hidden"&&!N.alternate&&!hr)return kr(h),null}else 2*ce()-E.renderingStartTime>_f&&m!==536870912&&(h.flags|=128,b=!0,Jl(E,!1),h.lanes=4194304);E.isBackwards?(N.sibling=h.child,h.child=N):(u=E.last,u!==null?u.sibling=N:h.child=N,E.last=N)}return E.tail!==null?(h=E.tail,E.rendering=h,E.tail=h.sibling,E.renderingStartTime=ce(),h.sibling=null,u=an.current,ge(an,b?u&1|2:u&1),h):(kr(h),null);case 22:case 23:return _s(h),L0(),b=h.memoizedState!==null,u!==null?u.memoizedState!==null!==b&&(h.flags|=8192):b&&(h.flags|=8192),b?(m&536870912)!==0&&(h.flags&128)===0&&(kr(h),h.subtreeFlags&6&&(h.flags|=8192)):kr(h),m=h.updateQueue,m!==null&&vf(h,m.retryQueue),m=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==m&&(h.flags|=2048),u!==null&&ae(eo),null;case 24:return m=null,u!==null&&(m=u.memoizedState.cache),h.memoizedState.cache!==m&&(h.flags|=2048),bs(sn),kr(h),null;case 25:return null;case 30:return null}throw Error(n(156,h.tag))}function ON(u,h){switch(S0(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return bs(sn),Le(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return Ne(h),null;case 13:if(_s(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Il()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return ae(an),null;case 4:return Le(),null;case 10:return bs(h.type),null;case 22:case 23:return _s(h),L0(),u!==null&&ae(eo),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return bs(sn),null;case 25:return null;default:return null}}function $x(u,h){switch(S0(h),h.tag){case 3:bs(sn),Le();break;case 26:case 27:case 5:Ne(h);break;case 4:Le();break;case 13:_s(h);break;case 19:ae(an);break;case 10:bs(h.type);break;case 22:case 23:_s(h),L0(),u!==null&&ae(eo);break;case 24:bs(sn)}}function ec(u,h){try{var m=h.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var E=b.next;m=E;do{if((m.tag&u)===u){b=void 0;var N=m.create,$=m.inst;b=N(),$.destroy=b}m=m.next}while(m!==E)}}catch(J){wr(h,h.return,J)}}function ia(u,h,m){try{var b=h.updateQueue,E=b!==null?b.lastEffect:null;if(E!==null){var N=E.next;b=N;do{if((b.tag&u)===u){var $=b.inst,J=$.destroy;if(J!==void 0){$.destroy=void 0,E=h;var fe=m,Ee=J;try{Ee()}catch(Ue){wr(E,fe,Ue)}}}b=b.next}while(b!==N)}}catch(Ue){wr(h,h.return,Ue)}}function Wx(u){var h=u.updateQueue;if(h!==null){var m=u.stateNode;try{kb(h,m)}catch(b){wr(u,u.return,b)}}}function Yx(u,h,m){m.props=ro(u.type,u.memoizedProps),m.state=u.memoizedState;try{m.componentWillUnmount()}catch(b){wr(u,h,b)}}function tc(u,h){try{var m=u.ref;if(m!==null){switch(u.tag){case 26:case 27:case 5:var b=u.stateNode;break;case 30:b=u.stateNode;break;default:b=u.stateNode}typeof m=="function"?u.refCleanup=m(b):m.current=b}}catch(E){wr(u,h,E)}}function $i(u,h){var m=u.ref,b=u.refCleanup;if(m!==null)if(typeof b=="function")try{b()}catch(E){wr(u,h,E)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(E){wr(u,h,E)}else m.current=null}function Xx(u){var h=u.type,m=u.memoizedProps,b=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":m.autoFocus&&b.focus();break e;case"img":m.src?b.src=m.src:m.srcSet&&(b.srcset=m.srcSet)}}catch(E){wr(u,u.return,E)}}function cg(u,h,m){try{var b=u.stateNode;KN(b,u.type,m,h),b[We]=h}catch(E){wr(u,u.return,E)}}function Zx(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&fa(u.type)||u.tag===4}function hg(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Zx(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&fa(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function fg(u,h,m){var b=u.tag;if(b===5||b===6)u=u.stateNode,h?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(u,h):(h=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,h.appendChild(u),m=m._reactRootContainer,m!=null||h.onclick!==null||(h.onclick=Of));else if(b!==4&&(b===27&&fa(u.type)&&(m=u.stateNode,h=null),u=u.child,u!==null))for(fg(u,h,m),u=u.sibling;u!==null;)fg(u,h,m),u=u.sibling}function bf(u,h,m){var b=u.tag;if(b===5||b===6)u=u.stateNode,h?m.insertBefore(u,h):m.appendChild(u);else if(b!==4&&(b===27&&fa(u.type)&&(m=u.stateNode),u=u.child,u!==null))for(bf(u,h,m),u=u.sibling;u!==null;)bf(u,h,m),u=u.sibling}function Kx(u){var h=u.stateNode,m=u.memoizedProps;try{for(var b=u.type,E=h.attributes;E.length;)h.removeAttributeNode(E[0]);wn(h,b,m),h[Ie]=u,h[We]=m}catch(N){wr(u,u.return,N)}}var Es=!1,Hr=!1,dg=!1,Qx=typeof WeakSet=="function"?WeakSet:Set,pn=null;function FN(u,h){if(u=u.containerInfo,Ig=If,u=lb(u),h0(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var E=b.anchorOffset,N=b.focusNode;b=b.focusOffset;try{m.nodeType,N.nodeType}catch{m=null;break e}var $=0,J=-1,fe=-1,Ee=0,Ue=0,He=u,De=null;t:for(;;){for(var Oe;He!==m||E!==0&&He.nodeType!==3||(J=$+E),He!==N||b!==0&&He.nodeType!==3||(fe=$+b),He.nodeType===3&&($+=He.nodeValue.length),(Oe=He.firstChild)!==null;)De=He,He=Oe;for(;;){if(He===u)break t;if(De===m&&++Ee===E&&(J=$),De===N&&++Ue===b&&(fe=$),(Oe=He.nextSibling)!==null)break;He=De,De=He.parentNode}He=Oe}m=J===-1||fe===-1?null:{start:J,end:fe}}else m=null}m=m||{start:0,end:0}}else m=null;for(Bg={focusedElem:u,selectionRange:m},If=!1,pn=h;pn!==null;)if(h=pn,u=h.child,(h.subtreeFlags&1024)!==0&&u!==null)u.return=h,pn=u;else for(;pn!==null;){switch(h=pn,N=h.alternate,u=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&N!==null){u=void 0,m=h,E=N.memoizedProps,N=N.memoizedState,b=m.stateNode;try{var Nt=ro(m.type,E,m.elementType===m.type);u=b.getSnapshotBeforeUpdate(Nt,N),b.__reactInternalSnapshotBeforeUpdate=u}catch(At){wr(m,m.return,At)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,m=u.nodeType,m===9)jg(u);else if(m===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":jg(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(n(163))}if(u=h.sibling,u!==null){u.return=h.return,pn=u;break}pn=h.return}}function Jx(u,h,m){var b=m.flags;switch(m.tag){case 0:case 11:case 15:sa(u,m),b&4&&ec(5,m);break;case 1:if(sa(u,m),b&4)if(u=m.stateNode,h===null)try{u.componentDidMount()}catch($){wr(m,m.return,$)}else{var E=ro(m.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(E,h,u.__reactInternalSnapshotBeforeUpdate)}catch($){wr(m,m.return,$)}}b&64&&Wx(m),b&512&&tc(m,m.return);break;case 3:if(sa(u,m),b&64&&(u=m.updateQueue,u!==null)){if(h=null,m.child!==null)switch(m.child.tag){case 27:case 5:h=m.child.stateNode;break;case 1:h=m.child.stateNode}try{kb(u,h)}catch($){wr(m,m.return,$)}}break;case 27:h===null&&b&4&&Kx(m);case 26:case 5:sa(u,m),h===null&&b&4&&Xx(m),b&512&&tc(m,m.return);break;case 12:sa(u,m);break;case 13:sa(u,m),b&4&&r_(u,m),b&64&&(u=m.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(m=VN.bind(null,m),iO(u,m))));break;case 22:if(b=m.memoizedState!==null||Es,!b){h=h!==null&&h.memoizedState!==null||Hr,E=Es;var N=Hr;Es=b,(Hr=h)&&!N?aa(u,m,(m.subtreeFlags&8772)!==0):sa(u,m),Es=E,Hr=N}break;case 30:break;default:sa(u,m)}}function e_(u){var h=u.alternate;h!==null&&(u.alternate=null,e_(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&zo(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Or=null,Vn=!1;function Cs(u,h,m){for(m=m.child;m!==null;)t_(u,h,m),m=m.sibling}function t_(u,h,m){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Mt,m)}catch{}switch(m.tag){case 26:Hr||$i(m,h),Cs(u,h,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Hr||$i(m,h);var b=Or,E=Vn;fa(m.type)&&(Or=m.stateNode,Vn=!1),Cs(u,h,m),cc(m.stateNode),Or=b,Vn=E;break;case 5:Hr||$i(m,h);case 6:if(b=Or,E=Vn,Or=null,Cs(u,h,m),Or=b,Vn=E,Or!==null)if(Vn)try{(Or.nodeType===9?Or.body:Or.nodeName==="HTML"?Or.ownerDocument.body:Or).removeChild(m.stateNode)}catch(N){wr(m,h,N)}else try{Or.removeChild(m.stateNode)}catch(N){wr(m,h,N)}break;case 18:Or!==null&&(Vn?(u=Or,G_(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,m.stateNode),vc(u)):G_(Or,m.stateNode));break;case 4:b=Or,E=Vn,Or=m.stateNode.containerInfo,Vn=!0,Cs(u,h,m),Or=b,Vn=E;break;case 0:case 11:case 14:case 15:Hr||ia(2,m,h),Hr||ia(4,m,h),Cs(u,h,m);break;case 1:Hr||($i(m,h),b=m.stateNode,typeof b.componentWillUnmount=="function"&&Yx(m,h,b)),Cs(u,h,m);break;case 21:Cs(u,h,m);break;case 22:Hr=(b=Hr)||m.memoizedState!==null,Cs(u,h,m),Hr=b;break;default:Cs(u,h,m)}}function r_(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{vc(u)}catch(m){wr(h,h.return,m)}}function RN(u){switch(u.tag){case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new Qx),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new Qx),h;default:throw Error(n(435,u.tag))}}function pg(u,h){var m=RN(u);h.forEach(function(b){var E=jN.bind(null,u,b);m.has(b)||(m.add(b),b.then(E,E))})}function ei(u,h){var m=h.deletions;if(m!==null)for(var b=0;b<m.length;b++){var E=m[b],N=u,$=h,J=$;e:for(;J!==null;){switch(J.tag){case 27:if(fa(J.type)){Or=J.stateNode,Vn=!1;break e}break;case 5:Or=J.stateNode,Vn=!1;break e;case 3:case 4:Or=J.stateNode.containerInfo,Vn=!0;break e}J=J.return}if(Or===null)throw Error(n(160));t_(N,$,E),Or=null,Vn=!1,N=E.alternate,N!==null&&(N.return=null),E.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)n_(h,u),h=h.sibling}var Ri=null;function n_(u,h){var m=u.alternate,b=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:ei(h,u),ti(u),b&4&&(ia(3,u,u.return),ec(3,u),ia(5,u,u.return));break;case 1:ei(h,u),ti(u),b&512&&(Hr||m===null||$i(m,m.return)),b&64&&Es&&(u=u.updateQueue,u!==null&&(b=u.callbacks,b!==null&&(m=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=m===null?b:m.concat(b))));break;case 26:var E=Ri;if(ei(h,u),ti(u),b&512&&(Hr||m===null||$i(m,m.return)),b&4){var N=m!==null?m.memoizedState:null;if(b=u.memoizedState,m===null)if(b===null)if(u.stateNode===null){e:{b=u.type,m=u.memoizedProps,E=E.ownerDocument||E;t:switch(b){case"title":N=E.getElementsByTagName("title")[0],(!N||N[Xs]||N[Ie]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=E.createElement(b),E.head.insertBefore(N,E.querySelector("head > title"))),wn(N,b,m),N[Ie]=u,hn(N),b=N;break e;case"link":var $=K_("link","href",E).get(b+(m.href||""));if($){for(var J=0;J<$.length;J++)if(N=$[J],N.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&N.getAttribute("rel")===(m.rel==null?null:m.rel)&&N.getAttribute("title")===(m.title==null?null:m.title)&&N.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){$.splice(J,1);break t}}N=E.createElement(b),wn(N,b,m),E.head.appendChild(N);break;case"meta":if($=K_("meta","content",E).get(b+(m.content||""))){for(J=0;J<$.length;J++)if(N=$[J],N.getAttribute("content")===(m.content==null?null:""+m.content)&&N.getAttribute("name")===(m.name==null?null:m.name)&&N.getAttribute("property")===(m.property==null?null:m.property)&&N.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&N.getAttribute("charset")===(m.charSet==null?null:m.charSet)){$.splice(J,1);break t}}N=E.createElement(b),wn(N,b,m),E.head.appendChild(N);break;default:throw Error(n(468,b))}N[Ie]=u,hn(N),b=N}u.stateNode=b}else Q_(E,u.type,u.stateNode);else u.stateNode=Z_(E,b,u.memoizedProps);else N!==b?(N===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):N.count--,b===null?Q_(E,u.type,u.stateNode):Z_(E,b,u.memoizedProps)):b===null&&u.stateNode!==null&&cg(u,u.memoizedProps,m.memoizedProps)}break;case 27:ei(h,u),ti(u),b&512&&(Hr||m===null||$i(m,m.return)),m!==null&&b&4&&cg(u,u.memoizedProps,m.memoizedProps);break;case 5:if(ei(h,u),ti(u),b&512&&(Hr||m===null||$i(m,m.return)),u.flags&32){E=u.stateNode;try{Yo(E,"")}catch(Oe){wr(u,u.return,Oe)}}b&4&&u.stateNode!=null&&(E=u.memoizedProps,cg(u,E,m!==null?m.memoizedProps:E)),b&1024&&(dg=!0);break;case 6:if(ei(h,u),ti(u),b&4){if(u.stateNode===null)throw Error(n(162));b=u.memoizedProps,m=u.stateNode;try{m.nodeValue=b}catch(Oe){wr(u,u.return,Oe)}}break;case 3:if(kf=null,E=Ri,Ri=Rf(h.containerInfo),ei(h,u),Ri=E,ti(u),b&4&&m!==null&&m.memoizedState.isDehydrated)try{vc(h.containerInfo)}catch(Oe){wr(u,u.return,Oe)}dg&&(dg=!1,i_(u));break;case 4:b=Ri,Ri=Rf(u.stateNode.containerInfo),ei(h,u),ti(u),Ri=b;break;case 12:ei(h,u),ti(u);break;case 13:ei(h,u),ti(u),u.child.flags&8192&&u.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(xg=ce()),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,pg(u,b)));break;case 22:E=u.memoizedState!==null;var fe=m!==null&&m.memoizedState!==null,Ee=Es,Ue=Hr;if(Es=Ee||E,Hr=Ue||fe,ei(h,u),Hr=Ue,Es=Ee,ti(u),b&8192)e:for(h=u.stateNode,h._visibility=E?h._visibility&-2:h._visibility|1,E&&(m===null||fe||Es||Hr||no(u)),m=null,h=u;;){if(h.tag===5||h.tag===26){if(m===null){fe=m=h;try{if(N=fe.stateNode,E)$=N.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{J=fe.stateNode;var He=fe.memoizedProps.style,De=He!=null&&He.hasOwnProperty("display")?He.display:null;J.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Oe){wr(fe,fe.return,Oe)}}}else if(h.tag===6){if(m===null){fe=h;try{fe.stateNode.nodeValue=E?"":fe.memoizedProps}catch(Oe){wr(fe,fe.return,Oe)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}b&4&&(b=u.updateQueue,b!==null&&(m=b.retryQueue,m!==null&&(b.retryQueue=null,pg(u,m))));break;case 19:ei(h,u),ti(u),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,pg(u,b)));break;case 30:break;case 21:break;default:ei(h,u),ti(u)}}function ti(u){var h=u.flags;if(h&2){try{for(var m,b=u.return;b!==null;){if(Zx(b)){m=b;break}b=b.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var E=m.stateNode,N=hg(u);bf(u,N,E);break;case 5:var $=m.stateNode;m.flags&32&&(Yo($,""),m.flags&=-33);var J=hg(u);bf(u,J,$);break;case 3:case 4:var fe=m.stateNode.containerInfo,Ee=hg(u);fg(u,Ee,fe);break;default:throw Error(n(161))}}catch(Ue){wr(u,u.return,Ue)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function i_(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;i_(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function sa(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Jx(u,h.alternate,h),h=h.sibling}function no(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:ia(4,h,h.return),no(h);break;case 1:$i(h,h.return);var m=h.stateNode;typeof m.componentWillUnmount=="function"&&Yx(h,h.return,m),no(h);break;case 27:cc(h.stateNode);case 26:case 5:$i(h,h.return),no(h);break;case 22:h.memoizedState===null&&no(h);break;case 30:no(h);break;default:no(h)}u=u.sibling}}function aa(u,h,m){for(m=m&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var b=h.alternate,E=u,N=h,$=N.flags;switch(N.tag){case 0:case 11:case 15:aa(E,N,m),ec(4,N);break;case 1:if(aa(E,N,m),b=N,E=b.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Ee){wr(b,b.return,Ee)}if(b=N,E=b.updateQueue,E!==null){var J=b.stateNode;try{var fe=E.shared.hiddenCallbacks;if(fe!==null)for(E.shared.hiddenCallbacks=null,E=0;E<fe.length;E++)Mb(fe[E],J)}catch(Ee){wr(b,b.return,Ee)}}m&&$&64&&Wx(N),tc(N,N.return);break;case 27:Kx(N);case 26:case 5:aa(E,N,m),m&&b===null&&$&4&&Xx(N),tc(N,N.return);break;case 12:aa(E,N,m);break;case 13:aa(E,N,m),m&&$&4&&r_(E,N);break;case 22:N.memoizedState===null&&aa(E,N,m),tc(N,N.return);break;case 30:break;default:aa(E,N,m)}h=h.sibling}}function gg(u,h){var m=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==m&&(u!=null&&u.refCount++,m!=null&&Vl(m))}function mg(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Vl(u))}function Wi(u,h,m,b){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)s_(u,h,m,b),h=h.sibling}function s_(u,h,m,b){var E=h.flags;switch(h.tag){case 0:case 11:case 15:Wi(u,h,m,b),E&2048&&ec(9,h);break;case 1:Wi(u,h,m,b);break;case 3:Wi(u,h,m,b),E&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Vl(u)));break;case 12:if(E&2048){Wi(u,h,m,b),u=h.stateNode;try{var N=h.memoizedProps,$=N.id,J=N.onPostCommit;typeof J=="function"&&J($,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(fe){wr(h,h.return,fe)}}else Wi(u,h,m,b);break;case 13:Wi(u,h,m,b);break;case 23:break;case 22:N=h.stateNode,$=h.alternate,h.memoizedState!==null?N._visibility&2?Wi(u,h,m,b):rc(u,h):N._visibility&2?Wi(u,h,m,b):(N._visibility|=2,du(u,h,m,b,(h.subtreeFlags&10256)!==0)),E&2048&&gg($,h);break;case 24:Wi(u,h,m,b),E&2048&&mg(h.alternate,h);break;default:Wi(u,h,m,b)}}function du(u,h,m,b,E){for(E=E&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var N=u,$=h,J=m,fe=b,Ee=$.flags;switch($.tag){case 0:case 11:case 15:du(N,$,J,fe,E),ec(8,$);break;case 23:break;case 22:var Ue=$.stateNode;$.memoizedState!==null?Ue._visibility&2?du(N,$,J,fe,E):rc(N,$):(Ue._visibility|=2,du(N,$,J,fe,E)),E&&Ee&2048&&gg($.alternate,$);break;case 24:du(N,$,J,fe,E),E&&Ee&2048&&mg($.alternate,$);break;default:du(N,$,J,fe,E)}h=h.sibling}}function rc(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var m=u,b=h,E=b.flags;switch(b.tag){case 22:rc(m,b),E&2048&&gg(b.alternate,b);break;case 24:rc(m,b),E&2048&&mg(b.alternate,b);break;default:rc(m,b)}h=h.sibling}}var nc=8192;function pu(u){if(u.subtreeFlags&nc)for(u=u.child;u!==null;)a_(u),u=u.sibling}function a_(u){switch(u.tag){case 26:pu(u),u.flags&nc&&u.memoizedState!==null&&yO(Ri,u.memoizedState,u.memoizedProps);break;case 5:pu(u);break;case 3:case 4:var h=Ri;Ri=Rf(u.stateNode.containerInfo),pu(u),Ri=h;break;case 22:u.memoizedState===null&&(h=u.alternate,h!==null&&h.memoizedState!==null?(h=nc,nc=16777216,pu(u),nc=h):pu(u));break;default:pu(u)}}function o_(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function ic(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var m=0;m<h.length;m++){var b=h[m];pn=b,l_(b,u)}o_(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)u_(u),u=u.sibling}function u_(u){switch(u.tag){case 0:case 11:case 15:ic(u),u.flags&2048&&ia(9,u,u.return);break;case 3:ic(u);break;case 12:ic(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&2&&(u.return===null||u.return.tag!==13)?(h._visibility&=-3,xf(u)):ic(u);break;default:ic(u)}}function xf(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var m=0;m<h.length;m++){var b=h[m];pn=b,l_(b,u)}o_(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:ia(8,h,h.return),xf(h);break;case 22:m=h.stateNode,m._visibility&2&&(m._visibility&=-3,xf(h));break;default:xf(h)}u=u.sibling}}function l_(u,h){for(;pn!==null;){var m=pn;switch(m.tag){case 0:case 11:case 15:ia(8,m,h);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var b=m.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Vl(m.memoizedState.cache)}if(b=m.child,b!==null)b.return=m,pn=b;else e:for(m=u;pn!==null;){b=pn;var E=b.sibling,N=b.return;if(e_(b),b===m){pn=null;break e}if(E!==null){E.return=N,pn=E;break e}pn=N}}}var MN={getCacheForType:function(u){var h=An(sn),m=h.data.get(u);return m===void 0&&(m=u(),h.data.set(u,m)),m}},kN=typeof WeakMap=="function"?WeakMap:Map,mr=0,Dr=null,Zt=null,ir=0,yr=0,ri=null,oa=!1,gu=!1,yg=!1,As=0,Ir=0,ua=0,io=0,vg=0,bi=0,mu=0,sc=null,jn=null,bg=!1,xg=0,_f=1/0,Sf=null,la=null,Sn=0,ca=null,yu=null,vu=0,_g=0,Sg=null,c_=null,ac=0,wg=null;function ni(){if((mr&2)!==0&&ir!==0)return ir&-ir;if(ne.T!==null){var u=su;return u!==0?u:Og()}return Y()}function h_(){bi===0&&(bi=(ir&536870912)===0||hr?Pe():536870912);var u=vi.current;return u!==null&&(u.flags|=32),bi}function ii(u,h,m){(u===Dr&&(yr===2||yr===9)||u.cancelPendingCommit!==null)&&(bu(u,0),ha(u,ir,bi,!1)),vt(u,m),((mr&2)===0||u!==Dr)&&(u===Dr&&((mr&2)===0&&(io|=m),Ir===4&&ha(u,ir,bi,!1)),Yi(u))}function f_(u,h,m){if((mr&6)!==0)throw Error(n(327));var b=!m&&(h&124)===0&&(h&u.expiredLanes)===0||ue(u,h),E=b?IN(u,h):Ag(u,h,!0),N=b;do{if(E===0){gu&&!b&&ha(u,h,0,!1);break}else{if(m=u.current.alternate,N&&!PN(m)){E=Ag(u,h,!1),N=!1;continue}if(E===2){if(N=h,u.errorRecoveryDisabledLanes&N)var $=0;else $=u.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){h=$;e:{var J=u;E=sc;var fe=J.current.memoizedState.isDehydrated;if(fe&&(bu(J,$).flags|=256),$=Ag(J,$,!1),$!==2){if(yg&&!fe){J.errorRecoveryDisabledLanes|=N,io|=N,E=4;break e}N=jn,jn=E,N!==null&&(jn===null?jn=N:jn.push.apply(jn,N))}E=$}if(N=!1,E!==2)continue}}if(E===1){bu(u,0),ha(u,h,0,!0);break}e:{switch(b=u,N=E,N){case 0:case 1:throw Error(n(345));case 4:if((h&4194048)!==h)break;case 6:ha(b,h,bi,!oa);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((h&62914560)===h&&(E=xg+300-ce(),10<E)){if(ha(b,h,bi,!oa),re(b,0,!0)!==0)break e;b.timeoutHandle=j_(d_.bind(null,b,m,jn,Sf,bg,h,bi,io,mu,oa,N,2,-0,0),E);break e}d_(b,m,jn,Sf,bg,h,bi,io,mu,oa,N,0,-0,0)}}break}while(!0);Yi(u)}function d_(u,h,m,b,E,N,$,J,fe,Ee,Ue,He,De,Oe){if(u.timeoutHandle=-1,He=h.subtreeFlags,(He&8192||(He&16785408)===16785408)&&(dc={stylesheets:null,count:0,unsuspend:mO},a_(h),He=vO(),He!==null)){u.cancelPendingCommit=He(x_.bind(null,u,h,N,m,b,E,$,J,fe,Ue,1,De,Oe)),ha(u,N,$,!Ee);return}x_(u,h,N,m,b,E,$,J,fe)}function PN(u){for(var h=u;;){var m=h.tag;if((m===0||m===11||m===15)&&h.flags&16384&&(m=h.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var b=0;b<m.length;b++){var E=m[b],N=E.getSnapshot;E=E.value;try{if(!Qn(N(),E))return!1}catch{return!1}}if(m=h.child,h.subtreeFlags&16384&&m!==null)m.return=h,h=m;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ha(u,h,m,b){h&=~vg,h&=~io,u.suspendedLanes|=h,u.pingedLanes&=~h,b&&(u.warmLanes|=h),b=u.expirationTimes;for(var E=h;0<E;){var N=31-pt(E),$=1<<N;b[N]=-1,E&=~$}m!==0&&Sr(u,m,h)}function wf(){return(mr&6)===0?(oc(0),!1):!0}function Eg(){if(Zt!==null){if(yr===0)var u=Zt.return;else u=Zt,vs=Qa=null,j0(u),hu=null,Kl=0,u=Zt;for(;u!==null;)$x(u.alternate,u),u=u.return;Zt=null}}function bu(u,h){var m=u.timeoutHandle;m!==-1&&(u.timeoutHandle=-1,JN(m)),m=u.cancelPendingCommit,m!==null&&(u.cancelPendingCommit=null,m()),Eg(),Dr=u,Zt=m=gs(u.current,null),ir=h,yr=0,ri=null,oa=!1,gu=ue(u,h),yg=!1,mu=bi=vg=io=ua=Ir=0,jn=sc=null,bg=!1,(h&8)!==0&&(h|=h&32);var b=u.entangledLanes;if(b!==0)for(u=u.entanglements,b&=h;0<b;){var E=31-pt(b),N=1<<E;h|=u[E],b&=~N}return As=h,Hh(),m}function p_(u,h){Ht=null,ne.H=cf,h===zl||h===Jh?(h=Fb(),yr=3):h===Tb?(h=Fb(),yr=4):yr=h===Rx?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,ri=h,Zt===null&&(Ir=1,gf(u,pi(h,u.current)))}function g_(){var u=ne.H;return ne.H=cf,u===null?cf:u}function m_(){var u=ne.A;return ne.A=MN,u}function Cg(){Ir=4,oa||(ir&4194048)!==ir&&vi.current!==null||(gu=!0),(ua&134217727)===0&&(io&134217727)===0||Dr===null||ha(Dr,ir,bi,!1)}function Ag(u,h,m){var b=mr;mr|=2;var E=g_(),N=m_();(Dr!==u||ir!==h)&&(Sf=null,bu(u,h)),h=!1;var $=Ir;e:do try{if(yr!==0&&Zt!==null){var J=Zt,fe=ri;switch(yr){case 8:Eg(),$=6;break e;case 3:case 2:case 9:case 6:vi.current===null&&(h=!0);var Ee=yr;if(yr=0,ri=null,xu(u,J,fe,Ee),m&&gu){$=0;break e}break;default:Ee=yr,yr=0,ri=null,xu(u,J,fe,Ee)}}LN(),$=Ir;break}catch(Ue){p_(u,Ue)}while(!0);return h&&u.shellSuspendCounter++,vs=Qa=null,mr=b,ne.H=E,ne.A=N,Zt===null&&(Dr=null,ir=0,Hh()),$}function LN(){for(;Zt!==null;)y_(Zt)}function IN(u,h){var m=mr;mr|=2;var b=g_(),E=m_();Dr!==u||ir!==h?(Sf=null,_f=ce()+500,bu(u,h)):gu=ue(u,h);e:do try{if(yr!==0&&Zt!==null){h=Zt;var N=ri;t:switch(yr){case 1:yr=0,ri=null,xu(u,h,N,1);break;case 2:case 9:if(Nb(N)){yr=0,ri=null,v_(h);break}h=function(){yr!==2&&yr!==9||Dr!==u||(yr=7),Yi(u)},N.then(h,h);break e;case 3:yr=7;break e;case 4:yr=5;break e;case 7:Nb(N)?(yr=0,ri=null,v_(h)):(yr=0,ri=null,xu(u,h,N,7));break;case 5:var $=null;switch(Zt.tag){case 26:$=Zt.memoizedState;case 5:case 27:var J=Zt;if(!$||J_($)){yr=0,ri=null;var fe=J.sibling;if(fe!==null)Zt=fe;else{var Ee=J.return;Ee!==null?(Zt=Ee,Ef(Ee)):Zt=null}break t}}yr=0,ri=null,xu(u,h,N,5);break;case 6:yr=0,ri=null,xu(u,h,N,6);break;case 8:Eg(),Ir=6;break e;default:throw Error(n(462))}}BN();break}catch(Ue){p_(u,Ue)}while(!0);return vs=Qa=null,ne.H=b,ne.A=E,mr=m,Zt!==null?0:(Dr=null,ir=0,Hh(),Ir)}function BN(){for(;Zt!==null&&!se();)y_(Zt)}function y_(u){var h=Hx(u.alternate,u,As);u.memoizedProps=u.pendingProps,h===null?Ef(u):Zt=h}function v_(u){var h=u,m=h.alternate;switch(h.tag){case 15:case 0:h=Bx(m,h,h.pendingProps,h.type,void 0,ir);break;case 11:h=Bx(m,h,h.pendingProps,h.type.render,h.ref,ir);break;case 5:j0(h);default:$x(m,h),h=Zt=bb(h,As),h=Hx(m,h,As)}u.memoizedProps=u.pendingProps,h===null?Ef(u):Zt=h}function xu(u,h,m,b){vs=Qa=null,j0(h),hu=null,Kl=0;var E=h.return;try{if(DN(u,E,h,m,ir)){Ir=1,gf(u,pi(m,u.current)),Zt=null;return}}catch(N){if(E!==null)throw Zt=E,N;Ir=1,gf(u,pi(m,u.current)),Zt=null;return}h.flags&32768?(hr||b===1?u=!0:gu||(ir&536870912)!==0?u=!1:(oa=u=!0,(b===2||b===9||b===3||b===6)&&(b=vi.current,b!==null&&b.tag===13&&(b.flags|=16384))),b_(h,u)):Ef(h)}function Ef(u){var h=u;do{if((h.flags&32768)!==0){b_(h,oa);return}u=h.return;var m=NN(h.alternate,h,As);if(m!==null){Zt=m;return}if(h=h.sibling,h!==null){Zt=h;return}Zt=h=u}while(h!==null);Ir===0&&(Ir=5)}function b_(u,h){do{var m=ON(u.alternate,u);if(m!==null){m.flags&=32767,Zt=m;return}if(m=u.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!h&&(u=u.sibling,u!==null)){Zt=u;return}Zt=u=m}while(u!==null);Ir=6,Zt=null}function x_(u,h,m,b,E,N,$,J,fe){u.cancelPendingCommit=null;do Cf();while(Sn!==0);if((mr&6)!==0)throw Error(n(327));if(h!==null){if(h===u.current)throw Error(n(177));if(N=h.lanes|h.childLanes,N|=m0,Ft(u,m,N,$,J,fe),u===Dr&&(Zt=Dr=null,ir=0),yu=h,ca=u,vu=m,_g=N,Sg=E,c_=b,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,zN(rt,function(){return C_(),null})):(u.callbackNode=null,u.callbackPriority=0),b=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||b){b=ne.T,ne.T=null,E=de.p,de.p=2,$=mr,mr|=4;try{FN(u,h,m)}finally{mr=$,de.p=E,ne.T=b}}Sn=1,__(),S_(),w_()}}function __(){if(Sn===1){Sn=0;var u=ca,h=yu,m=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||m){m=ne.T,ne.T=null;var b=de.p;de.p=2;var E=mr;mr|=4;try{n_(h,u);var N=Bg,$=lb(u.containerInfo),J=N.focusedElem,fe=N.selectionRange;if($!==J&&J&&J.ownerDocument&&ub(J.ownerDocument.documentElement,J)){if(fe!==null&&h0(J)){var Ee=fe.start,Ue=fe.end;if(Ue===void 0&&(Ue=Ee),"selectionStart"in J)J.selectionStart=Ee,J.selectionEnd=Math.min(Ue,J.value.length);else{var He=J.ownerDocument||document,De=He&&He.defaultView||window;if(De.getSelection){var Oe=De.getSelection(),Nt=J.textContent.length,At=Math.min(fe.start,Nt),xr=fe.end===void 0?At:Math.min(fe.end,Nt);!Oe.extend&&At>xr&&($=xr,xr=At,At=$);var Se=ob(J,At),ye=ob(J,xr);if(Se&&ye&&(Oe.rangeCount!==1||Oe.anchorNode!==Se.node||Oe.anchorOffset!==Se.offset||Oe.focusNode!==ye.node||Oe.focusOffset!==ye.offset)){var we=He.createRange();we.setStart(Se.node,Se.offset),Oe.removeAllRanges(),At>xr?(Oe.addRange(we),Oe.extend(ye.node,ye.offset)):(we.setEnd(ye.node,ye.offset),Oe.addRange(we))}}}}for(He=[],Oe=J;Oe=Oe.parentNode;)Oe.nodeType===1&&He.push({element:Oe,left:Oe.scrollLeft,top:Oe.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<He.length;J++){var ze=He[J];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}If=!!Ig,Bg=Ig=null}finally{mr=E,de.p=b,ne.T=m}}u.current=h,Sn=2}}function S_(){if(Sn===2){Sn=0;var u=ca,h=yu,m=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||m){m=ne.T,ne.T=null;var b=de.p;de.p=2;var E=mr;mr|=4;try{Jx(u,h.alternate,h)}finally{mr=E,de.p=b,ne.T=m}}Sn=3}}function w_(){if(Sn===4||Sn===3){Sn=0,te();var u=ca,h=yu,m=vu,b=c_;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Sn=5:(Sn=0,yu=ca=null,E_(u,u.pendingLanes));var E=u.pendingLanes;if(E===0&&(la=null),W(m),h=h.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Mt,h,void 0,(h.current.flags&128)===128)}catch{}if(b!==null){h=ne.T,E=de.p,de.p=2,ne.T=null;try{for(var N=u.onRecoverableError,$=0;$<b.length;$++){var J=b[$];N(J.value,{componentStack:J.stack})}}finally{ne.T=h,de.p=E}}(vu&3)!==0&&Cf(),Yi(u),E=u.pendingLanes,(m&4194090)!==0&&(E&42)!==0?u===wg?ac++:(ac=0,wg=u):ac=0,oc(0)}}function E_(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,Vl(h)))}function Cf(u){return __(),S_(),w_(),C_()}function C_(){if(Sn!==5)return!1;var u=ca,h=_g;_g=0;var m=W(vu),b=ne.T,E=de.p;try{de.p=32>m?32:m,ne.T=null,m=Sg,Sg=null;var N=ca,$=vu;if(Sn=0,yu=ca=null,vu=0,(mr&6)!==0)throw Error(n(331));var J=mr;if(mr|=4,u_(N.current),s_(N,N.current,$,m),mr=J,oc(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Mt,N)}catch{}return!0}finally{de.p=E,ne.T=b,E_(u,h)}}function A_(u,h,m){h=pi(m,h),h=tg(u.stateNode,h,2),u=ea(u,h,2),u!==null&&(vt(u,2),Yi(u))}function wr(u,h,m){if(u.tag===3)A_(u,u,m);else for(;h!==null;){if(h.tag===3){A_(h,u,m);break}else if(h.tag===1){var b=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(la===null||!la.has(b))){u=pi(m,u),m=Ox(2),b=ea(h,m,2),b!==null&&(Fx(m,b,h,u),vt(b,2),Yi(b));break}}h=h.return}}function Dg(u,h,m){var b=u.pingCache;if(b===null){b=u.pingCache=new kN;var E=new Set;b.set(h,E)}else E=b.get(h),E===void 0&&(E=new Set,b.set(h,E));E.has(m)||(yg=!0,E.add(m),u=UN.bind(null,u,h,m),h.then(u,u))}function UN(u,h,m){var b=u.pingCache;b!==null&&b.delete(h),u.pingedLanes|=u.suspendedLanes&m,u.warmLanes&=~m,Dr===u&&(ir&m)===m&&(Ir===4||Ir===3&&(ir&62914560)===ir&&300>ce()-xg?(mr&2)===0&&bu(u,0):vg|=m,mu===ir&&(mu=0)),Yi(u)}function D_(u,h){h===0&&(h=je()),u=tu(u,h),u!==null&&(vt(u,h),Yi(u))}function VN(u){var h=u.memoizedState,m=0;h!==null&&(m=h.retryLane),D_(u,m)}function jN(u,h){var m=0;switch(u.tag){case 13:var b=u.stateNode,E=u.memoizedState;E!==null&&(m=E.retryLane);break;case 19:b=u.stateNode;break;case 22:b=u.stateNode._retryCache;break;default:throw Error(n(314))}b!==null&&b.delete(h),D_(u,m)}function zN(u,h){return Xe(u,h)}var Af=null,_u=null,Tg=!1,Df=!1,Ng=!1,so=0;function Yi(u){u!==_u&&u.next===null&&(_u===null?Af=_u=u:_u=_u.next=u),Df=!0,Tg||(Tg=!0,HN())}function oc(u,h){if(!Ng&&Df){Ng=!0;do for(var m=!1,b=Af;b!==null;){if(u!==0){var E=b.pendingLanes;if(E===0)var N=0;else{var $=b.suspendedLanes,J=b.pingedLanes;N=(1<<31-pt(42|u)+1)-1,N&=E&~($&~J),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(m=!0,F_(b,N))}else N=ir,N=re(b,b===Dr?N:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(N&3)===0||ue(b,N)||(m=!0,F_(b,N));b=b.next}while(m);Ng=!1}}function GN(){T_()}function T_(){Df=Tg=!1;var u=0;so!==0&&(QN()&&(u=so),so=0);for(var h=ce(),m=null,b=Af;b!==null;){var E=b.next,N=N_(b,h);N===0?(b.next=null,m===null?Af=E:m.next=E,E===null&&(_u=m)):(m=b,(u!==0||(N&3)!==0)&&(Df=!0)),b=E}oc(u)}function N_(u,h){for(var m=u.suspendedLanes,b=u.pingedLanes,E=u.expirationTimes,N=u.pendingLanes&-62914561;0<N;){var $=31-pt(N),J=1<<$,fe=E[$];fe===-1?((J&m)===0||(J&b)!==0)&&(E[$]=pe(J,h)):fe<=h&&(u.expiredLanes|=J),N&=~J}if(h=Dr,m=ir,m=re(u,u===h?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),b=u.callbackNode,m===0||u===h&&(yr===2||yr===9)||u.cancelPendingCommit!==null)return b!==null&&b!==null&&Be(b),u.callbackNode=null,u.callbackPriority=0;if((m&3)===0||ue(u,m)){if(h=m&-m,h===u.callbackPriority)return h;switch(b!==null&&Be(b),W(m)){case 2:case 8:m=Te;break;case 32:m=rt;break;case 268435456:m=ct;break;default:m=rt}return b=O_.bind(null,u),m=Xe(m,b),u.callbackPriority=h,u.callbackNode=m,h}return b!==null&&b!==null&&Be(b),u.callbackPriority=2,u.callbackNode=null,2}function O_(u,h){if(Sn!==0&&Sn!==5)return u.callbackNode=null,u.callbackPriority=0,null;var m=u.callbackNode;if(Cf()&&u.callbackNode!==m)return null;var b=ir;return b=re(u,u===Dr?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),b===0?null:(f_(u,b,h),N_(u,ce()),u.callbackNode!=null&&u.callbackNode===m?O_.bind(null,u):null)}function F_(u,h){if(Cf())return null;f_(u,h,!0)}function HN(){eO(function(){(mr&6)!==0?Xe(Me,GN):T_()})}function Og(){return so===0&&(so=Pe()),so}function R_(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Ih(""+u)}function M_(u,h){var m=h.ownerDocument.createElement("input");return m.name=h.name,m.value=h.value,u.id&&m.setAttribute("form",u.id),h.parentNode.insertBefore(m,h),u=new FormData(u),m.parentNode.removeChild(m),u}function qN(u,h,m,b,E){if(h==="submit"&&m&&m.stateNode===E){var N=R_((E[We]||null).action),$=b.submitter;$&&(h=(h=$[We]||null)?R_(h.formAction):$.getAttribute("formAction"),h!==null&&(N=h,$=null));var J=new jh("action","action",null,b,E);u.push({event:J,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(so!==0){var fe=$?M_(E,$):new FormData(E);Z0(m,{pending:!0,data:fe,method:E.method,action:N},null,fe)}}else typeof N=="function"&&(J.preventDefault(),fe=$?M_(E,$):new FormData(E),Z0(m,{pending:!0,data:fe,method:E.method,action:N},N,fe))},currentTarget:E}]})}}for(var Fg=0;Fg<g0.length;Fg++){var Rg=g0[Fg],$N=Rg.toLowerCase(),WN=Rg[0].toUpperCase()+Rg.slice(1);Fi($N,"on"+WN)}Fi(fb,"onAnimationEnd"),Fi(db,"onAnimationIteration"),Fi(pb,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(cN,"onTransitionRun"),Fi(hN,"onTransitionStart"),Fi(fN,"onTransitionCancel"),Fi(gb,"onTransitionEnd"),qo("onMouseEnter",["mouseout","mouseover"]),qo("onMouseLeave",["mouseout","mouseover"]),qo("onPointerEnter",["pointerout","pointerover"]),qo("onPointerLeave",["pointerout","pointerover"]),Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uc));function k_(u,h){h=(h&4)!==0;for(var m=0;m<u.length;m++){var b=u[m],E=b.event;b=b.listeners;e:{var N=void 0;if(h)for(var $=b.length-1;0<=$;$--){var J=b[$],fe=J.instance,Ee=J.currentTarget;if(J=J.listener,fe!==N&&E.isPropagationStopped())break e;N=J,E.currentTarget=Ee;try{N(E)}catch(Ue){pf(Ue)}E.currentTarget=null,N=fe}else for($=0;$<b.length;$++){if(J=b[$],fe=J.instance,Ee=J.currentTarget,J=J.listener,fe!==N&&E.isPropagationStopped())break e;N=J,E.currentTarget=Ee;try{N(E)}catch(Ue){pf(Ue)}E.currentTarget=null,N=fe}}}}function Kt(u,h){var m=h[Gt];m===void 0&&(m=h[Gt]=new Set);var b=u+"__bubble";m.has(b)||(P_(h,u,2,!1),m.add(b))}function Mg(u,h,m){var b=0;h&&(b|=4),P_(m,u,b,h)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function kg(u){if(!u[Tf]){u[Tf]=!0,T1.forEach(function(m){m!=="selectionchange"&&(YN.has(m)||Mg(m,!1,u),Mg(m,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Tf]||(h[Tf]=!0,Mg("selectionchange",!1,h))}}function P_(u,h,m,b){switch(s2(h)){case 2:var E=_O;break;case 8:E=SO;break;default:E=Yg}m=E.bind(null,h,m,u),E=void 0,!r0||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(E=!0),b?E!==void 0?u.addEventListener(h,m,{capture:!0,passive:E}):u.addEventListener(h,m,!0):E!==void 0?u.addEventListener(h,m,{passive:E}):u.addEventListener(h,m,!1)}function Pg(u,h,m,b,E){var N=b;if((h&1)===0&&(h&2)===0&&b!==null)e:for(;;){if(b===null)return;var $=b.tag;if($===3||$===4){var J=b.stateNode.containerInfo;if(J===E)break;if($===4)for($=b.return;$!==null;){var fe=$.tag;if((fe===3||fe===4)&&$.stateNode.containerInfo===E)return;$=$.return}for(;J!==null;){if($=xn(J),$===null)return;if(fe=$.tag,fe===5||fe===6||fe===26||fe===27){b=N=$;continue e}J=J.parentNode}}b=b.return}z1(function(){var Ee=N,Ue=e0(m),He=[];e:{var De=mb.get(u);if(De!==void 0){var Oe=jh,Nt=u;switch(u){case"keypress":if(Uh(m)===0)break e;case"keydown":case"keyup":Oe=z3;break;case"focusin":Nt="focus",Oe=a0;break;case"focusout":Nt="blur",Oe=a0;break;case"beforeblur":case"afterblur":Oe=a0;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=q1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=O3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=q3;break;case fb:case db:case pb:Oe=M3;break;case gb:Oe=W3;break;case"scroll":case"scrollend":Oe=T3;break;case"wheel":Oe=X3;break;case"copy":case"cut":case"paste":Oe=P3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=W1;break;case"toggle":case"beforetoggle":Oe=K3}var At=(h&4)!==0,xr=!At&&(u==="scroll"||u==="scrollend"),Se=At?De!==null?De+"Capture":null:De;At=[];for(var ye=Ee,we;ye!==null;){var ze=ye;if(we=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||we===null||Se===null||(ze=Dl(ye,Se),ze!=null&&At.push(lc(ye,ze,we))),xr)break;ye=ye.return}0<At.length&&(De=new Oe(De,Nt,null,m,Ue),He.push({event:De,listeners:At}))}}if((h&7)===0){e:{if(De=u==="mouseover"||u==="pointerover",Oe=u==="mouseout"||u==="pointerout",De&&m!==Jp&&(Nt=m.relatedTarget||m.fromElement)&&(xn(Nt)||Nt[at]))break e;if((Oe||De)&&(De=Ue.window===Ue?Ue:(De=Ue.ownerDocument)?De.defaultView||De.parentWindow:window,Oe?(Nt=m.relatedTarget||m.toElement,Oe=Ee,Nt=Nt?xn(Nt):null,Nt!==null&&(xr=a(Nt),At=Nt.tag,Nt!==xr||At!==5&&At!==27&&At!==6)&&(Nt=null)):(Oe=null,Nt=Ee),Oe!==Nt)){if(At=q1,ze="onMouseLeave",Se="onMouseEnter",ye="mouse",(u==="pointerout"||u==="pointerover")&&(At=W1,ze="onPointerLeave",Se="onPointerEnter",ye="pointer"),xr=Oe==null?De:Al(Oe),we=Nt==null?De:Al(Nt),De=new At(ze,ye+"leave",Oe,m,Ue),De.target=xr,De.relatedTarget=we,ze=null,xn(Ue)===Ee&&(At=new At(Se,ye+"enter",Nt,m,Ue),At.target=we,At.relatedTarget=xr,ze=At),xr=ze,Oe&&Nt)t:{for(At=Oe,Se=Nt,ye=0,we=At;we;we=Su(we))ye++;for(we=0,ze=Se;ze;ze=Su(ze))we++;for(;0<ye-we;)At=Su(At),ye--;for(;0<we-ye;)Se=Su(Se),we--;for(;ye--;){if(At===Se||Se!==null&&At===Se.alternate)break t;At=Su(At),Se=Su(Se)}At=null}else At=null;Oe!==null&&L_(He,De,Oe,At,!1),Nt!==null&&xr!==null&&L_(He,xr,Nt,At,!0)}}e:{if(De=Ee?Al(Ee):window,Oe=De.nodeName&&De.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&De.type==="file")var ht=tb;else if(J1(De))if(rb)ht=oN;else{ht=sN;var Wt=iN}else Oe=De.nodeName,!Oe||Oe.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Ee&&Qp(Ee.elementType)&&(ht=tb):ht=aN;if(ht&&(ht=ht(u,Ee))){eb(He,ht,m,Ue);break e}Wt&&Wt(u,De,Ee),u==="focusout"&&Ee&&De.type==="number"&&Ee.memoizedProps.value!=null&&Kp(De,"number",De.value)}switch(Wt=Ee?Al(Ee):window,u){case"focusin":(J1(Wt)||Wt.contentEditable==="true")&&(Qo=Wt,f0=Ee,Pl=null);break;case"focusout":Pl=f0=Qo=null;break;case"mousedown":d0=!0;break;case"contextmenu":case"mouseup":case"dragend":d0=!1,cb(He,m,Ue);break;case"selectionchange":if(lN)break;case"keydown":case"keyup":cb(He,m,Ue)}var xt;if(u0)e:{switch(u){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Ko?K1(u,m)&&(Dt="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(Dt="onCompositionStart");Dt&&(Y1&&m.locale!=="ko"&&(Ko||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Ko&&(xt=G1()):(Zs=Ue,n0="value"in Zs?Zs.value:Zs.textContent,Ko=!0)),Wt=Nf(Ee,Dt),0<Wt.length&&(Dt=new $1(Dt,u,null,m,Ue),He.push({event:Dt,listeners:Wt}),xt?Dt.data=xt:(xt=Q1(m),xt!==null&&(Dt.data=xt)))),(xt=J3?eN(u,m):tN(u,m))&&(Dt=Nf(Ee,"onBeforeInput"),0<Dt.length&&(Wt=new $1("onBeforeInput","beforeinput",null,m,Ue),He.push({event:Wt,listeners:Dt}),Wt.data=xt)),qN(He,u,Ee,m,Ue)}k_(He,h)})}function lc(u,h,m){return{instance:u,listener:h,currentTarget:m}}function Nf(u,h){for(var m=h+"Capture",b=[];u!==null;){var E=u,N=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||N===null||(E=Dl(u,m),E!=null&&b.unshift(lc(u,E,N)),E=Dl(u,h),E!=null&&b.push(lc(u,E,N))),u.tag===3)return b;u=u.return}return[]}function Su(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function L_(u,h,m,b,E){for(var N=h._reactName,$=[];m!==null&&m!==b;){var J=m,fe=J.alternate,Ee=J.stateNode;if(J=J.tag,fe!==null&&fe===b)break;J!==5&&J!==26&&J!==27||Ee===null||(fe=Ee,E?(Ee=Dl(m,N),Ee!=null&&$.unshift(lc(m,Ee,fe))):E||(Ee=Dl(m,N),Ee!=null&&$.push(lc(m,Ee,fe)))),m=m.return}$.length!==0&&u.push({event:h,listeners:$})}var XN=/\r\n?/g,ZN=/\u0000|\uFFFD/g;function I_(u){return(typeof u=="string"?u:""+u).replace(XN,`
`).replace(ZN,"")}function B_(u,h){return h=I_(h),I_(u)===h}function Of(){}function br(u,h,m,b,E,N){switch(m){case"children":typeof b=="string"?h==="body"||h==="textarea"&&b===""||Yo(u,b):(typeof b=="number"||typeof b=="bigint")&&h!=="body"&&Yo(u,""+b);break;case"className":kh(u,"class",b);break;case"tabIndex":kh(u,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":kh(u,m,b);break;case"style":V1(u,b,N);break;case"data":if(h!=="object"){kh(u,"data",b);break}case"src":case"href":if(b===""&&(h!=="a"||m!=="href")){u.removeAttribute(m);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){u.removeAttribute(m);break}b=Ih(""+b),u.setAttribute(m,b);break;case"action":case"formAction":if(typeof b=="function"){u.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(m==="formAction"?(h!=="input"&&br(u,h,"name",E.name,E,null),br(u,h,"formEncType",E.formEncType,E,null),br(u,h,"formMethod",E.formMethod,E,null),br(u,h,"formTarget",E.formTarget,E,null)):(br(u,h,"encType",E.encType,E,null),br(u,h,"method",E.method,E,null),br(u,h,"target",E.target,E,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){u.removeAttribute(m);break}b=Ih(""+b),u.setAttribute(m,b);break;case"onClick":b!=null&&(u.onclick=Of);break;case"onScroll":b!=null&&Kt("scroll",u);break;case"onScrollEnd":b!=null&&Kt("scrollend",u);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(m=b.__html,m!=null){if(E.children!=null)throw Error(n(60));u.innerHTML=m}}break;case"multiple":u.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":u.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){u.removeAttribute("xlink:href");break}m=Ih(""+b),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(m,""+b):u.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(m,""):u.removeAttribute(m);break;case"capture":case"download":b===!0?u.setAttribute(m,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(m,b):u.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?u.setAttribute(m,b):u.removeAttribute(m);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?u.removeAttribute(m):u.setAttribute(m,b);break;case"popover":Kt("beforetoggle",u),Kt("toggle",u),Mh(u,"popover",b);break;case"xlinkActuate":ds(u,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":ds(u,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":ds(u,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":ds(u,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":ds(u,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":ds(u,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":ds(u,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":ds(u,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":ds(u,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Mh(u,"is",b);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=A3.get(m)||m,Mh(u,m,b))}}function Lg(u,h,m,b,E,N){switch(m){case"style":V1(u,b,N);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(m=b.__html,m!=null){if(E.children!=null)throw Error(n(60));u.innerHTML=m}}break;case"children":typeof b=="string"?Yo(u,b):(typeof b=="number"||typeof b=="bigint")&&Yo(u,""+b);break;case"onScroll":b!=null&&Kt("scroll",u);break;case"onScrollEnd":b!=null&&Kt("scrollend",u);break;case"onClick":b!=null&&(u.onclick=Of);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!N1.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(E=m.endsWith("Capture"),h=m.slice(2,E?m.length-7:void 0),N=u[We]||null,N=N!=null?N[m]:null,typeof N=="function"&&u.removeEventListener(h,N,E),typeof b=="function")){typeof N!="function"&&N!==null&&(m in u?u[m]=null:u.hasAttribute(m)&&u.removeAttribute(m)),u.addEventListener(h,b,E);break e}m in u?u[m]=b:b===!0?u.setAttribute(m,""):Mh(u,m,b)}}}function wn(u,h,m){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",u),Kt("load",u);var b=!1,E=!1,N;for(N in m)if(m.hasOwnProperty(N)){var $=m[N];if($!=null)switch(N){case"src":b=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:br(u,h,N,$,m,null)}}E&&br(u,h,"srcSet",m.srcSet,m,null),b&&br(u,h,"src",m.src,m,null);return;case"input":Kt("invalid",u);var J=N=$=E=null,fe=null,Ee=null;for(b in m)if(m.hasOwnProperty(b)){var Ue=m[b];if(Ue!=null)switch(b){case"name":E=Ue;break;case"type":$=Ue;break;case"checked":fe=Ue;break;case"defaultChecked":Ee=Ue;break;case"value":N=Ue;break;case"defaultValue":J=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(n(137,h));break;default:br(u,h,b,Ue,m,null)}}L1(u,N,J,fe,Ee,$,E,!1),Ph(u);return;case"select":Kt("invalid",u),b=$=N=null;for(E in m)if(m.hasOwnProperty(E)&&(J=m[E],J!=null))switch(E){case"value":N=J;break;case"defaultValue":$=J;break;case"multiple":b=J;default:br(u,h,E,J,m,null)}h=N,m=$,u.multiple=!!b,h!=null?Wo(u,!!b,h,!1):m!=null&&Wo(u,!!b,m,!0);return;case"textarea":Kt("invalid",u),N=E=b=null;for($ in m)if(m.hasOwnProperty($)&&(J=m[$],J!=null))switch($){case"value":b=J;break;case"defaultValue":E=J;break;case"children":N=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(91));break;default:br(u,h,$,J,m,null)}B1(u,b,E,N),Ph(u);return;case"option":for(fe in m)if(m.hasOwnProperty(fe)&&(b=m[fe],b!=null))switch(fe){case"selected":u.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:br(u,h,fe,b,m,null)}return;case"dialog":Kt("beforetoggle",u),Kt("toggle",u),Kt("cancel",u),Kt("close",u);break;case"iframe":case"object":Kt("load",u);break;case"video":case"audio":for(b=0;b<uc.length;b++)Kt(uc[b],u);break;case"image":Kt("error",u),Kt("load",u);break;case"details":Kt("toggle",u);break;case"embed":case"source":case"link":Kt("error",u),Kt("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in m)if(m.hasOwnProperty(Ee)&&(b=m[Ee],b!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:br(u,h,Ee,b,m,null)}return;default:if(Qp(h)){for(Ue in m)m.hasOwnProperty(Ue)&&(b=m[Ue],b!==void 0&&Lg(u,h,Ue,b,m,void 0));return}}for(J in m)m.hasOwnProperty(J)&&(b=m[J],b!=null&&br(u,h,J,b,m,null))}function KN(u,h,m,b){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,N=null,$=null,J=null,fe=null,Ee=null,Ue=null;for(Oe in m){var He=m[Oe];if(m.hasOwnProperty(Oe)&&He!=null)switch(Oe){case"checked":break;case"value":break;case"defaultValue":fe=He;default:b.hasOwnProperty(Oe)||br(u,h,Oe,null,b,He)}}for(var De in b){var Oe=b[De];if(He=m[De],b.hasOwnProperty(De)&&(Oe!=null||He!=null))switch(De){case"type":N=Oe;break;case"name":E=Oe;break;case"checked":Ee=Oe;break;case"defaultChecked":Ue=Oe;break;case"value":$=Oe;break;case"defaultValue":J=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(n(137,h));break;default:Oe!==He&&br(u,h,De,Oe,b,He)}}Zp(u,$,J,fe,Ee,Ue,N,E);return;case"select":Oe=$=J=De=null;for(N in m)if(fe=m[N],m.hasOwnProperty(N)&&fe!=null)switch(N){case"value":break;case"multiple":Oe=fe;default:b.hasOwnProperty(N)||br(u,h,N,null,b,fe)}for(E in b)if(N=b[E],fe=m[E],b.hasOwnProperty(E)&&(N!=null||fe!=null))switch(E){case"value":De=N;break;case"defaultValue":J=N;break;case"multiple":$=N;default:N!==fe&&br(u,h,E,N,b,fe)}h=J,m=$,b=Oe,De!=null?Wo(u,!!m,De,!1):!!b!=!!m&&(h!=null?Wo(u,!!m,h,!0):Wo(u,!!m,m?[]:"",!1));return;case"textarea":Oe=De=null;for(J in m)if(E=m[J],m.hasOwnProperty(J)&&E!=null&&!b.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:br(u,h,J,null,b,E)}for($ in b)if(E=b[$],N=m[$],b.hasOwnProperty($)&&(E!=null||N!=null))switch($){case"value":De=E;break;case"defaultValue":Oe=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:E!==N&&br(u,h,$,E,b,N)}I1(u,De,Oe);return;case"option":for(var Nt in m)if(De=m[Nt],m.hasOwnProperty(Nt)&&De!=null&&!b.hasOwnProperty(Nt))switch(Nt){case"selected":u.selected=!1;break;default:br(u,h,Nt,null,b,De)}for(fe in b)if(De=b[fe],Oe=m[fe],b.hasOwnProperty(fe)&&De!==Oe&&(De!=null||Oe!=null))switch(fe){case"selected":u.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:br(u,h,fe,De,b,Oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in m)De=m[At],m.hasOwnProperty(At)&&De!=null&&!b.hasOwnProperty(At)&&br(u,h,At,null,b,De);for(Ee in b)if(De=b[Ee],Oe=m[Ee],b.hasOwnProperty(Ee)&&De!==Oe&&(De!=null||Oe!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,h));break;default:br(u,h,Ee,De,b,Oe)}return;default:if(Qp(h)){for(var xr in m)De=m[xr],m.hasOwnProperty(xr)&&De!==void 0&&!b.hasOwnProperty(xr)&&Lg(u,h,xr,void 0,b,De);for(Ue in b)De=b[Ue],Oe=m[Ue],!b.hasOwnProperty(Ue)||De===Oe||De===void 0&&Oe===void 0||Lg(u,h,Ue,De,b,Oe);return}}for(var Se in m)De=m[Se],m.hasOwnProperty(Se)&&De!=null&&!b.hasOwnProperty(Se)&&br(u,h,Se,null,b,De);for(He in b)De=b[He],Oe=m[He],!b.hasOwnProperty(He)||De===Oe||De==null&&Oe==null||br(u,h,He,De,b,Oe)}var Ig=null,Bg=null;function Ff(u){return u.nodeType===9?u:u.ownerDocument}function U_(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V_(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function Ug(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Vg=null;function QN(){var u=window.event;return u&&u.type==="popstate"?u===Vg?!1:(Vg=u,!0):(Vg=null,!1)}var j_=typeof setTimeout=="function"?setTimeout:void 0,JN=typeof clearTimeout=="function"?clearTimeout:void 0,z_=typeof Promise=="function"?Promise:void 0,eO=typeof queueMicrotask=="function"?queueMicrotask:typeof z_<"u"?function(u){return z_.resolve(null).then(u).catch(tO)}:j_;function tO(u){setTimeout(function(){throw u})}function fa(u){return u==="head"}function G_(u,h){var m=h,b=0,E=0;do{var N=m.nextSibling;if(u.removeChild(m),N&&N.nodeType===8)if(m=N.data,m==="/$"){if(0<b&&8>b){m=b;var $=u.ownerDocument;if(m&1&&cc($.documentElement),m&2&&cc($.body),m&4)for(m=$.head,cc(m),$=m.firstChild;$;){var J=$.nextSibling,fe=$.nodeName;$[Xs]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&$.rel.toLowerCase()==="stylesheet"||m.removeChild($),$=J}}if(E===0){u.removeChild(N),vc(h);return}E--}else m==="$"||m==="$?"||m==="$!"?E++:b=m.charCodeAt(0)-48;else b=0;m=N}while(m);vc(h)}function jg(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var m=h;switch(h=h.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":jg(m),zo(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}u.removeChild(m)}}function rO(u,h,m,b){for(;u.nodeType===1;){var E=m;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!b&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(b){if(!u[Xs])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(N=u.getAttribute("rel"),N==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(N!==E.rel||u.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||u.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||u.getAttribute("title")!==(E.title==null?null:E.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(N=u.getAttribute("src"),(N!==(E.src==null?null:E.src)||u.getAttribute("type")!==(E.type==null?null:E.type)||u.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&N&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var N=E.name==null?null:""+E.name;if(E.type==="hidden"&&u.getAttribute("name")===N)return u}else return u;if(u=Mi(u.nextSibling),u===null)break}return null}function nO(u,h,m){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!m||(u=Mi(u.nextSibling),u===null))return null;return u}function zg(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState==="complete"}function iO(u,h){var m=u.ownerDocument;if(u.data!=="$?"||m.readyState==="complete")h();else{var b=function(){h(),m.removeEventListener("DOMContentLoaded",b)};m.addEventListener("DOMContentLoaded",b),u._reactRetry=b}}function Mi(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return u}var Gg=null;function H_(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"){if(h===0)return u;h--}else m==="/$"&&h++}u=u.previousSibling}return null}function q_(u,h,m){switch(h=Ff(m),u){case"html":if(u=h.documentElement,!u)throw Error(n(452));return u;case"head":if(u=h.head,!u)throw Error(n(453));return u;case"body":if(u=h.body,!u)throw Error(n(454));return u;default:throw Error(n(451))}}function cc(u){for(var h=u.attributes;h.length;)u.removeAttributeNode(h[0]);zo(u)}var xi=new Map,$_=new Set;function Rf(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Ds=de.d;de.d={f:sO,r:aO,D:oO,C:uO,L:lO,m:cO,X:fO,S:hO,M:dO};function sO(){var u=Ds.f(),h=wf();return u||h}function aO(u){var h=Go(u);h!==null&&h.tag===5&&h.type==="form"?fx(h):Ds.r(u)}var wu=typeof document>"u"?null:document;function W_(u,h,m){var b=wu;if(b&&typeof h=="string"&&h){var E=di(h);E='link[rel="'+u+'"][href="'+E+'"]',typeof m=="string"&&(E+='[crossorigin="'+m+'"]'),$_.has(E)||($_.add(E),u={rel:u,crossOrigin:m,href:h},b.querySelector(E)===null&&(h=b.createElement("link"),wn(h,"link",u),hn(h),b.head.appendChild(h)))}}function oO(u){Ds.D(u),W_("dns-prefetch",u,null)}function uO(u,h){Ds.C(u,h),W_("preconnect",u,h)}function lO(u,h,m){Ds.L(u,h,m);var b=wu;if(b&&u&&h){var E='link[rel="preload"][as="'+di(h)+'"]';h==="image"&&m&&m.imageSrcSet?(E+='[imagesrcset="'+di(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(E+='[imagesizes="'+di(m.imageSizes)+'"]')):E+='[href="'+di(u)+'"]';var N=E;switch(h){case"style":N=Eu(u);break;case"script":N=Cu(u)}xi.has(N)||(u=g({rel:"preload",href:h==="image"&&m&&m.imageSrcSet?void 0:u,as:h},m),xi.set(N,u),b.querySelector(E)!==null||h==="style"&&b.querySelector(hc(N))||h==="script"&&b.querySelector(fc(N))||(h=b.createElement("link"),wn(h,"link",u),hn(h),b.head.appendChild(h)))}}function cO(u,h){Ds.m(u,h);var m=wu;if(m&&u){var b=h&&typeof h.as=="string"?h.as:"script",E='link[rel="modulepreload"][as="'+di(b)+'"][href="'+di(u)+'"]',N=E;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Cu(u)}if(!xi.has(N)&&(u=g({rel:"modulepreload",href:u},h),xi.set(N,u),m.querySelector(E)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(fc(N)))return}b=m.createElement("link"),wn(b,"link",u),hn(b),m.head.appendChild(b)}}}function hO(u,h,m){Ds.S(u,h,m);var b=wu;if(b&&u){var E=Ho(b).hoistableStyles,N=Eu(u);h=h||"default";var $=E.get(N);if(!$){var J={loading:0,preload:null};if($=b.querySelector(hc(N)))J.loading=5;else{u=g({rel:"stylesheet",href:u,"data-precedence":h},m),(m=xi.get(N))&&Hg(u,m);var fe=$=b.createElement("link");hn(fe),wn(fe,"link",u),fe._p=new Promise(function(Ee,Ue){fe.onload=Ee,fe.onerror=Ue}),fe.addEventListener("load",function(){J.loading|=1}),fe.addEventListener("error",function(){J.loading|=2}),J.loading|=4,Mf($,h,b)}$={type:"stylesheet",instance:$,count:1,state:J},E.set(N,$)}}}function fO(u,h){Ds.X(u,h);var m=wu;if(m&&u){var b=Ho(m).hoistableScripts,E=Cu(u),N=b.get(E);N||(N=m.querySelector(fc(E)),N||(u=g({src:u,async:!0},h),(h=xi.get(E))&&qg(u,h),N=m.createElement("script"),hn(N),wn(N,"link",u),m.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},b.set(E,N))}}function dO(u,h){Ds.M(u,h);var m=wu;if(m&&u){var b=Ho(m).hoistableScripts,E=Cu(u),N=b.get(E);N||(N=m.querySelector(fc(E)),N||(u=g({src:u,async:!0,type:"module"},h),(h=xi.get(E))&&qg(u,h),N=m.createElement("script"),hn(N),wn(N,"link",u),m.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},b.set(E,N))}}function Y_(u,h,m,b){var E=(E=Ce.current)?Rf(E):null;if(!E)throw Error(n(446));switch(u){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(h=Eu(m.href),m=Ho(E).hoistableStyles,b=m.get(h),b||(b={type:"style",instance:null,count:0,state:null},m.set(h,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){u=Eu(m.href);var N=Ho(E).hoistableStyles,$=N.get(u);if($||(E=E.ownerDocument||E,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(u,$),(N=E.querySelector(hc(u)))&&!N._p&&($.instance=N,$.state.loading=5),xi.has(u)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},xi.set(u,m),N||pO(E,u,m,$.state))),h&&b===null)throw Error(n(528,""));return $}if(h&&b!==null)throw Error(n(529,""));return null;case"script":return h=m.async,m=m.src,typeof m=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Cu(m),m=Ho(E).hoistableScripts,b=m.get(h),b||(b={type:"script",instance:null,count:0,state:null},m.set(h,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,u))}}function Eu(u){return'href="'+di(u)+'"'}function hc(u){return'link[rel="stylesheet"]['+u+"]"}function X_(u){return g({},u,{"data-precedence":u.precedence,precedence:null})}function pO(u,h,m,b){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?b.loading=1:(h=u.createElement("link"),b.preload=h,h.addEventListener("load",function(){return b.loading|=1}),h.addEventListener("error",function(){return b.loading|=2}),wn(h,"link",m),hn(h),u.head.appendChild(h))}function Cu(u){return'[src="'+di(u)+'"]'}function fc(u){return"script[async]"+u}function Z_(u,h,m){if(h.count++,h.instance===null)switch(h.type){case"style":var b=u.querySelector('style[data-href~="'+di(m.href)+'"]');if(b)return h.instance=b,hn(b),b;var E=g({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return b=(u.ownerDocument||u).createElement("style"),hn(b),wn(b,"style",E),Mf(b,m.precedence,u),h.instance=b;case"stylesheet":E=Eu(m.href);var N=u.querySelector(hc(E));if(N)return h.state.loading|=4,h.instance=N,hn(N),N;b=X_(m),(E=xi.get(E))&&Hg(b,E),N=(u.ownerDocument||u).createElement("link"),hn(N);var $=N;return $._p=new Promise(function(J,fe){$.onload=J,$.onerror=fe}),wn(N,"link",b),h.state.loading|=4,Mf(N,m.precedence,u),h.instance=N;case"script":return N=Cu(m.src),(E=u.querySelector(fc(N)))?(h.instance=E,hn(E),E):(b=m,(E=xi.get(N))&&(b=g({},m),qg(b,E)),u=u.ownerDocument||u,E=u.createElement("script"),hn(E),wn(E,"link",b),u.head.appendChild(E),h.instance=E);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(b=h.instance,h.state.loading|=4,Mf(b,m.precedence,u));return h.instance}function Mf(u,h,m){for(var b=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=b.length?b[b.length-1]:null,N=E,$=0;$<b.length;$++){var J=b[$];if(J.dataset.precedence===h)N=J;else if(N!==E)break}N?N.parentNode.insertBefore(u,N.nextSibling):(h=m.nodeType===9?m.head:m,h.insertBefore(u,h.firstChild))}function Hg(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function qg(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var kf=null;function K_(u,h,m){if(kf===null){var b=new Map,E=kf=new Map;E.set(m,b)}else E=kf,b=E.get(m),b||(b=new Map,E.set(m,b));if(b.has(u))return b;for(b.set(u,null),m=m.getElementsByTagName(u),E=0;E<m.length;E++){var N=m[E];if(!(N[Xs]||N[Ie]||u==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var $=N.getAttribute(h)||"";$=u+$;var J=b.get($);J?J.push(N):b.set($,[N])}}return b}function Q_(u,h,m){u=u.ownerDocument||u,u.head.insertBefore(m,h==="title"?u.querySelector("head > title"):null)}function gO(u,h,m){if(m===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return u=h.disabled,typeof h.precedence=="string"&&u==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function J_(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}var dc=null;function mO(){}function yO(u,h,m){if(dc===null)throw Error(n(475));var b=dc;if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var E=Eu(m.href),N=u.querySelector(hc(E));if(N){u=N._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(b.count++,b=Pf.bind(b),u.then(b,b)),h.state.loading|=4,h.instance=N,hn(N);return}N=u.ownerDocument||u,m=X_(m),(E=xi.get(E))&&Hg(m,E),N=N.createElement("link"),hn(N);var $=N;$._p=new Promise(function(J,fe){$.onload=J,$.onerror=fe}),wn(N,"link",m),h.instance=N}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(b.count++,h=Pf.bind(b),u.addEventListener("load",h),u.addEventListener("error",h))}}function vO(){if(dc===null)throw Error(n(475));var u=dc;return u.stylesheets&&u.count===0&&$g(u,u.stylesheets),0<u.count?function(h){var m=setTimeout(function(){if(u.stylesheets&&$g(u,u.stylesheets),u.unsuspend){var b=u.unsuspend;u.unsuspend=null,b()}},6e4);return u.unsuspend=h,function(){u.unsuspend=null,clearTimeout(m)}}:null}function Pf(){if(this.count--,this.count===0){if(this.stylesheets)$g(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Lf=null;function $g(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Lf=new Map,h.forEach(bO,u),Lf=null,Pf.call(u))}function bO(u,h){if(!(h.state.loading&4)){var m=Lf.get(u);if(m)var b=m.get(null);else{m=new Map,Lf.set(u,m);for(var E=u.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<E.length;N++){var $=E[N];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(m.set($.dataset.precedence,$),b=$)}b&&m.set(null,b)}E=h.instance,$=E.getAttribute("data-precedence"),N=m.get($)||b,N===b&&m.set(null,E),m.set($,E),this.count++,b=Pf.bind(this),E.addEventListener("load",b),E.addEventListener("error",b),N?N.parentNode.insertBefore(E,N.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(E,u.firstChild)),h.state.loading|=4}}var pc={$$typeof:R,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function xO(u,h,m,b,E,N,$,J){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=it(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=it(0),this.hiddenUpdates=it(null),this.identifierPrefix=b,this.onUncaughtError=E,this.onCaughtError=N,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function e2(u,h,m,b,E,N,$,J,fe,Ee,Ue,He){return u=new xO(u,h,m,$,J,fe,Ee,He),h=1,N===!0&&(h|=24),N=Jn(3,null,null,h),u.current=N,N.stateNode=u,h=D0(),h.refCount++,u.pooledCache=h,h.refCount++,N.memoizedState={element:b,isDehydrated:m,cache:h},F0(N),u}function t2(u){return u?(u=ru,u):ru}function r2(u,h,m,b,E,N){E=t2(E),b.context===null?b.context=E:b.pendingContext=E,b=Js(h),b.payload={element:m},N=N===void 0?null:N,N!==null&&(b.callback=N),m=ea(u,b,h),m!==null&&(ii(m,u,h),Hl(m,u,h))}function n2(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<h?m:h}}function Wg(u,h){n2(u,h),(u=u.alternate)&&n2(u,h)}function i2(u){if(u.tag===13){var h=tu(u,67108864);h!==null&&ii(h,u,67108864),Wg(u,67108864)}}var If=!0;function _O(u,h,m,b){var E=ne.T;ne.T=null;var N=de.p;try{de.p=2,Yg(u,h,m,b)}finally{de.p=N,ne.T=E}}function SO(u,h,m,b){var E=ne.T;ne.T=null;var N=de.p;try{de.p=8,Yg(u,h,m,b)}finally{de.p=N,ne.T=E}}function Yg(u,h,m,b){if(If){var E=Xg(b);if(E===null)Pg(u,h,b,Bf,m),a2(u,b);else if(EO(E,u,h,m,b))b.stopPropagation();else if(a2(u,b),h&4&&-1<wO.indexOf(u)){for(;E!==null;){var N=Go(E);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var $=Z(N.pendingLanes);if($!==0){var J=N;for(J.pendingLanes|=2,J.entangledLanes|=2;$;){var fe=1<<31-pt($);J.entanglements[1]|=fe,$&=~fe}Yi(N),(mr&6)===0&&(_f=ce()+500,oc(0))}}break;case 13:J=tu(N,2),J!==null&&ii(J,N,2),wf(),Wg(N,2)}if(N=Xg(b),N===null&&Pg(u,h,b,Bf,m),N===E)break;E=N}E!==null&&b.stopPropagation()}else Pg(u,h,b,null,m)}}function Xg(u){return u=e0(u),Zg(u)}var Bf=null;function Zg(u){if(Bf=null,u=xn(u),u!==null){var h=a(u);if(h===null)u=null;else{var m=h.tag;if(m===13){if(u=o(h),u!==null)return u;u=null}else if(m===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return Bf=u,null}function s2(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_e()){case Me:return 2;case Te:return 8;case rt:case tt:return 32;case ct:return 268435456;default:return 32}default:return 32}}var Kg=!1,da=null,pa=null,ga=null,gc=new Map,mc=new Map,ma=[],wO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function a2(u,h){switch(u){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":gc.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(h.pointerId)}}function yc(u,h,m,b,E,N){return u===null||u.nativeEvent!==N?(u={blockedOn:h,domEventName:m,eventSystemFlags:b,nativeEvent:N,targetContainers:[E]},h!==null&&(h=Go(h),h!==null&&i2(h)),u):(u.eventSystemFlags|=b,h=u.targetContainers,E!==null&&h.indexOf(E)===-1&&h.push(E),u)}function EO(u,h,m,b,E){switch(h){case"focusin":return da=yc(da,u,h,m,b,E),!0;case"dragenter":return pa=yc(pa,u,h,m,b,E),!0;case"mouseover":return ga=yc(ga,u,h,m,b,E),!0;case"pointerover":var N=E.pointerId;return gc.set(N,yc(gc.get(N)||null,u,h,m,b,E)),!0;case"gotpointercapture":return N=E.pointerId,mc.set(N,yc(mc.get(N)||null,u,h,m,b,E)),!0}return!1}function o2(u){var h=xn(u.target);if(h!==null){var m=a(h);if(m!==null){if(h=m.tag,h===13){if(h=o(m),h!==null){u.blockedOn=h,ie(u.priority,function(){if(m.tag===13){var b=ni();b=X(b);var E=tu(m,b);E!==null&&ii(E,m,b),Wg(m,b)}});return}}else if(h===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Uf(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var m=Xg(u.nativeEvent);if(m===null){m=u.nativeEvent;var b=new m.constructor(m.type,m);Jp=b,m.target.dispatchEvent(b),Jp=null}else return h=Go(m),h!==null&&i2(h),u.blockedOn=m,!1;h.shift()}return!0}function u2(u,h,m){Uf(u)&&m.delete(h)}function CO(){Kg=!1,da!==null&&Uf(da)&&(da=null),pa!==null&&Uf(pa)&&(pa=null),ga!==null&&Uf(ga)&&(ga=null),gc.forEach(u2),mc.forEach(u2)}function Vf(u,h){u.blockedOn===h&&(u.blockedOn=null,Kg||(Kg=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,CO)))}var jf=null;function l2(u){jf!==u&&(jf=u,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){jf===u&&(jf=null);for(var h=0;h<u.length;h+=3){var m=u[h],b=u[h+1],E=u[h+2];if(typeof b!="function"){if(Zg(b||m)===null)continue;break}var N=Go(m);N!==null&&(u.splice(h,3),h-=3,Z0(N,{pending:!0,data:E,method:m.method,action:b},b,E))}}))}function vc(u){function h(fe){return Vf(fe,u)}da!==null&&Vf(da,u),pa!==null&&Vf(pa,u),ga!==null&&Vf(ga,u),gc.forEach(h),mc.forEach(h);for(var m=0;m<ma.length;m++){var b=ma[m];b.blockedOn===u&&(b.blockedOn=null)}for(;0<ma.length&&(m=ma[0],m.blockedOn===null);)o2(m),m.blockedOn===null&&ma.shift();if(m=(u.ownerDocument||u).$$reactFormReplay,m!=null)for(b=0;b<m.length;b+=3){var E=m[b],N=m[b+1],$=E[We]||null;if(typeof N=="function")$||l2(m);else if($){var J=null;if(N&&N.hasAttribute("formAction")){if(E=N,$=N[We]||null)J=$.formAction;else if(Zg(E)!==null)continue}else J=$.action;typeof J=="function"?m[b+1]=J:(m.splice(b,3),b-=3),l2(m)}}}function Qg(u){this._internalRoot=u}zf.prototype.render=Qg.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(n(409));var m=h.current,b=ni();r2(m,b,u,h,null,null)},zf.prototype.unmount=Qg.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;r2(u.current,2,null,u,null,null),wf(),h[at]=null}};function zf(u){this._internalRoot=u}zf.prototype.unstable_scheduleHydration=function(u){if(u){var h=Y();u={blockedOn:null,target:u,priority:h};for(var m=0;m<ma.length&&h!==0&&h<ma[m].priority;m++);ma.splice(m,0,u),m===0&&o2(u)}};var c2=t.version;if(c2!=="19.1.0")throw Error(n(527,c2,"19.1.0"));de.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=d(h),u=u!==null?p(u):null,u=u===null?null:u.stateNode,u};var AO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{Mt=Gf.inject(AO),et=Gf}catch{}}return xc.createRoot=function(u,h){if(!s(u))throw Error(n(299));var m=!1,b="",E=Ax,N=Dx,$=Tx,J=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(N=h.onCaughtError),h.onRecoverableError!==void 0&&($=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(J=h.unstable_transitionCallbacks)),h=e2(u,1,!1,null,null,m,b,E,N,$,J,null),u[at]=h.current,kg(u),new Qg(h)},xc.hydrateRoot=function(u,h,m){if(!s(u))throw Error(n(299));var b=!1,E="",N=Ax,$=Dx,J=Tx,fe=null,Ee=null;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onUncaughtError!==void 0&&(N=m.onUncaughtError),m.onCaughtError!==void 0&&($=m.onCaughtError),m.onRecoverableError!==void 0&&(J=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(fe=m.unstable_transitionCallbacks),m.formState!==void 0&&(Ee=m.formState)),h=e2(u,1,!0,h,m??null,b,E,N,$,J,fe,Ee),h.context=t2(null),m=h.current,b=ni(),b=X(b),E=Js(b),E.callback=null,ea(m,E,b),m=b,h.current.lanes=m,vt(h,m),Yi(h),u[at]=h.current,kg(u),new zf(h)},xc.version="19.1.0",xc}var _2;function UO(){if(_2)return tm.exports;_2=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),tm.exports=BO(),tm.exports}var VO=UO(),Bt=lv();const am=uv(Bt),jO="modulepreload",zO=function(i){return"/LyricalDAW/"+i},S2={},jE=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let o=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=o(r.map(p=>{if(p=zO(p),p in S2)return;S2[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":jO,g||(x.as="script"),x.crossOrigin="",x.href=p,d&&x.setAttribute("nonce",d),document.head.appendChild(x),g)return new Promise((S,_)=>{x.addEventListener("load",S),x.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function zE(i,t){return function(){return i.apply(t,arguments)}}const{toString:GO}=Object.prototype,{getPrototypeOf:cv}=Object,{iterator:fp,toStringTag:GE}=Symbol,dp=(i=>t=>{const r=GO.call(t);return i[r]||(i[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Gi=i=>(i=i.toLowerCase(),t=>dp(t)===i),pp=i=>t=>typeof t===i,{isArray:pl}=Array,qc=pp("undefined");function HO(i){return i!==null&&!qc(i)&&i.constructor!==null&&!qc(i.constructor)&&Xn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const HE=Gi("ArrayBuffer");function qO(i){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(i):t=i&&i.buffer&&HE(i.buffer),t}const $O=pp("string"),Xn=pp("function"),qE=pp("number"),gp=i=>i!==null&&typeof i=="object",WO=i=>i===!0||i===!1,cd=i=>{if(dp(i)!=="object")return!1;const t=cv(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(GE in i)&&!(fp in i)},YO=Gi("Date"),XO=Gi("File"),ZO=Gi("Blob"),KO=Gi("FileList"),QO=i=>gp(i)&&Xn(i.pipe),JO=i=>{let t;return i&&(typeof FormData=="function"&&i instanceof FormData||Xn(i.append)&&((t=dp(i))==="formdata"||t==="object"&&Xn(i.toString)&&i.toString()==="[object FormData]"))},eF=Gi("URLSearchParams"),[tF,rF,nF,iF]=["ReadableStream","Request","Response","Headers"].map(Gi),sF=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ch(i,t,{allOwnKeys:r=!1}={}){if(i===null||typeof i>"u")return;let n,s;if(typeof i!="object"&&(i=[i]),pl(i))for(n=0,s=i.length;n<s;n++)t.call(null,i[n],n,i);else{const a=r?Object.getOwnPropertyNames(i):Object.keys(i),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,i[l],l,i)}}function $E(i,t){t=t.toLowerCase();const r=Object.keys(i);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const bo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,WE=i=>!qc(i)&&i!==bo;function Jm(){const{caseless:i}=WE(this)&&this||{},t={},r=(n,s)=>{const a=i&&$E(t,s)||s;cd(t[a])&&cd(n)?t[a]=Jm(t[a],n):cd(n)?t[a]=Jm({},n):pl(n)?t[a]=n.slice():t[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Ch(arguments[n],r);return t}const aF=(i,t,r,{allOwnKeys:n}={})=>(Ch(t,(s,a)=>{r&&Xn(s)?i[a]=zE(s,r):i[a]=s},{allOwnKeys:n}),i),oF=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),uF=(i,t,r,n)=>{i.prototype=Object.create(t.prototype,n),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:t.prototype}),r&&Object.assign(i.prototype,r)},lF=(i,t,r,n)=>{let s,a,o;const l={};if(t=t||{},i==null)return t;do{for(s=Object.getOwnPropertyNames(i),a=s.length;a-- >0;)o=s[a],(!n||n(o,i,t))&&!l[o]&&(t[o]=i[o],l[o]=!0);i=r!==!1&&cv(i)}while(i&&(!r||r(i,t))&&i!==Object.prototype);return t},cF=(i,t,r)=>{i=String(i),(r===void 0||r>i.length)&&(r=i.length),r-=t.length;const n=i.indexOf(t,r);return n!==-1&&n===r},hF=i=>{if(!i)return null;if(pl(i))return i;let t=i.length;if(!qE(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=i[t];return r},fF=(i=>t=>i&&t instanceof i)(typeof Uint8Array<"u"&&cv(Uint8Array)),dF=(i,t)=>{const n=(i&&i[fp]).call(i);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(i,a[0],a[1])}},pF=(i,t)=>{let r;const n=[];for(;(r=i.exec(t))!==null;)n.push(r);return n},gF=Gi("HTMLFormElement"),mF=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),w2=(({hasOwnProperty:i})=>(t,r)=>i.call(t,r))(Object.prototype),yF=Gi("RegExp"),YE=(i,t)=>{const r=Object.getOwnPropertyDescriptors(i),n={};Ch(r,(s,a)=>{let o;(o=t(s,a,i))!==!1&&(n[a]=o||s)}),Object.defineProperties(i,n)},vF=i=>{YE(i,(t,r)=>{if(Xn(i)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=i[r];if(Xn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},bF=(i,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return pl(i)?n(i):n(String(i).split(t)),r},xF=()=>{},_F=(i,t)=>i!=null&&Number.isFinite(i=+i)?i:t;function SF(i){return!!(i&&Xn(i.append)&&i[GE]==="FormData"&&i[fp])}const wF=i=>{const t=new Array(10),r=(n,s)=>{if(gp(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const a=pl(n)?[]:{};return Ch(n,(o,l)=>{const d=r(o,s+1);!qc(d)&&(a[l]=d)}),t[s]=void 0,a}}return n};return r(i,0)},EF=Gi("AsyncFunction"),CF=i=>i&&(gp(i)||Xn(i))&&Xn(i.then)&&Xn(i.catch),XE=((i,t)=>i?setImmediate:t?((r,n)=>(bo.addEventListener("message",({source:s,data:a})=>{s===bo&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),bo.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Xn(bo.postMessage)),AF=typeof queueMicrotask<"u"?queueMicrotask.bind(bo):typeof process<"u"&&process.nextTick||XE,DF=i=>i!=null&&Xn(i[fp]),ke={isArray:pl,isArrayBuffer:HE,isBuffer:HO,isFormData:JO,isArrayBufferView:qO,isString:$O,isNumber:qE,isBoolean:WO,isObject:gp,isPlainObject:cd,isReadableStream:tF,isRequest:rF,isResponse:nF,isHeaders:iF,isUndefined:qc,isDate:YO,isFile:XO,isBlob:ZO,isRegExp:yF,isFunction:Xn,isStream:QO,isURLSearchParams:eF,isTypedArray:fF,isFileList:KO,forEach:Ch,merge:Jm,extend:aF,trim:sF,stripBOM:oF,inherits:uF,toFlatObject:lF,kindOf:dp,kindOfTest:Gi,endsWith:cF,toArray:hF,forEachEntry:dF,matchAll:pF,isHTMLForm:gF,hasOwnProperty:w2,hasOwnProp:w2,reduceDescriptors:YE,freezeMethods:vF,toObjectSet:bF,toCamelCase:mF,noop:xF,toFiniteNumber:_F,findKey:$E,global:bo,isContextDefined:WE,isSpecCompliantForm:SF,toJSONObject:wF,isAsyncFn:EF,isThenable:CF,setImmediate:XE,asap:AF,isIterable:DF};function Ut(i,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}ke.inherits(Ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ke.toJSONObject(this.config),code:this.code,status:this.status}}});const ZE=Ut.prototype,KE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{KE[i]={value:i}});Object.defineProperties(Ut,KE);Object.defineProperty(ZE,"isAxiosError",{value:!0});Ut.from=(i,t,r,n,s,a)=>{const o=Object.create(ZE);return ke.toFlatObject(i,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),Ut.call(o,i.message,t,r,n,s),o.cause=i,o.name=i.name,a&&Object.assign(o,a),o};const TF=null;function ey(i){return ke.isPlainObject(i)||ke.isArray(i)}function QE(i){return ke.endsWith(i,"[]")?i.slice(0,-2):i}function E2(i,t,r){return i?i.concat(t).map(function(s,a){return s=QE(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function NF(i){return ke.isArray(i)&&!i.some(ey)}const OF=ke.toFlatObject(ke,{},null,function(t){return/^is[A-Z]/.test(t)});function mp(i,t,r){if(!ke.isObject(i))throw new TypeError("target must be an object");t=t||new FormData,r=ke.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,A){return!ke.isUndefined(A[w])});const n=r.metaTokens,s=r.visitor||g,a=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&ke.isSpecCompliantForm(t);if(!ke.isFunction(s))throw new TypeError("visitor must be a function");function p(_){if(_===null)return"";if(ke.isDate(_))return _.toISOString();if(!d&&ke.isBlob(_))throw new Ut("Blob is not supported. Use a Buffer instead.");return ke.isArrayBuffer(_)||ke.isTypedArray(_)?d&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function g(_,w,A){let P=_;if(_&&!A&&typeof _=="object"){if(ke.endsWith(w,"{}"))w=n?w:w.slice(0,-2),_=JSON.stringify(_);else if(ke.isArray(_)&&NF(_)||(ke.isFileList(_)||ke.endsWith(w,"[]"))&&(P=ke.toArray(_)))return w=QE(w),P.forEach(function(R,F){!(ke.isUndefined(R)||R===null)&&t.append(o===!0?E2([w],F,a):o===null?w:w+"[]",p(R))}),!1}return ey(_)?!0:(t.append(E2(A,w,a),p(_)),!1)}const y=[],x=Object.assign(OF,{defaultVisitor:g,convertValue:p,isVisitable:ey});function S(_,w){if(!ke.isUndefined(_)){if(y.indexOf(_)!==-1)throw Error("Circular reference detected in "+w.join("."));y.push(_),ke.forEach(_,function(P,D){(!(ke.isUndefined(P)||P===null)&&s.call(t,P,ke.isString(D)?D.trim():D,w,x))===!0&&S(P,w?w.concat(D):[D])}),y.pop()}}if(!ke.isObject(i))throw new TypeError("data must be an object");return S(i),t}function C2(i){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function hv(i,t){this._pairs=[],i&&mp(i,this,t)}const JE=hv.prototype;JE.append=function(t,r){this._pairs.push([t,r])};JE.toString=function(t){const r=t?function(n){return t.call(this,n,C2)}:C2;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function FF(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function eC(i,t,r){if(!t)return i;const n=r&&r.encode||FF;ke.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=ke.isURLSearchParams(t)?t.toString():new hv(t,r).toString(n),a){const o=i.indexOf("#");o!==-1&&(i=i.slice(0,o)),i+=(i.indexOf("?")===-1?"?":"&")+a}return i}class A2{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ke.forEach(this.handlers,function(n){n!==null&&t(n)})}}const tC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},RF=typeof URLSearchParams<"u"?URLSearchParams:hv,MF=typeof FormData<"u"?FormData:null,kF=typeof Blob<"u"?Blob:null,PF={isBrowser:!0,classes:{URLSearchParams:RF,FormData:MF,Blob:kF},protocols:["http","https","file","blob","url","data"]},fv=typeof window<"u"&&typeof document<"u",ty=typeof navigator=="object"&&navigator||void 0,LF=fv&&(!ty||["ReactNative","NativeScript","NS"].indexOf(ty.product)<0),IF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BF=fv&&window.location.href||"http://localhost",UF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fv,hasStandardBrowserEnv:LF,hasStandardBrowserWebWorkerEnv:IF,navigator:ty,origin:BF},Symbol.toStringTag,{value:"Module"})),On={...UF,...PF};function VF(i,t){return mp(i,new On.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,a){return On.isNode&&ke.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function jF(i){return ke.matchAll(/\w+|\[(\w*)]/g,i).map(t=>t[0]==="[]"?"":t[1]||t[0])}function zF(i){const t={},r=Object.keys(i);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=i[a];return t}function rC(i){function t(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=a>=r.length;return o=!o&&ke.isArray(s)?s.length:o,d?(ke.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!ke.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],a)&&ke.isArray(s[o])&&(s[o]=zF(s[o])),!l)}if(ke.isFormData(i)&&ke.isFunction(i.entries)){const r={};return ke.forEachEntry(i,(n,s)=>{t(jF(n),s,r,0)}),r}return null}function GF(i,t,r){if(ke.isString(i))try{return(t||JSON.parse)(i),ke.trim(i)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(i)}const Ah={transitional:tC,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=ke.isObject(t);if(a&&ke.isHTMLForm(t)&&(t=new FormData(t)),ke.isFormData(t))return s?JSON.stringify(rC(t)):t;if(ke.isArrayBuffer(t)||ke.isBuffer(t)||ke.isStream(t)||ke.isFile(t)||ke.isBlob(t)||ke.isReadableStream(t))return t;if(ke.isArrayBufferView(t))return t.buffer;if(ke.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return VF(t,this.formSerializer).toString();if((l=ke.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return mp(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),GF(t)):t}],transformResponse:[function(t){const r=this.transitional||Ah.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ke.isResponse(t)||ke.isReadableStream(t))return t;if(t&&ke.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?Ut.from(l,Ut.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:On.classes.FormData,Blob:On.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ke.forEach(["delete","get","head","post","put","patch"],i=>{Ah.headers[i]={}});const HF=ke.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qF=i=>{const t={};let r,n,s;return i&&i.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&HF[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},D2=Symbol("internals");function _c(i){return i&&String(i).trim().toLowerCase()}function hd(i){return i===!1||i==null?i:ke.isArray(i)?i.map(hd):String(i)}function $F(i){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(i);)t[n[1]]=n[2];return t}const WF=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function om(i,t,r,n,s){if(ke.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!ke.isString(t)){if(ke.isString(n))return t.indexOf(n)!==-1;if(ke.isRegExp(n))return n.test(t)}}function YF(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function XF(i,t){const r=ke.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(i,n+r,{value:function(s,a,o){return this[n].call(this,t,s,a,o)},configurable:!0})})}let Zn=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,d,p){const g=_c(d);if(!g)throw new Error("header name must be a non-empty string");const y=ke.findKey(s,g);(!y||s[y]===void 0||p===!0||p===void 0&&s[y]!==!1)&&(s[y||d]=hd(l))}const o=(l,d)=>ke.forEach(l,(p,g)=>a(p,g,d));if(ke.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(ke.isString(t)&&(t=t.trim())&&!WF(t))o(qF(t),r);else if(ke.isObject(t)&&ke.isIterable(t)){let l={},d,p;for(const g of t){if(!ke.isArray(g))throw TypeError("Object iterator must return a key-value pair");l[p=g[0]]=(d=l[p])?ke.isArray(d)?[...d,g[1]]:[d,g[1]]:g[1]}o(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=_c(t),t){const n=ke.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return $F(s);if(ke.isFunction(r))return r.call(this,s,n);if(ke.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=_c(t),t){const n=ke.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||om(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(o){if(o=_c(o),o){const l=ke.findKey(n,o);l&&(!r||om(n,n[l],l,r))&&(delete n[l],s=!0)}}return ke.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||om(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return ke.forEach(this,(s,a)=>{const o=ke.findKey(n,a);if(o){r[o]=hd(s),delete r[a];return}const l=t?YF(a):String(a).trim();l!==a&&delete r[a],r[l]=hd(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ke.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&ke.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[D2]=this[D2]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=_c(o);n[l]||(XF(s,o),n[l]=!0)}return ke.isArray(t)?t.forEach(a):a(t),this}};Zn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ke.reduceDescriptors(Zn.prototype,({value:i},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(n){this[r]=n}}});ke.freezeMethods(Zn);function um(i,t){const r=this||Ah,n=t||r,s=Zn.from(n.headers);let a=n.data;return ke.forEach(i,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function nC(i){return!!(i&&i.__CANCEL__)}function gl(i,t,r){Ut.call(this,i??"canceled",Ut.ERR_CANCELED,t,r),this.name="CanceledError"}ke.inherits(gl,Ut,{__CANCEL__:!0});function iC(i,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?i(r):t(new Ut("Request failed with status code "+r.status,[Ut.ERR_BAD_REQUEST,Ut.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ZF(i){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return t&&t[1]||""}function KF(i,t){i=i||10;const r=new Array(i),n=new Array(i);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(d){const p=Date.now(),g=n[a];o||(o=p),r[s]=d,n[s]=p;let y=a,x=0;for(;y!==s;)x+=r[y++],y=y%i;if(s=(s+1)%i,s===a&&(a=(a+1)%i),p-o<t)return;const S=g&&p-g;return S?Math.round(x*1e3/S):void 0}}function QF(i,t){let r=0,n=1e3/t,s,a;const o=(p,g=Date.now())=>{r=g,s=null,a&&(clearTimeout(a),a=null),i.apply(null,p)};return[(...p)=>{const g=Date.now(),y=g-r;y>=n?o(p,g):(s=p,a||(a=setTimeout(()=>{a=null,o(s)},n-y)))},()=>s&&o(s)]}const _d=(i,t,r=3)=>{let n=0;const s=KF(50,250);return QF(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,d=o-n,p=s(d),g=o<=l;n=o;const y={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:p||void 0,estimated:p&&l&&g?(l-o)/p:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};i(y)},r)},T2=(i,t)=>{const r=i!=null;return[n=>t[0]({lengthComputable:r,total:i,loaded:n}),t[1]]},N2=i=>(...t)=>ke.asap(()=>i(...t)),JF=On.hasStandardBrowserEnv?((i,t)=>r=>(r=new URL(r,On.origin),i.protocol===r.protocol&&i.host===r.host&&(t||i.port===r.port)))(new URL(On.origin),On.navigator&&/(msie|trident)/i.test(On.navigator.userAgent)):()=>!0,eR=On.hasStandardBrowserEnv?{write(i,t,r,n,s,a){const o=[i+"="+encodeURIComponent(t)];ke.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ke.isString(n)&&o.push("path="+n),ke.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(i){const t=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tR(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function rR(i,t){return t?i.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):i}function sC(i,t,r){let n=!tR(t);return i&&(n||r==!1)?rR(i,t):t}const O2=i=>i instanceof Zn?{...i}:i;function So(i,t){t=t||{};const r={};function n(p,g,y,x){return ke.isPlainObject(p)&&ke.isPlainObject(g)?ke.merge.call({caseless:x},p,g):ke.isPlainObject(g)?ke.merge({},g):ke.isArray(g)?g.slice():g}function s(p,g,y,x){if(ke.isUndefined(g)){if(!ke.isUndefined(p))return n(void 0,p,y,x)}else return n(p,g,y,x)}function a(p,g){if(!ke.isUndefined(g))return n(void 0,g)}function o(p,g){if(ke.isUndefined(g)){if(!ke.isUndefined(p))return n(void 0,p)}else return n(void 0,g)}function l(p,g,y){if(y in t)return n(p,g);if(y in i)return n(void 0,p)}const d={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(p,g,y)=>s(O2(p),O2(g),y,!0)};return ke.forEach(Object.keys(Object.assign({},i,t)),function(g){const y=d[g]||s,x=y(i[g],t[g],g);ke.isUndefined(x)&&y!==l||(r[g]=x)}),r}const aC=i=>{const t=So({},i);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;t.headers=o=Zn.from(o),t.url=eC(sC(t.baseURL,t.url,t.allowAbsoluteUrls),i.params,i.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(ke.isFormData(r)){if(On.hasStandardBrowserEnv||On.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[p,...g]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];o.setContentType([p||"multipart/form-data",...g].join("; "))}}if(On.hasStandardBrowserEnv&&(n&&ke.isFunction(n)&&(n=n(t)),n||n!==!1&&JF(t.url))){const p=s&&a&&eR.read(a);p&&o.set(s,p)}return t},nR=typeof XMLHttpRequest<"u",iR=nR&&function(i){return new Promise(function(r,n){const s=aC(i);let a=s.data;const o=Zn.from(s.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:p}=s,g,y,x,S,_;function w(){S&&S(),_&&_(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let A=new XMLHttpRequest;A.open(s.method.toUpperCase(),s.url,!0),A.timeout=s.timeout;function P(){if(!A)return;const R=Zn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),T={data:!l||l==="text"||l==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:R,config:i,request:A};iC(function(k){r(k),w()},function(k){n(k),w()},T),A=null}"onloadend"in A?A.onloadend=P:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(P)},A.onabort=function(){A&&(n(new Ut("Request aborted",Ut.ECONNABORTED,i,A)),A=null)},A.onerror=function(){n(new Ut("Network Error",Ut.ERR_NETWORK,i,A)),A=null},A.ontimeout=function(){let F=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||tC;s.timeoutErrorMessage&&(F=s.timeoutErrorMessage),n(new Ut(F,T.clarifyTimeoutError?Ut.ETIMEDOUT:Ut.ECONNABORTED,i,A)),A=null},a===void 0&&o.setContentType(null),"setRequestHeader"in A&&ke.forEach(o.toJSON(),function(F,T){A.setRequestHeader(T,F)}),ke.isUndefined(s.withCredentials)||(A.withCredentials=!!s.withCredentials),l&&l!=="json"&&(A.responseType=s.responseType),p&&([x,_]=_d(p,!0),A.addEventListener("progress",x)),d&&A.upload&&([y,S]=_d(d),A.upload.addEventListener("progress",y),A.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(g=R=>{A&&(n(!R||R.type?new gl(null,i,A):R),A.abort(),A=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const D=ZF(s.url);if(D&&On.protocols.indexOf(D)===-1){n(new Ut("Unsupported protocol "+D+":",Ut.ERR_BAD_REQUEST,i));return}A.send(a||null)})},sR=(i,t)=>{const{length:r}=i=i?i.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(p){if(!s){s=!0,l();const g=p instanceof Error?p:this.reason;n.abort(g instanceof Ut?g:new gl(g instanceof Error?g.message:g))}};let o=t&&setTimeout(()=>{o=null,a(new Ut(`timeout ${t} of ms exceeded`,Ut.ETIMEDOUT))},t);const l=()=>{i&&(o&&clearTimeout(o),o=null,i.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),i=null)};i.forEach(p=>p.addEventListener("abort",a));const{signal:d}=n;return d.unsubscribe=()=>ke.asap(l),d}},aR=function*(i,t){let r=i.byteLength;if(r<t){yield i;return}let n=0,s;for(;n<r;)s=n+t,yield i.slice(n,s),n=s},oR=async function*(i,t){for await(const r of uR(i))yield*aR(r,t)},uR=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const t=i.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},F2=(i,t,r,n)=>{const s=oR(i,t);let a=0,o,l=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:p,value:g}=await s.next();if(p){l(),d.close();return}let y=g.byteLength;if(r){let x=a+=y;r(x)}d.enqueue(new Uint8Array(g))}catch(p){throw l(p),p}},cancel(d){return l(d),s.return()}},{highWaterMark:2})},yp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",oC=yp&&typeof ReadableStream=="function",lR=yp&&(typeof TextEncoder=="function"?(i=>t=>i.encode(t))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),uC=(i,...t)=>{try{return!!i(...t)}catch{return!1}},cR=oC&&uC(()=>{let i=!1;const t=new Request(On.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!t}),R2=64*1024,ry=oC&&uC(()=>ke.isReadableStream(new Response("").body)),Sd={stream:ry&&(i=>i.body)};yp&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Sd[t]&&(Sd[t]=ke.isFunction(i[t])?r=>r[t]():(r,n)=>{throw new Ut(`Response type '${t}' is not supported`,Ut.ERR_NOT_SUPPORT,n)})})})(new Response);const hR=async i=>{if(i==null)return 0;if(ke.isBlob(i))return i.size;if(ke.isSpecCompliantForm(i))return(await new Request(On.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(ke.isArrayBufferView(i)||ke.isArrayBuffer(i))return i.byteLength;if(ke.isURLSearchParams(i)&&(i=i+""),ke.isString(i))return(await lR(i)).byteLength},fR=async(i,t)=>{const r=ke.toFiniteNumber(i.getContentLength());return r??hR(t)},dR=yp&&(async i=>{let{url:t,method:r,data:n,signal:s,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:d,responseType:p,headers:g,withCredentials:y="same-origin",fetchOptions:x}=aC(i);p=p?(p+"").toLowerCase():"text";let S=sR([s,a&&a.toAbortSignal()],o),_;const w=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let A;try{if(d&&cR&&r!=="get"&&r!=="head"&&(A=await fR(g,n))!==0){let T=new Request(t,{method:"POST",body:n,duplex:"half"}),U;if(ke.isFormData(n)&&(U=T.headers.get("content-type"))&&g.setContentType(U),T.body){const[k,B]=T2(A,_d(N2(d)));n=F2(T.body,R2,k,B)}}ke.isString(y)||(y=y?"include":"omit");const P="credentials"in Request.prototype;_=new Request(t,{...x,signal:S,method:r.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:P?y:void 0});let D=await fetch(_);const R=ry&&(p==="stream"||p==="response");if(ry&&(l||R&&w)){const T={};["status","statusText","headers"].forEach(L=>{T[L]=D[L]});const U=ke.toFiniteNumber(D.headers.get("content-length")),[k,B]=l&&T2(U,_d(N2(l),!0))||[];D=new Response(F2(D.body,R2,k,()=>{B&&B(),w&&w()}),T)}p=p||"text";let F=await Sd[ke.findKey(Sd,p)||"text"](D,i);return!R&&w&&w(),await new Promise((T,U)=>{iC(T,U,{data:F,headers:Zn.from(D.headers),status:D.status,statusText:D.statusText,config:i,request:_})})}catch(P){throw w&&w(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new Ut("Network Error",Ut.ERR_NETWORK,i,_),{cause:P.cause||P}):Ut.from(P,P&&P.code,i,_)}}),ny={http:TF,xhr:iR,fetch:dR};ke.forEach(ny,(i,t)=>{if(i){try{Object.defineProperty(i,"name",{value:t})}catch{}Object.defineProperty(i,"adapterName",{value:t})}});const M2=i=>`- ${i}`,pR=i=>ke.isFunction(i)||i===null||i===!1,lC={getAdapter:i=>{i=ke.isArray(i)?i:[i];const{length:t}=i;let r,n;const s={};for(let a=0;a<t;a++){r=i[a];let o;if(n=r,!pR(r)&&(n=ny[(o=String(r)).toLowerCase()],n===void 0))throw new Ut(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+a]=n}if(!n){const a=Object.entries(s).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(M2).join(`
`):" "+M2(a[0]):"as no adapter specified";throw new Ut("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:ny};function lm(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new gl(null,i)}function k2(i){return lm(i),i.headers=Zn.from(i.headers),i.data=um.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),lC.getAdapter(i.adapter||Ah.adapter)(i).then(function(n){return lm(i),n.data=um.call(i,i.transformResponse,n),n.headers=Zn.from(n.headers),n},function(n){return nC(n)||(lm(i),n&&n.response&&(n.response.data=um.call(i,i.transformResponse,n.response),n.response.headers=Zn.from(n.response.headers))),Promise.reject(n)})}const cC="1.9.0",vp={};["object","boolean","number","function","string","symbol"].forEach((i,t)=>{vp[i]=function(n){return typeof n===i||"a"+(t<1?"n ":" ")+i}});const P2={};vp.transitional=function(t,r,n){function s(a,o){return"[Axios v"+cC+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new Ut(s(o," has been removed"+(r?" in "+r:"")),Ut.ERR_DEPRECATED);return r&&!P2[o]&&(P2[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};vp.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function gR(i,t,r){if(typeof i!="object")throw new Ut("options must be an object",Ut.ERR_BAD_OPTION_VALUE);const n=Object.keys(i);let s=n.length;for(;s-- >0;){const a=n[s],o=t[a];if(o){const l=i[a],d=l===void 0||o(l,a,i);if(d!==!0)throw new Ut("option "+a+" must be "+d,Ut.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ut("Unknown option "+a,Ut.ERR_BAD_OPTION)}}const fd={assertOptions:gR,validators:vp},Xi=fd.validators;let _o=class{constructor(t){this.defaults=t||{},this.interceptors={request:new A2,response:new A2}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=So(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&fd.assertOptions(n,{silentJSONParsing:Xi.transitional(Xi.boolean),forcedJSONParsing:Xi.transitional(Xi.boolean),clarifyTimeoutError:Xi.transitional(Xi.boolean)},!1),s!=null&&(ke.isFunction(s)?r.paramsSerializer={serialize:s}:fd.assertOptions(s,{encode:Xi.function,serialize:Xi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),fd.assertOptions(r,{baseUrl:Xi.spelling("baseURL"),withXsrfToken:Xi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&ke.merge(a.common,a[r.method]);a&&ke.forEach(["delete","get","head","post","put","patch","common"],_=>{delete a[_]}),r.headers=Zn.concat(o,a);const l=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(d=d&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const p=[];this.interceptors.response.forEach(function(w){p.push(w.fulfilled,w.rejected)});let g,y=0,x;if(!d){const _=[k2.bind(this),void 0];for(_.unshift.apply(_,l),_.push.apply(_,p),x=_.length,g=Promise.resolve(r);y<x;)g=g.then(_[y++],_[y++]);return g}x=l.length;let S=r;for(y=0;y<x;){const _=l[y++],w=l[y++];try{S=_(S)}catch(A){w.call(this,A);break}}try{g=k2.call(this,S)}catch(_){return Promise.reject(_)}for(y=0,x=p.length;y<x;)g=g.then(p[y++],p[y++]);return g}getUri(t){t=So(this.defaults,t);const r=sC(t.baseURL,t.url,t.allowAbsoluteUrls);return eC(r,t.params,t.paramsSerializer)}};ke.forEach(["delete","get","head","options"],function(t){_o.prototype[t]=function(r,n){return this.request(So(n||{},{method:t,url:r,data:(n||{}).data}))}});ke.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(So(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}_o.prototype[t]=r(),_o.prototype[t+"Form"]=r(!0)});let mR=class hC{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new gl(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new hC(function(s){t=s}),cancel:t}}};function yR(i){return function(r){return i.apply(null,r)}}function vR(i){return ke.isObject(i)&&i.isAxiosError===!0}const iy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(iy).forEach(([i,t])=>{iy[t]=i});function fC(i){const t=new _o(i),r=zE(_o.prototype.request,t);return ke.extend(r,_o.prototype,t,{allOwnKeys:!0}),ke.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return fC(So(i,s))},r}const Ur=fC(Ah);Ur.Axios=_o;Ur.CanceledError=gl;Ur.CancelToken=mR;Ur.isCancel=nC;Ur.VERSION=cC;Ur.toFormData=mp;Ur.AxiosError=Ut;Ur.Cancel=Ur.CanceledError;Ur.all=function(t){return Promise.all(t)};Ur.spread=yR;Ur.isAxiosError=vR;Ur.mergeConfig=So;Ur.AxiosHeaders=Zn;Ur.formToJSON=i=>rC(ke.isHTMLForm(i)?new FormData(i):i);Ur.getAdapter=lC.getAdapter;Ur.HttpStatusCode=iy;Ur.default=Ur;const{Axios:T6,AxiosError:N6,CanceledError:O6,isCancel:F6,CancelToken:R6,VERSION:M6,all:k6,Cancel:P6,isAxiosError:L6,spread:I6,toFormData:B6,AxiosHeaders:U6,HttpStatusCode:V6,formToJSON:j6,getAdapter:z6,mergeConfig:G6}=Ur;var dC={exports:{}};(function(i){function t(r,n,s){for(var a=s&&typeof n!="number"?s(n):n,o=0,l=r.length;o<l;){var d=o+l>>>1;(s?s(r[d]):r[d])<a?o=d+1:l=d}return o}i.sortedIndex=t,Object.defineProperty(i,"__esModule",{value:!0})})(dC.exports);var Pa=dC.exports,ui={NONE:0,PHRASE:1,WORD:2,CHAR:4,GRAPHIC:8,ALL:63,PUBLIC:64},L2=/^https?:\/\/uploader\.ongaaccel\.jp\/files\?guid=([a-zA-Z0-9]+)/i,I2=/^https?:\/\/songle\.jp\/uploads\/([a-zA-Z0-9]+)\.mp3$/i,B2=/^uploaded:([a-zA-Z0-9]+)$/i,U2=/^songle\.jp\/uploads\/([a-zA-Z0-9]+)\.mp3$/i,bR=/^https?:\/\/piapro\.jp\/t\/([^/]+)(\/[0-9]+)?$/i,Ar={getSongPathFromUrl:function(i){if(Ar.isUploaderUrl(i)){var t=I2.exec(i);if(t)return"songle.jp/uploads/".concat(t[1],".mp3");var r=L2.exec(i);if(r)return"songle.jp/uploads/".concat(r[1],".mp3")}return/https?:\/\/(.+)/.exec(i)[1]},isUploaderUrl:function(i){return I2.test(i)||L2.test(i)},isUploaderPath:function(i){return U2.test(i)||B2.test(i)},getUploaderGuid:function(i){var t=U2.exec(i);if(t)return t[1];var r=B2.exec(i);return r?r[1]:null},getSongUrlFromUploaderGuid:function(i){return i?"https://songle.jp/uploads/".concat(i,".mp3"):null},getAltSongUrlFromUploaderGuid:function(i){return i?"https://api.textalive.jp/songle/me/uploads/".concat(i):null},getSongUrlFromPath:function(i){var t=Ar.getUploaderGuid(i);return t?Ar.getSongUrlFromUploaderGuid(t):"https://".concat(i)},isYouTubeUrl:function(i){return/^https?:\/\/((www|m)\.)?youtube\.com/i.test(i)},isNicovideoUrl:function(i){return/^https?:\/\/(www\.)?nicovideo.jp/i.test(i)},isVideoSiteUrl:function(i){return Ar.isYouTubeUrl(i)||Ar.isNicovideoUrl(i)},isPiaproUrl:function(i){return bR.test(i)}},pC=/^https:\/\/songle\.jp\/api\/v[0-9]+\/users\/(.+)\/uploads\/(.+)$/,gC=function(i){return pC.test(i)},xR=function(i){var t=pC.exec(i);return t?{user:t[1],identifier:t[2]}:{user:null,identifier:null}},_R=function(){function i(){}return i.prototype.isLicenseLoading=function(t){return!t||!t.song||t.lyrics===void 0||t.backgroundImage===void 0},i.prototype.checkLicenses=function(t){return!this.isLicenseLoading(t)&&this.checkLicense(t.song)&&this.checkLicense(t.lyrics)&&this.checkLicense(t.backgroundImage)},i.prototype.checkLicense=function(t){return t===null||(t.contentType===1?this.checkMusicLicense(t.license):t.contentType===2?this.checkTextLicense(t.license):t.contentType===0&&(!!this.isBackgroundColorAsset(t)||this.checkBackgroundImageLicense(t.license)))},i.prototype.checkMusicLicense=function(t){return t.condition&&t.condition.uploader||!(!t.condition||t.condition.ns||t.condition.nc||t.condition.org||t.condition.clb)},i.prototype.checkTextLicense=function(t){return t.condition&&t.condition.uploader||!(!t.condition||t.condition.ns||t.condition.org||t.condition.clb)},i.prototype.checkBackgroundImageLicense=function(t){return!(!t.condition||t.condition.ns||t.condition.nc||t.condition.org||t.condition.clb)},i.prototype.isUploaderAsset=function(t){return t&&t.url&&(Ar.isUploaderUrl(t.url)||gC(t.url))},i.prototype.isPiaproAsset=function(t){return t&&t.url&&Ar.isPiaproUrl(t.url)},i.prototype.isBlankBackgroundAsset=function(t){return!t||!t.originalUrl},i.prototype.isBackgroundColorAsset=function(t){var r=t&&t.originalUrl?t.originalUrl:"";return/^#[0-9a-fA-F]{3,6}$/.test(r)},i.prototype.isBackgroundPiaproImageAsset=function(t){var r=t&&t.originalUrl?t.originalUrl:"";return Ar.isPiaproUrl(r)},i.prototype.isBackgroundSpecialImageAsset=function(t){var r=t&&t.originalUrl?t.originalUrl:"";return/^snowmiku2016-([0-9]{2})$/.test(r)},i.prototype.getQueryParameter=function(t){return!t||t.license&&!this.checkBackgroundImageLicense(t.license)?null:t.originalUrl},i}(),sy=function(i,t){return sy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},sy(i,t)},un=function(){return un=Object.assign||function(i){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s]);return i},un.apply(this,arguments)};function ut(i,t,r,n){return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(g){a(g)}}function l(p){try{d(n.throw(p))}catch(g){a(g)}}function d(p){var g;p.done?s(p.value):(g=p.value,g instanceof r?g:new r(function(y){y(g)})).then(o,l)}d((n=n.apply(i,[])).next())})}function lt(i,t){var r,n,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return function(g){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,g[0]&&(o=0)),o;)try{if(r=1,n&&(s=2&g[0]?n.return:g[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,g[1])).done)return s;switch(n=0,s&&(g=[2&g[0],s.value]),g[0]){case 0:case 1:s=g;break;case 4:return o.label++,{value:g[1],done:!1};case 5:o.label++,n=g[1],g=[0];continue;case 7:g=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||g[0]!==6&&g[0]!==2)){o=0;continue}if(g[0]===3&&(!s||g[1]>s[0]&&g[1]<s[3])){o.label=g[1];break}if(g[0]===6&&o.label<s[1]){o.label=s[1],s=g;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(g);break}s[2]&&o.ops.pop(),o.trys.pop();continue}g=t.call(i,o)}catch(y){g=[6,y],n=0}finally{r=s=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([d,p])}}}var bt={fallback:{protocol:"https"},songle:{domain:"songle.jp"},textalive:{domain:"api.textalive.jp"},content:{domain:"content.textalive.jp"},client:{version:"0.10.0",axios:null}};function Jt(i,t,r){var n,s,a;return ut(this,0,void 0,function(){var o;return lt(this,function(l){switch(l.label){case 0:o={responseType:(r==null?void 0:r.responseType)||"json"},t&&(o.params=t),r!=null&&r.auth&&(o.auth={username:(n=r.auth)===null||n===void 0?void 0:n.username,password:(s=r.auth)===null||s===void 0?void 0:s.password}),r!=null&&r.withCredentials&&(o.withCredentials=!0),o.headers={},i.indexOf(bt.textalive.server)===0&&(bt.textalive.appToken&&(o.headers["x-ta-app-token"]=bt.textalive.appToken),bt.textalive.authUser&&bt.textalive.authToken&&(o.headers["x-ta-auth-user"]=bt.textalive.authUser,o.headers["x-ta-auth-token"]=bt.textalive.authToken)),r!=null&&r.headers&&(o.headers=un(un({},o.headers),r.headers)),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,((r==null?void 0:r.client)||((a=bt.client)===null||a===void 0?void 0:a.axios)||Ur).get(i,o)];case 2:return[2,l.sent()];case 3:return l.sent(),[2,null];case 4:return[2]}})})}function SR(i){var t,r,n=0;if(i.length===0)return n;for(t=0,r=i.length;t<r;t++)n=(n<<5)-n+i.charCodeAt(t),n|=0;return n}bt.songle.protocol=bt.songle.protocol||bt.fallback.protocol,bt.songle.server="".concat(bt.songle.protocol,"://").concat(bt.songle.domain),bt.textalive.protocol=bt.textalive.protocol||bt.fallback.protocol,bt.textalive.server="".concat(bt.textalive.protocol,"://").concat(bt.textalive.domain),bt.textalive.appToken=null,bt.content.protocol=bt.content.protocol||bt.fallback.protocol,bt.content.server="".concat(bt.content.protocol,"://").concat(bt.content.domain);var ay=new(function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=r}sy(r,n),r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}(t,i),Object.defineProperty(t.prototype,"endpoint",{get:function(){return"".concat(bt.textalive.server,"/etc/license")},enumerable:!1,configurable:!0}),t.prototype.read=function(r,n){var s;return n===void 0&&(n=!0),ut(this,0,void 0,function(){var a,o;return lt(this,function(l){switch(l.label){case 0:return[4,Jt(this.endpoint,{url:r,token:SR("ta"+r),skipOptoutCheck:!!n||void 0})];case 1:return!(a=l.sent())||a.status!==200||!((s=a.data)===null||s===void 0)&&s.error?[2,{originalUrl:null,license:{code:a?a.status:404}}]:((o=a.data).license.code=a.status,o.contentType===0&&(o.css='url("'+o.contentUrl+'")'),[2,o])}})})},t}(_R));function Yn(i,t,r){var n;return ut(this,0,void 0,function(){var s;return lt(this,function(a){switch(a.label){case 0:t||(t={}),s={responseType:(r==null?void 0:r.responseType)||"json"},r!=null&&r.withCredentials&&(s.withCredentials=!0),s.headers={},i.indexOf(bt.textalive.server)===0&&(bt.textalive.appToken&&(s.headers["x-ta-app-token"]=bt.textalive.appToken),bt.textalive.authUser&&bt.textalive.authToken&&(s.headers["x-ta-auth-user"]=bt.textalive.authUser,s.headers["x-ta-auth-token"]=bt.textalive.authToken)),r!=null&&r.postToken&&(s.headers["x-ta-post-token"]=r.postToken),r!=null&&r.headers&&(s.headers||(s.headers={}),s.headers=un(un({},s.headers),r.headers)),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,((r==null?void 0:r.client)||((n=bt.client)===null||n===void 0?void 0:n.axios)||Ur).post(i,t,s)];case 2:return[2,a.sent()];case 3:return a.sent(),[2,null];case 4:return[2]}})})}var wR="data:text/plain;base64,";function mC(i){return typeof i=="string"&&i.indexOf(wR)===0}function V2(i){if(!mC(i))return null;var t=i.split(",")[1];return decodeURIComponent(atob(t).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function j2(i,t,r,n,s){var a=window.screenLeft===void 0?screen.left:window.screenLeft,o=window.screenTop===void 0?screen.top:window.screenTop,l=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-r/2+a,d=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-n/2+o,p=window.open(i,t,"width="+r+",height="+n+",top="+d+",left="+l+","+s);return window.focus&&p.focus(),p}var pr=new(function(){function i(){this.listeners=[],this.pollingTimeout=null}return Object.defineProperty(i.prototype,"endpoint",{get:function(){return"".concat(bt.textalive.server,"/")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"songleEndpoint",{get:function(){return"".concat(bt.songle.server,"/")},enumerable:!1,configurable:!0}),i.prototype.isLoading=function(){return!!this.userProfile},i.prototype.spoof=function(t){this.userProfile=t},i.prototype.getServerStatus=function(){return ut(this,0,void 0,function(){return lt(this,function(t){return[2,this.serverStatus||this.doGetServerStatus()]})})},i.prototype.doGetServerStatus=function(){return ut(this,0,void 0,function(){var t;return lt(this,function(r){switch(r.label){case 0:return this.serverStatusRequest||(this.serverStatusRequest=Jt(this.endpoint,null,{withCredentials:!0})),[4,this.serverStatusRequest];case 1:return t=r.sent(),this.serverStatusRequest=null,t&&t.status===200?(this.serverStatus=t.data,[2,this.serverStatus]):[2,null]}})})},i.prototype.getProfile=function(){return ut(this,0,void 0,function(){return lt(this,function(t){return[2,this.userProfile||this.doGetProfile()]})})},i.prototype.doGetProfile=function(){return ut(this,0,void 0,function(){var t;return lt(this,function(r){switch(r.label){case 0:return this.userProfileRequest||(this.userProfileRequest=Jt("".concat(this.endpoint,"profile"),null,{withCredentials:!0})),[4,this.userProfileRequest];case 1:return t=r.sent(),this.userProfileRequest=null,t&&t.status===200?(this.emitUserProfile(t.data),this.userProfile=t.data,[2,this.userProfile]):[2,null]}})})},i.prototype.getMergingUsers=function(){return ut(this,0,void 0,function(){var t;return lt(this,function(r){switch(r.label){case 0:return[4,Jt("".concat(this.endpoint,"profile/merge"),null,{withCredentials:!0})];case 1:return(t=r.sent())&&t.status===200&&t.data?[2,[t.data.user,t.data.mergeWith]]:[2,[null,null]]}})})},i.prototype.mergeUsers=function(){var t;return ut(this,0,void 0,function(){var r,n,s,a,o,l;return lt(this,function(d){switch(d.label){case 0:return[4,this.getToken()];case 1:return r=d.sent(),[4,Yn("".concat(this.endpoint,"profile/merge"),null,{postToken:r,withCredentials:!0})];case 2:if(!(n=d.sent())||n.status!==200||!(!((t=n.data)===null||t===void 0)&&t.success))return[2,null];for(s=n.data.user,a=0,o=this.listeners;a<o.length;a++)(l=o[a]).onUserMerged&&l.onUserMerged(s);return[2,s]}})})},i.prototype.updateUser=function(t){var r;return ut(this,0,void 0,function(){var n,s,a,o;return lt(this,function(l){switch(l.label){case 0:return[4,this.getToken()];case 1:return n=l.sent(),[4,Yn("".concat(this.endpoint,"profile"),t,{postToken:n,withCredentials:!0})];case 2:return(s=l.sent())&&s.status===200&&(!((r=s.data)===null||r===void 0)&&r.success)?(a=s.data.user,[4,this.getProfile()]):[2,null];case 3:return(o=l.sent()).user=a,this.emitUserProfile(o),[2,a]}})})},i.prototype.isYouTubeUser=function(t){return t&&t.user&&typeof t.user.youtubeIdString=="string"},i.prototype.isPiaproUser=function(t){return t&&t.user&&typeof t.user.piaproIdString=="string"},i.prototype.isSongleUser=function(t){return t&&t.user&&(typeof t.user.songleUserId=="number"&&t.user.songleUserId>=0||typeof t.user.songleAccessToken=="string")},i.prototype.isSpoofingSongleUser=function(t){return this.isSongleUser(t)&&(typeof t.user.id!="number"||t.user.id<0)},i.prototype.addListener=function(t){t&&this.listeners.push(t)},i.prototype.removeListener=function(t){this.listeners=this.listeners.filter(function(r){return r!==t})},i.prototype.emitUserProfile=function(t){this.userProfile=t;for(var r=0,n=this.listeners;r<n.length;r++){var s=n[r];s.onUserProfileUpdated&&s.onUserProfileUpdated(t),this.userProfile.user?s.onUserLoggedIn&&s.onUserLoggedIn(t.user):s.onUserLoggedOut&&s.onUserLoggedOut()}},i.prototype.authenticate=function(t,r){return ut(this,0,void 0,function(){var n;return lt(this,function(s){switch(s.label){case 0:return[4,Jt("".concat(this.endpoint,"profile/logins/basic"),null,{auth:{username:String(t),password:r},withCredentials:!0})];case 1:return(n=s.sent())&&n.status===200&&n.data?[2,n.data]:[2,null]}})})},i.prototype.loginTwitter=function(t){return this.login(t,"twitter")},i.prototype.loginGitHub=function(t){return this.login(t,"github")},i.prototype.loginYouTube=function(t){return this.login(t,"youtube")},i.prototype.loginPiapro=function(t){return this.login(t,"piapro")},i.prototype.loginSongle=function(t){return this.login(t,"songle")},i.prototype.login=function(t,r){return t&&t.preventDefault(),!!r&&(j2("".concat(this.endpoint,"profile/logins/").concat(r),"TextAliveAuth",600,480,"status=no,toolbar=no,menubar=no"),this.startMonitoringAuthState(),!1)},i.prototype.logoutTwitter=function(t){return this.logout(t,"twitter")},i.prototype.logoutGitHub=function(t){return this.logout(t,"github")},i.prototype.logoutYouTube=function(t){return this.logout(t,"youtube")},i.prototype.logoutPiapro=function(t){return this.logout(t,"piapro")},i.prototype.logoutSongle=function(t){return this.logout(t,"songle")},i.prototype.logout=function(t,r){return r===void 0&&(r=null),t&&t.preventDefault(),j2("".concat(this.endpoint,"profile/logouts/").concat(r||"all"),"TextAliveAuth",600,480,"status=no,toolbar=no,menubar=no"),this.startMonitoringAuthState(),!1},i.prototype.startMonitoringAuthState=function(){var t=this;this.pollingTimeout&&(clearTimeout(this.pollingTimeout),this.pollingTimeout=null);var r=function(n){if(n.data&&n.data.textalive){if(n.source.postMessage("close",n.origin),n.data.merge)return t.getMergingUsers().then(function(s){for(var a=s[0],o=s[1],l=0,d=t.listeners;l<d.length;l++){var p=d[l];p.onUserMergeRequired&&p.onUserMergeRequired(a,o)}}).catch(function(){}),void window.removeEventListener("message",r);t.doGetProfile(),window.removeEventListener("message",r)}};window.addEventListener("message",r)},i.prototype.getToken=function(){return ut(this,0,void 0,function(){return lt(this,function(t){return this.userProfile?[2,this.userProfile.status.token]:this.token?[2,this.token]:[2,this.doGetToken()]})})},i.prototype.doGetToken=function(){var t;return ut(this,0,void 0,function(){var r;return lt(this,function(n){switch(n.label){case 0:return[4,Jt("".concat(this.endpoint,"profile/token"),null,{withCredentials:!0})];case 1:return r=n.sent(),!((t=r==null?void 0:r.data)===null||t===void 0)&&t.token&&(this.token=r.data.token),[2,this.token]}})})},i}()),oy=new(function(){function i(){}return Object.defineProperty(i.prototype,"endpoint",{get:function(){return"".concat(bt.textalive.server,"/text-parser/")},enumerable:!1,configurable:!0}),i.prototype.parse=function(t){return ut(this,0,void 0,function(){var r,n;return lt(this,function(s){switch(s.label){case 0:return[4,pr.getToken()];case 1:return r=s.sent(),[4,Yn(this.endpoint,{text:t},{postToken:r,withCredentials:!0})];case 2:return(n=s.sent())&&n.status===200?[2,n.data]:[2,null]}})})},i}()),ER=new(function(){function i(){}return Object.defineProperty(i.prototype,"endpoint",{get:function(){return"".concat(bt.content.server,"/fonts")},enumerable:!1,configurable:!0}),i.prototype.listAvailableFonts=function(){return ut(this,0,void 0,function(){var t=this;return lt(this,function(r){switch(r.label){case 0:return this.data?[3,2]:[4,this.fetchInfo()];case 1:r.sent(),r.label=2;case 2:return this.data&&this.data.fontFamilies?[2,Object.keys(this.data.fontFamilies).map(function(n){return un({key:n},t.data.fontFamilies[n])})]:[2,[]]}})})},i.prototype.getFrequentChars=function(){return ut(this,0,void 0,function(){return lt(this,function(t){switch(t.label){case 0:return this.data?[3,2]:[4,this.fetchInfo()];case 1:t.sent(),t.label=2;case 2:return[2,this.data&&this.data.frequentChars||""]}})})},i.prototype.clearCache=function(){this.data=null},i.prototype.fetchInfo=function(){return ut(this,0,void 0,function(){var t,r,n,s;return lt(this,function(a){switch(a.label){case 0:return[4,Jt("".concat(this.endpoint,"/index.json"))];case 1:if(!(t=a.sent())||t.status!==200||!t.data)return this.data=null,[2,null];for(n in this.data=t.data,r=this.data.fontUrlPrefix,this.data.fontFamilies)(s=this.data.fontFamilies[n]).typesquare||s.typekit||s.google||s.url||(s.url="".concat(r,"/").concat(n,"-all.css"),s.compactUrl="".concat(r,"/").concat(n,".css"));return[2]}})})},i}()),CR=new RegExp("\\b([CDEFGAB](?:b|bb)*(?:#|##|sus|maj|min|aug|m|M)*[\\d/]*(?:[CDEFGAB](?:b|bb)*(?:#|##|sus|maj|min|aug|m|M)*[\\d/]*)*\\-){2}");function z2(i,t,r){return!CR.test(i)&&!i.match(/[（(].+(?:転載|書き起こし).*[）)]/)&&(!i.match(/(作詞|作曲).+(作詞|作曲)/)||t!==0&&t!==r.length-2)}function AR(i){return!i.match(new RegExp("[（(]?※"))}var va={},si={},DR=function(){function i(){}return Object.defineProperty(i.prototype,"endpoint",{get:function(){return"".concat(bt.songle.server,"/lyrics/")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"localLyricsEndpoint",{get:function(){return"".concat(bt.textalive.server,"/etc/lyrics")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"timingEndpoint",{get:function(){return"".concat(bt.songle.server,"/songs/")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lyricsParserEndpoint",{get:function(){return bt.songle.server},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lyricsPostEndpoint",{get:function(){return bt.songle.server},enumerable:!1,configurable:!0}),i.prototype.isUploaderUrl=function(t){return gC(t)},i.prototype.parseUploaderUrl=function(t){return xR(t)},i.prototype.getRecentlySynchronizedList=function(t){return t===void 0&&(t={}),ut(this,0,void 0,function(){var r,n;return lt(this,function(s){switch(s.label){case 0:return r={},typeof t=="number"?r.page=t:t&&(r.page=t.page,r.per_page=t.perPage),[4,Jt("".concat(this.endpoint,"recently_synchronized.json"),r)];case 1:return(n=s.sent())&&n.status===200?[2,n.data]:[2,null]}})})},i.prototype.load=function(t){return ut(this,0,void 0,function(){var r;return lt(this,function(n){switch(n.label){case 0:return[4,Jt("".concat(this.timingEndpoint+t,"/lyrics.json"))];case 1:return(r=n.sent())&&r.status===200?[2,r.data]:[2,null]}})})},i.prototype.clearCache=function(){va={}},i.prototype.loadDetail=function(t,r){return ut(this,0,void 0,function(){var n,s;return lt(this,function(a){switch(a.label){case 0:return va[t]&&va[t][r]?[2,va[t][r]]:[4,Jt("".concat(this.timingEndpoint+t,"/lyrics/").concat(r<0?"latest":r,".json"))];case 1:return(n=a.sent())&&n.status===200?(s=n.data,va[t]||(va[t]={}),va[t][s.id]=s,r<0&&(va[t][-1]=s),[2,s]):[2,null]}})})},i.prototype.loadDiffs=function(t,r){return ut(this,0,void 0,function(){var n;return lt(this,function(s){switch(s.label){case 0:return[4,Jt("".concat(this.timingEndpoint+t,"/lyrics/").concat(r,"/diffs.json"))];case 1:return(n=s.sent())&&n.status===200?[2,n.data]:[2,null]}})})},i.prototype.loadDiff=function(t,r,n){return ut(this,0,void 0,function(){return lt(this,function(s){switch(s.label){case 0:return[4,Jt("".concat(this.timingEndpoint+t,"/lyrics/").concat(r).concat(n<0?"":n===0?"/original":"/diffs/".concat(n,"/lyrics"),".json"))];case 1:return[2,s.sent().data]}})})},i.prototype.loadAllRevisionsForSong=function(t){return ut(this,0,void 0,function(){var r,n,s,a,o,l,d,p,g,y;return lt(this,function(x){switch(x.label){case 0:return[4,this.load(t)];case 1:if(!(r=x.sent()))return[2,null];n=[],s=0,a=r.lyrics,x.label=2;case 2:return s<a.length?(o=a[s],[4,this.loadDetail(t,o.id)]):[3,6];case 3:return l=x.sent(),[4,this.loadDiffs(t,l.id)];case 4:if(d=x.sent(),n.push({lyrics:l,updated_at:new Date(l.created_at)}),Array.isArray(d))for(p=0,g=d;p<g.length;p++)y=g[p],n.push({diff_id:y.id,source_id:y.source_id,lyrics:l,updated_at:new Date(y.updated_at)});x.label=5;case 5:return s++,[3,2];case 6:return[2,n.sort(function(S,_){var w=_.updated_at.getTime()-S.updated_at.getTime();return w===0?_.diff_id-S.diff_id:w})]}})})},i.prototype.getLatestRevision=function(t){return t.filter(function(r){return!(r.lyrics.processing||r.lyrics.failed)})[0]},i.prototype.fetchLocalLyricBody=function(t){return ut(this,0,void 0,function(){var r,n,s,a;return lt(this,function(o){switch(o.label){case 0:return this.verbose&&console.log(typeof t=="string"?"load locally-stored lyrics for song code":"load locally-stored lyrics for lyric id",t),r={},typeof t=="string"?r.code=t:r.lyricId=t,[4,Jt("".concat(this.localLyricsEndpoint,"/token"),r)];case 1:return!(n=o.sent())||n.status!==200||n.data.error?[2,null]:(s=n.data.token,r.token=s,[4,Jt(this.localLyricsEndpoint,r)]);case 2:return(a=o.sent())&&a.status===200?(this.verbose&&console.log("loaded locally-stored lyrics with params",r),[2,a.data]):[2,null]}})})},i.prototype.fetchSongleLyricBody=function(t,r){return ut(this,0,void 0,function(){var n,s,a,o,l,d,p,g,y,x,S;return lt(this,function(_){switch(_.label){case 0:if(!(n=this.parseUploaderUrl(t)).identifier)throw new Error("unsupported lyrics url ".concat(t));return[4,pr.getProfile()];case 1:if(s=_.sent(),!pr.isSongleUser(s))throw new Error("Songle authentication is required");return a="".concat(t,"//").concat(r),si[a]?[2,si[a]]:(pr.isSpoofingSongleUser(s)&&(l=s.user,d=l.songleUserId,p=l.songleAccessToken,g=l.songleRefreshToken,o={songleUserId:d,songleAccessToken:p,songleRefreshToken:g}),[4,Jt("".concat(bt.textalive.server,"/songle/users/").concat(n.user,"/uploads/").concat(n.identifier),o,{withCredentials:!0,responseType:"text"})]);case 2:return y=_.sent(),x=y==null?void 0:y.data,S=x?{text:x,url:t}:null,x&&(si[a]=S),[2,S]}})})},i.prototype.fetchPiaproLyricBody=function(t,r){return ut(this,0,void 0,function(){var n,s,a,o,l;return lt(this,function(d){switch(d.label){case 0:if(!Ar.isPiaproUrl(t))throw new Error("unsupported lyrics url ".concat(t));return n="".concat(t,"//").concat(r),si[n]?[2,si[n]]:[4,ay.read(t,!0)];case 1:if(s=d.sent(),!ay.isPiaproAsset(s))throw new Error("unsupported piapro lyrics url ".concat(t));return a=V2(s.contentUrl),[4,this.parseLyricBody(a,r)];case 2:return o=d.sent(),(l=o?{text:o,artist:{name:s.authorName,url:s.authorPath?"https://piapro.jp".concat(s.authorPath):null},name:s.name,url:t}:null)&&(si[n]=l),[2,l]}})})},i.prototype.fetchInternalLyricBody=function(t,r){return ut(this,0,void 0,function(){var n;return lt(this,function(s){if(n=new URL(t),typeof location>"u"||location.protocol!==n.protocol||location.hostname!==n.hostname)throw new Error("direct access not supported for lyrics url ".concat(t));return[2,this.fetchCrossOriginLyricBody(t,r)]})})},i.prototype.fetchCrossOriginLyricBody=function(t,r){return ut(this,0,void 0,function(){var n,s,a,o,l;return lt(this,function(d){switch(d.label){case 0:return n="".concat(t,"//").concat(r),si[n]?[2,si[n]]:[4,Jt(t,null,{responseType:"text"})];case 1:return s=d.sent(),a=s==null?void 0:s.data,s&&s.status===200&&a?[4,this.parseLyricBody(a,r)]:(this.verbose&&console.error("direct access not supported for lyrics url ".concat(t)),[2,this.fetchProxiedLyricBody(t,r)]);case 2:return o=d.sent(),(l=o?{text:o,url:t}:null)&&(si[n]=l),[2,l]}})})},i.prototype.fetchProxiedLyricBody=function(t,r){return ut(this,0,void 0,function(){var n,s,a;return lt(this,function(o){switch(o.label){case 0:return n="".concat(t,"//").concat(r),si[n]?[2,si[n]]:(this.verbose&&console.log("load lyrics from the external server",t),[4,G2(this.lyricsParserEndpoint+r,function(l){return new Promise(function(d,p){l.Songle.Utils.url2Lyric(t,function(g){return d(g)},function(g){return p(g)})})},this.verbose)]);case 1:return s=o.sent(),(a=s?{text:s,url:t}:null)&&(si[n]=a),[2,a]}})})},i.prototype.parseLyricBody=function(t,r){return ut(this,0,void 0,function(){var n;return lt(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,G2(this.lyricsParserEndpoint+r,function(a){return a.Songle.Utils.parseLyric(t)},this.verbose)];case 1:return n=s.sent(),[3,3];case 2:return s.sent(),n=function(a){return function(o){return o=function(l){var d,p=l.split(/\n/);return p.forEach(function(g,y){g.match(/^\S+：\S+$/m)&&(d=y)}),d!==void 0&&d<5?p.slice(d+1).join(`
`):l}(o),o=function(l){for(var d,p,g,y,x,S=new RegExp("[（(]?(.)繰り返し[)）]?","g");(p=S.exec(l))!==null;)g=p[1],y=new RegExp("^("+g+"[\\s\\S]+?)(?=\\n\\n[^\\u3000|\\s])","m"),(x=l.match(y))!==null&&(d=x[1].replace(new RegExp("^"+g,"m"),"").replace(new RegExp("^\\n"),"").replace(new RegExp("^\\u3000","mg"),""),l=(l=l.replace(y,function(){return d})).replace(new RegExp("[（\\(]?"+g+"繰り返し[\\)）]?","g"),d).replace(new RegExp("^"+g,"m"),""));return l}(o=o.split(/\n/).filter(z2).join(`
`)),o=function(l){var d=new RegExp("[\\u4E00-\\u9FAF|\\uFF66-\\uFF9D|\\u31F0-\\u31FF]+[（\\(]([\\u3041-\\u3096\\u309D-\\u309F]+)[\\)）]","g");return l.replace(d,function(p,g){return g})}(o),o.split(/\n/).filter(AR).join(`
`).replace(/\n\n+/g,`

`).replace(/\n+$/g,`
`)}(a.replace(/^\ufeff/,"").replace(/\r/,"").split(/\n/).filter(z2).filter(function(o){return!o.match(/^#/)}).join(`
`).replace(/^\s+/,""))}(t),[3,3];case 3:return[2,n]}})})},i.prototype.clearLyricBodyCache=function(){si={}},i.prototype.fetchLyricBody=function(t,r){var n,s,a=r.parserPath,o=r.directAccess;return ut(this,0,void 0,function(){var l,d;return lt(this,function(p){switch(p.label){case 0:if(mC(t))return this.verbose&&console.log("load lyrics from the data url",t),[2,{text:V2(t)}];if(this.isUploaderUrl(t))return[2,this.fetchSongleLyricBody(t,a)];if(Ar.isPiaproUrl(t))return[2,this.fetchPiaproLyricBody(t,a)];p.label=1;case 1:return p.trys.push([1,5,,6]),l=new URL(t),o||typeof location<"u"&&location.protocol!==l.protocol&&l.protocol!=="https:"?[3,4]:typeof location<"u"&&location.hostname!==l.hostname?[3,2]:(o=!0,[3,4]);case 2:return[4,Jt("".concat(this.localLyricsEndpoint,"/cors"),{url:t})];case 3:d=p.sent(),o=d&&d.status===200&&((s=(n=d.data)===null||n===void 0?void 0:n.data)===null||s===void 0?void 0:s.enabled),p.label=4;case 4:return o?(this.verbose&&console.log("load lyrics directly",t),[2,this.fetchCrossOriginLyricBody(t,a)]):[3,6];case 5:return p.sent(),[3,6];case 6:return[2,this.fetchProxiedLyricBody(t,a)]}})})},i.prototype.post=function(t){return ut(this,0,void 0,function(){var r,n;return lt(this,function(s){switch(s.label){case 0:return r=t.forceUpdate?{url:t.lyricsUrl,force_create:"true"}:{url:t.lyricsUrl},[4,Yn("".concat(this.lyricsPostEndpoint,"/songs/").concat(t.songId,"/lyrics.json"),r)];case 1:return(n=s.sent())&&n.status===200&&n.data?[2,{success:!0,lyricsId:n.data.id}]:[2,{success:!1,error:"failed to update lyrics url"}]}})})},i.prototype.postPrivate=function(t){return ut(this,0,void 0,function(){var r,n,s,a,o,l,d,p,g,y,x;return lt(this,function(S){switch(S.label){case 0:return[4,pr.getProfile()];case 1:if(r=S.sent(),!pr.isSongleUser(r))throw new Error("Songle authentication is required");return pr.isSpoofingSongleUser(r)?(s=r.user,a=s.songleUserId,o=s.songleAccessToken,l=s.songleRefreshToken,d={songleUserId:a,songleAccessToken:o,songleRefreshToken:l},n="?"+Object.keys(d).map(function(_){return"".concat(_,"=").concat(encodeURIComponent(d[_]))}).join("&")):n="",p=t.songId,g=t.lyricsText,(y=new FormData).append("text",g),[4,Yn("".concat(bt.textalive.server,"/songle/me/songs/").concat(p,"/lyrics.json").concat(n),y,{withCredentials:!0})];case 2:return(x=S.sent())&&x.status===200&&x.data?[2,{success:!0,lyrics:x.data.data.lyric}]:[2,{success:!1,error:"failed to post lyrics text"}]}})})},i.prototype.update=function(t){var r;return ut(this,0,void 0,function(){var n;return lt(this,function(s){switch(s.label){case 0:return[4,Yn("".concat(this.lyricsPostEndpoint,"/songs/").concat(t.songCode,"/lyrics/").concat(t.lyricsId,"/diffs.json"),t.lyricsData?{lyric:JSON.stringify(t.lyricsData)}:{source_diff_id:t.lyricsDiffId})];case 1:return n=s.sent(),[2,!((r=n==null?void 0:n.data)===null||r===void 0)&&r.lyric_diff?{success:n.status===200,lyricsId:n.data.lyric_diff.lyric_id,lyricsDiffId:n.data.lyric_diff.id}:{success:n.status===200}]}})})},i}();function G2(i,t,r){var n,s=this;return typeof window>"u"||!(!((n=window==null?void 0:window.navigator)===null||n===void 0)&&n.userAgent)||window.navigator.userAgent.includes("Node.js")||window.navigator.userAgent.includes("jsdom")?function(a,o,l){return l&&console.log("parse lyrics: loading on Node.js",a),new Promise(function(d,p){Jt(a,{responseType:"text"}).then(function(g){var y=g.data,x=new Function("let g=global;global={};".concat(y,";let res=global;global=g")),S={};try{x.bind(S)(),d(o(S))}catch(_){p(_)}}).catch(p)})}(i,t,r):(r&&console.log("parse lyrics: loading",i),new Promise(function(a,o){try{var l=document.createElement("script"),d=null;window.module&&(d=window.module,delete window.module),l.src=i,l.onload=function(){return ut(s,0,void 0,function(){var p,g;return lt(this,function(y){switch(y.label){case 0:document.body.removeChild(l),r&&console.log("parse lyrics: load",i),window.Songle&&window.Songle.Utils&&window.Songle.Utils.url2Lyric||(d&&(window.module=d),o("url2Lyric not found")),y.label=1;case 1:return y.trys.push([1,3,4,5]),p=a,[4,t(window)];case 2:return p.apply(void 0,[y.sent()]),[3,5];case 3:return g=y.sent(),o(g),[3,5];case 4:return d&&(window.module=d),[7];case 5:return[2]}})})},l.onerror=function(p){return o(p.message)},document.body.appendChild(l)}catch(p){console.error("failed to call lyrics parser",i,p)}}))}var TR=new DR,ba={},ao={},NR=new(function(){function i(){}return Object.defineProperty(i.prototype,"endpoint",{get:function(){return bt.textalive.server},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"songleEndpoint",{get:function(){return bt.songle.server},enumerable:!1,configurable:!0}),i.prototype.getSongPathFromUrl=function(t){return Ar.getSongPathFromUrl(t)},i.prototype.isUploaderUrl=function(t){return Ar.isUploaderUrl(t)},i.prototype.isUploaderPath=function(t){return Ar.isUploaderPath(t)},i.prototype.getUploaderGuid=function(t){return Ar.getUploaderGuid(t)},i.prototype.getAltSongUrlFromUploaderGuid=function(t){return Ar.getAltSongUrlFromUploaderGuid(t)},i.prototype.getSongUrlFromUploaderGuid=function(t){return Ar.getSongUrlFromUploaderGuid(t)},i.prototype.getSongUrlFromPath=function(t){return Ar.getSongUrlFromPath(t)},i.prototype.isYouTubeUrl=function(t){return Ar.isYouTubeUrl(t)},i.prototype.isNicovideoUrl=function(t){return Ar.isNicovideoUrl(t)},i.prototype.isVideoSiteUrl=function(t){return Ar.isVideoSiteUrl(t)},i.prototype.isPiaproUrl=function(t){return Ar.isPiaproUrl(t)},i.prototype.load=function(t){return ut(this,0,void 0,function(){var r,n;return lt(this,function(s){switch(s.label){case 0:return r=t.code||typeof t.id=="number"&&String(t.id)||encodeURIComponent(t.songPath),ba[r]?[2,ba[r]]:(ba[r]=this.doLoad(r),[4,ba[r]]);case 1:return n=s.sent(),this.use(n),[2,n]}})})},i.prototype.use=function(t){if(t){var r=String(t.song.id),n=t.song.code,s=this.getSongPathFromUrl(t.song.permalink);ba[r]=ba[n]=ba[s]=Promise.resolve(t)}},i.prototype.clearCache=function(){ba={},ao={}},i.prototype.doLoad=function(t){var r;return ut(this,0,void 0,function(){var n,s,a;return lt(this,function(o){switch(o.label){case 0:return[4,Jt("".concat(this.songleEndpoint,"/songs/").concat(t,"?format=json"))];case 1:return(n=o.sent())&&n.status===200?(s=n.data,this.isUploaderUrl((r=s==null?void 0:s.song)===null||r===void 0?void 0:r.permalink)?[4,this.doLoadPrivateSong(s.song.id)]:[3,3]):[2,null];case 2:if(a=o.sent())return s.status=s.status||{},s.status.owner=!0,[2,un(un({},s),{song:a})];s.status=s.status||{},s.status.owner=!1,o.label=3;case 3:return[2,s]}})})},i.prototype.doLoadPrivateSong=function(t){var r,n;return ut(this,0,void 0,function(){var s,a,o,l,d,p,g;return lt(this,function(y){switch(y.label){case 0:return[4,pr.getProfile()];case 1:return s=y.sent(),pr.isSongleUser(s)?(pr.isSpoofingSongleUser(s)&&(o=s.user,l=o.songleUserId,d=o.songleAccessToken,p=o.songleRefreshToken,a={songleUserId:l,songleAccessToken:d,songleRefreshToken:p}),[4,Jt("".concat(this.endpoint,"/songle/me/songs/").concat(t,".json"),a,{withCredentials:!0})]):[2,null];case 2:return(g=y.sent())&&g.status===200&&(!((n=(r=g.data)===null||r===void 0?void 0:r.data)===null||n===void 0)&&n.song)?[2,g.data.data.song]:[2,null]}})})},i.prototype.loadInfo=function(t,r){return ut(this,0,void 0,function(){var n;return lt(this,function(s){return n=this.cacheKey(t,r),ao[n]||(ao[n]=this.doLoadInfo(t,{min:!0,revisions:r==null?void 0:r.revisions})),[2,ao[n]]})})},i.prototype.loadDetailInfo=function(t,r){return ut(this,0,void 0,function(){var n;return lt(this,function(s){return n=this.cacheKey(t,r)+"/dt",ao[n]||(ao[n]=this.doLoadInfo(t,{min:!1,revisions:r==null?void 0:r.revisions})),[2,ao[n]]})})},i.prototype.cacheKey=function(t,r){var n=String(t);return r!=null&&r.revisions&&(typeof r.revisions.chord=="number"&&(n+="/cd"+r.revisions.chord),typeof r.revisions.beat=="number"&&(n+="/bt"+r.revisions.beat),typeof r.revisions.chorus=="number"&&(n+="/cr"+r.revisions.chorus)),n},i.prototype.doLoadInfo=function(t,r){var n=r===void 0?{min:!0}:r,s=n.min,a=n.revisions;return ut(this,0,void 0,function(){var o,l;return lt(this,function(d){switch(d.label){case 0:return o={min:s?1:0},typeof(a==null?void 0:a.chord)=="number"&&(o.chord_revision_id=a.chord),typeof(a==null?void 0:a.beat)=="number"&&(o.beat_revision_id=a.beat),typeof(a==null?void 0:a.chorus)=="number"&&(o.chorus_revision_id=a.chorus),[4,Jt("".concat(this.songleEndpoint,"/songs/").concat(t,"/info.json"),o)];case 1:return(l=d.sent())&&l.status===200?[2,l.data]:[2,null]}})})},i.prototype.loadVocalAmplitude=function(t){return ut(this,0,void 0,function(){var r;return lt(this,function(n){switch(n.label){case 0:return[4,Jt("".concat(this.songleEndpoint,"/songs/").concat(t,"/vamplitude.json"))];case 1:return(r=n.sent())&&r.status===200&&r.data?[2,r.data]:[2,null]}})})},i.prototype.loadValenceArousal=function(t){return ut(this,0,void 0,function(){var r;return lt(this,function(n){switch(n.label){case 0:return[4,Jt("".concat(this.songleEndpoint,"/songs/").concat(t,"/av.json"))];case 1:return(r=n.sent())&&r.status===200&&r.data?[2,r.data]:[2,null]}})})},i.prototype.list=function(t){return t===void 0&&(t={}),ut(this,0,void 0,function(){var r;return lt(this,function(n){switch(n.label){case 0:return[4,Jt(this.endpoint+"/songs",t)];case 1:return(r=n.sent())&&r.status===200?[2,r.data]:[2,null]}})})},i.prototype.listPrivate=function(t){return t===void 0&&(t={}),ut(this,0,void 0,function(){var r,n,s,a,o,l,d;return lt(this,function(p){switch(p.label){case 0:return[4,pr.getProfile()];case 1:return r=p.sent(),pr.isSongleUser(r)?(n={},pr.isSpoofingSongleUser(r)&&(s=r.user,a=s.songleUserId,o=s.songleAccessToken,l=s.songleRefreshToken,n={songleUserId:a,songleAccessToken:o,songleRefreshToken:l}),typeof t.page=="number"&&(n.page=t.page),typeof t.perPage=="number"&&(n.per_page=t.perPage),[4,Jt("".concat(this.endpoint,"/songle/me/songs.json"),un(un({},n),{private:!0}),{withCredentials:!0})]):[2,{data:null,error:"Songle authentication is required"}];case 2:return(d=p.sent())&&d.status===200?[2,d.data]:[2,{data:null,error:"private songs not found"}]}})})},i.prototype.create=function(t){return ut(this,0,void 0,function(){return lt(this,function(r){return[2,this.doCreate(t,!1)]})})},i.prototype.createPrivate=function(t){return ut(this,0,void 0,function(){var r;return lt(this,function(n){switch(n.label){case 0:return[4,pr.getProfile()];case 1:return r=n.sent(),pr.isSongleUser(r)?[2,this.doCreate(t,!0)]:[2,{success:!1,song:null,error:"Songle authentication is required"}]}})})},i.prototype.doCreate=function(t,r){var n,s;return ut(this,0,void 0,function(){var a,o,l,d,p;return lt(this,function(g){switch(g.label){case 0:return a=t.url,o=t.name,l=t.artistName,[4,pr.getToken()];case 1:return d=g.sent(),[4,Yn(r?this.endpoint+"/etc/songs/private":this.endpoint+"/etc/songs",{url:a,name:o,artist:l},{postToken:d,withCredentials:!0})];case 2:return(p=g.sent())&&p.status===200?r?[2,{success:!0,song:p.data.data.song}]:[2,{success:!0,song:p.data.song}]:[2,{success:!1,error:(!((n=p==null?void 0:p.data)===null||n===void 0)&&n.data?p.data.data.message:(s=p==null?void 0:p.data)===null||s===void 0?void 0:s.message)||"failed to register a song"}]}})})},i.prototype.uploadPrivate=function(t){return ut(this,0,void 0,function(){var r,n,s,a,o,l,d,p,g;return lt(this,function(y){switch(y.label){case 0:return[4,pr.getProfile()];case 1:if(r=y.sent(),!pr.isSongleUser(r))throw new Error("Songle authentication is required");return pr.isSpoofingSongleUser(r)?(s=r.user,a=s.songleUserId,o=s.songleAccessToken,l=s.songleRefreshToken,d={songleUserId:a,songleAccessToken:o,songleRefreshToken:l},n="?"+Object.keys(d).map(function(x){return"".concat(x,"=").concat(encodeURIComponent(d[x]))}).join("&")):n="",(p=new FormData).append("file",t),[4,Yn("".concat(this.endpoint,"/songle/me/uploads.json").concat(n),p,{withCredentials:!0})];case 2:return(g=y.sent())&&g.status===200&&g.data?[2,g.data.data]:[2,null]}})})},i.prototype.search=function(t,r){return r===void 0&&(r=!0),ut(this,0,void 0,function(){var n;return lt(this,function(s){switch(s.label){case 0:return[4,Jt("".concat(this.songleEndpoint,"/songs/search.json"),{q:t,lyrics:r?1:0})];case 1:return(n=s.sent())&&n.status===200&&n.data?[2,{success:!0,data:n.data}]:[2,{success:!1}]}})})},i.prototype.copySongMap=function(t){var r;return ut(this,0,void 0,function(){var n,s,a,o;return lt(this,function(l){switch(l.label){case 0:return n=t.sourceId,s=t.destinationId,a=t.types||["beat","chord","chorus","melody"],[4,Yn("".concat(this.endpoint,"/songle/me/songs/").concat(s,"/actions/copy_music_map.json"),{source_id:n,types:a},{withCredentials:!0})];case 1:return(o=l.sent())&&(!((r=o.data)===null||r===void 0)&&r.success)?[2,{success:!0}]:[2,{success:!1,error:o==null?void 0:o.data}]}})})},i.prototype.createStage=function(){var t;return ut(this,0,void 0,function(){var r,n;return lt(this,function(s){switch(s.label){case 0:return[4,pr.getProfile()];case 1:return r=s.sent(),[4,Yn("".concat(this.endpoint,"/etc/songs/stage"),null,{postToken:(t=r==null?void 0:r.status)===null||t===void 0?void 0:t.token,withCredentials:!0})];case 2:return[2,((n=s.sent())==null?void 0:n.data)||null]}})})},i}()),OR=function(){function i(){}return Object.defineProperty(i.prototype,"endpoint",{get:function(){return"".concat(bt.textalive.server,"/templates/")},enumerable:!1,configurable:!0}),i.prototype.list=function(t){return ut(this,0,void 0,function(){var r;return lt(this,function(n){switch(n.label){case 0:return[4,Jt("".concat(this.endpoint),t)];case 1:return(r=n.sent())&&r.status===200?[2,r.data]:[2,null]}})})},i.prototype.load=function(t){return ut(this,0,void 0,function(){var r;return lt(this,function(n){switch(n.label){case 0:return[4,Jt("".concat(this.endpoint+t))];case 1:return(r=n.sent())&&r.status===200?[2,r.data]:[2,null]}})})},i.prototype.loadByName=function(t){return ut(this,0,void 0,function(){var r,n,s;return lt(this,function(a){switch(a.label){case 0:return n="latest",t&&(r=t.match(/(.+)@([0-9]+)/))&&(t=r[1],n=r[2]),[4,Jt("".concat(this.endpoint+t,"/").concat(n))];case 1:return(s=a.sent())&&s.status===200?[2,s.data]:n!=="latest"?[2,this.loadByName(t)]:[2,null]}})})},i.prototype.loadForVideo=function(t,r){return r===void 0&&(r={script:!0,withoutAuthors:!0}),ut(this,0,void 0,function(){var n;return lt(this,function(s){switch(s.label){case 0:return[4,Jt("".concat(this.endpoint,"for/").concat(t),r)];case 1:return(n=s.sent())&&n.status===200?[2,n.data]:[2,null]}})})},i.prototype.create=function(t){return ut(this,0,void 0,function(){var r,n,s;return lt(this,function(a){switch(a.label){case 0:return[4,pr.getToken()];case 1:return r=a.sent(),[4,Yn(this.endpoint,t,{postToken:r,withCredentials:!0})];case 2:return(n=a.sent())?n.status!==200||Array.isArray(n.data)||n.data.error?(s=Array.isArray(n.data)?{parseErrors:n.data}:n.data,[2,un(un({},s),{success:!1})]):[2,un(un({},n.data),{success:!0})]:[2,{success:!1}]}})})},i.prototype.listContributors=function(t,r){return ut(this,0,void 0,function(){var n;return lt(this,function(s){switch(s.label){case 0:return[4,Jt("".concat(this.endpoint).concat(t,"/").concat(r,"/contributors"))];case 1:return(n=s.sent())&&n.status===200?[2,n.data]:[2,null]}})})},i}(),Fu=new OR,FR=new(function(){function i(){}return Object.defineProperty(i.prototype,"endpoint",{get:function(){return"".concat(bt.textalive.server,"/videos/")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rendererEndpoint",{get:function(){return"".concat(bt.textalive.server,"/renderer/")},enumerable:!1,configurable:!0}),i.prototype.list=function(t){return ut(this,0,void 0,function(){var r;return lt(this,function(n){switch(n.label){case 0:return[4,Jt("".concat(this.endpoint),t)];case 1:return(r=n.sent())&&r.status===200?[2,r.data]:[2,null]}})})},i.prototype.load=function(t){return ut(this,0,void 0,function(){var r,n,s,a,o,l,d;return lt(this,function(p){switch(p.label){case 0:return r={},[4,pr.getProfile()];case 1:return n=p.sent(),pr.isSpoofingSongleUser(n)&&(s=n.user,a=s.songleUserId,o=s.songleAccessToken,l=s.songleRefreshToken,r={songleUserId:a,songleAccessToken:o,songleRefreshToken:l}),[4,Jt("".concat(this.endpoint+t),r,{withCredentials:!0})];case 2:return(d=p.sent())&&d.status===200?[2,d.data]:[2,null]}})})},i.prototype.create=function(t){return ut(this,0,void 0,function(){var r,n;return lt(this,function(s){switch(s.label){case 0:return[4,pr.getToken()];case 1:return r=s.sent(),[4,Yn(this.endpoint,t,{postToken:r,withCredentials:!0})];case 2:return(n=s.sent())?n.status!==200||n.data.error?[2,un(un({},n.data),{success:!1})]:[2,un(un({},n.data),{success:!0})]:[2,{success:!1}]}})})},i.prototype.delete=function(t){return ut(this,0,void 0,function(){var r,n;return lt(this,function(s){switch(s.label){case 0:return[4,pr.getToken()];case 1:return r=s.sent(),[4,Yn("".concat(this.endpoint,"delete"),{id:t},{postToken:r,withCredentials:!0})];case 2:return(n=s.sent())&&n.status===200?[2,{success:!0,video:n.data}]:[2,{success:!1,video:null}]}})})},i.prototype.listContributors=function(t){return ut(this,0,void 0,function(){var r;return lt(this,function(n){switch(n.label){case 0:return[4,Jt("".concat(this.endpoint).concat(t,"/contributors"),null,{withCredentials:!0})];case 1:return(r=n.sent())&&r.status===200?[2,r.data]:[2,null]}})})},i.prototype.listRenderings=function(t){return ut(this,0,void 0,function(){var r;return lt(this,function(n){switch(n.label){case 0:return[4,Jt("".concat(this.rendererEndpoint,"list"),{videoId:t},{withCredentials:!0})];case 1:return(r=n.sent())&&r.status===200?[2,r.data]:[2,null]}})})},i.prototype.getRenderingStatus=function(t){return ut(this,0,void 0,function(){var r;return lt(this,function(n){switch(n.label){case 0:return[4,Jt("".concat(this.rendererEndpoint,"status"),{id:t},{withCredentials:!0})];case 1:return(r=n.sent())&&r.status===200?[2,r.data]:[2,null]}})})},i.prototype.render=function(t,r,n){return ut(this,0,void 0,function(){var s,a,o;return lt(this,function(l){switch(l.label){case 0:return[4,pr.getToken()];case 1:return s=l.sent(),a={token:s,videoId:t,quality:r},n&&(a.authentication=!0),[4,Yn("".concat(this.rendererEndpoint,"render"),a,{withCredentials:!0})];case 2:return(o=l.sent())&&o.status===200?[2,o.data]:[2,null]}})})},i.prototype.getDownloadInfo=function(){return ut(this,0,void 0,function(){var t;return lt(this,function(r){switch(r.label){case 0:return t={endpoint:"".concat(this.rendererEndpoint,"download")},[4,pr.getToken()];case 1:return[2,(t.token=r.sent(),t)]}})})},i}()),RR={asset:ay,endpoint:bt,lyrics:TR,song:NR,template:Fu,text:oy,font:ER,user:pr,video:FR},uy=function(i,t){return uy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},uy(i,t)};function Io(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=i}uy(i,t),i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function H2(i,t,r){if(arguments.length===2)for(var n,s=0,a=t.length;s<a;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return i.concat(n||Array.prototype.slice.call(t))}var Dh=function(){function i(t){this.a=0,this.r=0,this.g=0,this.b=0,this.from(t)}return Object.defineProperty(i.prototype,"value",{get:function(){return this.valueArgb},set:function(t){this.fromNumber(t,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"valueArgb",{get:function(){return this.valueRgb+16777216*(255&this.a)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"valueRgb",{get:function(){return((255&this.r)<<8|255&this.g)<<8|255&this.b},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hexRgb",{get:function(){return("000000"+(16777215&this.value).toString(16)).slice(-6)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hexA",{get:function(){return("00"+(255&this.a).toString(16)).slice(-2)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rgb",{get:function(){return"#".concat(this.hexRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cssRgb",{get:function(){return"rgb("+this.r+","+this.g+","+this.b+")"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rgba",{get:function(){return"".concat(this.rgb).concat(this.hexA)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"argb",{get:function(){return"0x".concat(this.hexA).concat(this.rgb.substring(1))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cssRgba",{get:function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a/255+")"},enumerable:!1,configurable:!0}),i.prototype.eq=function(t){return typeof this==typeof t&&t instanceof i&&this.value===t.value},i.prototype.toString=function(t){return t===void 0&&(t=!0),t?this.rgba:this.rgb},i.prototype.from=function(t){if(t===void 0&&(t="#000"),typeof t=="object")return t?typeof t.value=="number"?void(this.value=t.value):typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"?(this.a=typeof t.a=="number"?t.a:255,this.r=t.r,this.g=t.g,void(this.b=t.b)):void 0:void 0;typeof t=="string"?this.fromString(t):typeof t=="number"&&this.fromNumber(t)},i.prototype.fromString=function(t){if(t){if(t.charAt(0)==="#"&&(t=t.substring(1)),t.length===4){var r=t.charAt(0),n=t.charAt(1),s=t.charAt(2),a=t.charAt(3);t="".concat(r).concat(r).concat(n).concat(n).concat(s).concat(s).concat(a).concat(a)}else t.length===3&&(r=t.charAt(0),n=t.charAt(1),s=t.charAt(2),t="".concat(r).concat(r).concat(n).concat(n).concat(s).concat(s)),t.length===6&&(t="".concat(t,"ff"));var o=parseInt("".concat(t.substring(6)).concat(t.substring(0,6)),16);this.fromNumber(o,!0)}},i.prototype.fromNumber=function(t,r){r===void 0&&(r=!0),isNaN(t)||(this.a=r?t>>>24&255:0,this.r=t>>>16&255,this.g=t>>>8&255,this.b=t>>>0&255)},i}(),yC=function(){function i(t,r,n){t===void 0&&(t="Noto Sans Japanese"),r===void 0&&(r=40),n===void 0&&(n=""),this._family=t,this._size=r,this._style=n}return Object.defineProperty(i.prototype,"family",{get:function(){return this._family},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return this._style},enumerable:!1,configurable:!0}),i.prototype.deriveFamily=function(t){return new i(t,this._size,this._style)},i.prototype.deriveStyle=function(t){return new i(this._family,this._size,t)},i.prototype.deriveSize=function(t){return new i(this._family,t,this._style)},i.prototype.clone=function(){return new i(this._family,this._size,this._style)},i.prototype.eq=function(t){return this._family===t._family&&this._size===t._size&&this._style===t._style},i.prototype.toString=function(t){t===void 0&&(t=1);var r,n=function(s){if(!s||s.length<=0)return[];for(var a=[],o="",l=!1,d=!1,p=!1,g=0,y=s;g<y.length;g++){var x=y[g];if(d?p?p=!1:x==="\\"?p=!0:x===d&&(d=!1):x==='"'||x==="'"?d=x:x===","&&(l=!0),l){var S=o.trim();S!==""&&a.push(S),o="",l=!1}else o+=x}var _=o.trim();return _!==""&&a.push(_),a}(this._family);return r=n.length<1?"":n.length>1?" "+n.join(", "):(r=n[0]).length>1&&r[0]!==r[r.length-1]||r[0]!=="'"&&r[0]!=='"'?" '".concat(r,"'"):" ".concat(r),this._style+(this._style.length>0?" ":"")+this._size*t+"px"+r},i}(),vC=function(){function i(){}return Object.defineProperty(i.prototype,"duration",{get:function(){return this.endTime-this.startTime},enumerable:!1,configurable:!0}),i.prototype.contains=function(t){return t>=this.startTime&&t<=this.endTime},i.prototype.overlaps=function(t,r){if(typeof t=="object")return this.overlaps(t.startTime,t.endTime);var n=t;return this.contains(n)||this.contains(r)||this.startTime<=n&&this.endTime>=r},i.prototype.progress=function(t){return this.contains(t)?(t-this.startTime)/this.duration:-1},i}(),dv=function(i){function t(){var r=i!==null&&i.apply(this,arguments)||this;return r._parent=null,r._children=[],r._previous=null,r._next=null,r._runtime=null,r._templates=[],r}return Io(t,i),Object.defineProperty(t.prototype,"video",{get:function(){return this.parent&&this.parent.video},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previous",{get:function(){return this._previous},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"next",{get:function(){return this._next},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this._data?this._data.startTime:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return this._data?this._data.endTime:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this.endTime-this.startTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rendering",{get:function(){return this._runtime?this._runtime.rendering:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"graphics",{get:function(){return this._runtime?this._runtime.graphics:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templates",{get:function(){return this._templates.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateCount",{get:function(){return this._templates.length},enumerable:!1,configurable:!0}),t.prototype.maximize=function(){var r=!1,n=this.endTime,s=Math.max(this._parent===null?0:this._parent.startTime,this._previous===null?0:this._previous.endTime);s!==this.startTime&&(this.moveWithChildren(s-this.startTime),r=!0);var a=Math.min(this._parent===null?this.video.duration:this._parent.endTime,this._next===null?this.video.duration:this._next.startTime);return a!==this.endTime&&(this._data.endTime=a,r=n!==a),r},t.prototype.moveWithChildren=function(r){var n=[];for(n.push(this);n.length>0;){var s=n.pop();s._children!=null&&s._children.forEach(function(a){return n.push(a)}),s._data.startTime+=r,s._data.endTime+=r}},t.prototype.getTemplate=function(r){return r===void 0&&(r=0),r<0||r>=this._templates.length?null:this._templates[r]},t.prototype.addTemplateAt=function(r,n){this._templates.splice(n,0,r),r.assignedUnit=this},t.prototype.addTemplate=function(r){this._templates.push(r),r.assignedUnit=this},t.prototype.removeTemplates=function(){for(var r=this._templates.slice();this._templates.length>0;)this._templates.pop();return r},t.prototype.removeTemplateAt=function(r){if(r<0||r>=this._templates.length)return null;var n=this._templates.splice(r,1)[0];return n.assignedUnit=null,n},t.prototype.removeTemplate=function(r){for(var n=0;n<this._templates.length;n++){var s=this._templates[n];if(s===r)return this._templates.splice(n,1),r.assignedUnit=null,s}return null},t.prototype.getType=function(){return ui.NONE},t.prototype.toString=function(){return"RenderingUnit"},t}(vC);function MR(i,t){return typeof t=="number"&&!isNaN(t)&&t>i?t:i}function kR(i,t){return typeof t=="number"&&!isNaN(t)&&t<i?t:i}var bp=function(i){function t(){return i!==null&&i.apply(this,arguments)||this}return Io(t,i),Object.defineProperty(t.prototype,"text",{get:function(){var r="";return this.children.forEach(function(n){r+=n.text}),r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.children.reduce(function(r,n){return r===null?n.color:r===void 0||r.eq(n.color)?r:void 0},null)},set:function(r){r!==null&&this.children.forEach(function(n){n.color=r})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"font",{set:function(r){r!==null&&this.children.forEach(function(n){n.font=r})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.children.reduce(function(r,n){var s=n.fontFamily;return r===void 0||r!==null&&r!==s?void 0:s},null)},set:function(r){this.children.forEach(function(n){n.fontFamily=r})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.children.reduce(function(r,n){var s=n.fontStyle;return r===void 0||r!==null&&r!==s?void 0:s},null)},set:function(r){this.children.forEach(function(n){n.fontStyle=r})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.children.length<=0?0:this.children.reduce(function(r,n){return r+n.fontSize},0)/this.children.length},set:function(r){this.children.forEach(function(n){n.fontSize=r})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"advance",{get:function(){return this.children.reduce(function(r,n){return r+n.advance},0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ascent",{get:function(){return this.children.reduce(function(r,n){return Math.max(r,n.ascent)},0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"descent",{get:function(){return this.children.reduce(function(r,n){return Math.max(r,n.descent)},0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.ascent+this.descent},enumerable:!1,configurable:!0}),t.prototype.expandTime=function(r){return{startTime:kR(this.startTime,r.startTime),endTime:MR(this.endTime,r.endTime)}},t.prototype.toString=function(){return this.text},t}(dv),$c=function(i){function t(r){var n=i.call(this)||this;return n._data=r,n._font=new yC(r&&r.fontFamily,r&&r.fontSize,r&&r.fontStyle),n._color=new Dh,n}return Io(t,i),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previous",{get:function(){return this._previous},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"next",{get:function(){return this._next},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._data&&this._data.char||"?"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"advance",{get:function(){return this._runtime?this._runtime.advance:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ascent",{get:function(){return this._runtime?this._runtime.ascent:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"descent",{get:function(){return this._runtime?this._runtime.descent:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this._font},set:function(r){r===null||this.font.eq(r)||(this._font=r.clone(),this._data.fontFamily=r.family,this._data.fontSize=r.size,this._data.fontStyle=r.style,this._runtime&&this._runtime.onFontUpdate(this.font))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.font.family},set:function(r){this.font.family!==r&&(this._font=this.font.deriveFamily(r),this._data.fontFamily=r,this._runtime&&this._runtime.onFontUpdate(this.font))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.font.style},set:function(r){this.font.style!==r&&(this._font=this.font.deriveStyle(r),this._data.fontStyle=r,this._runtime&&this._runtime.onFontUpdate(this.font))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.font.size},set:function(r){isNaN(r)||this.font.size===r||(this._font=this.font.deriveSize(r),this._data.fontSize=r,this._runtime&&this._runtime.onFontUpdate(this.font))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(r){r&&!r.eq(this.color)&&(this._color=r,this._runtime&&this._runtime.onColorUpdate(r))},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return ui.CHAR},t}(bp),ly=function(i){function t(r){var n=i.call(this)||this;return n._data=r,n}return Io(t,i),t.prototype.getType=function(){return ui.GRAPHIC},t.prototype.toString=function(){return"Graphic"},t}(dv),wd=function(i){function t(r){var n=i.call(this)||this;return n._data=r,n}return Io(t,i),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._children.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previous",{get:function(){return this._previous},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"next",{get:function(){return this._next},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this.firstChar?this.firstChar.startTime:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return this.lastChar?this.lastChar.endTime:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pos",{get:function(){return this._data&&this._data.pos||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawPos",{get:function(){return this._data&&this._data.rawPoS||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._data&&this._data.language||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"countDown",{get:function(){return this._data?this._data.countDown:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"countUp",{get:function(){return this._data?this._data.countUp:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initialCount",{get:function(){return this._data?this._data.initialCount:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"charCount",{get:function(){return this._children.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstChar",{get:function(){return this._children.length<=0?null:this._children[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChar",{get:function(){return this._children.length<=0?null:this._children[this._children.length-1]},enumerable:!1,configurable:!0}),t.prototype.addChar=function(r){if(r){this._children.length>0&&(r._previous=this.lastChar,this.lastChar._next=r),this._children.push(r),r._parent=this;var n=this.expandTime(r),s=n.startTime,a=n.endTime;this._data.startTime=s,this._data.endTime=a}},t.prototype.findIndex=function(r){return r instanceof $c?this._children.indexOf(r):-1},t.prototype.getType=function(){return ui.WORD},t}(bp),Ru=function(i){function t(r,n){var s=i.call(this)||this;return s._video=r,s._data=n,s.createUnits(),s}return Io(t,i),t.prototype.createUnits=function(){var r=this,n=this._data;n&&Array.isArray(n.words)&&n.words.forEach(function(s){if(s){var a=new wd(s);Array.isArray(s.characters)&&s.characters.forEach(function(o){return a.addChar(new $c(o))}),r.addWord(a)}})},Object.defineProperty(t.prototype,"children",{get:function(){return this._children.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previous",{get:function(){return this._previous},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"next",{get:function(){return this._next},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"video",{get:function(){return this._video},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this.firstChar?this.firstChar.startTime:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return this.lastChar?this.lastChar.endTime:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordCount",{get:function(){return this._children.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"charCount",{get:function(){return this._children.reduce(function(r,n){return r+n.charCount},0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstWord",{get:function(){return this._children.length<=0?null:this._children[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastWord",{get:function(){return this._children.length<=0?null:this._children[this._children.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstChar",{get:function(){var r=this.firstWord;return r===null?null:r.firstChar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChar",{get:function(){var r=this.lastWord;return r===null?null:r.lastChar},enumerable:!1,configurable:!0}),t.prototype.getWord=function(r){return r<0||r>=this._children.length?null:this._children[r]},t.prototype.getChar=function(r){if(r<0)return null;for(var n=0,s=this.firstWord;;){if(!s)return null;if(n+s.children.length>r)break;n+=s.children.length,s=s.next}return s.children[r-n]},t.prototype.addWord=function(r){if(r){this._children.length>0&&(r._previous=this.lastWord,r._previous._next=r,r.firstChar._previous=r._previous.lastChar,r._previous.lastChar._next=r.firstChar),this._children.push(r),r._parent=this;var n=this.expandTime(r),s=n.startTime,a=n.endTime;this._data.startTime=s,this._data.endTime=a}},t.prototype.findIndex=function(r){if(r instanceof wd)return this._children.indexOf(r);if(r instanceof $c){for(var n=0,s=!1,a=0,o=this._children;a<o.length;a++){var l=o[a],d=l.findIndex(r);if(!(d<0)){n+=d,s=!0;break}n+=l.charCount}return s?n:-1}return-1},t.prototype.getType=function(){return ui.PHRASE},t}(bp);function Sa(i,t,r){if(!i||i.length<=0)return null;var n=Pa.sortedIndex(i,t,function(o){return o.endTime});if(n<0)return null;if(r&&"endTime"in r&&typeof r.endTime=="number"){n>=i.length&&(n=i.length-1);var s=t,a=r.endTime;return i[n].overlaps(s,a)?i[n]:n<1?null:i[n-1].overlaps(s,a)?i[n-1]:null}return n>=i.length?null:r&&"loose"in r&&r.loose||i[n].contains(t)?i[n]:null}function wa(i,t,r){if(!i||i.length<=0)return{current:null,entered:[],left:[],previous:null,next:null};var n=Pa.sortedIndex(i,t,function(y){return y.startTime});n<i.length&&i[n].startTime===t&&n++;var s,a,o,l=n-1<0?-1:i[n-1].startTime<=t&&i[n-1].endTime>t?n-2:n-1,d=Pa.sortedIndex(i,r,function(y){return y.endTime});d>=i.length?(s=-1,a=-1,o=i[d-1].endTime>t?i.length:0):(i[d].startTime>r?(s=-1,a=d):d+1>=i.length||i[d+1].startTime>r?(s=i[d].endTime>r&&i[d].startTime<=r?d:-1,a=d+1):(s=d+1,a=d+2),o=i[d].endTime<=r?d+1:d);var p=l>=0?i[l]:null,g=a>=0&&a<i.length?i[a]:null;return{current:s>=0?i[s]:null,entered:i.slice(n,a),left:i.slice(l+1,o),previous:p,next:g}}var PR=function(i){function t(r){var n=i.call(this)||this;return n._credits=[],n._phrases=[],n._graphics=[],n.data=r||{},n.createUnits(),n}return Io(t,i),Object.defineProperty(t.prototype,"credits",{get:function(){return this._credits.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"phrases",{get:function(){return this._phrases.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"words",{get:function(){return this._phrases.reduce(function(r,n){return r.splice.apply(r,H2([r.length,0],n._children,!1)),r},[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chars",{get:function(){return this.words.reduce(function(r,n){return r.splice.apply(r,H2([r.length,0],n._children,!1)),r},[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"graphics",{get:function(){return this._graphics.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rendering",{get:function(){return this._runtime.rendering},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this.data.duration||0},set:function(r){this.data.duration=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this.data.startTime||0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return this.data.endTime||0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creditCount",{get:function(){return this._credits.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"phraseCount",{get:function(){return this._phrases.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"graphicCount",{get:function(){return this._graphics.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordCount",{get:function(){return this._phrases.reduce(function(r,n){return r+n.wordCount},0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"charCount",{get:function(){return this._phrases.reduce(function(r,n){return r+n.charCount},0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstCredit",{get:function(){return this._credits.length<=0?null:this._credits[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastCredit",{get:function(){return this._credits.length<=0?null:this._credits[this._credits.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstPhrase",{get:function(){return this._phrases.length<=0?null:this._phrases[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastPhrase",{get:function(){return this._phrases.length<=0?null:this._phrases[this._phrases.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstWord",{get:function(){var r;return((r=this.firstPhrase)===null||r===void 0?void 0:r.firstWord)||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastWord",{get:function(){var r;return((r=this.lastPhrase)===null||r===void 0?void 0:r.lastWord)||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstChar",{get:function(){var r;return((r=this.firstWord)===null||r===void 0?void 0:r.firstChar)||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChar",{get:function(){var r;return((r=this.lastWord)===null||r===void 0?void 0:r.lastChar)||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstGraphic",{get:function(){return this._graphics.length<=0?null:this._graphics[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastGraphic",{get:function(){return this._graphics.length<=0?null:this._graphics[this._graphics.length-1]},enumerable:!1,configurable:!0}),t.prototype.createUnits=function(){var r,n,s=this;Array.isArray(this.data.credits)?(this.data.credits.sort(cm),this.data.credits.forEach(function(a){return s.doAddCredit(new Ru(s,a),!1)}),this.organizeTimings((r=this.firstCredit)===null||r===void 0?void 0:r.firstChar)):this.data.credits=[],Array.isArray(this.data.phrases)?(this.data.phrases.sort(cm),this.data.phrases.forEach(function(a){return s.doAddPhrase(new Ru(s,a),!1)}),this.organizeTimings((n=this.firstPhrase)===null||n===void 0?void 0:n.firstChar)):this.data.phrases=[],Array.isArray(this.data.graphics)?(this.data.graphics.sort(cm),this.data.graphics.forEach(function(a){return s.doAddGraphic(new ly(a),!1)})):this.data.graphics=[]},t.prototype.organizeTimings=function(r){for(;r;)r.startTime===r.endTime&&r.maximize(),r=r.next},t.prototype.exportData=function(r){this.updateTemplateData(r);for(var n=t.exportUnitData(this.data.credits,!0),s=n.units,a=n.templateClasses,o=t.exportUnitData(this.data.phrases,!1),l=o.units,d=o.templateClasses,p=t.exportUnitData(this.data.graphics,!0),g=p.units,y=p.templateClasses,x=a.concat(d,y).filter(function(R,F,T){return T.indexOf(R)===F}),S={};x.length>0;){var _=x.shift(),w=r.getByName(_);if(w){S[_]=w.id;for(var A=0,P=r.getRequiredTemplates(w.script);A<P.length;A++){var D=P[A];S[D]||x.push(D)}}else console.log("template class not found",_)}return{credits:s,phrases:l,graphics:g,templateClasses:S}},t.exportUnitData=function(r,n){if(n===void 0&&(n=!1),!r)return{units:[],templateClasses:[]};for(var s=[],a=[],o=0,l=r;o<l.length;o++){var d=l[o],p={templates:d.templates?d.templates.map(function(D){var R=D.type;a.push(R);var F={};return Object.keys(D.value).forEach(function(T){var U=D.value[T];F[T]=typeof U=="object"?Object.assign({},U):U}),{type:R,value:F}}):[]},g=void 0;if(d.words){var y=d,x=t.exportUnitData(y.words);p.words=x.units,g=x.templateClasses}else if(d.characters){var S=d,_=t.exportUnitData(S.characters);p.characters=_.units,g=_.templateClasses}else{for(var w=0,A=["fontFamily","fontSize","fontStyle"];w<A.length;w++){var P=A[w];d[P]&&(p[P]=d[P])}g=[]}n&&(p.startTime=d.startTime,p.endTime=d.endTime),s.push(p),a=a.concat(g)}return{units:s,templateClasses:a=a.filter(function(D,R,F){return F.indexOf(D)===R})}},t.prototype.updateTemplateData=function(r){t.updateTemplateDataForUnits(r,this.firstCredit,this.data.credits),t.updateTemplateDataForUnits(r,this.firstPhrase,this.data.phrases),t.updateTemplateDataForUnits(r,this.firstGraphic,this.data.graphics)},t.updateTemplateDataForUnits=function(r,n,s){if(n&&s)for(var a=0,o=s;a<o.length;a++){var l=o[a];l.templates=[];for(var d=0;d<n.templateCount;d++){var p=n.getTemplate(d),g=r.exportInstance(p);l.templates.push(g)}if(l.words){var y=l;t.updateTemplateDataForUnits(r,n.children[0],y.words)}else if(l.characters){var x=l;t.updateTemplateDataForUnits(r,n.children[0],x.characters)}n=n.next}},t.prototype.addCredit=function(r){this.doAddCredit(r,!0)},t.prototype.doAddCredit=function(r,n){var s=this.addRenderingUnit(this._credits,r);n&&this.data.credits.splice(s,0,r._data),this._runtime&&this._runtime.addCredit(r)},t.prototype.addPhrase=function(r){this.doAddPhrase(r,!0)},t.prototype.doAddPhrase=function(r,n){var s=this.addRenderingUnit(this._phrases,r);n&&this.data.phrases.splice(s,0,r._data),this._runtime&&this._runtime.addPhrase(r)},t.prototype.addGraphic=function(r){this.doAddGraphic(r,!0)},t.prototype.doAddGraphic=function(r,n){if(r){var s=this.addRenderingUnit(this._graphics,r);n&&this.data.graphics.splice(s,0,r._data),this._runtime&&this._runtime.addGraphic(r)}},t.prototype.addRenderingUnit=function(r,n){if(n){var s=Pa.sortedIndex(r,n,q2),a=s>0?r[s-1]:null,o=s<r.length?r[s]:null;if(r.splice(s,0,n),a&&(n._previous=a,n._previous._next=n),o&&(o._previous=n,n._next=o),n instanceof Ru&&n.wordCount>0){for(var l=a;l&&!l.lastWord;)l=l.previous;for(var d=o;d&&!d.firstWord;)d=d.next;if(l&&(n.firstWord._previous=l.lastWord,l.lastWord._next=n.firstWord),d&&(n.lastWord._next=d.firstWord,d.firstWord._previous=n.lastWord),n.charCount>0){for(var p=l==null?void 0:l.lastWord;p&&p.lastChar===null;)p=p.previous;for(var g=d==null?void 0:d.firstWord;g&&g.firstChar===null;)g=g.next;p&&(n.firstChar._previous=p.lastChar,p.lastChar._next=n.firstChar),g&&(n.lastChar._next=g.firstChar,g.firstChar._previous=n.lastChar)}}return this.updateStartAndEndTime(),s}},t.prototype.removeCredit=function(r){var n=this.removeRenderingUnit(this._credits,r);return!(n<0||(this.data.credits.splice(n,1),this._runtime&&this._runtime.removeCredit(r),0))},t.prototype.removeCredits=function(){var r=this;this._runtime&&this._credits.forEach(function(n){return r._runtime.removeCredit(n)}),this._credits=[],this.data.credits.splice(0,this.data.credits.length)},t.prototype.removePhrase=function(r){var n=this.removeRenderingUnit(this._phrases,r);return!(n<0||(this.data.phrases.splice(n,1),this._runtime&&this._runtime.removePhrase(r),0))},t.prototype.removePhrases=function(){var r=this;this._runtime&&this._phrases.forEach(function(n){return r._runtime.removePhrase(n)}),this._phrases=[],this.data.phrases.splice(0,this.data.phrases.length)},t.prototype.removeGraphic=function(r){var n=this.removeRenderingUnit(this._graphics,r);return!(n<0||(this.data.graphics.splice(n,1),this._runtime&&this._runtime.removeGraphic(r),0))},t.prototype.removeGraphics=function(){var r=this;this._runtime&&this._graphics.forEach(function(n){return r._runtime.removeGraphic(n)}),this._graphics=[],this.data.graphics.splice(0,this.data.graphics.length),this.rendering.reset()},t.prototype.removeRenderingUnit=function(r,n){var s=Pa.sortedIndex(r,n,q2);if(s<0||r[s]!==n)return-1;if(r.splice(s,1),n instanceof Ru){if(n.charCount>0){for(var a=n._previous;a&&a.lastChar===null;)a=a.previous;for(var o=n._next;o&&o.firstChar===null;)o=o.next;a&&o?(a.lastChar._next=o.firstChar,o.firstChar._previous=a.lastChar):a?a.lastChar._next=null:o&&(o.firstChar._previous=null)}if(n.wordCount>0){for(a=n._previous;a&&a.lastWord===null;)a=a.previous;for(o=n._next;o&&o.firstWord===null;)o=o.next;a&&o?(a.lastWord._next=o.firstWord,o.firstWord._previous=a.lastWord):a?a.lastWord._next=null:o&&(o.firstWord._previous=null)}}n._previous&&(n._previous._next=n._next),n._next&&(n._next._previous=n._previous),this.updateStartAndEndTime()},t.prototype.updateStartAndEndTime=function(){var r,n,s,a,o,l,d,p;this.data.endTime=Math.max(((n=(r=this.lastCredit)===null||r===void 0?void 0:r.lastChar)===null||n===void 0?void 0:n.endTime)||0,((s=this.lastChar)===null||s===void 0?void 0:s.endTime)||0,((a=this.lastGraphic)===null||a===void 0?void 0:a.endTime)||0);var g=(l=(o=this.firstCredit)===null||o===void 0?void 0:o.firstChar)===null||l===void 0?void 0:l.startTime,y=(d=this.firstChar)===null||d===void 0?void 0:d.startTime,x=(p=this.firstGraphic)===null||p===void 0?void 0:p.startTime;this.data.startTime=Math.min(typeof g=="number"?g:Number.MAX_VALUE,typeof y=="number"?y:Number.MAX_VALUE,typeof x=="number"?x:Number.MAX_VALUE,this.data.endTime)},t.prototype.findIndex=function(r){if(r instanceof Ru)return(n=this._phrases.indexOf(r))>=0?n:this._credits.indexOf(r);if(r instanceof wd){for(var n=0,s=!1,a=0,o=this._phrases;a<o.length;a++){if(!((g=(p=o[a]).findIndex(r))<0)){n+=g,s=!0;break}n+=p.wordCount}return s?n:-1}if(r instanceof $c){n=0,s=!1;for(var l=0,d=this._phrases;l<d.length;l++){var p,g;if(!((g=(p=d[l]).findIndex(r))<0)){n+=g,s=!0;break}n+=p.charCount}return s?n:-1}return r instanceof ly?this._graphics.indexOf(r):-1},t.prototype.getCredit=function(r){return r<0||r>=this._credits.length?null:this._credits[r]},t.prototype.getPhrase=function(r){return r<0||r>=this._phrases.length?null:this._phrases[r]},t.prototype.getWord=function(r){if(r<0)return null;for(var n=0,s=this.firstPhrase;;){if(!s)return null;if(n+s.children.length>r)break;n+=s.children.length,s=s.next}return s.children[r-n]},t.prototype.getChar=function(r){if(r<0)return null;for(var n=0,s=this.firstWord;;){if(!s)return null;if(n+s.children.length>r)break;n+=s.children.length,s=s.next}return s.children[r-n]},t.prototype.getGraphic=function(r){return r<0||r>=this._graphics.length?null:this._graphics[r]},t.prototype.findCredit=function(r,n){return Sa(this._credits,r,n)},t.prototype.findCreditChange=function(r,n){return wa(this._credits,r,n)},t.prototype.findPhrase=function(r,n){return Sa(this._phrases,r,n)},t.prototype.findPhraseChange=function(r,n){return wa(this._phrases,r,n)},t.prototype.findWord=function(r,n){var s=this.findPhrase(r,n);return s?Sa(s._children,r,n):null},t.prototype.findWordChange=function(r,n){return wa(this.words,r,n)},t.prototype.findChar=function(r,n){var s=this.findWord(r,n);return s?Sa(s._children,r,n):null},t.prototype.findCharChange=function(r,n){return wa(this.chars,r,n)},t.prototype.findGraphic=function(r,n){return Sa(this._graphics,r,n)},t.prototype.findGraphicChange=function(r,n){return wa(this._graphics,r,n)},t}(vC);function cm(i,t){return i.startTime-t.startTime}function q2(i){return i.startTime}var bC=function(){function i(t,r,n,s,a,o){t===void 0&&(t=1),r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=1),a===void 0&&(a=0),o===void 0&&(o=0),this.setValues(t,r,n,s,a,o)}return i.prototype.setValues=function(t,r,n,s,a,o){return t===void 0&&(t=1),r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=1),a===void 0&&(a=0),o===void 0&&(o=0),this.a=t,this.b=r,this.c=n,this.d=s,this.tx=a,this.ty=o,this},i.prototype.append=function(t,r,n,s,a,o){var l=this.a,d=this.b,p=this.c,g=this.d;return t==1&&r==0&&n==0&&s==1||(this.a=l*t+p*r,this.b=d*t+g*r,this.c=l*n+p*s,this.d=d*n+g*s),this.tx=l*a+p*o+this.tx,this.ty=d*a+g*o+this.ty,this},i.prototype.prepend=function(t,r,n,s,a,o){var l=this.a,d=this.c,p=this.tx;return this.a=t*l+n*this.b,this.b=r*l+s*this.b,this.c=t*d+n*this.d,this.d=r*d+s*this.d,this.tx=t*p+n*this.ty+a,this.ty=r*p+s*this.ty+o,this},i.prototype.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)},i.prototype.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)},i.prototype.appendTransform=function(t,r,n,s,a,o,l,d,p){var g,y,x;return a%360?(g=a*i.DEG_TO_RAD,y=Math.cos(g),x=Math.sin(g)):(y=1,x=0),o||l?(o*=i.DEG_TO_RAD,l*=i.DEG_TO_RAD,this.append(Math.cos(l),Math.sin(l),-Math.sin(o),Math.cos(o),t,r),this.append(y*n,x*n,-x*s,y*s,0,0)):this.append(y*n,x*n,-x*s,y*s,t,r),(d||p)&&(this.tx-=d*this.a+p*this.c,this.ty-=d*this.b+p*this.d),this},i.prototype.prependTransform=function(t,r,n,s,a,o,l,d,p){var g,y,x;return a%360?(g=a*i.DEG_TO_RAD,y=Math.cos(g),x=Math.sin(g)):(y=1,x=0),(d||p)&&(this.tx-=d,this.ty-=p),o||l?(o*=i.DEG_TO_RAD,l*=i.DEG_TO_RAD,this.prepend(y*n,x*n,-x*s,y*s,0,0),this.prepend(Math.cos(l),Math.sin(l),-Math.sin(o),Math.cos(o),t,r)):this.prepend(y*n,x*n,-x*s,y*s,t,r),this},i.prototype.rotate=function(t){t*=i.DEG_TO_RAD;var r=Math.cos(t),n=Math.sin(t),s=this.a,a=this.b;return this.a=s*r+this.c*n,this.b=a*r+this.d*n,this.c=-s*n+this.c*r,this.d=-a*n+this.d*r,this},i.prototype.skew=function(t,r){return t*=i.DEG_TO_RAD,r*=i.DEG_TO_RAD,this.append(Math.cos(r),Math.sin(r),-Math.sin(t),Math.cos(t),0,0),this},i.prototype.scale=function(t,r){return this.a*=t,this.b*=t,this.c*=r,this.d*=r,this},i.prototype.translate=function(t,r){return this.tx+=this.a*t+this.c*r,this.ty+=this.b*t+this.d*r,this},i.prototype.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},i.prototype.invert=function(){var t=this.a,r=this.b,n=this.c,s=this.d,a=this.tx,o=t*s-r*n;return this.a=s/o,this.b=-r/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-s*a)/o,this.ty=-(t*this.ty-r*a)/o,this},i.prototype.isIdentity=function(){return this.tx===0&&this.ty===0&&this.a===1&&this.b===0&&this.c===0&&this.d===1},i.prototype.equals=function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},i.prototype.transformPoint=function(t,r,n){return n.x=t*this.a+r*this.c+this.tx,n.y=t*this.b+r*this.d+this.ty,n},i.prototype.decompose=function(t){t===void 0&&(t={}),t.x=this.tx,t.y=this.ty,t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var r=Math.atan2(-this.c,this.d),n=Math.atan2(this.b,this.a);return Math.abs(1-r/n)<1e-5?(t.rotation=n/i.DEG_TO_RAD,this.a<0&&this.d>=0&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=r/i.DEG_TO_RAD,t.skewY=n/i.DEG_TO_RAD),t},i.prototype.copy=function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)},i.prototype.clone=function(){return new i(this.a,this.b,this.c,this.d,this.tx,this.ty)},i.prototype.toString=function(){return"[".concat(this.constructor.name," (a=").concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,")]")},i.DEG_TO_RAD=Math.PI/180,i.identity=new i,i}(),LR=function(){function i(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this.setValues(t,r)}return i.prototype.setValues=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=0),this.x=t,this.y=r,this},i.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.toString=function(){return"[".concat(this.constructor.name," (x=").concat(this.x," y=").concat(this.y,")]")},i}(),Sc=function(){function i(){this.tx=new bC,this.alpha=0,this.composite="",this.visible=!0}return i.prototype.reset=function(){},i}(),IR=function(){function i(){this.rendering=new Sc}return i.prototype.addCredit=function(t){this.doAddPhrase(t)},i.prototype.removeCredit=function(t){t._runtime=null},i.prototype.addPhrase=function(t){this.doAddPhrase(t)},i.prototype.removePhrase=function(t){t._runtime=null},i.prototype.doAddPhrase=function(t){t._runtime={graphics:{clear:function(){}},rendering:new Sc,update:function(){}};for(var r=t.firstWord;r;){r._runtime={graphics:{clear:function(){}},rendering:new Sc,update:function(){}};for(var n=r.firstChar;n&&(n._runtime={graphics:{clear:function(){}},rendering:new Sc,update:function(){},advance:0,ascent:0,descent:0,onFontUpdate:function(){},onColorUpdate:function(){}},n!==r.lastChar);)n=n.next;if(r===t.lastWord)break;r=r.next}},i.prototype.addGraphic=function(t){t._runtime={graphics:{clear:function(){}},rendering:new Sc,update:function(){}}},i.prototype.removeGraphic=function(t){t._runtime=null},i}(),BR=function(){function i(){this.wrapperTable={}}return i.prototype.isGraphics=function(){return!1},i.prototype.setCanvas=function(){return Promise.resolve()},i.prototype.createRuntime=function(t){return function(r,n,s,a){return new(s||(s=Promise))(function(o,l){function d(y){try{g(a.next(y))}catch(x){l(x)}}function p(y){try{g(a.throw(y))}catch(x){l(x)}}function g(y){var x;y.done?o(y.value):(x=y.value,x instanceof s?x:new s(function(S){S(x)})).then(d,p)}g((a=a.apply(r,[])).next())})}(this,0,void 0,function(){var r,n,s;return function(a,o){var l,d,p,g,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(S){return function(_){return function(w){if(l)throw new TypeError("Generator is already executing.");for(;g&&(g=0,w[0]&&(y=0)),y;)try{if(l=1,d&&(p=2&w[0]?d.return:w[0]?d.throw||((p=d.return)&&p.call(d),0):d.next)&&!(p=p.call(d,w[1])).done)return p;switch(d=0,p&&(w=[2&w[0],p.value]),w[0]){case 0:case 1:p=w;break;case 4:return y.label++,{value:w[1],done:!1};case 5:y.label++,d=w[1],w=[0];continue;case 7:w=y.ops.pop(),y.trys.pop();continue;default:if(!((p=(p=y.trys).length>0&&p[p.length-1])||w[0]!==6&&w[0]!==2)){y=0;continue}if(w[0]===3&&(!p||w[1]>p[0]&&w[1]<p[3])){y.label=w[1];break}if(w[0]===6&&y.label<p[1]){y.label=p[1],p=w;break}if(p&&y.label<p[2]){y.label=p[2],y.ops.push(w);break}p[2]&&y.ops.pop(),y.trys.pop();continue}w=o.call(a,y)}catch(A){w=[6,A],d=0}finally{l=p=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([S,_])}}}(this,function(a){for(this.video=t,t._runtime=new IR,r=t.firstCredit;r;)t._runtime.addCredit(r),r=r.next;for(n=t.firstPhrase;n;)t._runtime.addPhrase(n),n=n.next;for(s=t.firstGraphic;s;)t._runtime.addGraphic(s),s=s.next;return[2,t._runtime]})})},i.prototype.reset=function(){var t,r;this.resetTextUnitsFrom(this.video.firstCredit),this.resetTextUnitsFrom((t=this.video.firstCredit)===null||t===void 0?void 0:t.firstWord),this.resetTextUnitsFrom((r=this.video.firstCredit)===null||r===void 0?void 0:r.firstChar),this.resetTextUnitsFrom(this.video.firstPhrase),this.resetTextUnitsFrom(this.video.firstWord),this.resetTextUnitsFrom(this.video.firstChar),this.video._runtime.rendering.reset()},i.prototype.resetTextUnitsFrom=function(t){for(;t;)t.rendering.reset(),t.graphics.clear(),t=t.next},i.prototype.update=function(){var t,r;this.updateCharsFrom((t=this.video.firstCredit)===null||t===void 0?void 0:t.firstChar),this.updateCharsFrom((r=this.video.firstPhrase)===null||r===void 0?void 0:r.firstChar)},i.prototype.updateCharsFrom=function(t){for(;t;)t._runtime.update(),t=t.next},i.prototype.updateStageTx=function(){},i}();function UR(i){if(i!==void 0&&typeof i!="function"){if(typeof i!="object")return i;if(i===null)return null;if(i instanceof Dh)return{type:"Color",value:{r:i.r,g:i.g,b:i.b,a:i.a}};throw new Error}}function VR(i,t){if(typeof i!="object"||i===null)return i;if(i.type&&(t[i.type]||i.type==="Color")){var r;if(i.type==="Color"){var n=new Dh;n.r=Number(i.value.r),n.g=Number(i.value.g),n.b=Number(i.value.b),n.a=Number(i.value.a),r=n}else{for(var s=new t[i.type],a=0,o=Object.keys(i.value);a<o.length;a++){var l=o[a];s[l]=i.value[l]}r=s}return r}}var jt,St,Qu,cy,Ve,Cn,kc,pv,gv,qt,js,Th,wo,Bs,mv,zs,yv,Pc,Jr,li,ts=function(i,t){return St=String(i),Qu=St.length,function(r){for(var n in jt=r||{},$2)Object.prototype.hasOwnProperty.call(jt,n)||(jt[n]=$2[n]);cy=jt.sourceFile||null}(t),wo=1,Ve=Bs=0,Th=!0,Xc(),function(r){mv=zs=Ve,jt.locations&&(yv=new Eo),Pc=li=null,Jr=[],tl();var n=r||En(),s=!0;for(r||(n.body=[]);qt!==bv;){var a=Li();n.body.push(a),s&&wv(a)&&yy(!0),s=!1}return zt(n,"Program")}(jt.program)},$2={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},jR=function(i,t){for(var r=1,n=0;;){Cd.lastIndex=n;var s=Cd.exec(i);if(!(s&&s.index<t))break;++r,n=s.index+s[0].length}return{line:r,column:t-n}};function nr(i,t){var r=jR(St,i);t+=" ("+r.line+":"+r.column+")";var n=new SyntaxError(t);throw n.pos=i,n.loc=r,n.raisedAt=Ve,n}var xC=[],xp={type:"num"},_C={type:"regexp"},vv={type:"string"},Ju={type:"name"},bv={type:"eof"},hy={keyword:"break"},fy={keyword:"case",beforeExpr:!0},SC={keyword:"catch"},wC={keyword:"continue"},EC={keyword:"debugger"},CC={keyword:"default"},AC={keyword:"do",isLoop:!0},DC={keyword:"else",beforeExpr:!0},TC={keyword:"finally"},NC={keyword:"for",isLoop:!0},xv={keyword:"function"},OC={keyword:"if"},FC={keyword:"return",beforeExpr:!0},dy={keyword:"switch"},RC={keyword:"throw",beforeExpr:!0},MC={keyword:"try"},py={keyword:"var"},gy={keyword:"while",isLoop:!0},kC={keyword:"with"},PC={keyword:"new",beforeExpr:!0},LC={keyword:"this"},IC={keyword:"null",atomValue:null},BC={keyword:"true",atomValue:!0},UC={keyword:"false",atomValue:!1},Ed={keyword:"in",binop:7,beforeExpr:!0},zR={break:hy,case:fy,catch:SC,continue:wC,debugger:EC,default:CC,do:AC,else:DC,finally:TC,for:NC,function:xv,if:OC,return:FC,switch:dy,throw:RC,try:MC,var:py,while:gy,with:kC,null:IC,true:BC,false:UC,new:PC,in:Ed,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:LC,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},_v={type:"[",beforeExpr:!0},Sv={type:"]"},Wc={type:"{",beforeExpr:!0},el={type:"}"},Us={type:"(",beforeExpr:!0},ss={type:")"},La={type:",",beforeExpr:!0},ks={type:";",beforeExpr:!0},Yc={type:":",beforeExpr:!0},VC={type:"."},jC={type:"?",beforeExpr:!0},zC={binop:10,beforeExpr:!0},GC={isAssign:!0,beforeExpr:!0},lo={isAssign:!0,beforeExpr:!0},GR={postfix:!0,prefix:!0,isUpdate:!0},W2={prefix:!0,beforeExpr:!0},HC={binop:1,beforeExpr:!0},qC={binop:2,beforeExpr:!0},HR={binop:3,beforeExpr:!0},qR={binop:4,beforeExpr:!0},$R={binop:5,beforeExpr:!0},WR={binop:6,beforeExpr:!0},YR={binop:7,beforeExpr:!0},XR={binop:8,beforeExpr:!0},ZR={binop:9,prefix:!0,beforeExpr:!0},KR={binop:10,beforeExpr:!0};function Nh(i){i=i.split(" ");var t="",r=[];e:for(var n=0;n<i.length;++n){for(var s=0;s<r.length;++s)if(r[s][0].length==i[n].length){r[s].push(i[n]);continue e}r.push([i[n]])}function a(l){if(l.length==1)return t+="return str === "+JSON.stringify(l[0])+";";t+="switch(str){";for(var d=0;d<l.length;++d)t+="case "+JSON.stringify(l[d])+":";t+="return true}return false;"}if(r.length>3){for(r.sort(function(l,d){return d.length-l.length}),t+="switch(str.length){",n=0;n<r.length;++n){var o=r[n];t+="case "+o[0].length+":",a(o)}t+="}"}else a(i);return new Function("str",t)}var Mu,QR=Nh("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),JR=Nh("class enum extends super const export import"),$C=Nh("implements interface let package private protected public static yield"),_p=Nh("eval arguments"),e4=Nh("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),t4=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,WC="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",YC=new RegExp("["+WC+"]"),r4=new RegExp("["+WC+"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"),Sp=/[\n\r\u2028\u2029]/,Cd=/\r\n|[\n\r\u2028\u2029]/g,Ad=function(i){return i<65?i===36:i<91||(i<97?i===95:i<123||i>=170&&YC.test(String.fromCharCode(i)))},Y2=function(i){return i<48?i===36:i<58||!(i<65)&&(i<91||(i<97?i===95:i<123||i>=170&&r4.test(String.fromCharCode(i))))};function Eo(){this.line=wo,this.column=Ve-Bs}function yn(i,t){kc=Ve,jt.locations&&(gv=new Eo),qt=i,Xc(),js=t,Th=i.beforeExpr}function n4(){var i,t=jt.onComment&&jt.locations&&new Eo,r=Ve,n=St.indexOf("*/",Ve+=2);if(n===-1&&nr(Ve-2,"Unterminated comment"),Ve=n+2,jt.locations)for(Cd.lastIndex=r;(i=Cd.exec(St))&&i.index<Ve;)++wo,Bs=i.index+i[0].length;jt.onComment&&jt.onComment(!0,St.slice(r+2,n),r,Ve,t,jt.locations&&new Eo)}function my(){for(var i=Ve,t=jt.onComment&&jt.locations&&new Eo,r=St.charCodeAt(Ve+=2);Ve<Qu&&r!==10&&r!==13&&r!==8232&&r!==8233;)++Ve,r=St.charCodeAt(Ve);jt.onComment&&jt.onComment(!1,St.slice(i+2,Ve),i,Ve,t,jt.locations&&new Eo)}function Xc(){for(;Ve<Qu;){var i=St.charCodeAt(Ve);if(i===32)++Ve;else if(i===13)++Ve,(t=St.charCodeAt(Ve))===10&&++Ve,jt.locations&&(++wo,Bs=Ve);else if(i===10||i===8232||i===8233)++Ve,jt.locations&&(++wo,Bs=Ve);else if(i>8&&i<14)++Ve;else if(i===47){var t;if((t=St.charCodeAt(Ve+1))===42)n4();else{if(t!==47)break;my()}}else if(i===160)++Ve;else{if(!(i>=5760&&t4.test(String.fromCharCode(i))))break;++Ve}}}function tl(i){if(i?Ve=Cn+1:Cn=Ve,jt.locations&&(pv=new Eo),i)return X2();if(Ve>=Qu)return yn(bv);var t=St.charCodeAt(Ve);if(Ad(t)||t===92)return K2();var r=function(s){switch(s){case 46:return function(){var o=St.charCodeAt(Ve+1);return o>=48&&o<=57?Z2(!0):(++Ve,yn(VC))}();case 40:return++Ve,yn(Us);case 41:return++Ve,yn(ss);case 59:return++Ve,yn(ks);case 44:return++Ve,yn(La);case 91:return++Ve,yn(_v);case 93:return++Ve,yn(Sv);case 123:return++Ve,yn(Wc);case 125:return++Ve,yn(el);case 58:return++Ve,yn(Yc);case 63:return++Ve,yn(jC);case 48:var a=St.charCodeAt(Ve+1);if(a===120||a===88)return function(){Ve+=2;var o=Lc(16);return o==null&&nr(Cn+2,"Expected hexadecimal number"),Ad(St.charCodeAt(Ve))&&nr(Ve,"Identifier directly after number"),yn(xp,o)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Z2(!1);case 34:case 39:return function(o){Ve++;for(var l="";;){Ve>=Qu&&nr(Cn,"Unterminated string constant");var d=St.charCodeAt(Ve);if(d===o)return++Ve,yn(vv,l);if(d===92){d=St.charCodeAt(++Ve);var p=/^[0-7]+/.exec(St.slice(Ve,Ve+3));for(p&&(p=p[0]);p&&parseInt(p,8)>255;)p=p.slice(0,-1);if(p==="0"&&(p=null),++Ve,p)li&&nr(Ve-2,"Octal literal in strict mode"),l+=String.fromCharCode(parseInt(p,8)),Ve+=p.length-1;else switch(d){case 110:l+=`
`;break;case 114:l+="\r";break;case 120:l+=String.fromCharCode(dd(2));break;case 117:l+=String.fromCharCode(dd(4));break;case 85:l+=String.fromCharCode(dd(8));break;case 116:l+="	";break;case 98:l+="\b";break;case 118:l+="\v";break;case 102:l+="\f";break;case 48:l+="\0";break;case 13:St.charCodeAt(Ve)===10&&++Ve;case 10:jt.locations&&(Bs=Ve,++wo);break;default:l+=String.fromCharCode(d)}}else d!==13&&d!==10&&d!==8232&&d!==8233||nr(Cn,"Unterminated string constant"),l+=String.fromCharCode(d),++Ve}}(s);case 47:return function(o){var l=St.charCodeAt(Ve+1);return Th?(++Ve,X2()):l===61?mn(lo,2):mn(zC,1)}();case 37:case 42:return St.charCodeAt(Ve+1)===61?mn(lo,2):mn(KR,1);case 124:case 38:return function(o){var l=St.charCodeAt(Ve+1);return l===o?mn(o===124?HC:qC,2):l===61?mn(lo,2):mn(o===124?HR:$R,1)}(s);case 94:return St.charCodeAt(Ve+1)===61?mn(lo,2):mn(qR,1);case 43:case 45:return function(o){var l=St.charCodeAt(Ve+1);return l===o?l==45&&St.charCodeAt(Ve+2)==62&&Sp.test(St.slice(zs,Ve))?(Ve+=3,my(),Xc(),tl()):mn(GR,2):l===61?mn(lo,2):mn(ZR,1)}(s);case 60:case 62:return function(o){var l=St.charCodeAt(Ve+1),d=1;return l===o?(d=o===62&&St.charCodeAt(Ve+2)===62?3:2,St.charCodeAt(Ve+d)===61?mn(lo,d+1):mn(XR,d)):l==33&&o==60&&St.charCodeAt(Ve+2)==45&&St.charCodeAt(Ve+3)==45?(Ve+=4,my(),Xc(),tl()):(l===61&&(d=St.charCodeAt(Ve+2)===61?3:2),mn(YR,d))}(s);case 61:case 33:return function(o){return St.charCodeAt(Ve+1)===61?mn(WR,St.charCodeAt(Ve+2)===61?3:2):mn(o===61?GC:W2,1)}(s);case 126:return mn(W2,1)}return!1}(t);if(r===!1){var n=String.fromCharCode(t);if(n==="\\"||YC.test(n))return K2();nr(Ve,"Unexpected character '"+n+"'")}return r}function mn(i,t){var r=St.slice(Ve,Ve+t);Ve+=t,yn(i,r)}function X2(){for(var i,t,r=Ve;;){Ve>=Qu&&nr(r,"Unterminated regular expression");var n=St.charAt(Ve);if(Sp.test(n)&&nr(r,"Unterminated regular expression"),i)i=!1;else{if(n==="[")t=!0;else if(n==="]"&&t)t=!1;else if(n==="/"&&!t)break;i=n==="\\"}++Ve}var s=St.slice(r,Ve);++Ve;var a=XC();return a&&!/^[gmsiy]*$/.test(a)&&nr(r,"Invalid regexp flag"),yn(_C,new RegExp(s,a))}function Lc(i,t){for(var r=Ve,n=0,s=0,a=t??1/0;s<a;++s){var o,l=St.charCodeAt(Ve);if((o=l>=97?l-97+10:l>=65?l-65+10:l>=48&&l<=57?l-48:1/0)>=i)break;++Ve,n=n*i+o}return Ve===r||t!=null&&Ve-r!==t?null:n}function Z2(i){var t=Ve,r=!1,n=St.charCodeAt(Ve)===48;i||Lc(10)!==null||nr(t,"Invalid number"),St.charCodeAt(Ve)===46&&(++Ve,Lc(10),r=!0);var s=St.charCodeAt(Ve);s!==69&&s!==101||((s=St.charCodeAt(++Ve))!==43&&s!==45||++Ve,Lc(10)===null&&nr(t,"Invalid number"),r=!0),Ad(St.charCodeAt(Ve))&&nr(Ve,"Identifier directly after number");var a,o=St.slice(t,Ve);return r?a=parseFloat(o):n&&o.length!==1?/[89]/.test(o)||li?nr(t,"Invalid number"):a=parseInt(o,8):a=parseInt(o,10),yn(xp,a)}function dd(i){var t=Lc(16,i);return t===null&&nr(Cn,"Bad character escape sequence"),t}function XC(){Mu=!1;for(var i,t=!0,r=Ve;;){var n=St.charCodeAt(Ve);if(Y2(n))Mu&&(i+=St.charAt(Ve)),++Ve;else{if(n!==92)break;Mu||(i=St.slice(r,Ve)),Mu=!0,St.charCodeAt(++Ve)!=117&&nr(Ve,"Expecting Unicode escape sequence \\uXXXX"),++Ve;var s=dd(4),a=String.fromCharCode(s);a||nr(Ve-1,"Invalid Unicode escape"),(t?Ad(s):Y2(s))||nr(Ve-4,"Invalid Unicode escape"),i+=a}t=!1}return Mu?i:St.slice(r,Ve)}function K2(){var i=XC(),t=Ju;return Mu||(e4(i)?t=zR[i]:(jt.forbidReserved&&(jt.ecmaVersion===3?QR:JR)(i)||li&&$C(i))&&nr(Cn,"The keyword '"+i+"' is reserved")),yn(t,i)}function ur(){mv=Cn,zs=kc,yv=gv,tl()}function yy(i){if(li=i,Ve=zs,jt.locations)for(;Ve<Bs;)Bs=St.lastIndexOf(`
`,Bs-2)+1,--wo;Xc(),tl()}function ZC(){this.type=null,this.start=Cn,this.end=null}function KC(){this.start=pv,this.end=null,cy!==null&&(this.source=cy)}function En(){var i=new ZC;return jt.locations&&(i.loc=new KC),jt.directSourceFile&&(i.sourceFile=jt.directSourceFile),jt.ranges&&(i.range=[Cn,0]),i}function Fa(i){var t=new ZC;return t.start=i.start,jt.locations&&(t.loc=new KC,t.loc.start=i.loc.start),jt.ranges&&(t.range=[i.range[0],0]),t}function zt(i,t){return i.type=t,i.end=zs,jt.locations&&(i.loc.end=yv),jt.ranges&&(i.range[1]=zs),i}function wv(i){return jt.ecmaVersion>=5&&i.type==="ExpressionStatement"&&i.expression.type==="Literal"&&i.expression.value==="use strict"}function Pr(i){if(qt===i)return ur(),!0}function Dd(){return!jt.strictSemicolons&&(qt===bv||qt===el||Sp.test(St.slice(zs,Cn)))}function oo(){Pr(ks)||Dd()||Vs()}function tn(i){qt===i?ur():Vs()}function Vs(){nr(Cn,"Unexpected token")}function Td(i){i.type!=="Identifier"&&i.type!=="MemberExpression"&&nr(i.start,"Assigning to rvalue"),li&&i.type==="Identifier"&&_p(i.name)&&nr(i.start,"Assigning to "+i.name+" in strict mode")}var hm={kind:"loop"},i4={kind:"switch"};function Li(){(qt===zC||qt===lo&&js=="/=")&&tl(!0);var i=qt,t=En();switch(i){case hy:case wC:ur();var r=i===hy;Pr(ks)||Dd()?t.label=null:qt!==Ju?Vs():(t.label=Ia(),oo());for(var n=0;n<Jr.length;++n){var s=Jr[n];if((t.label==null||s.name===t.label.name)&&(s.kind!=null&&(r||s.kind==="loop")||t.label&&r))break}return n===Jr.length&&nr(t.start,"Unsyntactic "+i.keyword),zt(t,r?"BreakStatement":"ContinueStatement");case EC:return ur(),oo(),zt(t,"DebuggerStatement");case AC:return ur(),Jr.push(hm),t.body=Li(),Jr.pop(),tn(gy),t.test=wc(),oo(),zt(t,"DoWhileStatement");case NC:if(ur(),Jr.push(hm),tn(Us),qt===ks)return fm(t,null);if(qt===py){var a=En();return ur(),J2(a,!0),zt(a,"VariableDeclaration"),a.declarations.length===1&&Pr(Ed)?Q2(t,a):fm(t,a)}return a=Fn(!1,!0),Pr(Ed)?(Td(a),Q2(t,a)):fm(t,a);case xv:return ur(),xy(t,!0);case OC:return ur(),t.test=wc(),t.consequent=Li(),t.alternate=Pr(DC)?Li():null,zt(t,"IfStatement");case FC:return Pc||nr(Cn,"'return' outside of function"),ur(),Pr(ks)||Dd()?t.argument=null:(t.argument=Fn(),oo()),zt(t,"ReturnStatement");case dy:ur(),t.discriminant=wc(),t.cases=[],tn(Wc),Jr.push(i4);for(var o,l;qt!=el;)if(qt===fy||qt===CC){var d=qt===fy;o&&zt(o,"SwitchCase"),t.cases.push(o=En()),o.consequent=[],ur(),d?o.test=Fn():(l&&nr(mv,"Multiple default clauses"),l=!0,o.test=null),tn(Yc)}else o||Vs(),o.consequent.push(Li());return o&&zt(o,"SwitchCase"),ur(),Jr.pop(),zt(t,"SwitchStatement");case RC:return ur(),Sp.test(St.slice(zs,Cn))&&nr(zs,"Illegal newline after throw"),t.argument=Fn(),oo(),zt(t,"ThrowStatement");case MC:if(ur(),t.block=Oc(),t.handler=null,qt===SC){var p=En();ur(),tn(Us),p.param=Ia(),li&&_p(p.param.name)&&nr(p.param.start,"Binding "+p.param.name+" in strict mode"),tn(ss),p.guard=null,p.body=Oc(),t.handler=zt(p,"CatchClause")}return t.guardedHandlers=xC,t.finalizer=Pr(TC)?Oc():null,t.handler||t.finalizer||nr(t.start,"Missing catch or finally clause"),zt(t,"TryStatement");case py:return ur(),J2(t),oo(),zt(t,"VariableDeclaration");case gy:return ur(),t.test=wc(),Jr.push(hm),t.body=Li(),Jr.pop(),zt(t,"WhileStatement");case kC:return li&&nr(Cn,"'with' in strict mode"),ur(),t.object=wc(),t.body=Li(),zt(t,"WithStatement");case Wc:return Oc();case ks:return ur(),zt(t,"EmptyStatement");default:var g=js,y=Fn();if(i===Ju&&y.type==="Identifier"&&Pr(Yc)){for(n=0;n<Jr.length;++n)Jr[n].name===g&&nr(y.start,"Label '"+g+"' is already declared");var x=qt.isLoop?"loop":qt===dy?"switch":null;return Jr.push({name:g,kind:x}),t.body=Li(),Jr.pop(),t.label=y,zt(t,"LabeledStatement")}return t.expression=y,oo(),zt(t,"ExpressionStatement")}}function wc(){tn(Us);var i=Fn();return tn(ss),i}function Oc(i){var t,r=En(),n=!0,s=!1;for(r.body=[],tn(Wc);!Pr(el);){var a=Li();r.body.push(a),n&&i&&wv(a)&&(t=s,yy(s=!0)),n=!1}return s&&!t&&yy(!1),zt(r,"BlockStatement")}function fm(i,t){return i.init=t,tn(ks),i.test=qt===ks?null:Fn(),tn(ks),i.update=qt===ss?null:Fn(),tn(ss),i.body=Li(),Jr.pop(),zt(i,"ForStatement")}function Q2(i,t){return i.left=t,i.right=Fn(),tn(ss),i.body=Li(),Jr.pop(),zt(i,"ForInStatement")}function J2(i,t){for(i.declarations=[],i.kind="var";;){var r=En();if(r.id=Ia(),li&&_p(r.id.name)&&nr(r.id.start,"Binding "+r.id.name+" in strict mode"),r.init=Pr(GC)?Fn(!0,t):null,i.declarations.push(zt(r,"VariableDeclarator")),!Pr(La))break}return i}function Fn(i,t){var r=vy(t);if(!i&&qt===La){var n=Fa(r);for(n.expressions=[r];Pr(La);)n.expressions.push(vy(t));return zt(n,"SequenceExpression")}return r}function vy(i){var t=function(n){var s=function(o){return by(Ev(),-1,o)}(n);if(Pr(jC)){var a=Fa(s);return a.test=s,a.consequent=Fn(!0),tn(Yc),a.alternate=Fn(!0,n),zt(a,"ConditionalExpression")}return s}(i);if(qt.isAssign){var r=Fa(t);return r.operator=js,r.left=t,ur(),r.right=vy(i),Td(t),zt(r,"AssignmentExpression")}return t}function by(i,t,r){var n=qt.binop;if(n!=null&&(!r||qt!==Ed)&&n>t){var s=Fa(i);s.left=i,s.operator=js;var a=qt;return ur(),s.right=by(Ev(),n,r),by(zt(s,a===HC||a===qC?"LogicalExpression":"BinaryExpression"),t,r)}return i}function Ev(){if(qt.prefix){var i=En(),t=qt.isUpdate;return i.operator=js,i.prefix=!0,Th=!0,ur(),i.argument=Ev(),t?Td(i.argument):li&&i.operator==="delete"&&i.argument.type==="Identifier"&&nr(i.start,"Deleting local variable in strict mode"),zt(i,t?"UpdateExpression":"UnaryExpression")}for(var r=Ic(Cv());qt.postfix&&!Dd();)(i=Fa(r)).operator=js,i.prefix=!1,i.argument=r,Td(r),ur(),r=zt(i,"UpdateExpression");return r}function Ic(i,t){var r;return Pr(VC)?((r=Fa(i)).object=i,r.property=Ia(!0),r.computed=!1,Ic(zt(r,"MemberExpression"),t)):Pr(_v)?((r=Fa(i)).object=i,r.property=Fn(),r.computed=!0,tn(Sv),Ic(zt(r,"MemberExpression"),t)):!t&&Pr(Us)?((r=Fa(i)).callee=i,r.arguments=_y(ss,!1),Ic(zt(r,"CallExpression"),t)):i}function Cv(){switch(qt){case LC:var i=En();return ur(),zt(i,"ThisExpression");case Ju:return Ia();case xp:case vv:case _C:return(i=En()).value=js,i.raw=St.slice(Cn,kc),ur(),zt(i,"Literal");case IC:case BC:case UC:return(i=En()).value=qt.atomValue,i.raw=qt.keyword,ur(),zt(i,"Literal");case Us:var t=pv,r=Cn;ur();var n=Fn();return n.start=r,n.end=kc,jt.locations&&(n.loc.start=t,n.loc.end=gv),jt.ranges&&(n.range=[r,kc]),tn(ss),n;case _v:return i=En(),ur(),i.elements=_y(Sv,!0,!0),zt(i,"ArrayExpression");case Wc:return function(){var s=En(),a=!0,o=!1;for(s.properties=[],ur();!Pr(el);){if(a)a=!1;else if(tn(La),jt.allowTrailingCommas&&Pr(el))break;var l,d={key:eS()},p=!1;if(Pr(Yc)?(d.value=Fn(!0),l=d.kind="init"):jt.ecmaVersion>=5&&d.key.type==="Identifier"&&(d.key.name==="get"||d.key.name==="set")?(p=o=!0,l=d.kind=d.key.name,d.key=eS(),qt!==Us&&Vs(),d.value=xy(En(),!1)):Vs(),d.key.type==="Identifier"&&(li||o))for(var g=0;g<s.properties.length;++g){var y=s.properties[g];if(y.key.name===d.key.name){var x=l==y.kind||p&&y.kind==="init"||l==="init"&&(y.kind==="get"||y.kind==="set");x&&!li&&l==="init"&&y.kind==="init"&&(x=!1),x&&nr(d.key.start,"Redefinition of property")}}s.properties.push(d)}return zt(s,"ObjectExpression")}();case xv:return i=En(),ur(),xy(i,!1);case PC:return function(){var s=En();return ur(),s.callee=Ic(Cv(),!0),Pr(Us)?s.arguments=_y(ss,!1):s.arguments=xC,zt(s,"NewExpression")}();default:Vs()}}function eS(){return qt===xp||qt===vv?Cv():Ia(!0)}function xy(i,t){qt===Ju?i.id=Ia():t?Vs():i.id=null,i.params=[];var r=!0;for(tn(Us);!Pr(ss);)r?r=!1:tn(La),i.params.push(Ia());var n=Pc,s=Jr;if(Pc=!0,Jr=[],i.body=Oc(!0),Pc=n,Jr=s,li||i.body.body.length&&wv(i.body.body[0]))for(var a=i.id?-1:0;a<i.params.length;++a){var o=a<0?i.id:i.params[a];if(($C(o.name)||_p(o.name))&&nr(o.start,"Defining '"+o.name+"' in strict mode"),a>=0)for(var l=0;l<a;++l)o.name===i.params[l].name&&nr(o.start,"Argument name clash in strict mode")}return zt(i,t?"FunctionDeclaration":"FunctionExpression")}function _y(i,t,r){for(var n=[],s=!0;!Pr(i);){if(s)s=!1;else if(tn(La),t&&jt.allowTrailingCommas&&Pr(i))break;r&&qt===La?n.push(null):n.push(Fn(!0))}return n}function Ia(i){var t=En();return t.name=qt===Ju?js:i&&!jt.forbidReserved&&qt.keyword||Vs(),Th=!1,ur(),zt(t,"Identifier")}var ns=function(){function i(t,r){var n,s=typeof t=="string"?ts(t,i.PARSE_OPTIONS):t;this.ast=s,this.initFunc_=r,this.paused_=!1,this.polyfills_=[],this.functionCounter_=0,this.stepFunctions_=Object.create(null);for(var a,o=/^step([A-Z]\w*)$/,l=Object.getOwnPropertyNames(i.prototype),d=0;d<l.length;d++){var p=l[d];typeof i.prototype[p]=="function"&&(a=p.match(o))&&(this.stepFunctions_[a[1]]=i.prototype[p].bind(this))}this.global=this.createScope(this.ast,null),this.ast=ts(this.polyfills_.join(`
`),i.PARSE_OPTIONS),this.polyfills_=void 0,this.stripLocations_(this.ast,void 0,void 0),(n=new Ct(this.ast,this.global)).done=!1,this.stateStack=[n],this.run(),this.value=void 0,this.ast=s,(n=new Ct(this.ast,this.global)).done=!1,this.stateStack.length=0,this.stateStack[0]=n,this.nodeConstructor=n.node.constructor,this.stateStack=this.stateStack,this.OBJECT=this.OBJECT,this.OBJECT_PROTO=this.OBJECT_PROTO,this.FUNCTION=this.FUNCTION,this.FUNCTION_PROTO=this.FUNCTION_PROTO,this.ARRAY=this.ARRAY,this.ARRAY_PROTO=this.ARRAY_PROTO,this.REGEXP=this.REGEXP,this.REGEXP_PROTO=this.REGEXP_PROTO,this.UNDEFINED=void 0,this.NULL=null,this.NAN=NaN,this.TRUE=!0,this.FALSE=!1,this.STRING_EMPTY="",this.NUMBER_ZERO=0,this.NUMBER_ONE=1}return i.prototype.wrap=function(t){return t},i.prototype.unwrap=function(t,r){return t},i.prototype.appendCode=function(t){var r=this.stateStack[0];if(!r||r.node.type!=="Program")throw Error("Expecting original AST to start with a Program node.");var n=typeof t=="string"?ts(t,i.PARSE_OPTIONS):t;if(!n||n.type!=="Program")throw Error("Expecting new AST to start with a Program node.");this.populateScope_(n,r.scope);for(var s,a=0;s=n.body[a];a++)r.node.body.push(s);r.done=!1},i.prototype.step=function(){var t=this.stateStack,r=t[t.length-1];if(!r)return!1;var n=r.node,s=n.type;if(s==="Program"&&r.done)return!1;if(this.paused_)return!0;try{var a=this.stepFunctions_[s](t,r,n)}catch(o){if(o!==i.STEP_ERROR)throw o}return a&&t.push(a),!!n.end||this.step()},i.prototype.run=function(){for(;!this.paused_&&this.step(););return this.paused_},i.prototype.initGlobalScope=function(t){this.setProperty(t,"NaN",NaN,i.READONLY_DESCRIPTOR),this.setProperty(t,"Infinity",1/0,i.READONLY_DESCRIPTOR),this.setProperty(t,"undefined",void 0,i.READONLY_DESCRIPTOR),this.setProperty(t,"window",t,i.READONLY_DESCRIPTOR),this.setProperty(t,"this",t,i.READONLY_DESCRIPTOR),this.setProperty(t,"self",t),this.OBJECT_PROTO=new co(null),this.FUNCTION_PROTO=new co(this.OBJECT_PROTO),this.initFunction(t),this.initObject(t),t.proto=this.OBJECT_PROTO,this.setProperty(t,"constructor",this.OBJECT),this.initArray(t),this.initString(t),this.initBoolean(t),this.initNumber(t),this.initDate(t),this.initRegExp(t),this.initError(t),this.initMath(t),this.initJSON(t);var r=this,n=this.createNativeFunction(function(l){throw EvalError("Can't happen")},!1);n.eval=!0,this.setProperty(t,"eval",n),this.setProperty(t,"parseInt",this.createNativeFunction(parseInt,!1)),this.setProperty(t,"parseFloat",this.createNativeFunction(parseFloat,!1)),this.setProperty(t,"isNaN",this.createNativeFunction(isNaN,!1)),this.setProperty(t,"isFinite",this.createNativeFunction(isFinite,!1));for(var s=[[escape,"escape"],[unescape,"unescape"],[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"]],a=0;a<s.length;a++){var o=function(l){return function(d){try{return l(d)}catch(p){r.throwException(r.URI_ERROR,p.message)}}}(s[a][0]);this.setProperty(t,s[a][1],this.createNativeFunction(o,!1),i.NONENUMERABLE_DESCRIPTOR)}this.initFunc_&&this.initFunc_(this,t)},i.prototype.initFunction=function(t){var r,n=this,s=/^[A-Za-z_$][\w$]*$/;r=function(o){if(n.calledWithNew())var l=this;else l=n.createObjectProto(n.FUNCTION_PROTO);if(arguments.length)var d=String(arguments[arguments.length-1]);else d="";for(var p=[],g=0;g<arguments.length-1;g++){var y=String(arguments[g]);y.match(s)||n.throwException(n.SYNTAX_ERROR,"Invalid function argument: "+y),p.push(y)}p=p.join(", "),l.parentScope=n.global;try{var x=ts("$ = function("+p+") {"+d+"};",i.PARSE_OPTIONS)}catch(S){n.throwException(n.SYNTAX_ERROR,"Invalid code: "+S.message)}return x.body.length!==1&&n.throwException(n.SYNTAX_ERROR,"Invalid code in function body."),l.node=x.body[0].expression.right,n.setProperty(l,"length",l.node.length,i.READONLY_DESCRIPTOR),l},r.id=this.functionCounter_++,this.FUNCTION=this.createObjectProto(this.FUNCTION_PROTO),this.setProperty(t,"Function",this.FUNCTION),this.setProperty(this.FUNCTION,"prototype",this.FUNCTION_PROTO),this.FUNCTION.nativeFunc=r,this.setProperty(this.FUNCTION_PROTO,"constructor",this.FUNCTION,i.NONENUMERABLE_DESCRIPTOR),this.FUNCTION_PROTO.nativeFunc=function(){},this.FUNCTION_PROTO.nativeFunc.id=this.functionCounter_++,this.setProperty(this.FUNCTION_PROTO,"length",0,i.READONLY_DESCRIPTOR);var a=function(o){if(!(o&&o.isObject||n.getScope().strict))if(o==null)o=n.global;else{var l=n.createObjectProto(n.getPrototype(o));l.data=o,o=l}return o};r=function(o,l){var d=n.stateStack[n.stateStack.length-1];d.func_=this,d.funcThis_=a(o),d.arguments_=[],l!=null&&(l.isObject?d.arguments_=n.pseudoToNative(l):n.throwException(n.TYPE_ERROR,"CreateListFromArrayLike called on non-object")),d.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"apply",r),r=function(o,l){var d=n.stateStack[n.stateStack.length-1];d.func_=this,d.funcThis_=a(o),d.arguments_=[];for(var p=1;p<arguments.length;p++)d.arguments_.push(arguments[p]);d.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"call",r),this.polyfills_.push("Object.defineProperty(Function.prototype, 'bind',","{configurable: true, writable: true, value:","function(oThis) {","if (typeof this !== 'function') {","throw TypeError('What is trying to be bound is not callable');","}","var aArgs   = Array.prototype.slice.call(arguments, 1),","fToBind = this,","fNOP    = function() {},","fBound  = function() {","return fToBind.apply(this instanceof fNOP","? this",": oThis,","aArgs.concat(Array.prototype.slice.call(arguments)));","};","if (this.prototype) {","fNOP.prototype = this.prototype;","}","fBound.prototype = new fNOP();","return fBound;","}","});",""),r=function(){return this.toString()},this.setNativeFunctionPrototype(this.FUNCTION,"toString",r),this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(r,!1),i.NONENUMERABLE_DESCRIPTOR),r=function(){return this.valueOf()},this.setNativeFunctionPrototype(this.FUNCTION,"valueOf",r),this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(r,!1),i.NONENUMERABLE_DESCRIPTOR)},i.prototype.initObject=function(t){var r,n=this;r=function(a){if(a==null)return n.calledWithNew()?this:n.createObjectProto(n.OBJECT_PROTO);if(!a.isObject){var o=n.createObjectProto(n.getPrototype(a));return o.data=a,o}return a},this.OBJECT=this.createNativeFunction(r,!0),this.setProperty(this.OBJECT,"prototype",this.OBJECT_PROTO),this.setProperty(this.OBJECT_PROTO,"constructor",this.OBJECT),this.setProperty(t,"Object",this.OBJECT);var s=function(a){a==null&&n.throwException(n.TYPE_ERROR,"Cannot convert '"+a+"' to object")};r=function(a){s(a);var o=a.isObject?a.properties:a;return n.nativeToPseudo(Object.getOwnPropertyNames(o))},this.setProperty(this.OBJECT,"getOwnPropertyNames",this.createNativeFunction(r,!1),i.NONENUMERABLE_DESCRIPTOR),r=function(a){return s(a),a.isObject?n.nativeToPseudo(Object.keys(a.properties)):n.nativeToPseudo(Object.keys(a))},this.setProperty(this.OBJECT,"keys",this.createNativeFunction(r,!1),i.NONENUMERABLE_DESCRIPTOR),r=function(a){return a===null?n.createObjectProto(null):(a!==void 0&&a.isObject||n.throwException(n.TYPE_ERROR,"Object prototype may only be an Object or null"),n.createObjectProto(a))},this.setProperty(this.OBJECT,"create",this.createNativeFunction(r,!1),i.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var create_ = Object.create;","Object.create = function(proto, props) {","var obj = create_(proto);","props && Object.defineProperties(obj, props);","return obj;","};","})();",""),r=function(a,o,l){return o=String(o),a&&a.isObject||n.throwException(n.TYPE_ERROR,"Object.defineProperty called on non-object"),l&&l.isObject||n.throwException(n.TYPE_ERROR,"Property description must be an object"),!a.properties[o]&&a.preventExtensions&&n.throwException(n.TYPE_ERROR,"Can't define property '"+o+"', object is not extensible"),n.setProperty(a,o,ReferenceError,l.properties),a},this.setProperty(this.OBJECT,"defineProperty",this.createNativeFunction(r,!1),i.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var defineProperty_ = Object.defineProperty;","Object.defineProperty = function(obj, prop, d1) {","var d2 = {};","if ('configurable' in d1) d2.configurable = d1.configurable;","if ('enumerable' in d1) d2.enumerable = d1.enumerable;","if ('writable' in d1) d2.writable = d1.writable;","if ('value' in d1) d2.value = d1.value;","if ('get' in d1) d2.get = d1.get;","if ('set' in d1) d2.set = d1.set;","return defineProperty_(obj, prop, d2);","};","})();","Object.defineProperty(Object, 'defineProperties',","{configurable: true, writable: true, value:","function(obj, props) {","var keys = Object.keys(props);","for (var i = 0; i < keys.length; i++) {","Object.defineProperty(obj, keys[i], props[keys[i]]);","}","return obj;","}","});",""),r=function(a,o){if(a&&a.isObject||n.throwException(n.TYPE_ERROR,"Object.getOwnPropertyDescriptor called on non-object"),(o=String(o))in a.properties){var l=Object.getOwnPropertyDescriptor(a.properties,o),d=a.getter[o],p=a.setter[o];(d||p)&&(l.get=d,l.set=p,delete l.value,delete l.writable);var g=n.nativeToPseudo(l);return"value"in l&&n.setProperty(g,"value",l.value),g}},this.setProperty(this.OBJECT,"getOwnPropertyDescriptor",this.createNativeFunction(r,!1),i.NONENUMERABLE_DESCRIPTOR),r=function(a){return s(a),n.getPrototype(a)},this.setProperty(this.OBJECT,"getPrototypeOf",this.createNativeFunction(r,!1),i.NONENUMERABLE_DESCRIPTOR),r=function(a){return!!a&&!a.preventExtensions},this.setProperty(this.OBJECT,"isExtensible",this.createNativeFunction(r,!1),i.NONENUMERABLE_DESCRIPTOR),r=function(a){return a&&a.isObject&&(a.preventExtensions=!0),a},this.setProperty(this.OBJECT,"preventExtensions",this.createNativeFunction(r,!1),i.NONENUMERABLE_DESCRIPTOR),this.setNativeFunctionPrototype(this.OBJECT,"toString",co.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"toLocaleString",co.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"valueOf",co.prototype.valueOf),r=function(a){return s(this),this.isObject?String(a)in this.properties:this.hasOwnProperty(a)},this.setNativeFunctionPrototype(this.OBJECT,"hasOwnProperty",r),r=function(a){return s(this),Object.prototype.propertyIsEnumerable.call(this.properties,a)},this.setNativeFunctionPrototype(this.OBJECT,"propertyIsEnumerable",r),r=function(a){for(;;){if(!(a=n.getPrototype(a)))return!1;if(a===this)return!0}},this.setNativeFunctionPrototype(this.OBJECT,"isPrototypeOf",r)},i.prototype.initArray=function(t){var r,n=this;r=function(s){if(n.calledWithNew())var a=this;else a=n.createObjectProto(n.ARRAY_PROTO);var o=arguments[0];if(arguments.length===1&&typeof o=="number")isNaN(i.legalArrayLength(o))&&n.throwException(n.RANGE_ERROR,"Invalid array length"),a.properties.length=o;else{for(var l=0;l<arguments.length;l++)a.properties[l]=arguments[l];a.properties.length=l}return a},this.ARRAY=this.createNativeFunction(r,!0),this.ARRAY_PROTO=this.ARRAY.properties.prototype,this.setProperty(t,"Array",this.ARRAY),r=function(s){return s&&s.class==="Array"},this.setProperty(this.ARRAY,"isArray",this.createNativeFunction(r,!1),i.NONENUMERABLE_DESCRIPTOR),r=function(){return Array.prototype.pop.call(this.properties)},this.setNativeFunctionPrototype(this.ARRAY,"pop",r),r=function(s){return Array.prototype.push.apply(this.properties,arguments)},this.setNativeFunctionPrototype(this.ARRAY,"push",r),r=function(){return Array.prototype.shift.call(this.properties)},this.setNativeFunctionPrototype(this.ARRAY,"shift",r),r=function(s){return Array.prototype.unshift.apply(this.properties,arguments)},this.setNativeFunctionPrototype(this.ARRAY,"unshift",r),r=function(){return Array.prototype.reverse.call(this.properties),this},this.setNativeFunctionPrototype(this.ARRAY,"reverse",r),r=function(s,a){var o=Array.prototype.splice.apply(this.properties,arguments);return n.unwrap&&(o=o.map(n.unwrap)),n.nativeToPseudo(o)},this.setNativeFunctionPrototype(this.ARRAY,"splice",r),r=function(s,a){var o=Array.prototype.slice.call(this.properties,s,a);return n.unwrap&&(o=o.map(n.unwrap)),n.nativeToPseudo(o)},this.setNativeFunctionPrototype(this.ARRAY,"slice",r),r=function(s){return Array.prototype.join.call(this.properties,s)},this.setNativeFunctionPrototype(this.ARRAY,"join",r),r=function(s){for(var a=[],o=0,l=n.getProperty(this,"length"),d=0;d<l;d++){if(n.hasProperty(this,d)){var p=n.getProperty(this,d);a[o]=p}o++}for(d=0;d<arguments.length;d++){var g=arguments[d];if(n.isa(g,n.ARRAY))for(var y=n.getProperty(g,"length"),x=0;x<y;x++)n.hasProperty(g,x)&&(a[o]=n.getProperty(g,x)),o++;else a[o]=g}return n.unwrap&&(a=a.map(n.unwrap)),n.nativeToPseudo(a)},this.setNativeFunctionPrototype(this.ARRAY,"concat",r),r=function(s,a){return Array.prototype.indexOf.apply(this.properties,arguments)},this.setNativeFunctionPrototype(this.ARRAY,"indexOf",r),r=function(s,a){return Array.prototype.lastIndexOf.apply(this.properties,arguments)},this.setNativeFunctionPrototype(this.ARRAY,"lastIndexOf",r),r=function(){return Array.prototype.sort.call(this.properties),this},this.setNativeFunctionPrototype(this.ARRAY,"sort",r),this.polyfills_.push("Object.defineProperty(Array.prototype, 'every',","{configurable: true, writable: true, value:","function(callbackfn, thisArg) {","if (!this || typeof callbackfn !== 'function') throw TypeError();","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O && !callbackfn.call(T, O[k], k, O)) return false;","k++;","}","return true;","}","});","Object.defineProperty(Array.prototype, 'filter',","{configurable: true, writable: true, value:","function(fun/*, thisArg*/) {","if (this === void 0 || this === null || typeof fun !== 'function') throw TypeError();","var t = Object(this);","var len = t.length >>> 0;","var res = [];","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t) {","var val = t[i];","if (fun.call(thisArg, val, i, t)) res.push(val);","}","}","return res;","}","});","Object.defineProperty(Array.prototype, 'forEach',","{configurable: true, writable: true, value:","function(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O) callback.call(T, O[k], k, O);","k++;","}","}","});","Object.defineProperty(Array.prototype, 'map',","{configurable: true, writable: true, value:","function(callback, thisArg) {","if (!this || typeof callback !== 'function') new TypeError;","var T, A, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","A = new Array(len);","k = 0;","while (k < len) {","if (k in O) A[k] = callback.call(T, O[k], k, O);","k++;","}","return A;","}","});","Object.defineProperty(Array.prototype, 'reduce',","{configurable: true, writable: true, value:","function(callback /*, initialValue*/) {","if (!this || typeof callback !== 'function') throw TypeError();","var t = Object(this), len = t.length >>> 0, k = 0, value;","if (arguments.length === 2) {","value = arguments[1];","} else {","while (k < len && !(k in t)) k++;","if (k >= len) {","throw TypeError('Reduce of empty array with no initial value');","}","value = t[k++];","}","for (; k < len; k++) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'reduceRight',","{configurable: true, writable: true, value:","function(callback /*, initialValue*/) {","if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw TypeError();","var t = Object(this), len = t.length >>> 0, k = len - 1, value;","if (arguments.length >= 2) {","value = arguments[1];","} else {","while (k >= 0 && !(k in t)) k--;","if (k < 0) {","throw TypeError('Reduce of empty array with no initial value');","}","value = t[k--];","}","for (; k >= 0; k--) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'some',","{configurable: true, writable: true, value:","function(fun/*, thisArg*/) {","if (!this || typeof fun !== 'function') throw TypeError();","var t = Object(this);","var len = t.length >>> 0;","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t && fun.call(thisArg, t[i], i, t)) {","return true;","}","}","return false;","}","});","(function() {","var sort_ = Array.prototype.sort;","Array.prototype.sort = function(opt_comp) {","if (typeof opt_comp !== 'function') {","return sort_.call(this);","}","for (var i = 0; i < this.length; i++) {","var changes = 0;","for (var j = 0; j < this.length - i - 1; j++) {","if (opt_comp(this[j], this[j + 1]) > 0) {","var swap = this[j];","this[j] = this[j + 1];","this[j + 1] = swap;","changes++;","}","}","if (!changes) break;","}","return this;","};","})();","Object.defineProperty(Array.prototype, 'toLocaleString',","{configurable: true, writable: true, value:","function() {","var out = [];","for (var i = 0; i < this.length; i++) {","out[i] = (this[i] === null || this[i] === undefined) ? '' : this[i].toLocaleString();","}","return out.join(',');","}","});","")},i.prototype.initString=function(t){var r,n=this;r=function(o){return o=String(o),n.calledWithNew()?(this.data=o,this):o},this.STRING=this.createNativeFunction(r,!0),this.setProperty(t,"String",this.STRING),this.setProperty(this.STRING,"fromCharCode",this.createNativeFunction(String.fromCharCode,!1),i.NONENUMERABLE_DESCRIPTOR);for(var s=["trim","toLowerCase","toUpperCase","toLocaleLowerCase","toLocaleUpperCase","charAt","charCodeAt","substring","slice","substr","indexOf","lastIndexOf","concat"],a=0;a<s.length;a++)this.setNativeFunctionPrototype(this.STRING,s[a],String.prototype[s[a]]);r=function(o,l,d){return l=l?n.pseudoToNative(l):void 0,d=d?n.pseudoToNative(d):void 0,String(this).localeCompare(o,l,d)},this.setNativeFunctionPrototype(this.STRING,"localeCompare",r),r=function(o,l){n.isa(o,n.REGEXP)&&(o=o.data);var d=String(this).split(o,l);return n.nativeToPseudo(d)},this.setNativeFunctionPrototype(this.STRING,"split",r),r=function(o){o=o?o.data:void 0;var l=String(this).match(o);return l?n.nativeToPseudo(l):null},this.setNativeFunctionPrototype(this.STRING,"match",r),r=function(o){return n.isa(o,n.REGEXP)&&(o=o.data),String(this).search(o)},this.setNativeFunctionPrototype(this.STRING,"search",r),r=function(o,l){return String(this).replace(o.data||o,l)},this.setNativeFunctionPrototype(this.STRING,"replace",r),this.polyfills_.push("(function() {","var replace_ = String.prototype.replace;","String.prototype.replace = function(substr, newSubstr) {","if (typeof newSubstr !== 'function') {","return replace_.call(this, substr, newSubstr);","}","var str = this;","if (substr instanceof RegExp) {","var subs = [];","var m = substr.exec(str);","while (m) {","m.push(m.index, str);","var inject = newSubstr.apply(null, m);","subs.push([m.index, m[0].length, inject]);","m = substr.global ? substr.exec(str) : null;","}","for (var i = subs.length - 1; i >= 0; i--) {","str = str.substring(0, subs[i][0]) + subs[i][2] + str.substring(subs[i][0] + subs[i][1]);","}","} else {","var i = str.indexOf(substr);","if (i !== -1) {","var inject = newSubstr(str.substr(i, substr.length), i, str);","str = str.substring(0, i) + inject + str.substring(i + substr.length);","}","}","return str;","};","})();","")},i.prototype.initBoolean=function(t){var r,n=this;r=function(s){return s=!!s,n.calledWithNew()?(this.data=s,this):s},this.BOOLEAN=this.createNativeFunction(r,!0),this.setProperty(t,"Boolean",this.BOOLEAN)},i.prototype.initNumber=function(t){var r,n=this;r=function(o){return o=Number(o),n.calledWithNew()?(this.data=o,this):o},this.NUMBER=this.createNativeFunction(r,!0),this.setProperty(t,"Number",this.NUMBER);for(var s=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"],a=0;a<s.length;a++)this.setProperty(this.NUMBER,s[a],Number[s[a]],i.READONLY_NONENUMERABLE_DESCRIPTOR);r=function(o){try{return Number(this).toExponential(o)}catch(l){n.throwException(n.ERROR,l.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toExponential",r),r=function(o){try{return Number(this).toFixed(o)}catch(l){n.throwException(n.ERROR,l.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toFixed",r),r=function(o){try{return Number(this).toPrecision(o)}catch(l){n.throwException(n.ERROR,l.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toPrecision",r),r=function(o){try{return Number(this).toString(o)}catch(l){n.throwException(n.ERROR,l.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toString",r),r=function(o,l){return o=o?n.pseudoToNative(o):void 0,l=l?n.pseudoToNative(l):void 0,Number(this).toLocaleString(o,l)},this.setNativeFunctionPrototype(this.NUMBER,"toLocaleString",r)},i.prototype.initDate=function(t){var r,n=this;r=function(o,l){if(!n.calledWithNew())return Date();var d=[null].concat([].slice.call(arguments));return this.data=new(Function.prototype.bind.apply(Date,d)),this},this.DATE=this.createNativeFunction(r,!0),this.setProperty(t,"Date",this.DATE),this.setProperty(this.DATE,"now",this.createNativeFunction(Date.now,!1),i.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"parse",this.createNativeFunction(Date.parse,!1),i.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"UTC",this.createNativeFunction(Date.UTC,!1),i.NONENUMERABLE_DESCRIPTOR);for(var s=["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toISOString","toJSON","toGMTString","toLocaleDateString","toLocaleString","toLocaleTimeString","toTimeString","toUTCString"],a=0;a<s.length;a++)r=function(o){return function(l){for(var d=[],p=0;p<arguments.length;p++)d[p]=n.pseudoToNative(arguments[p]);return this.data[o].apply(this.data,d)}}(s[a]),this.setNativeFunctionPrototype(this.DATE,s[a],r)},i.prototype.initRegExp=function(t){var r,n=this;r=function(s,a){if(n.calledWithNew())var o=this;else o=n.createObjectProto(n.REGEXP_PROTO);return s=s?s.toString():"",a=a?a.toString():"",n.populateRegExp(o,new RegExp(s,a)),o},this.REGEXP=this.createNativeFunction(r,!0),this.REGEXP_PROTO=this.REGEXP.properties.prototype,this.setProperty(t,"RegExp",this.REGEXP),this.setProperty(this.REGEXP.properties.prototype,"global",void 0,i.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"ignoreCase",void 0,i.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"multiline",void 0,i.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"source","(?:)",i.READONLY_NONENUMERABLE_DESCRIPTOR),r=function(s){return this.data.test(s)},this.setNativeFunctionPrototype(this.REGEXP,"test",r),r=function(s){s=s.toString(),this.data.lastIndex=Number(n.getProperty(this,"lastIndex"));var a=this.data.exec(s);if(n.setProperty(this,"lastIndex",this.data.lastIndex),a){for(var o=n.createObjectProto(n.ARRAY_PROTO),l=0;l<a.length;l++)n.setProperty(o,l,a[l]);return n.setProperty(o,"index",a.index),n.setProperty(o,"input",a.input),o}return null},this.setNativeFunctionPrototype(this.REGEXP,"exec",r)},i.prototype.initError=function(t){var r=this;this.ERROR=this.createNativeFunction(function(s){if(r.calledWithNew())var a=this;else a=r.createObject(r.ERROR);return s&&r.setProperty(a,"message",String(s),i.NONENUMERABLE_DESCRIPTOR),a},!0),this.setProperty(t,"Error",this.ERROR),this.setProperty(this.ERROR.properties.prototype,"message","",i.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"name","Error",i.NONENUMERABLE_DESCRIPTOR);var n=function(s){var a=r.createNativeFunction(function(o){if(r.calledWithNew())var l=this;else l=r.createObject(a);return o&&r.setProperty(l,"message",String(o),i.NONENUMERABLE_DESCRIPTOR),l},!0);return r.setProperty(a,"prototype",r.createObject(r.ERROR)),r.setProperty(a.properties.prototype,"name",s,i.NONENUMERABLE_DESCRIPTOR),r.setProperty(t,s,a),a};this.EVAL_ERROR=n("EvalError"),this.RANGE_ERROR=n("RangeError"),this.REFERENCE_ERROR=n("ReferenceError"),this.SYNTAX_ERROR=n("SyntaxError"),this.TYPE_ERROR=n("TypeError"),this.URI_ERROR=n("URIError")},i.prototype.initMath=function(t){var r=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(t,"Math",r);for(var n=["E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],s=0;s<n.length;s++)this.setProperty(r,n[s],Math[n[s]],i.READONLY_NONENUMERABLE_DESCRIPTOR);var a=["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","random","round","sin","sqrt","tan"];for(s=0;s<a.length;s++)this.setProperty(r,a[s],this.createNativeFunction(Math[a[s]],!1),i.NONENUMERABLE_DESCRIPTOR)},i.prototype.initJSON=function(t){var r=this,n=r.createObjectProto(this.OBJECT_PROTO);this.setProperty(t,"JSON",n);var s=function(a){try{var o=JSON.parse(a.toString())}catch(l){r.throwException(r.SYNTAX_ERROR,l.message)}return r.nativeToPseudo(o)};this.setProperty(n,"parse",this.createNativeFunction(s,!1)),s=function(a){var o=r.pseudoToNative(a);try{var l=JSON.stringify(o)}catch(d){r.throwException(r.TYPE_ERROR,d.message)}return l},this.setProperty(n,"stringify",this.createNativeFunction(s,!1))},i.prototype.isa=function(t,r){if(t==null||!r)return!1;var n=r.properties.prototype;if(t===n)return!0;for(var s=this.getPrototype(t);s;){if(s===n)return!0;s=s.proto}return!1},i.legalArrayLength=function(t){var r=t>>>0;return r===Number(t)?r:NaN},i.legalArrayIndex=function(t){var r=t>>>0;return String(r)===String(t)&&r!==4294967295?r:NaN},i.prototype.createObject=function(t){return this.createObjectProto(t&&t.properties.prototype)},i.prototype.createObjectProto=function(t){var r=new co(t);return this.isa(r,this.FUNCTION)&&(this.setProperty(r,"prototype",this.createObjectProto(this.OBJECT_PROTO||null)),r.class="Function"),this.isa(r,this.ARRAY)&&(this.setProperty(r,"length",0,{configurable:!1,enumerable:!1,writable:!0}),r.class="Array"),this.isa(r,this.ERROR)&&(r.class="Error"),r},i.prototype.populateRegExp=function(t,r){t.data=r,this.setProperty(t,"lastIndex",r.lastIndex,i.NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"source",r.source,i.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"global",r.global,i.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"ignoreCase",r.ignoreCase,i.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"multiline",r.multiline,i.READONLY_NONENUMERABLE_DESCRIPTOR)},i.prototype.createFunction=function(t,r){var n=this.createObjectProto(this.FUNCTION_PROTO);return n.parentScope=r,n.node=t,this.setProperty(n,"length",n.node.params.length,i.READONLY_DESCRIPTOR),n},i.prototype.createNativeFunction=function(t,r){var n=this.createObjectProto(this.FUNCTION_PROTO);return n.nativeFunc=t,t.id=this.functionCounter_++,this.setProperty(n,"length",t.length,i.READONLY_DESCRIPTOR),r?this.setProperty(n.properties.prototype,"constructor",n,i.NONENUMERABLE_DESCRIPTOR):r===!1&&(n.illegalConstructor=!0,this.setProperty(n,"prototype",void 0)),n},i.prototype.createAsyncFunction=function(t){var r=this.createObjectProto(this.FUNCTION_PROTO);return r.asyncFunc=t,t.id=this.functionCounter_++,this.setProperty(r,"length",t.length,i.READONLY_DESCRIPTOR),r},i.prototype.nativeToPseudo=function(t){if(typeof t=="boolean"||typeof t=="number"||typeof t=="string"||t==null)return t;if(t instanceof RegExp){var r=this.createObjectProto(this.REGEXP_PROTO);return this.populateRegExp(r,t),r}if(t instanceof Function){var n=this;return this.createNativeFunction(function(){return n.nativeToPseudo(t.apply(n,Array.prototype.slice.call(arguments).map(function(l){return n.pseudoToNative(l)})))},void 0)}var s;if(Array.isArray(t)){s=this.createObjectProto(this.ARRAY_PROTO);for(var a=0;a<t.length;a++)a in t&&this.setProperty(s,a,this.wrap?this.wrap(t[a]):this.nativeToPseudo(t[a]))}else for(var o in s=this.createObjectProto(this.OBJECT_PROTO),t)this.setProperty(s,o,this.wrap?this.wrap(t[a]):this.nativeToPseudo(t[a]));return s},i.prototype.pseudoToNative=function(t,r){if(typeof t=="boolean"||typeof t=="number"||typeof t=="string"||t==null)return t;if(this.isa(t,this.REGEXP))return t.data;var n,s=r||{pseudo:[],native:[]};if((o=s.pseudo.indexOf(t))!==-1)return s.native[o];if(s.pseudo.push(t),this.isa(t,this.ARRAY)){n=[],s.native.push(n);for(var a=this.getProperty(t,"length"),o=0;o<a;o++)this.hasProperty(t,o)&&(n[o]=this.unwrap?this.unwrap(this.getProperty(t,o),s):this.pseudoToNative(this.getProperty(t,o),s))}else{if(t._native)return t._native;n={},s.native.push(n);var l=void 0;for(var d in t.properties)l=t.properties[d],n[d]=this.unwrap?this.unwrap(l,s):this.pseudoToNative(l,s)}return s.pseudo.pop(),s.native.pop(),n},i.prototype.getPrototype=function(t){switch(typeof t){case"number":return this.NUMBER.properties.prototype;case"boolean":return this.BOOLEAN.properties.prototype;case"string":return this.STRING.properties.prototype}return t?t.proto:null},i.prototype.getProperty=function(t,r){if(r=String(r),t==null&&this.throwException(this.TYPE_ERROR,"Cannot read property '"+r+"' of "+t),r==="length"){if(this.isa(t,this.STRING))return String(t).length}else if(r.charCodeAt(0)<64&&this.isa(t,this.STRING)){var n=i.legalArrayIndex(r);if(!isNaN(n)&&n<String(t).length)return String(t)[n]}do{var s=t;if(s.properties&&r in s.properties){var a=s.getter[r];return a?(a.isGetter=!0,a):s.properties[r]}if(s._native!==void 0&&r.charAt(0)!=="_"&&typeof s._native[r]!="function")return this.wrap?this.wrap(s._native[r]):s._native[r]}while(t=this.getPrototype(t))},i.prototype.hasProperty=function(t,r){if(!t.isObject)throw TypeError("Primitive data type has no properties");if((r=String(r))==="length"&&this.isa(t,this.STRING))return!0;if(this.isa(t,this.STRING)){var n=i.legalArrayIndex(r);if(!isNaN(n)&&n<String(t).length)return!0}do{var s=t;if(s.properties&&r in s.properties)return!0;if(s._native!==void 0&&r.charAt(0)!="_"){var a=typeof s._native[r];return a!=="function"&&(a!=="undefined"||tS(s._native.constructor,r))}}while(t=this.getPrototype(t));return!1},i.prototype.setProperty=function(t,r,n,s){r=String(r),t==null&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+r+"' of "+t),s&&("get"in s||"set"in s)&&("value"in s||"writable"in s)&&this.throwException(this.TYPE_ERROR,"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");var a=!this.stateStack||this.getScope().strict;if(t.isObject){if(this.isa(t,this.STRING)){var o=i.legalArrayIndex(r);if(r==="length"||!isNaN(o)&&o<String(t).length)return void(a&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+r+"' of String '"+t.data+"'"))}if(t.class==="Array"){var l=t.properties.length,d=void 0;if(r==="length"){if(n=i.legalArrayLength(n),isNaN(n)&&this.throwException(this.RANGE_ERROR,"Invalid array length"),n<l)for(d in t.properties)d=i.legalArrayIndex(d),!isNaN(d)&&n<=d&&delete t.properties[d]}else isNaN(d=i.legalArrayIndex(r))||(t.properties.length=Math.max(l,d+1))}if(!t.preventExtensions||r in t.properties)if(s){"get"in s&&(s.get?t.getter[r]=s.get:delete t.getter[r]),"set"in s&&(s.set?t.setter[r]=s.set:delete t.setter[r]);var p={};"configurable"in s&&(p.configurable=s.configurable),"enumerable"in s&&(p.enumerable=s.enumerable),"writable"in s&&(p.writable=s.writable,delete t.getter[r],delete t.setter[r]),"value"in s?(p.value=s.value,delete t.getter[r],delete t.setter[r]):n!==ReferenceError&&(p.value=n,delete t.getter[r],delete t.setter[r]);try{Object.defineProperty(t.properties,r,p)}catch{this.throwException(this.TYPE_ERROR,"Cannot redefine property: "+r)}}else{if(n===ReferenceError)throw ReferenceError("Value not specified.");if(t._native!==void 0&&r.charAt(0)!="_"){var g=typeof t._native[r];if(g!=="function"&&(g!=="undefined"||tS(t._native.constructor,r))){var y=this.unwrap?this.unwrap(n):n;return void(t._native[r]=y)}}for(var x=t;!(r in x.properties);)if(!(x=this.getPrototype(x))){x=t;break}if(x.setter&&x.setter[r])return x.setter[r];if(x.getter&&x.getter[r])a&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+r+"' of object '"+t+"' which only has a getter");else try{t.properties[r]=n}catch{a&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+r+"' of object '"+t+"'")}}else a&&this.throwException(this.TYPE_ERROR,"Can't add property '"+r+"', object is not extensible")}else a&&this.throwException(this.TYPE_ERROR,"Can't create property '"+r+"' on '"+t+"'")},i.prototype.setNativeFunctionPrototype=function(t,r,n){this.setProperty(t.properties.prototype,r,this.createNativeFunction(n,!1),i.NONENUMERABLE_DESCRIPTOR)},i.prototype.getScope=function(){var t=this.stateStack[this.stateStack.length-1].scope;if(!t)throw Error("No scope found.");return t},i.prototype.createScope=function(t,r){var n=this.createObjectProto(null);if(n.parentScope=r,r||this.initGlobalScope(n),this.populateScope_(t,n),n.strict=!1,r&&r.strict)n.strict=!0;else{var s=t.body&&t.body[0];s&&s.expression&&s.expression.type==="Literal"&&s.expression.value==="use strict"&&(n.strict=!0)}return n},i.prototype.createSpecialScope=function(t,r){if(!t)throw Error("parentScope required");var n=r||this.createObjectProto(null);return n.parentScope=t,n.strict=t.strict,n},i.prototype.getValueFromScope=function(t){for(var r=this.getScope();r&&r!==this.global;){if(t in r.properties)return r.properties[t];r=r.parentScope}if(r===this.global&&this.hasProperty(r,t))return this.getProperty(r,t);var n=this.stateStack[this.stateStack.length-1].node;n.type==="UnaryExpression"&&n.operator==="typeof"||this.throwException(this.REFERENCE_ERROR,t+" is not defined")},i.prototype.setValueToScope=function(t,r){for(var n=this.getScope(),s=n.strict;n&&n!==this.global;){if(t in n.properties)return void(n.properties[t]=r);n=n.parentScope}if(n===this.global&&(!s||this.hasProperty(n,t)))return this.setProperty(n,t,r);this.throwException(this.REFERENCE_ERROR,t+" is not defined")},i.prototype.populateScope_=function(t,r){if(t.type==="VariableDeclaration")for(var n=0;n<t.declarations.length;n++)this.setProperty(r,t.declarations[n].id.name,void 0,i.VARIABLE_DESCRIPTOR);else{if(t.type==="FunctionDeclaration")return void this.setProperty(r,t.id.name,this.createFunction(t,r),i.VARIABLE_DESCRIPTOR);if(t.type==="FunctionExpression"||t.type==="ExpressionStatement")return}var s=t.constructor;for(var a in t){var o=t[a];if(o&&typeof o=="object")if(Array.isArray(o))for(n=0;n<o.length;n++)o[n]&&o[n].constructor===s&&this.populateScope_(o[n],r);else o.constructor===s&&this.populateScope_(o,r)}},i.prototype.stripLocations_=function(t,r,n){for(var s in r?t.start=r:delete t.start,n?t.end=n:delete t.end,t)if(t.hasOwnProperty(s)){var a=t[s];a&&typeof a=="object"&&this.stripLocations_(a,r,n)}},i.prototype.calledWithNew=function(){return this.stateStack[this.stateStack.length-1].isConstructor},i.prototype.getValue=function(t){return t[0]===i.SCOPE_REFERENCE?this.getValueFromScope(t[1]):this.getProperty(t[0],t[1])},i.prototype.setValue=function(t,r){return t[0]===i.SCOPE_REFERENCE?this.setValueToScope(t[1],r):this.setProperty(t[0],t[1],r)},i.prototype.throwException=function(t,r){if(r===void 0)var n=t;else n=this.createObject(t),this.setProperty(n,"message",r,i.NONENUMERABLE_DESCRIPTOR);throw this.executeException(n),i.STEP_ERROR},i.prototype.executeException=function(t){var r,n=this.stateStack.slice();do{this.stateStack.pop();var s=this.stateStack[this.stateStack.length-1];if(s.node.type==="TryStatement")return void(s.throwValue=t)}while(s&&s.node.type!=="Program");if(this.isa(t,this.ERROR)){var a={EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError},o=this.getProperty(t,"name").toString(),l=this.getProperty(t,"message").valueOf();r=(a[o]||Error)(l)}else r=t.toString();throw this.stateStack=n,r},i.prototype.createGetter_=function(t,r){var n=Array.isArray(r)?r[0]:r,s=new this.nodeConstructor;s.type="CallExpression";var a=new Ct(s,this.stateStack[this.stateStack.length-1].scope);return a.doneCallee_=!0,a.funcThis_=n,a.func_=t,a.doneArgs_=!0,a.arguments_=[],a},i.prototype.createSetter_=function(t,r,n){var s=Array.isArray(r)?r[0]:this.global,a=new this.nodeConstructor;a.type="CallExpression";var o=new Ct(a,this.stateStack[this.stateStack.length-1].scope);return o.doneCallee_=!0,o.funcThis_=s,o.func_=t,o.doneArgs_=!0,o.arguments_=[n],o},i.prototype.stepArrayExpression=function(t,r,n){var s=n.elements,a=r.n_||0;for(r.array_?(this.setProperty(r.array_,a,r.value),a++):(r.array_=this.createObjectProto(this.ARRAY_PROTO),r.array_.properties.length=s.length);a<s.length;){if(s[a])return r.n_=a,new Ct(s[a],r.scope);a++}t.pop(),t[t.length-1].value=r.array_},i.prototype.stepAssignmentExpression=function(t,r,n){if(!r.doneLeft_){r.doneLeft_=!0;var s=new Ct(n.left,r.scope);return s.components=!0,s}if(!r.doneRight_){if(r.leftReference_||(r.leftReference_=r.value),r.doneGetter_&&(r.leftValue_=r.value),!r.doneGetter_&&n.operator!=="="){var a=this.getValue(r.leftReference_);if(r.leftValue_=a,a&&typeof a=="object"&&a.isGetter){a.isGetter=!1,r.doneGetter_=!0;var o=a;return this.createGetter_(o,r.leftReference_)}}return r.doneRight_=!0,new Ct(n.right,r.scope)}if(r.doneSetter_)return t.pop(),void(t[t.length-1].value=r.doneSetter_);var l=r.leftValue_,d=r.value;switch(n.operator){case"=":l=d;break;case"+=":l+=d;break;case"-=":l-=d;break;case"*=":l*=d;break;case"/=":l/=d;break;case"%=":l%=d;break;case"<<=":l<<=d;break;case">>=":l>>=d;break;case">>>=":l>>>=d;break;case"&=":l&=d;break;case"^=":l^=d;break;case"|=":l|=d;break;default:throw SyntaxError("Unknown assignment expression: "+n.operator)}var p=this.setValue(r.leftReference_,l);if(p)return r.doneSetter_=l,this.createSetter_(p,r.leftReference_,l);t.pop(),t[t.length-1].value=l},i.prototype.stepBinaryExpression=function(t,r,n){if(!r.doneLeft_)return r.doneLeft_=!0,new Ct(n.left,r.scope);if(!r.doneRight_)return r.doneRight_=!0,r.leftValue_=r.value,new Ct(n.right,r.scope);t.pop();var s,a=r.leftValue_,o=r.value;switch(n.operator){case"==":s=a==o;break;case"!=":s=a!=o;break;case"===":s=a===o;break;case"!==":s=a!==o;break;case">":s=a>o;break;case">=":s=a>=o;break;case"<":s=a<o;break;case"<=":s=a<=o;break;case"+":s=a+o;break;case"-":s=a-o;break;case"*":s=a*o;break;case"/":s=a/o;break;case"%":s=a%o;break;case"&":s=a&o;break;case"|":s=a|o;break;case"^":s=a^o;break;case"<<":s=a<<o;break;case">>":s=a>>o;break;case">>>":s=a>>>o;break;case"in":o&&o.isObject||this.throwException(this.TYPE_ERROR,"'in' expects an object, not '"+o+"'"),s=this.hasProperty(o,a);break;case"instanceof":this.isa(o,this.FUNCTION)||this.throwException(this.TYPE_ERROR,"Right-hand side of instanceof is not an object"),s=!!a.isObject&&this.isa(a,o);break;default:throw SyntaxError("Unknown binary operator: "+n.operator)}t[t.length-1].value=s},i.prototype.stepBlockStatement=function(t,r,n){var s=r.n_||0,a=n.body[s];if(a)return r.n_=s+1,new Ct(a,r.scope);t.pop()},i.prototype.stepBreakStatement=function(t,r,n){t.pop();var s=null;for(n.label&&(s=n.label.name);r&&r.node.type!=="CallExpression"&&r.node.type!=="NewExpression";){if(s){if(r.labels&&r.labels.indexOf(s)!==-1)return}else if(r.isLoop||r.isSwitch)return;r=t.pop()}throw SyntaxError("Illegal break statement")},i.prototype.stepCallExpression=function(t,r,n){if(!r.doneCallee_){r.doneCallee_=1;var s=new Ct(n.callee,r.scope);return s.components=!0,s}if(r.doneCallee_===1){r.doneCallee_=2;var a=r.value;if(Array.isArray(a)){if(r.func_=this.getValue(a),a[0]!==i.SCOPE_REFERENCE&&(r.funcThis_=a[0]),(a=r.func_)&&typeof a=="object"&&a.isGetter)return a.isGetter=!1,r.doneCallee_=1,this.createGetter_(a,r.value)}else r.func_=a;r.arguments_=[],r.n_=0}if(a=r.func_,!r.doneArgs_){if(r.n_!==0&&r.arguments_.push(r.value),n.arguments[r.n_])return new Ct(n.arguments[r.n_++],r.scope);n.type==="NewExpression"?(a.illegalConstructor&&this.throwException(this.TYPE_ERROR,a+" is not a constructor"),r.funcThis_=this.createObject(a),r.isConstructor=!0):r.funcThis_===void 0&&(r.funcThis_=r.scope.strict?void 0:this.global),r.doneArgs_=!0}if(r.doneExec_)t.pop(),r.isConstructor&&typeof r.value!="object"?t[t.length-1].value=r.funcThis_:t[t.length-1].value=r.value;else{r.doneExec_=!0,a&&a.isObject||(console.log("non-function called",a,r),this.throwException(this.TYPE_ERROR,a+" is not a function"));var o=a.node;if(o){for(var l=this.createScope(o.body,a.parentScope),d=0;d<o.params.length;d++){var p=o.params[d].name,g=r.arguments_.length>d?r.arguments_[d]:void 0;this.setProperty(l,p,g)}var y=this.createObjectProto(this.ARRAY_PROTO);for(d=0;d<r.arguments_.length;d++)this.setProperty(y,d,r.arguments_[d]);this.setProperty(l,"arguments",y);var x=o.id&&o.id.name;return x&&this.setProperty(l,x,a),this.setProperty(l,"this",r.funcThis_,i.READONLY_DESCRIPTOR),r.value=void 0,new Ct(o.body,l)}if(a.eval){var S=r.arguments_[0];if(typeof S=="string"){try{var _=ts(S.toString(),i.PARSE_OPTIONS)}catch(D){this.throwException(this.SYNTAX_ERROR,"Invalid code: "+D.message)}var w=new this.nodeConstructor;return w.type="EvalProgram_",w.body=_.body,this.stripLocations_(w,n.start,n.end),(l=r.scope).strict?l=this.createScope(_,l):this.populateScope_(_,l),this.value=void 0,new Ct(w,l)}r.value=S}else if(a.nativeFunc)r.funcThis_!==void 0&&r.funcThis_._native!==void 0?r.value=a.nativeFunc.call(r.funcThis_,r.arguments_):r.value=a.nativeFunc.apply(r.funcThis_,r.arguments_);else{if(a.asyncFunc){var A=this,P=r.arguments_.concat(function(D){r.value=D,A.paused_=!1});return this.paused_=!0,void a.asyncFunc.apply(r.funcThis_,P)}this.throwException(this.TYPE_ERROR,a.class+" is not a function")}}},i.prototype.stepCatchClause=function(t,r,n){if(!r.done_){r.done_=!0;var s=this.createSpecialScope(r.scope);return this.setProperty(s,n.param.name,r.throwValue),new Ct(n.body,s)}t.pop()},i.prototype.stepConditionalExpression=function(t,r,n){var s=r.mode_||0;if(s===0)return r.mode_=1,new Ct(n.test,r.scope);if(s===1){r.mode_=2;var a=!!r.value;if(a&&n.consequent)return new Ct(n.consequent,r.scope);if(!a&&n.alternate)return new Ct(n.alternate,r.scope);this.value=void 0}t.pop(),n.type==="ConditionalExpression"&&(t[t.length-1].value=r.value)},i.prototype.stepContinueStatement=function(t,r,n){t.pop();var s=null;for(n.label&&(s=n.label.name),r=t[t.length-1];r&&r.node.type!=="CallExpression"&&r.node.type!=="NewExpression";){if(r.isLoop&&(!s||r.labels&&r.labels.indexOf(s)!==-1))return;t.pop(),r=t[t.length-1]}throw SyntaxError("Illegal continue statement")},i.prototype.stepDebuggerStatement=function(t,r,n){t.pop()},i.prototype.stepDoWhileStatement=function(t,r,n){if(n.type==="DoWhileStatement"&&r.test_===void 0&&(r.value=!0,r.test_=!0),!r.test_)return r.test_=!0,new Ct(n.test,r.scope);if(r.value){if(n.body)return r.test_=!1,r.isLoop=!0,new Ct(n.body,r.scope)}else t.pop()},i.prototype.stepEmptyStatement=function(t,r,n){t.pop()},i.prototype.stepEvalProgram_=function(t,r,n){var s=r.n_||0,a=n.body[s];if(a)return r.n_=s+1,new Ct(a,r.scope);t.pop(),t[t.length-1].value=this.value},i.prototype.stepExpressionStatement=function(t,r,n){if(!r.done_)return r.done_=!0,new Ct(n.expression,r.scope);t.pop(),this.value=r.value},i.prototype.stepForInStatement=function(t,r,n){if(!r.doneInit_&&(r.doneInit_=!0,n.left.declarations&&n.left.declarations[0].init))return r.scope.strict&&this.throwException(this.SYNTAX_ERROR,"for-in loop variable declaration may not have an initializer."),new Ct(n.left,r.scope);if(!r.doneObject_)return r.doneObject_=!0,r.variable_||(r.variable_=r.value),new Ct(n.right,r.scope);if(r.isLoop||(r.isLoop=!0,r.object_=r.value,r.visited_=Object.create(null)),r.name_===void 0){e:do{if(r.object_&&r.object_.isObject){r.props_||(r.props_=Object.getOwnPropertyNames(r.object_.properties));do var s=r.props_.shift();while(s&&(r.visited_[s]||!Object.prototype.hasOwnProperty.call(r.object_.properties,s)));if(s&&(r.visited_[s]=!0,Object.prototype.propertyIsEnumerable.call(r.object_.properties,s))){r.name_=s;break e}}else if(r.object_!==null){r.props_||(r.props_=Object.getOwnPropertyNames(r.object_));do s=r.props_.shift();while(s&&r.visited_[s]);if(s){r.visited_[s]=!0,r.name_=s;break e}}r.object_=this.getPrototype(r.object_),r.props_=null}while(r.object_!==null);if(r.object_===null)return void t.pop()}if(!r.doneVariable_){r.doneVariable_=!0;var a=n.left;if(a.type!=="VariableDeclaration"){r.variable_=null;var o=new Ct(a,r.scope);return o.components=!0,o}r.variable_=[i.SCOPE_REFERENCE,a.declarations[0].id.name]}if(r.variable_||(r.variable_=r.value),!r.doneSetter_){r.doneSetter_=!0;var l=r.name_,d=this.setValue(r.variable_,l);if(d)return this.createSetter_(d,r.variable_,l)}return r.name_=void 0,r.doneVariable_=!1,r.doneSetter_=!1,n.body?new Ct(n.body,r.scope):void 0},i.prototype.stepForStatement=function(t,r,n){var s=r.mode_||0;if(s===0){if(r.mode_=1,n.init)return new Ct(n.init,r.scope)}else if(s===1){if(r.mode_=2,n.test)return new Ct(n.test,r.scope)}else if(s===2){if(r.mode_=3,!n.test||r.value)return r.isLoop=!0,new Ct(n.body,r.scope);t.pop()}else if(s===3&&(r.mode_=1,n.update))return new Ct(n.update,r.scope)},i.prototype.stepFunctionDeclaration=function(t,r,n){t.pop()},i.prototype.stepFunctionExpression=function(t,r,n){t.pop(),t[t.length-1].value=this.createFunction(n,r.scope)},i.prototype.stepIdentifier=function(t,r,n){if(t.pop(),r.components)t[t.length-1].value=[i.SCOPE_REFERENCE,n.name];else{var s=this.getValueFromScope(n.name);if(s&&typeof s=="object"&&s.isGetter){s.isGetter=!1;for(var a=r.scope;!this.hasProperty(a,n.name);)a=a.parentScope;var o=s;return this.createGetter_(o,this.global)}t[t.length-1].value=s}},i.prototype.stepIfStatement=function(t,r,n){return this.stepConditionalExpression(t,r,n)},i.prototype.stepLabeledStatement=function(t,r,n){t.pop();var s=r.labels||[];s.push(n.label.name);var a=new Ct(n.body,r.scope);return a.labels=s,a},i.prototype.stepLiteral=function(t,r,n){t.pop();var s=n.value;if(s instanceof RegExp){var a=this.createObjectProto(this.REGEXP_PROTO);this.populateRegExp(a,s),s=a}t[t.length-1].value=s},i.prototype.stepLogicalExpression=function(t,r,n){if(n.operator!=="&&"&&n.operator!=="||")throw SyntaxError("Unknown logical operator: "+n.operator);if(!r.doneLeft_)return r.doneLeft_=!0,new Ct(n.left,r.scope);if(r.doneRight_)t.pop(),t[t.length-1].value=r.value;else{if(!(n.operator==="&&"&&!r.value||n.operator==="||"&&r.value))return r.doneRight_=!0,new Ct(n.right,r.scope);t.pop(),t[t.length-1].value=r.value}},i.prototype.stepMemberExpression=function(t,r,n){if(!r.doneObject_)return r.doneObject_=!0,new Ct(n.object,r.scope);var s;if(n.computed){if(!r.doneProperty_)return r.object_=r.value,r.doneProperty_=!0,new Ct(n.property,r.scope);s=r.value}else r.object_=r.value,s=n.property.name;if(t.pop(),r.components)t[t.length-1].value=[r.object_,s];else{var a=this.getProperty(r.object_,s);if(a&&typeof a=="object"&&a.isGetter){a.isGetter=!1;var o=a;return this.createGetter_(o,r.object_)}t[t.length-1].value=a}},i.prototype.stepNewExpression=function(t,r,n){return this.stepCallExpression(t,r,n)},i.prototype.stepObjectExpression=function(t,r,n){var s=r.n_||0,a=n.properties[s];if(r.object_){var o=a.key;if(o.type==="Identifier")var l=o.name;else{if(o.type!=="Literal")throw SyntaxError("Unknown object structure: "+o.type);l=o.value}r.properties_[l]||(r.properties_[l]={}),r.properties_[l][a.kind]=r.value,r.n_=++s,a=n.properties[s]}else r.object_=this.createObjectProto(this.OBJECT_PROTO),r.properties_=Object.create(null);if(a)return new Ct(a.value,r.scope);for(var d in r.properties_){var p=r.properties_[d];if("get"in p||"set"in p){var g={configurable:!0,enumerable:!0,get:p.get,set:p.set};this.setProperty(r.object_,d,null,g)}else this.setProperty(r.object_,d,p.init)}t.pop(),t[t.length-1].value=r.object_},i.prototype.stepProgram=function(t,r,n){var s=r.n_||0,a=n.body[s];if(a)return r.done=!1,r.n_=s+1,new Ct(a,r.scope);r.done=!0},i.prototype.stepReturnStatement=function(t,r,n){if(n.argument&&!r.done_)return r.done_=!0,new Ct(n.argument,r.scope);var s=r.value,a=t.length-1;for(r=t[a];r.node.type!=="CallExpression"&&r.node.type!=="NewExpression";){if(r.node.type!=="TryStatement"&&t.splice(a,1),--a<0)throw SyntaxError("Illegal return statement");r=t[a]}r.value=s},i.prototype.stepSequenceExpression=function(t,r,n){var s=r.n_||0,a=n.expressions[s];if(a)return r.n_=s+1,new Ct(a,r.scope);t.pop(),t[t.length-1].value=r.value},i.prototype.stepSwitchStatement=function(t,r,n){if(!r.test_)return r.test_=1,new Ct(n.discriminant,r.scope);for(r.test_===1&&(r.test_=2,r.switchValue_=r.value);;){var s=r.index_||0,a=n.cases[s];if(r.matched_||!a||a.test)if(a||r.matched_||!r.defaultCase_){if(!a)return void t.pop();if(!r.matched_&&!r.tested_&&a.test)return r.tested_=!0,new Ct(a.test,r.scope);if(r.matched_||r.value===r.switchValue_){r.matched_=!0;var o=r.n_||0;if(a.consequent[o])return r.isSwitch=!0,r.n_=o+1,new Ct(a.consequent[o],r.scope)}r.tested_=!1,r.n_=0,r.index_=s+1}else r.matched_=!0,r.index_=r.defaultCase_;else r.defaultCase_=s,r.index_=s+1}},i.prototype.stepThisExpression=function(t,r,n){t.pop(),t[t.length-1].value=this.getValueFromScope("this")},i.prototype.stepThrowStatement=function(t,r,n){if(!r.done_)return r.done_=!0,new Ct(n.argument,r.scope);this.throwException(r.value)},i.prototype.stepTryStatement=function(t,r,n){if(!r.doneBlock_)return r.doneBlock_=!0,new Ct(n.block,r.scope);if(r.throwValue&&!r.doneHandler_&&n.handler){r.doneHandler_=!0;var s=new Ct(n.handler,r.scope);return s.throwValue=r.throwValue,r.throwValue=null,s}if(!r.doneFinalizer_&&n.finalizer)return r.doneFinalizer_=!0,new Ct(n.finalizer,r.scope);r.throwValue?this.executeException(r.throwValue):t.pop()},i.prototype.stepUnaryExpression=function(t,r,n){if(!r.done_){r.done_=!0;var s=new Ct(n.argument,r.scope);return s.components=n.operator==="delete",s}t.pop();var a=r.value;if(n.operator==="-")a=-a;else if(n.operator==="+")a=+a;else if(n.operator==="!")a=!a;else if(n.operator==="~")a=~a;else if(n.operator==="delete"){var o=!0;if(Array.isArray(a)){var l=a[0];l===i.SCOPE_REFERENCE&&(l=r.scope);var d=String(a[1]);try{delete l.properties[d]}catch{r.scope.strict?this.throwException(this.TYPE_ERROR,"Cannot delete property '"+d+"' of '"+l+"'"):o=!1}}a=o}else if(n.operator==="typeof")a=a&&a.class==="Function"?"function":typeof a;else{if(n.operator!=="void")throw SyntaxError("Unknown unary operator: "+n.operator);a=void 0}t[t.length-1].value=a},i.prototype.stepUpdateExpression=function(t,r,n){if(!r.doneLeft_){r.doneLeft_=!0;var s=new Ct(n.argument,r.scope);return s.components=!0,s}if(r.leftSide_||(r.leftSide_=r.value),r.doneGetter_&&(r.leftValue_=r.value),!r.doneGetter_){var a=this.getValue(r.leftSide_);if(r.leftValue_=a,a&&typeof a=="object"&&a.isGetter){a.isGetter=!1,r.doneGetter_=!0;var o=a;return this.createGetter_(o,r.leftSide_)}}if(r.doneSetter_)return t.pop(),void(t[t.length-1].value=r.doneSetter_);var l;if(a=Number(r.leftValue_),n.operator==="++")l=a+1;else{if(n.operator!=="--")throw SyntaxError("Unknown update expression: "+n.operator);l=a-1}var d=n.prefix?l:a,p=this.setValue(r.leftSide_,l);if(p)return r.doneSetter_=d,this.createSetter_(p,r.leftSide_,l);t.pop(),t[t.length-1].value=d},i.prototype.stepVariableDeclaration=function(t,r,n){var s=n.declarations,a=r.n_||0,o=s[a];for(r.init_&&o&&(this.setValueToScope(o.id.name,r.value),r.init_=!1,o=s[++a]);o;){if(o.init)return r.n_=a,r.init_=!0,new Ct(o.init,r.scope);o=s[++a]}t.pop()},i.prototype.stepWithStatement=function(t,r,n){if(!r.doneObject_)return r.doneObject_=!0,new Ct(n.object,r.scope);if(!r.doneBody_){r.doneBody_=!0;var s=this.createSpecialScope(r.scope,r.value);return new Ct(n.body,s)}t.pop()},i.prototype.stepWhileStatement=function(t,r,n){return this.stepDoWhileStatement(t,r,n)},i.PARSE_OPTIONS={ecmaVersion:5},i.READONLY_DESCRIPTOR={configurable:!0,enumerable:!0,writable:!1},i.NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!0},i.READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!1},i.VARIABLE_DESCRIPTOR={configurable:!1,enumerable:!0,writable:!0},i.STEP_ERROR={},i.SCOPE_REFERENCE={},i.toStringCycles_=[],i}(),co=function(){function i(t){this.proto=null,this.isObject=!0,this.class="Object",this.data=null,this._native=void 0,this.getter=Object.create(null),this.setter=Object.create(null),this.properties=Object.create(null),this.proto=t}return i.prototype.toString=function(){if(this.class==="Array"){(s=ns.toStringCycles_).push(this);try{for(var t=[],r=0;r<this.properties.length;r++){var n=this.properties[r];t[r]=n&&n.isObject&&s.indexOf(n)!==-1?"...":n}}finally{s.pop()}return t.join(",")}if(this.class==="Error"){var s;if((s=ns.toStringCycles_).indexOf(this)!==-1)return"[object Error]";var a,o=void 0,l=this;do if("name"in l.properties){a=l.properties.name;break}while(l=l.proto);l=this;do if("message"in l.properties){o=l.properties.message;break}while(l=l.proto);s.push(this);try{a=a&&a.toString(),o=o&&o.toString()}finally{s.pop()}return o?a+": "+o:String(a)}return this.data!==null?String(this.data):"[object "+this.class+"]"},i.prototype.valueOf=function(){return this.data===void 0||this.data===null||this.data instanceof RegExp?this:this.data instanceof Date?this.data.valueOf():this.data},i}(),Ct=function(i,t){this.node=i,this.scope=t},tS=function(i,t){for(var r=i;r&&r.prototype;){if(Object.getOwnPropertyNames(r.prototype).indexOf(t)>=0)return!0;r=Object.getPrototypeOf(r)}return!1};function rS(i,t){var r={},n=ts(i,{locations:!0,onComment:function(l,d,p,g,y,x){r[x.line]=d}});if(n.type!=="Program"||n.body.length!==1||n.body[0].type!=="FunctionDeclaration")throw new Error("JavaScript program should only have one function definition");var s=n.body[0].body.body,a=[],o=[];return s.forEach(function(l){if(l.type==="ExpressionStatement"){var d=l.expression;if(d.type==="AssignmentExpression"&&d.operator==="="&&d.left.type==="MemberExpression"&&d.left.object.type==="ThisExpression"&&d.left.property.type==="Identifier"){for(var p=[],g=d.loc.start.line-1;g>=0&&r[g]!==void 0;g--)p.push(r[g]);if(!(p.length<=0)){var y=d.left.property.name;if(!(Array.isArray(t)&&t.indexOf(y)>=0)&&d.right.type!=="FunctionExpression"){var x=function(S,_,w){var A={name:S,title:{},className:null,proposed:!1,initialValue:null};if(_.forEach(function(T){var U=T.indexOf("@ui ");if(U>=0)A.description=T.substring(U+4).trim();else{var k=T.indexOf("@title ");if(k>=0){var B=T.substring(k+7).trim();B.indexOf("@ja ")===0?A.title.ja=B.substring(4).trim():A.title.default=B}else if(T.indexOf("@proposed")>=0)A.proposed=!0;else{var L=T.indexOf("@comment ");if(L>=0){var V=T.substring(L+9).trim();return A.comment||(A.comment={}),void(V.indexOf("@ja ")===0?A.comment.ja=V.substring(4).trim():A.comment.default=V)}}}}),!A.description&&!A.comment)return null;if(A.proposed||A.comment)return A;var P=A.description.indexOf("("),D=A.description.indexOf(")",P);if(!(P<0||D<0)){A.className=A.description.substr(0,P);try{var R=new ns("[".concat(A.description.substr(P+1,D-P-1),"]")),F=Date.now();for(R.unwrap=null,R.wrap=null;R.step()&&!(Date.now()-F>100););A.params=R.pseudoToNative(R.value)}catch{}return A.params||(A.params=[]),A}}(y,p);o.push(d),x&&a.push(x)}}}}}),{widgets:a,fields:o,ast:n}}function dm(i,t){if(t===void 0&&(t=-1),!i)return{dependencyAtCursor:null,dependencies:[]};for(var r=[],n=null,s=(typeof i=="string"?ts(i,ns.PARSE_OPTIONS):i).body[0].body.body.slice(0);s.length>0;){var a=s.shift();if(a!=null){if(a.type!=="CallExpression")a.expression&&s.push(a.expression),a.object&&s.push(a.object),a.property&&s.push(a.property),a.name&&typeof name!="string"&&s.push(a.name),a.left&&s.push(a.left),a.right&&s.push(a.right),a.id&&s.push(a.id),a.init&&s.push(a.init),a.callee&&s.push(a.callee),a.body&&Array.isArray(a.body)&&s.push.apply(s,a.body),a.declarations&&Array.isArray(a.declarations)&&s.push.apply(s,a.declarations),a.arguments&&Array.isArray(a.arguments)&&s.push.apply(s,a.arguments),a.params&&Array.isArray(a.params)&&s.push.apply(s,a.params);else if(a.callee.name&&a.callee.name==="require"){var o=a.arguments;if(o&&Array.isArray(o)&&o.length===1){var l=o[0];if(l.type==="Literal"){var d=l.value;r.push(d),a.start&&a.end&&a.start<=t&&a.end>=t&&(n=d)}}}}}return{dependencyAtCursor:n,dependencies:r}}ns.Object=co,ns.State=Ct;var Nd=function(){return Nd=Object.assign||function(i){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s]);return i},Nd.apply(this,arguments)};function Hf(i,t,r){for(var n,s=0,a=t.length;s<a;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return i.concat(n||Array.prototype.slice.call(t))}function nS(i){return typeof i=="boolean"||typeof i=="number"||typeof i=="string"||i==null}var Ec={type:"ExpressionStatement",start:null,end:null,expression:{type:"CallExpression",start:null,end:null,expression:null,arguments:null},arguments:null},s4=function(){function i(t,r,n){n===void 0&&(n=null),this.wrapperTable=t,this.ignoredPropNames=r,this.wrapMethodParameter=n,this.verbose=!1,this.initialize()}return i.prototype.initialize=function(){var t=this,r=new ns("",function(n,s){t.globalScope=s});this.interpreter=r,this.interpreter.wrap=function(n){return t.wrap(n)},this.interpreter.unwrap=function(n,s){return t.unwrap(n,s)},this.wrappers={},Object.keys(this.wrapperTable).forEach(function(n){return t.wrapClass(t.wrapperTable[n],n)})},i.prototype.createGlobalFunction=function(t,r){var n,s=this,a=r.func,o=r.raw,l=r.isConstructor,d=r.async,p=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];var x=a(o?g:g.map(function(S,_){return _<g.length-1||!d?s.unwrap(S):S}));return o?x:s.wrap(x)};n=d?this.interpreter.createAsyncFunction(p):this.interpreter.createNativeFunction(p,l),this.interpreter.setProperty(this.globalScope,t,n)},i.prototype.createFunction=function(t,r){return r===void 0&&(r=!1),this.interpreter.createNativeFunction(t,r)},i.prototype.setProperty=function(t,r,n){this.interpreter.setProperty(t,r,this.wrap(n))},i.prototype.setRawProperty=function(t,r,n){this.interpreter.setProperty(t,r,n)},i.prototype.getProperty=function(t,r){return this.unwrap(this.interpreter.getProperty(t,r))},i.prototype.getRawProperty=function(t,r){return this.interpreter.getProperty(t,r)},i.prototype.prepareRun=function(t){var r;r=typeof t=="string"?ts(t,ns.PARSE_OPTIONS):t;var n=this.interpreter.createScope(r,this.globalScope);return this.interpreter.stateStack=[{node:r,scope:n,done:!1}],n},i.prototype.newStatementFor=function(t){return ts("new "+t+"();",ns.PARSE_OPTIONS)},i.prototype.prepareNewInstance=function(t,r){var n=this.interpreter.createScope(ts("",ns.PARSE_OPTIONS),r);return this.interpreter.stateStack=[{node:t,scope:n,thisExpression:n}],n},i.prototype.exec=function(t,r,n,s){var a=this,o=this.interpreter;Ec.expression.arguments=[];var l=[];return n.forEach(function(d){Ec.expression.arguments.push(null),l.push(a.wrap(d))}),o.stateStack=[{node:{type:"Program",body:[Ec]},scope:this.globalScope,done:!0,n_:1},{node:Ec,scope:this.globalScope,done_:!0},{node:Ec.expression,doneCallee_:2,doneArgs_:!0,arguments_:l,funcThis_:t,func_:o.getProperty(t,r),scope:t,n_:l.length,value:[t,r]}],this.run(700,"call a method ("+t.className+"."+r+(s||"")+")")},i.prototype.run=function(t,r){var n=this.interpreter,s=Date.now(),a=!1;try{for(;n.step();)if(Date.now()-s>t){a=!0;break}}catch(l){throw this.verbose&&console.log(n.stateStack),typeof l=="string"&&(l=new Error(l)),n.stateStack.length>0&&(l.node=n.stateStack[n.stateStack.length-1].node),l}if(a){var o=new Error("timeout: spent too long time (> "+t+"ms) to "+r);throw n.stateStack.length>0&&(o.node=n.stateStack[0].node),o}return this.interpreter.value},i.prototype.cleanupProperties=function(t){if(!t)return null;for(var r in this.ignoredPropNames.forEach(function(n){t.properties[n]!==void 0&&delete t.properties[n]}),t.properties)this.cleanupProperty(t.properties[r])||delete t.properties[r];return t.properties},i.prototype.cleanupProperty=function(t){if(nS(t))return!0;var r=t;if(r._native)return!0;var n=this.globalScope.properties;if(r.parent===n.Array){for(var s=r.length,a=0;a<r.length;a++)this.cleanupProperty(r.properties[a])||(delete r.properties[a],s--);return r.length=s,s>0}if(r.parent===n.Object){var o=!0;for(var l in r.properties)this.cleanupProperty(r.properties[l])?o=!1:delete r.properties[l];return!o}return!1},i.prototype.restoreProperties=function(t,r){r&&(t.properties=Nd(Nd({},t.properties),r))},i.prototype.wrap=function(t){if(typeof t=="object"&&t!==null&&t.constructor!==void 0&&typeof t.constructor.className=="string"){var r=t.constructor.className,n=this.wrappers[r];if(n===void 0)return;var s=this.interpreter.createObject(n);return s._native=t,s}return this.verbose&&(nS(t)||Array.isArray(t)||console.log("wrap complex obj:",String(t))),this.interpreter.nativeToPseudo(t)},i.prototype.unwrap=function(t,r){return typeof t=="object"&&t!==null&&t._native?t._native:this.interpreter.pseudoToNative(t,r)},i.prototype.wrapClass=function(t,r){this.verbose&&console.log("--- wrapping "+r+" ---"),t.className=r;var n=this,s=this.interpreter.createNativeFunction(function(a){var o,l;if(o=n.interpreter.calledWithNew()?this:n.interpreter.createObjectProto(s.properties.prototype),a!==void 0)if(Array.isArray(a))for(var d=0;d<a.length;d++)l[d]=n.unwrap(a[d]);else l=n.unwrap(a);if(t){var p=Object.create(t.prototype),g=t.apply(p,[null].concat(l).splice(1));o._native=g!==null&&typeof g=="object"?g:p}return o});return this.interpreter.setProperty(this.globalScope,r,s),this.wrapStaticMembers(s,t),this.wrapInstanceMembers(s,t),this.wrappers[r]=s,s},i.prototype.wrapStaticMembers=function(t,r){var n=this,s=function(l){var d=l;if(a.interpreter.setProperty(t,l,ReferenceError,{get:function(){return n.wrap(r[d])},set:function(g){return r[d]=n.unwrap(g)}}),a.verbose){var p=void 0;try{p=typeof r[d]}catch{p="not accessible"}console.log("static "+d+" ("+p+")")}},a=this;for(var o in r)s(o)},i.prototype.wrapInstanceMembers=function(t,r){for(var n,s=new r,a=0,o=Hf(Hf([],Object.keys(s)),function(g){for(var y=g,x=[];y&&y.prototype;)x=Hf(Hf([],x),Object.getOwnPropertyNames(y.prototype)),y=Object.getPrototypeOf(y);return x}(r)).filter(function(g,y,x){return x.indexOf(g)===y});a<o.length;a++){var l=o[a];if(l!=="constructor"&&!this.interpreter.hasProperty(t,l)&&!this.interpreter.hasProperty(t.properties.prototype,l)&&l.charAt(0)!=="_"){if(this.verbose){var d=void 0;try{d=typeof s[l]}catch{d="not accessible"}n=l+" ("+d+")"}try{if(typeof s[l]=="function"){var p=function(g,y){return function(x){var S;return y.wrap((S=this._native)[g].apply(S,x.map(function(_){var w=y.unwrap(_);return y.wrapMethodParameter?y.wrapMethodParameter(t,w):w})))}}(l,this);this.interpreter.setProperty(t.properties.prototype,l,this.interpreter.createNativeFunction(p)),this.verbose&&(n+=" native method")}}catch{}this.verbose&&console.log(n)}}},i}();function qf(i){var t=parseFloat(i);return isNaN(t)?0:t}function Ji(i){var t;if(typeof window>"u"||!(!((t=window==null?void 0:window.location)===null||t===void 0)&&t.search))return null;for(var r=0,n=window.location.search.substring(1).split("&");r<n.length;r++){var s=n[r].split("=");if(decodeURIComponent(s[0])===i)return decodeURIComponent(s[1])}return null}var Sy=function(i,t){return Sy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Sy(i,t)};function ml(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=i}Sy(i,t),i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var oi=function(){return oi=Object.assign||function(i){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s]);return i},oi.apply(this,arguments)};function Ze(i,t,r,n){return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(g){a(g)}}function l(p){try{d(n.throw(p))}catch(g){a(g)}}function d(p){var g;p.done?s(p.value):(g=p.value,g instanceof r?g:new r(function(y){y(g)})).then(o,l)}d((n=n.apply(i,[])).next())})}function Ke(i,t){var r,n,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return function(g){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,g[0]&&(o=0)),o;)try{if(r=1,n&&(s=2&g[0]?n.return:g[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,g[1])).done)return s;switch(n=0,s&&(g=[2&g[0],s.value]),g[0]){case 0:case 1:s=g;break;case 4:return o.label++,{value:g[1],done:!1};case 5:o.label++,n=g[1],g=[0];continue;case 7:g=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||g[0]!==6&&g[0]!==2)){o=0;continue}if(g[0]===3&&(!s||g[1]>s[0]&&g[1]<s[3])){o.label=g[1];break}if(g[0]===6&&o.label<s[1]){o.label=s[1],s=g;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(g);break}s[2]&&o.ops.pop(),o.trys.pop();continue}g=t.call(i,o)}catch(y){g=[6,y],n=0}finally{r=s=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([d,p])}}}function iS(i,t,r){if(arguments.length===2)for(var n,s=0,a=t.length;s<a;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return i.concat(n||Array.prototype.slice.call(t))}var pm,$f,a4=[0,0,0,0],o4=function(){function i(){this._position=0,this._wait=50,this.update=this.update.bind(this)}return Object.defineProperty(i.prototype,"wait",{get:function(){return this._wait},set:function(t){this._wait=t,this._isPlaying&&this.start()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){if(!this.isPlaying)return this._position;var t=this.basePosition.position+(Date.now()-this.basePosition.time);return Math.min(t,this.player.video.duration)},enumerable:!1,configurable:!0}),i.prototype.initialize=function(t){var r=t.player,n=t.updater,s=t.emitter;return Ze(this,0,void 0,function(){return Ke(this,function(a){return this.player=r,this.updateMediaPosition=n,this.emitter=s,[2]})})},i.prototype.play=function(){this.start(),this.emitter.onPlay()},i.prototype.stop=function(){this.clearInterval(),this._isPlaying=!1,this.seek(0),this.pause(),this.emitter.onStop()},i.prototype.pause=function(){this.clearInterval(),this._isPlaying=!1,this.emitter.onPause()},i.prototype.seek=function(t){var r=this;this._position=t,this.updateMediaPosition(t).then(function(){r.emitter.onSeek(t),r.emitter.onSeekComplete(t)}),this.isPlaying&&this.start()},i.prototype.dispose=function(){this.clearInterval()},i.prototype.clearInterval=function(){window.clearInterval(this.intervalId)},i.prototype.start=function(){this.clearInterval(),this._isPlaying=!0,this.basePosition={time:Date.now(),position:this._position},this.intervalId=window.setInterval(this.update,this.wait)},i.prototype.update=function(){this.player.video||this.stop();var t=this.basePosition.position+(Date.now()-this.basePosition.time);this._position=Math.min(t,this.player.video.duration),this.updateMediaPosition(this.position),this._position>=this.player.video.duration&&this.stop()},i}();function u4(){return Ze(this,0,void 0,function(){return Ke(this,function(i){return $f&&$f.Player?[2,$f]:typeof window>"u"?[2,jE(()=>import("./main-_1csrhUA.js").then(t=>t.m),[])]:window.Songle&&window.Songle.Player?[2,window.Songle]:(pm||(pm=new Promise(function(t){var r=!1;window.onSongleAPIReady=function(n){r=!0,t($f=n)},setTimeout(function(){if(!r){var n=[];document.querySelectorAll("script").forEach(function(a){var o=a.getAttribute("src");o&&o.indexOf("songle.jp/v2/api.js")>=0&&n.push(a)}),n.forEach(function(a){return a.parentElement.removeChild(a)});var s=document.createElement("script");s.src="https://api.songle.jp/v2/api.js",document.head.appendChild(s)}},1e3)})),[2,pm])})})}var l4=function(){function i(t){t===void 0&&(t={}),this.options=t,this.wait=50,this.volumeListener={onVolumeUpdate:this.onVolumeUpdate.bind(this)},this.resetProps()}return Object.defineProperty(i.prototype,"songlePlayer",{get:function(){return this._songlePlayer},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isPlaying",{get:function(){return!!this._songlePlayer&&this._songlePlayer.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"withSync",{get:function(){var t,r;return!(!(!((t=this.options)===null||t===void 0)&&t.accessToken)&&!(!((r=this.options)===null||r===void 0)&&r.secretToken))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){var t;if(!this._songlePlayer)return 0;if(this.lastPosition>0&&this.lastTime>0)return Date.now()+this.lastPosition-this.lastTime;var r=this._songlePlayer.positionTime;if(((t=this._songlePlayer.media)===null||t===void 0?void 0:t.dispatcherName)==="songle-api-html-media-element-media"){var n=this.lastTime,s=this.lastPosition,a=void 0;if(n>0){var o=Date.now()-n;a=Math.max(0,this.wait-o)}else a=this.wait;s===0&&r>=500?r=0:n===0&&r-s>=800&&(r=s+a)}return r},enumerable:!1,configurable:!0}),i.prototype.initialize=function(t){var r,n,s,a,o=t.player,l=t.updater,d=t.emitter,p=t.altSourceUrl;return Ze(this,0,void 0,function(){var g,y,x;return Ke(this,function(S){switch(S.label){case 0:return this.player&&this.player.removeListener(this.volumeListener),this.player=o,this.player.addListener(this.volumeListener),this.updateMediaPosition=l,this.emitter=d,this._songlePlayer?[3,2]:[4,this.initializeSonglePlayer()];case 1:S.sent(),S.label=2;case 2:return g=this.options.headless,y=p||this.options.altSourceUrls&&((r=this.player.data.song)===null||r===void 0?void 0:r.permalink)&&this.options.altSourceUrls[(n=this.player.data.song)===null||n===void 0?void 0:n.permalink]||((s=this.player.data.song)===null||s===void 0?void 0:s.permalink)||void 0,Ar.isUploaderUrl(y)&&(y=Ar.getAltSongUrlFromUploaderGuid(Ar.getUploaderGuid(Ar.getSongPathFromUrl(y)))),(x=((a=this.player.data.song)===null||a===void 0?void 0:a.permalink)||y)===y&&(y=void 0),[4,this._songlePlayer.useMedia(x,{headless:g,altSourceUrl:y})];case 3:return S.sent(),this.ignoreSonglePlayerEvents=!0,this._songlePlayer.volume=0*(1-this.player.volume/100)+100*this.player.volume/100,this._songlePlayer.play(),this._songlePlayer.stop(),this.ignoreSonglePlayerEvents=!1,this.resetProps(),[2]}})})},i.prototype.resetProps=function(){this.lastPosition=0,this.lastTime=0,this.elapsedTimes=[]},i.prototype.initializeSonglePlayer=function(){var t;return Ze(this,0,void 0,function(){var r,n,s,a,o,l,d,p=this;return Ke(this,function(g){switch(g.label){case 0:return r=this.options,n=r.accessToken,s=r.secretToken,(o=this.options.songle)?[3,2]:[4,u4()];case 1:o=g.sent(),g.label=2;case 2:return(a=o).System&&(a.System.showLicense=!1),l=(t=this.options)===null||t===void 0?void 0:t.autoUseMedia,this._songlePlayer=this.withSync?new a.SyncPlayer({mediaElement:this.player.mediaSourceElement,accessToken:n,secretToken:s,autoUseMedia:l}):new a.Player({mediaElement:this.player.mediaSourceElement}),d=!1,this._songlePlayer.on("play",function(){p.ignoreSonglePlayerEvents||(d=!1,p.handler||(p.startPolling(),p.emitter.onPlay()))}),this._songlePlayer.on("pause",function(){return Ze(p,0,void 0,function(){return Ke(this,function(y){switch(y.label){case 0:return this.ignoreSonglePlayerEvents?[2]:(d=!1,this.stopPolling(),this.emitter.onPause(),this.stopping?(this.stopping=!1,[4,this.updateMediaPosition(0)]):[3,2]);case 1:y.sent(),this.resetProps(),this.emitter.onStop(),y.label=2;case 2:return[2]}})})}),this._songlePlayer.on("finish",function(){return Ze(p,0,void 0,function(){return Ke(this,function(y){switch(y.label){case 0:return d=!1,this.handler?(this.stopPolling(),[4,this.updateMediaPosition(0)]):[3,2];case 1:y.sent(),this.emitter.onStop(),y.label=2;case 2:return[2]}})})}),this._songlePlayer.on("seek",function(y){var x=y.data;return Ze(p,0,void 0,function(){return Ke(this,function(S){switch(S.label){case 0:return this._songlePlayer.isPlaying?[3,2]:(d=!1,[4,this.updateMediaPosition(x.positionTime)]);case 1:return S.sent(),this.emitter.onSeekComplete(x.positionTime),[3,4];case 2:return d=!0,[4,this.updateMediaPosition(this._songlePlayer.positionTime)];case 3:S.sent(),S.label=4;case 4:return[2]}})})}),this._songlePlayer.on("mediaSeek",function(){d&&(p.emitter.onSeekComplete(p.position),d=!1)}),this.withSync&&(this._songlePlayer.on("mediaPlay",function(){p.handler||(p.startPolling(),p.emitter.onPlay())}),this._songlePlayer.on("mediaFinish",function(){p.handler&&(p.stopPolling(),p.emitter.onStop())})),[2]}})})},i.prototype.play=function(){if(this._songlePlayer)return this._songlePlayer.play();this.emitter.onPlay()},i.prototype.stop=function(){if(this._songlePlayer)return this.stopping=this._songlePlayer.isPlaying,this._songlePlayer.stop();this.emitter.onStop()},i.prototype.pause=function(){if(this._songlePlayer)return this.stopping=!1,this._songlePlayer.pause();this.emitter.onPause()},i.prototype.seek=function(t){var r=this;this._songlePlayer?(this._songlePlayer.seekTo(t),this.emitter.onSeek(t)):this.updateMediaPosition(t).then(function(){r.emitter.onSeek(t)})},i.prototype.startPolling=function(){var t,r=this;if(this.lastTime>0){var n=Date.now()-this.lastTime;t=Math.max(0,this.wait-n)}else t=this.wait;this.handler=setTimeout(function(){return Ze(r,0,void 0,function(){var s,a,o,l,d,p,g,y,x;return Ke(this,function(S){switch(S.label){case 0:return this._songlePlayer?(a=(s=this).lastTime,o=s.lastPosition,l=this._songlePlayer.positionTime,d=!1,((x=this._songlePlayer.media)===null||x===void 0?void 0:x.dispatcherName)==="songle-api-html-media-element-media"&&(o===0&&l>=500?(l=0,d=!0):a===0&&l-o>=800&&(l=o+t,d=!0)),p=a>0?Date.now()-a:t,this.updateElapsedTimes(p),g=o>0?o+p:l,y=Math.abs(l-g),(g=y>2*this.wait?l:g<=l?.5*(g+l):Math.max(o,l))<this.lastPosition&&(this.lastPosition-g>5*this.wait||(g=this.lastPosition)),d||(this.lastTime=Date.now()),this.lastPosition=g,[4,this.updateMediaPosition(g)]):[2];case 1:return S.sent(),this.handler&&this.startPolling(),[2]}})})},t)},i.prototype.updateElapsedTimes=function(t){if(this.elapsedTimes.unshift(t),this.elapsedTimes=this.elapsedTimes.slice(0,10),this.elapsedTimes.length>=10){var r=this.elapsedTimes.reduce(function(n,s){return n+s})/10;r>5*this.wait&&(this.player.stageScale=Math.max(.25,.9*this.player.stageScale),this.elapsedTimes=[]),r<1.2*this.wait&&this.player.stageScale<1&&(this.player.stageScale=Math.min(1,this.player.stageScale/.9),this.elapsedTimes=[])}},i.prototype.stopPolling=function(){var t;if(this.handler){if(clearTimeout(this.handler),this._songlePlayer)if(((t=this._songlePlayer.media)===null||t===void 0?void 0:t.dispatcherName)==="songle-api-html-media-element-media"){var r=this.lastTime,n=this.lastPosition,s=Date.now()-r;this.lastPosition=n+s}else this.lastPosition=this._songlePlayer.positionTime;this.lastTime=0}this.handler=null},i.prototype.dispose=function(){if(this.player&&this.player.removeListener(this.volumeListener),this._songlePlayer){try{this._songlePlayer.stop()}catch{}this._songlePlayer=null}},i.prototype.onVolumeUpdate=function(t){this._songlePlayer&&(this._songlePlayer.volume=t)},i}(),c4=function(){function i(t){this.listeners=[],this.throttleInterval=t&&t.throttleInterval?Number(t.throttleInterval):100}return i.prototype.onVideoLoad=function(t,r){this.listeners.forEach(function(n){return n.onVideoLoad&&n.onVideoLoad(t,r)})},i.prototype.onSongLoad=function(t,r){this.listeners.forEach(function(n){return n.onSongLoad&&n.onSongLoad(t,r)})},i.prototype.onSongMapLoad=function(t,r){this.listeners.forEach(function(n){return n.onSongMapLoad&&n.onSongMapLoad(t,r)})},i.prototype.onSongInfoLoad=function(t,r){var n=!1;this.listeners.forEach(function(s){s.onSongInfoLoad&&(s.onSongInfoLoad(t,r),n=!0)}),n&&console.warn('[TextAlive API] "onSongInfoLoad" event is deprecated; use "onSongMapLoad" event instead')},i.prototype.onVocalAmplitudeLoad=function(t,r){this.listeners.forEach(function(n){return n.onVocalAmplitudeLoad&&n.onVocalAmplitudeLoad(t,r)})},i.prototype.onValenceArousalLoad=function(t,r){this.listeners.forEach(function(n){return n.onValenceArousalLoad&&n.onValenceArousalLoad(t,r)})},i.prototype.onLyricsLoad=function(t,r){this.listeners.forEach(function(n){return n.onLyricsLoad&&n.onLyricsLoad(t,r)})},i.prototype.onTextLoad=function(t,r){this.listeners.forEach(function(n){return n.onTextLoad&&n.onTextLoad(t,r)})},i.prototype.onAppLoad=function(t){this.listeners.forEach(function(r){return r.onAppLoad&&r.onAppLoad(t)})},i.prototype.onAppReady=function(t){this.listeners.forEach(function(r){return r.onAppReady&&r.onAppReady(t)})},i.prototype.onAppParameterUpdate=function(t,r){this.listeners.forEach(function(n){return n.onAppParameterUpdate&&n.onAppParameterUpdate(t,r)})},i.prototype.onAppMediaChange=function(t,r){this.listeners.forEach(function(n){return n.onAppMediaChange&&n.onAppMediaChange(t,r)})},i.prototype.onTemplateUpdate=function(t){this.listeners.forEach(function(r){return r.onTemplateUpdate&&r.onTemplateUpdate(t)})},i.prototype.onTemplateCommit=function(t){this.listeners.forEach(function(r){return r.onTemplateCommit&&r.onTemplateCommit(t)})},i.prototype.onTemplatesLoad=function(t,r){this.listeners.forEach(function(n){return n.onTemplatesLoad&&n.onTemplatesLoad(t,r)})},i.prototype.onFontsLoad=function(t,r){this.listeners.forEach(function(n){return n.onFontsLoad&&n.onFontsLoad(t,r)})},i.prototype.onVideoReady=function(t){this.listeners.forEach(function(r){return r.onVideoReady&&r.onVideoReady(t)})},i.prototype.onTimerReady=function(t){this.listeners.forEach(function(r){return r.onTimerReady&&r.onTimerReady(t)})},i.prototype.onStageElementSet=function(t){this.listeners.forEach(function(r){return r.onStageElementSet&&r.onStageElementSet(t)})},i.prototype.onMediaElementSet=function(t){this.listeners.forEach(function(r){return r.onMediaElementSet&&r.onMediaElementSet(t)})},i.prototype.onTimeUpdate=function(t){var r=this;this.listeners.forEach(function(n){return n.onTimeUpdate&&n.onTimeUpdate(t)}),this.position=t,this.throttledTimeUpdate||(this.throttledTimeUpdate=new Promise(function(n,s){setTimeout(function(){r.onThrottledTimeUpdate(r.position),r.throttledTimeUpdate=null,n()},r.throttleInterval)}))},i.prototype.onThrottledTimeUpdate=function(t){this.listeners.forEach(function(r){return r.onThrottledTimeUpdate&&r.onThrottledTimeUpdate(t)})},i.prototype.onBackgroundGraphicsUpdate=function(t){this.listeners.forEach(function(r){return r.onBackgroundGraphicsUpdate&&r.onBackgroundGraphicsUpdate(t)})},i.prototype.onMediaSeek=function(t){this.listeners.forEach(function(r){return r.onMediaSeek&&r.onMediaSeek(t)})},i.prototype.onVideoSeekStart=function(){this.listeners.forEach(function(t){return t.onVideoSeekStart&&t.onVideoSeekStart()})},i.prototype.onVideoSeekEnd=function(){this.listeners.forEach(function(t){return t.onVideoSeekEnd&&t.onVideoSeekEnd()})},i.prototype.onVideoSeek=function(t){this.listeners.forEach(function(r){return r.onVideoSeek&&r.onVideoSeek(t)})},i.prototype.onPlay=function(){this.listeners.forEach(function(t){return t.onPlay&&t.onPlay()})},i.prototype.onPause=function(){this.listeners.forEach(function(t){return t.onPause&&t.onPause()})},i.prototype.onSeek=function(t){this.listeners.forEach(function(r){return r.onSeek&&r.onSeek(t)})},i.prototype.onSeekComplete=function(t){this.listeners.forEach(function(r){return r.onSeekComplete&&r.onSeekComplete(t)})},i.prototype.onStop=function(){this.listeners.forEach(function(t){return t.onStop&&t.onStop()})},i.prototype.onDispose=function(){this.listeners.forEach(function(t){return t.onDispose&&t.onDispose()})},i.prototype.onResize=function(t){this.listeners.forEach(function(r){return r.onResize&&r.onResize(t)})},i.prototype.onVolumeUpdate=function(t){this.listeners.forEach(function(r){return r.onVolumeUpdate&&r.onVolumeUpdate(t)})},i.prototype.addListener=function(t){!t||this.listeners.indexOf(t)>=0||this.listeners.push(t)},i.prototype.removeListener=function(t){var r=!1;return this.listeners=this.listeners.filter(function(n){var s=n===t;return r=r||s,!s}),r},i}(),h4=function(){function i(t,r,n){var s=this;this.player=t,this.manager=r,this.emitter=n,this._defaultBackgroundCss=null,this._background=null,t.addListener({onStageElementSet:function(a){return s.doUpdateBackground(s.background)}})}return Object.defineProperty(i.prototype,"background",{get:function(){return this._background},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"defaultBackgroundCss",{get:function(){return this._defaultBackgroundCss?this._defaultBackgroundCss:""},set:function(t){this._defaultBackgroundCss=t,this.updateBackground(this._background)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ready",{get:function(){return this._background!==null},enumerable:!1,configurable:!0}),i.prototype.settingBackground=function(t){return Ze(this,0,void 0,function(){return Ke(this,function(r){switch(r.label){case 0:return[4,this.doSetBackground(t)];case 1:return[2,r.sent()&&this.doUpdateBackground(t)]}})})},i.prototype.setBackground=function(t){return Ze(this,0,void 0,function(){var r;return Ke(this,function(n){switch(n.label){case 0:return[4,this.doSetBackground(t)];case 1:return[2,(r=n.sent())&&this.updateBackground(r)]}})})},i.prototype.doSetBackground=function(t){return Ze(this,0,void 0,function(){var r,n,s;return Ke(this,function(a){switch(a.label){case 0:return r=t&&t.originalUrl?t.originalUrl:"",this.manager.isBackgroundColorAsset(t)?[2,{css:r,originalUrl:r}]:this.manager.isBackgroundPiaproImageAsset(t)?[4,this.manager.read(r)]:[3,2];case 1:return(n=a.sent())&&n.url&&this.manager.checkBackgroundImageLicense(n.license)?(n.originalUrl=r,t&&(n.x=t.x,n.y=t.y),[2,n]):[2,{css:"",originalUrl:r,x:t?t.x:void 0,y:t?t.y:void 0,license:n?n.license:void 0}];case 2:return this.manager.isBackgroundSpecialImageAsset(t)?[2,{css:'url("https://api.textalive.jp/images/backgrounds/snowmiku2016/'+(s=/^snowmiku2016-([0-9]{2})$/.exec(r))[1]+'.jpg")',contentUrl:"https://api.textalive.jp/images/backgrounds/snowmiku2016/"+s[1]+".jpg",url:"https://snowmiku.com/2016/info_chara.html",name:"SNOW MIKU 2016",authorName:"豆の素",originalUrl:r,x:t?t.x:void 0,y:t?t.y:void 0,defaultY:0}]:[2,{originalUrl:null,css:"",x:t?t.x:void 0,y:t?t.y:void 0}]}})})},i.prototype.updateBackground=function(t){return!!this.doUpdateBackground(t)&&(this.emitter&&this.emitter.onBackgroundGraphicsUpdate&&this.emitter.onBackgroundGraphicsUpdate(t),!0)},i.prototype.doUpdateBackground=function(t){if(!t)return!1;if(!this.player.stageElement)return this._background=t,!0;var r=this.player.stageElement.style;return t.css.length<=0?r.background=this.defaultBackgroundCss:r.background=t.css,typeof t.x=="number"||this._background&&typeof this._background.x=="number"?(typeof t.x!="number"&&(t.x=this._background.x),r.backgroundPositionX=r.backgroundPositionX+"%"):r.backgroundPositionX=typeof t.defaultX=="number"?t.defaultX+"%":"center",typeof t.y=="number"||this._background&&typeof this._background.y=="number"?(typeof t.y!="number"&&(t.y=this._background.y),r.backgroundPositionY=r.backgroundPositionY+"%"):r.backgroundPositionY=typeof t.defaultY=="number"?t.defaultY+"%":"center",r.backgroundSize="cover",this._background=t,!0},i.prototype.export=function(){if(!this.background||!this.background.originalUrl)return null;var t={originalUrl:this.background.originalUrl};return this.background.x!==void 0&&(t.x=this.background.x),this.background.y!==void 0&&(t.y=this.background.y),t},i.prototype.exportPartialVideoEntry=function(t){return{background:this.export()}},i}();function f4(i,t,r){return Ze(this,0,void 0,function(){var n,s,a,o,l,d,p,g,y,x,S,_,w,A;return Ke(this,function(P){switch(P.label){case 0:if(n={loaded:[],failed:[]},typeof window>"u"||!window.document||!window.document.head)return n.failed=i.slice(),[2,n];for(s=r.split("").filter(function(D,R,F){return F.indexOf(D)===R}).sort(),a=!0,o=0,s.forEach(function(D){var R=t.indexOf(D,o);a=a&&R>=0,o=R}),l=window.document.head,d=[],p=0;p<l.children.length;p++)(g=l.children.item(p)).tagName.toLowerCase()==="link"&&g.getAttribute("rel")==="stylesheet"&&d.push(g.getAttribute("href"));if(y=[],x=[],S=[],i.forEach(function(D){if(D.google)S.push(D.key);else{var R=a&&D.compactUrl||D.url;d.includes(R)?n.loaded.push(D):(x.push(D.en),y.push(R))}}),_={classes:!1,active:null,inactive:null,fontactive:function(D){n.loaded.push(i.find(function(R){return R.en===D})),n.failed=n.failed.filter(function(R){return R.en!==D})},fontinactive:function(D){n.failed.push(i.find(function(R){return R.en===D}))},timeout:5e3},S.length>0&&(_.google={families:S}),x.length>0&&(_.custom={families:x,urls:y}),!_.google&&!_.custom)return[3,6];P.label=1;case 1:return P.trys.push([1,5,,6]),(A=typeof window<"u"&&(window==null?void 0:window.WebFont))?[3,3]:[4,jE(()=>import("./webfontloader-DxQz_Xk3.js").then(D=>D.w),[])];case 2:A=P.sent(),P.label=3;case 3:return w=A,[4,new Promise(function(D){_.active=_.inactive=D,w.load(_)})];case 4:case 5:return P.sent(),[3,6];case 6:return[2,n]}})})}function d4(i,t){return Ze(this,0,void 0,function(){var r,n,s,a,o,l,d;return Ke(this,function(p){switch(p.label){case 0:if(r={loaded:[],failed:[]},!(typeof window<"u"&&window.document&&window.document.head&&window.Ts&&window.Ts.loadFontAsync))return r.failed=i.slice(),[2,r];for(n=window.document.head,s={},a=function(g){var y=n.children.item(g);if(y.tagName.toLowerCase()!=="style"||y.getAttribute("type")!=="text/css"||y.getAttribute("rel")!=="stylesheet"||!y.hasAttribute("data-cssName"))return"continue";var x=y.getAttribute("data-cssName");if(s[x]===void 0)return s[x]=new Set(y.getAttribute("data-text")),"continue";y.getAttribute("data-text").split("").forEach(function(S){return s[x].add(S)})},o=0;o<n.children.length;o++)a(o);return l=window.Ts,d=[],i.forEach(function(g){var y=new Set(t+g.en+g.ja);if(s[g.en]&&s[g.en].forEach(function(x){return y.delete(x)}),y.size<=0)return r.loaded.push(g),r;d.push(new Promise(function(x){return function(S,_,w,A,P){var D=_.en;S.loadFontAsync({cssName:D,text:A,outputType:"json",callback:function(R){try{(function(F,T,U){var k=JSON.parse(U),B=JSON.parse(k.res),L=document.createElement("style");L.setAttribute("data-cssName",F),L.setAttribute("data-text",T),L.setAttribute("type","text/css"),L.setAttribute("rel","stylesheet"),L.innerHTML="@font-face {font-family: '"+B.fontFamily+"';font-weight: "+B["font-weight"]+";src: url(data:font/woff;base64,"+B.src+");}",document.head.appendChild(L)})(D,A,R.data),w.loaded.push(_)}catch{w.failed.push(_)}P()}})}(l,g,r,Array.from(y.values()).join(""),x)}))}),[4,Promise.all(d)];case 1:return p.sent(),[2,r]}})})}var gm=function(i){function t(r,n){var s=this.constructor,a=i.call(this,r)||this;return a.fonts=n,Object.setPrototypeOf(a,s.prototype),a}return ml(t,i),t}(Error),p4=function(){function i(t,r,n){this.fontInfoManager=t,this.textFetcher=r,this.listener=n,this._failed=[],this._loaded=[]}return Object.defineProperty(i.prototype,"failed",{get:function(){return this._failed},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"loaded",{get:function(){return this._loaded},enumerable:!1,configurable:!0}),i.prototype.loadAll=function(){return Ze(this,0,void 0,function(){var t;return Ke(this,function(r){switch(r.label){case 0:return[4,this.listAvailableFonts()];case 1:return t=r.sent(),[2,this.loadFonts(t)]}})})},i.prototype.loadForVideo=function(t){return Ze(this,0,void 0,function(){var r,n;return Ke(this,function(s){switch(s.label){case 0:return(r=this.listFontFamiliesInVideo(t))?[4,this.listAvailableFonts()]:(this.listener&&this.listener.onFontsLoad&&this.listener.onFontsLoad(this.loaded),[2,Promise.resolve(this.loaded)]);case 1:return n=s.sent(),[2,this.loadFonts(n.filter(function(a){return r.indexOf(a.en)>=0}))]}})})},i.prototype.listFontFamiliesInVideo=function(t){if(!t||!t.phrases)return null;var r=[];return t.phrases.forEach(function(n){return n.words.forEach(function(s){return s.characters.forEach(function(a){return r.push(a.fontFamily)})})}),r.filter(function(n,s,a){return a.indexOf(n)===s})},i.prototype.listAvailableFonts=function(){return Ze(this,0,void 0,function(){return Ke(this,function(t){return[2,this.fontInfoManager.listAvailableFonts()]})})},i.prototype.isLoading=function(){return!!this.queue},i.prototype.load=function(t){return Ze(this,0,void 0,function(){var r,n;return Ke(this,function(s){switch(s.label){case 0:return r=[],n=[],t.forEach(function(a){typeof a=="string"?r.push(a):n.push(a)}),[4,this.fontInfoManager.listAvailableFonts()];case 1:return s.sent().forEach(function(a){r.indexOf(a.key)>=0&&n.push(a)}),[2,this.loadFonts(n)]}})})},i.prototype.loadFonts=function(t){return Ze(this,0,void 0,function(){var r=this;return Ke(this,function(n){return this.queue?(this.listener&&this.listener.onFontsLoad&&this.listener.onFontsLoad(null,new gm("Failed to load some fonts because there is an ongoing font loding process",this.failed.slice())),[2,this.loaded]):(this.queue=this.doLoad(t).then(function(s){return r.queue=null,s}),[2,this.queue])})})},i.prototype.doLoad=function(t){return Ze(this,0,void 0,function(){var r,n,s,a,o=this;return Ke(this,function(l){switch(l.label){case 0:return r=[],n=[],[4,this.fontInfoManager.getFrequentChars()];case 1:return s=l.sent(),t.forEach(function(d){d.typesquare||d.typekit||r.push(d),d.typesquare&&n.push(d)}),a=(this.textFetcher&&this.textFetcher()||"").split("").filter(function(d,p,g){return g.indexOf(d)===p}).sort().join(""),[2,Promise.all([f4(r,s,a),d4(n,a)]).then(function(d){var p=d[0],g=d[1],y=p.loaded.concat(g.loaded);if(o.addLoadedFonts(y),p.failed.length>0||g.failed.length>0){var x=p.failed.concat(g.failed);o.addFailedFonts(x),o.listener&&o.listener.onFontsLoad&&o.listener.onFontsLoad(null,new gm("Failed to load some fonts",o.failed.slice()))}else o.listener&&o.listener.onFontsLoad&&o.listener.onFontsLoad(y);return o.loaded}).catch(function(d){return o.listener&&o.listener.onFontsLoad&&o.listener.onFontsLoad(null,new gm(d,o.failed.slice())),o.loaded})]}})})},i.prototype.addLoadedFonts=function(t){var r=this;this._loaded=this.loaded.concat(t.filter(function(n){return r.failed.findIndex(function(s){return s.key===n.key})<0}))},i.prototype.addFailedFonts=function(t){var r=this;this._failed=this.failed.concat(t.filter(function(n){return r.failed.findIndex(function(s){return s.key===n.key})<0}))},i}(),wp=function(){function i(){}return Object.defineProperty(i.prototype,"duration",{get:function(){return this.endTime-this.startTime},enumerable:!1,configurable:!0}),i.prototype.contains=function(t){return t>=this.startTime&&t<=this.endTime},i.prototype.overlaps=function(t,r){if(typeof t=="object")return this.overlaps(t.startTime,t.endTime);var n=t;return this.contains(n)||this.contains(r)||this.startTime<=n&&this.endTime>=r},i.prototype.progress=function(t){return this.contains(t)?this.startTime===this.endTime?0:(t-this.startTime)/(this.endTime-this.startTime):-1},i}(),QC=function(i){function t(){var r=i.call(this)||this;return r.previous=r.next=null,r}return ml(t,i),Object.defineProperty(t.prototype,"endTime",{get:function(){return this.next?this.next.startTime:this.startTime},enumerable:!1,configurable:!0}),t}(wp),g4=function(i){function t(){var r=i.call(this)||this;return r.previous=r.next=null,r}return ml(t,i),t}(wp),JC=function(i){function t(){var r=i.call(this)||this;return r.previous=r.next=null,r}return ml(t,i),t}(wp),m4=function(i){function t(){var r=i.call(this)||this;return r.previous=r.next=null,r}return ml(t,i),t}(wp),y4=function(){function i(t){var r=t.analysis,n=t.info;this.beats=[],this.chords=[],this.segments=[],this.voice=[],this._revisions={beatId:(n==null?void 0:n.beatRevisionId)||-1,chordId:(n==null?void 0:n.chordRevisionId)||-1,repetitiveSegmentId:(n==null?void 0:n.chorusRevisionId)||-1},this.parseBeats(r==null?void 0:r.beats),this.parseSegments(r==null?void 0:r.repetitive_segment),this.parseChords(r==null?void 0:r.chords),this.parseVoice(r.voice)}return Object.defineProperty(i.prototype,"revisions",{get:function(){return this._revisions},enumerable:!1,configurable:!0}),i.prototype.parseBeats=function(t){var r=this;if(this.beats.splice(0,this.beats.length),Array.isArray(t)&&Array.isArray(t[0])){var n=null,s=0;t[0].forEach(function(a){var o=new QC;o.startTime=1e3*a[0],o.length=a[2],o.position=a[3],o.previous=n,n!==null&&(n.next=o),o.index=s++,r.beats.push(o),n=o}),n!==null&&(n.next=null)}},i.prototype.parseChords=function(t){var r=this;if(this.chords.splice(0,this.chords.length),Array.isArray(t)){var n=null,s=0;t.forEach(function(a){var o=new g4;o.startTime=1e3*a[0],o.endTime=1e3*a[1],o.name=a[2],o.previous=n,n!==null&&(n.next=o),o.index=s++,r.chords.push(o),n=o}),n!==null&&(n.next=null)}},i.prototype.parseSegments=function(t){var r=this;this.segments.splice(0,this.segments.length),Array.isArray(t)&&t.forEach(function(n){var s={chorus:!!n.chorus,duration:10*n.segment_length,segments:null},a=null,o=0;s.segments=n.start_frames.map(function(l){var d=new JC;return d.startTime=10*l,d.endTime=d.startTime+s.duration,d.previous=a,a!==null&&(a.next=d),d.index=o++,a=d,d}),a!==null&&(a.next=null),r.segments.push(s)})},i.prototype.parseVoice=function(t){var r=this;this.voice.splice(0,this.voice.length),Array.isArray(t)&&t.forEach(function(n){var s=[],a=null,o=0,l=0;n.forEach(function(d){var p=new m4;p.startTime=l,p.endTime=p.startTime+10*d[1],p.f0=d[0][0],p.initialF0=d[0][1],p.previous=a,a!==null&&(a.next=p),p.index=o++,s.push(p),a=p,l=p.endTime}),a!==null&&(a.next=null),r.voice.push(s)})},i}(),sS=function(){function i(t){var r=t.song,n=t.analysis,s=t.vocalAmplitude,a=t.maxVocalAmplitude,o=t.valenceArousal;this._song=r,this._analysis=n,this._vocalAmplitude=s,this._maxVocalAmplitude=a,this._valenceArousal=o}return Object.defineProperty(i.prototype,"song",{get:function(){return this._song},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"analysis",{get:function(){return this._analysis},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"vocalAmplitude",{get:function(){return this._vocalAmplitude},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxVocalAmplitude",{get:function(){return this._maxVocalAmplitude},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"valenceArousal",{get:function(){return this._valenceArousal},enumerable:!1,configurable:!0}),i.prototype.getChoruses=function(){var t;if(!this._analysis)return[];var r=this._analysis.segments.filter(function(n){return n.chorus});return r.length<=0?[]:((t=r[0].segments)===null||t===void 0?void 0:t.slice())||[]},i.prototype.findChorus=function(t,r){return Sa(this.getChoruses(),t,r)},i.prototype.findChorusBetween=function(t,r){return this.findChorus(t,{endTime:r})},i.prototype.findChorusChange=function(t,r){return wa(this.getChoruses(),t,r)},i.prototype.getBeats=function(){var t,r;return((r=(t=this._analysis)===null||t===void 0?void 0:t.beats)===null||r===void 0?void 0:r.slice())||[]},i.prototype.findBeat=function(t,r){return Sa(this.getBeats(),t,r)},i.prototype.findBeatChange=function(t,r){return wa(this.getBeats(),t,r)},i.prototype.getChords=function(){var t,r;return((r=(t=this._analysis)===null||t===void 0?void 0:t.chords)===null||r===void 0?void 0:r.slice())||[]},i.prototype.findChord=function(t,r){return Sa(this.getChords(),t,r)},i.prototype.findChordChange=function(t,r){return wa(this.getChords(),t,r)},i.prototype.getVocalFrequency=function(t){var r;if(!Array.isArray((r=this._analysis)===null||r===void 0?void 0:r.voice))return-1;var n=this._analysis.voice[0];if(n.length<=0)return-1;var s=Pa.sortedIndex(n,t,function(a){return a.endTime});return n[s].contains(t)?n[s].f0:-1},i.prototype.getVocalAmplitude=function(t){var r=this._vocalAmplitude,n=Math.round(t/10);return!Array.isArray(this._vocalAmplitude)||n<0||n>=r.length?-1:this._vocalAmplitude[n]},i.prototype.getMaxVocalAmplitude=function(){return typeof this._maxVocalAmplitude=="number"?this._maxVocalAmplitude:-1},i.prototype.getValenceArousal=function(t){var r=this._valenceArousal;if(!r)return null;var n=Pa.sortedIndex(r.seq,t,function(g){return 1e3*g.t[1]});if(n<0)return{a:r.seq[0].a,v:r.seq[0].v};if(n+1>=r.seq.length||t<1e3*r.seq[n+1].t[0])return{a:r.seq[Math.min(n,r.seq.length-1)].a,v:r.seq[Math.min(n,r.seq.length-1)].v};var s=r.seq[n],a=r.seq[n+1],o=t/1e3,l=a.t[0],d=s.t[1],p=d-l;return{a:(s.a*(d-o)+a.a*(o-l))/p,v:(s.v*(d-o)+a.v*(o-l))/p}},i.prototype.getMedianValenceArousal=function(){var t=this._valenceArousal;return t?t.stats.median:null},i}(),aS=function(){function i(t,r,n){this.songManager=t,this.options=n,this.listener=r}return Object.defineProperty(i.prototype,"song",{get:function(){return this._song},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"analysis",{get:function(){return this._analysis},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"vocalAmplitude",{get:function(){return this._vocalAmplitude},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxVocalAmplitude",{get:function(){return this._maxVocalAmplitude},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"valenceArousal",{get:function(){return this._valenceArousal},enumerable:!1,configurable:!0}),i.prototype.loadSong=function(t,r){var n,s,a;return Ze(this,0,void 0,function(){var o,l;return Ke(this,function(d){switch(d.label){case 0:return typeof t=="number"&&t<0||!t?(this.onSongLoad(null,new Error("Neither Songle ID or code provided")),[2,null]):[4,this.songManager.load(typeof t=="number"?{id:t}:{code:t})];case 1:return o=d.sent(),this.onSongLoad(o,o?void 0:new Error("Song data not found")),o?(l={chord:r==null?void 0:r.chordId,beat:r==null?void 0:r.beatId,chorus:r==null?void 0:r.repetitiveSegmentId},[4,Promise.all([!((n=this.options)===null||n===void 0)&&n.vocalFrequencyEnabled?this.loadSongDetailInfo(o.song.code,{revisions:l}):this.loadSongInfo(o.song.code,{revisions:l}),!((s=this.options)===null||s===void 0)&&s.vocalAmplitudeEnabled?this.loadVocalAmplitude(o.song.code):Promise.resolve(null),!((a=this.options)===null||a===void 0)&&a.valenceArousalEnabled?this.loadValenceArousal(o.song.code):Promise.resolve(null)])]):[2,null];case 2:return d.sent(),[2,new sS(this)]}})})},i.prototype.onSongLoad=function(t,r){this._song=t,this.listener&&this.listener.onSongLoad&&this.listener.onSongLoad(t,r)},i.prototype.loadSongInfo=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return[4,this.songManager.loadInfo(String(t),r)];case 1:return n=s.sent(),this.onSongMapLoad(n,n?void 0:new Error("Song analysis data not found")),[2,n]}})})},i.prototype.loadSongDetailInfo=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return[4,this.songManager.loadDetailInfo(String(t),r)];case 1:return n=s.sent(),this.onSongMapLoad(n,n?void 0:new Error("Song analysis data not found")),[2,n]}})})},i.prototype.mockSongInfo=function(t){var r=function(n){for(var s=n.beat,a=n.chorusSegment,o=n.duration,l=[],d=0;60*d/s.bpm<o/1e3;)l.push([60*d/s.bpm,1,s.length,d%s.length+1,1]),d++;return{beats:[l],chords:null,repetitive_segment:[{chorus:!0,index:0,segment_length:a.duration/10,start_frames:a.startTimes.map(function(p){return p/10})}],voice:null}}(t);return this._song=null,this.onSongMapLoad({analysis:r,info:null}),new sS(this)},i.prototype.onSongMapLoad=function(t,r){var n,s;this._analysis=new y4(t),!((n=this.listener)===null||n===void 0)&&n.onSongMapLoad&&this.listener.onSongMapLoad(this._analysis,r),!((s=this.listener)===null||s===void 0)&&s.onSongInfoLoad&&this.listener.onSongInfoLoad(t,r)},i.prototype.loadVocalAmplitude=function(t){var r;return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return n=this,[4,this.songManager.loadVocalAmplitude(String(t))];case 1:return n._vocalAmplitude=s.sent(),this._maxVocalAmplitude=Math.max.apply(Math,this._vocalAmplitude),!((r=this.listener)===null||r===void 0)&&r.onVocalAmplitudeLoad&&this.listener.onVocalAmplitudeLoad(this._vocalAmplitude,this._vocalAmplitude?void 0:new Error("Vocal amplitude data not found")),[2,this._vocalAmplitude]}})})},i.prototype.loadValenceArousal=function(t){var r;return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return n=this,[4,this.songManager.loadValenceArousal(String(t))];case 1:return n._valenceArousal=s.sent(),!((r=this.listener)===null||r===void 0)&&r.onValenceArousalLoad&&this.listener.onValenceArousalLoad(this._valenceArousal,this._valenceArousal?void 0:new Error("Valence arousal data not found")),[2,this._valenceArousal]}})})},i}(),v4=function(){function i(t,r,n){this.managers=t,this.listener=r,this.options=n}return i.prototype.loadRawText=function(t){var r;return r=!t.phrases||t.phrases.length<0?"":t.phrases.map(function(n){return n.words.map(function(s){return s.characters.map(function(a){return a.char}).join("")}).join("")}).join(""),this.onTextLoad({text:r}),{lyricsId:-1,lyrics:null,lyricsBody:{text:r,artist:null,name:null,url:null}}},i.prototype.loadLyrics=function(t){var r=t.songCode,n=t.lyricId,s=n===void 0?-1:n,a=t.lyricDiffId,o=a===void 0?-1:a,l=t.altLyricsUrl,d=t.directAccess;return Ze(this,0,void 0,function(){var p,g,y,x;return Ke(this,function(S){switch(S.label){case 0:return s<=0?(s===0?this.onLyricsLoad(null,new Error("Lyrics not loaded")):this.onLyricsLoad(null,new Error("Lyrics not found")),[2,null]):[4,this.managers.lyrics.loadDiff(r,s,o)];case 1:return(p=S.sent())!=null&&p.data?(g=oi(oi({},p),{processing:!1,failed:!1,id:s,diff:{id:o}}),this.onLyricsLoad(g),l||d?[3,3]:[4,this.managers.lyrics.fetchLocalLyricBody(s)]):(this.onLyricsLoad(null,new Error("Lyrics timing information not found")),[2,null]);case 2:y=S.sent(),S.label=3;case 3:if(y!=null&&y.text)return[3,7];S.label=4;case 4:return S.trys.push([4,6,,7]),[4,this.loadLyricsText(p,{altLyricsUrl:l,directAccess:d})];case 5:return y=S.sent(),[3,7];case 6:return x=S.sent(),this.onTextLoad(null,x),[3,7];case 7:return y&&this.onTextLoad(y),[2,{lyricsId:g.id,lyrics:g,lyricsBody:y}]}})})},i.prototype.loadLyricsText=function(t,r){var n=r===void 0?{}:r,s=n.altLyricsUrl,a=n.directAccess;return Ze(this,0,void 0,function(){var o,l,d=this;return Ke(this,function(p){switch(p.label){case 0:return o=this.options&&typeof this.options.lyricsFetchTimeout=="number"&&this.options.lyricsFetchTimeout>=0,l=this.managers.lyrics.fetchLyricBody(s||t.url,{parserPath:t.parser_path,directAccess:a}),[4,o?Promise.race([l,new Promise(function(g,y){return setTimeout(function(){return y(new Error("Fetching lyrics text timeout"))},d.options.lyricsFetchTimeout)})]):l];case 1:return[2,p.sent()]}})})},i.prototype.onLyricsLoad=function(t,r){this.listener&&this.listener.onLyricsLoad&&this.listener.onLyricsLoad(t,r)},i.prototype.onTextLoad=function(t,r){this.listener&&this.listener.onTextLoad&&this.listener.onTextLoad(t,r)},i}(),b4=function(){function i(t){var r=t.video;this._video=r}return Object.defineProperty(i.prototype,"video",{get:function(){return this._video},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this._video.json},enumerable:!1,configurable:!0}),i}(),xa=function(){function i(t,r){this.managers=t,this.listener=r,this.listener=r}return Object.defineProperty(i.prototype,"video",{get:function(){return this._video},enumerable:!1,configurable:!0}),i.prototype.onVideoLoad=function(t,r){var n=t?Object.assign(t,r):null;return n&&(typeof n.json=="string"?n.json=JSON.parse(n.json):typeof n.json=="object"&&n.json!==null||(n.json={}),typeof n.config=="string"?n.config=JSON.parse(n.config):typeof n.config=="object"&&n.config!==null||(n.config={})),this._video=n,this.listener&&this.listener.onVideoLoad&&this.listener.onVideoLoad(n),new b4({video:n})},i.prototype.createFromVideoId=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return[4,this.managers.video.load(t)];case 1:return n=s.sent(),[2,this.onVideoLoad(n,r)]}})})},i.prototype.createFromVideo=function(t,r){return this.onVideoLoad(t,r)},i.prototype.createFromSongUrl=function(t,r){return Ze(this,0,void 0,function(){return Ke(this,function(n){return[2,this.createFromSongPath(this.managers.song.getSongPathFromUrl(t),r)]})})},i.prototype.createFromSongPath=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return[4,this.managers.song.load({songPath:t})];case 1:return(n=s.sent())?[2,this.createFromSong(n.song,r)]:[2,null]}})})},i.prototype.createFromSongId=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return[4,this.managers.song.load({id:t})];case 1:return(n=s.sent())?[2,this.createFromSong(n.song,r)]:[2,null]}})})},i.prototype.createFromSongCode=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return[4,this.managers.song.load({code:t})];case 1:return(n=s.sent())?[2,this.createFromSong(n.song,r)]:[2,null]}})})},i.prototype.createFromSong=function(t,r){var n;return Ze(this,0,void 0,function(){var s,a,o,l,d,p;return Ke(this,function(g){switch(g.label){case 0:return s=r==null?void 0:r.lyricId,a=r==null?void 0:r.lyricDiffId,typeof s!="number"||s<0?[4,this.managers.lyrics.load(t.code)]:[3,4];case 1:return o=g.sent(),(d=o&&!o.status.failed&&!o.status.processing&&Array.isArray(o.lyrics)&&o.lyrics.length>0)?[4,this.managers.lyrics.loadDetail(t.code,o.lyrics[0].id)]:[3,3];case 2:d=g.sent(),g.label=3;case 3:(l=d)&&(s=l.id,a=(n=l.diff)===null||n===void 0?void 0:n.id),g.label=4;case 4:return typeof s!="number"&&(s=-1),typeof a!="number"&&(a=-1),p={id:-1,sourceId:-1,sourceOriginId:-1,songleId:t.id,songleCode:t.code,lyricId:s,lyricDiffId:a,title:null,log:null,background:null,config:null,json:null,synthJson:null,author:null,createdDate:null,accessCount:-1,altUrl:null},[2,this.onVideoLoad(p,r)]}})})},i.prototype.createFromText=function(t,r){return Ze(this,0,void 0,function(){var n,s,a,o,l,d;return Ke(this,function(p){switch(p.label){case 0:return[4,this.managers.text.parse(t)];case 1:return n=p.sent(),s=n&&n.status==="success"?this.createVideoDataFromParsedText(n,t):this.createVideoDataFromText(t),a=s[s.length-1],o=a&&a.words[a.words.length-1],l=o&&o.characters[o.characters.length-1],d=l?l.endTime:0,[2,this.createFromJSON({phrases:s,startTime:0,endTime:d,duration:d},r)]}})})},i.prototype.createFromJSON=function(t,r){var n={id:-1,sourceId:-1,sourceOriginId:-1,songleId:-1,lyricId:-1,lyricDiffId:-1,title:null,log:null,background:null,config:null,json:t,synthJson:null,author:null,createdDate:null,accessCount:-1,altUrl:null};return this.onVideoLoad(n,r)},i.prototype.createVideoDataFromParsedText=function(t,r){var n=0,s=r.split(/\r\n|[\n\v\f\r\x85\u2028\u2029]/);return t.result.map(function(a,o){return{words:a.map(function(l){return{characters:s[o].substr(l.startPosition,l.wordLength).split("").map(function(d){return{char:d,startTime:300*n,endTime:300*++n}}),pos:l.PoS,rawPoS:l.rawPoS,language:l.language}}),templates:[{type:"DefaultAlignment"}]}})},i.prototype.createVideoDataFromText=function(t){for(var r,n={characters:[]},s={words:[n],templates:[{type:"DefaultAlignment"}]},a=0,o=[s],l=0;l<t.length;l++){var d=t.charAt(l);d!==`
`?d!==" "?(r={char:d,startTime:300*a,endTime:300*++a},n.characters.push(r)):(n={characters:[]},s.words.push(n)):(s={words:[n={characters:[]}],templates:[{type:"DefaultAlignment"}]},o.push(s))}return n.characters.length<=0&&s.words.pop(),s.words.length<=0&&o.pop(),o},i}(),Ts=function(){function i(t,r,n){r===void 0&&(r=null);var s=this;this.managers=t,this.listener=r,this.options=n,this.fontLoader=new p4(t.font,function(){return s.text},r)}return Object.defineProperty(i.prototype,"permalink",{get:function(){var t;return"https://textalive.jp".concat(!((t=this.song)===null||t===void 0)&&t.permalink?"/songs/".concat(encodeURIComponent(Ar.getSongPathFromUrl(this.song.permalink))):"")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"video",{get:function(){var t;return(t=this.videoProvider)===null||t===void 0?void 0:t.video},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"song",{get:function(){var t,r;return(r=(t=this.songProvider)===null||t===void 0?void 0:t.song)===null||r===void 0?void 0:r.song},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"songStatus",{get:function(){var t,r;return(r=(t=this.songProvider)===null||t===void 0?void 0:t.song)===null||r===void 0?void 0:r.status},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"songMap",{get:function(){var t;return(t=this.songProvider)===null||t===void 0?void 0:t.analysis},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lyricsId",{get:function(){var t,r;return(r=(t=this.textProvider)===null||t===void 0?void 0:t.lyrics)===null||r===void 0?void 0:r.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lyrics",{get:function(){var t;return(t=this.textProvider)===null||t===void 0?void 0:t.lyrics},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"lyricsBody",{get:function(){var t;return(t=this.textProvider)===null||t===void 0?void 0:t.lyricsBody},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){var t,r;return(r=(t=this.textProvider)===null||t===void 0?void 0:t.lyricsBody)===null||r===void 0?void 0:r.text},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fonts",{get:function(){return this.fontLoader},enumerable:!1,configurable:!0}),i.prototype.createFromVideoId=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return n=this,[4,new xa(this.managers,this.listener).createFromVideoId(t,r)];case 1:return n.videoProvider=s.sent(),[2,this.videoProvider]}})})},i.prototype.createFromVideo=function(t,r){return this.videoProvider=new xa(this.managers,this.listener).createFromVideo(t,r),this.videoProvider},i.prototype.createFromSongUrl=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return n=this,[4,new xa(this.managers,this.listener).createFromSongUrl(t,r)];case 1:return n.videoProvider=s.sent(),[2,this.videoProvider]}})})},i.prototype.createFromSongPath=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return n=this,[4,new xa(this.managers,this.listener).createFromSongPath(t,r)];case 1:return n.videoProvider=s.sent(),[2,this.videoProvider]}})})},i.prototype.createFromSongId=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return n=this,[4,new xa(this.managers,this.listener).createFromSongId(t,r)];case 1:return n.videoProvider=s.sent(),[2,this.videoProvider]}})})},i.prototype.createFromSongCode=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return n=this,[4,new xa(this.managers,this.listener).createFromSongCode(t,r)];case 1:return n.videoProvider=s.sent(),[2,this.videoProvider]}})})},i.prototype.createFromText=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return n=this,[4,new xa(this.managers,this.listener).createFromText(t,r)];case 1:return n.videoProvider=s.sent(),[2,this.videoProvider]}})})},i.prototype.createFromJSON=function(t,r){return this.videoProvider=new xa(this.managers,this.listener).createFromJSON(t,r),this.videoProvider},i.prototype.finalize=function(t){return Ze(this,0,void 0,function(){return Ke(this,function(r){switch(r.label){case 0:return this.video?[4,this.loadSong()]:[2,null];case 1:return r.sent(),[4,this.loadText(t)];case 2:return r.sent(),[4,this.loadFonts()];case 3:return r.sent(),[2]}})})},i.prototype.mockSongInfo=function(t){this.songProvider=new aS(this.managers.song,this.listener,this.options).mockSongInfo(t)},i.prototype.loadSong=function(){return Ze(this,0,void 0,function(){var t;return Ke(this,function(r){switch(r.label){case 0:return t=this,[4,new aS(this.managers.song,this.listener,this.options).loadSong(this.video.songleCode||this.video.songleId,this.video)];case 1:return t.songProvider=r.sent(),[2]}})})},i.prototype.loadText=function(t){var r,n;return Ze(this,0,void 0,function(){var s,a,o,l,d,p,g,y;return Ke(this,function(x){switch(x.label){case 0:return s=this.video,a=s.lyricId,o=s.lyricDiffId,l=this.song?this.song.code:null,d=new v4(this.managers,this.listener,this.options),!l&&a<0?(p=d.loadRawText((r=this.videoProvider)===null||r===void 0?void 0:r.data),[3,3]):[3,1];case 1:return g=(t==null?void 0:t.altLyricsUrl)||void 0,y=(t==null?void 0:t.lyricsDirectAccess)||void 0,[4,d.loadLyrics({songCode:l,lyricId:a,lyricDiffId:o,altLyricsUrl:g,directAccess:y})];case 2:p=x.sent(),x.label=3;case 3:return this.textProvider=p,p!=null&&p.lyrics&&(!((n=p==null?void 0:p.lyricsBody)===null||n===void 0)&&n.text)&&this.importLyrics(),[2]}})})},i.prototype.loadFonts=function(){var t,r,n;return Ze(this,0,void 0,function(){return Ke(this,function(s){switch(s.label){case 0:return typeof this.video.id=="number"&&this.video.id>=0?[4,this.fontLoader.loadForVideo((t=this.videoProvider)===null||t===void 0?void 0:t.data)]:[3,2];case 1:case 3:case 5:return s.sent(),[2];case 2:return Array.isArray((r=this.options)===null||r===void 0?void 0:r.fontFamilies)?[4,this.fontLoader.load(this.options.fontFamilies)]:[3,4];case 4:return((n=this.options)===null||n===void 0?void 0:n.fontFamilies)!==null?[3,6]:[4,this.fontLoader.loadAll()];case 6:return[2]}})})},i.prototype.importLyrics=function(){var t=this.text.replace(/[\s\r\n]/g,""),r=0,n={phrases:this.lyrics.data.map(function(s){return{words:s.map(function(a){return{characters:a.map(function(o){return{char:t.charAt(r++),startTime:1e3*o.start_time,endTime:1e3*o.end_time}})}})}})};this.video.json&&Array.isArray(this.video.json.phrases)?this.video.json.phrases.forEach(function(s,a){s.words.forEach(function(o,l){o.characters.forEach(function(d,p){var g=n.phrases[a].words[l].characters[p];d.char=g.char,d.startTime=g.startTime,d.endTime=g.endTime})})}):this.video.json=n},i.prototype.getChoruses=function(){var t;return(t=this.songProvider)===null||t===void 0?void 0:t.getChoruses()},i.prototype.findChorus=function(t,r){var n;return(n=this.songProvider)===null||n===void 0?void 0:n.findChorus(t,r)},i.prototype.findChorusBetween=function(t,r){var n;return(n=this.songProvider)===null||n===void 0?void 0:n.findChorusBetween(t,r)},i.prototype.findChorusChange=function(t,r){var n;return(n=this.songProvider)===null||n===void 0?void 0:n.findChorusChange(t,r)},i.prototype.getBeats=function(){var t;return(t=this.songProvider)===null||t===void 0?void 0:t.getBeats()},i.prototype.findBeat=function(t,r){var n;return(n=this.songProvider)===null||n===void 0?void 0:n.findBeat(t,r)},i.prototype.findBeatChange=function(t,r){var n;return(n=this.songProvider)===null||n===void 0?void 0:n.findBeatChange(t,r)},i.prototype.getChords=function(){var t;return(t=this.songProvider)===null||t===void 0?void 0:t.getChords()},i.prototype.findChord=function(t,r){var n;return(n=this.songProvider)===null||n===void 0?void 0:n.findChord(t,r)},i.prototype.findChordChange=function(t,r){var n;return(n=this.songProvider)===null||n===void 0?void 0:n.findChordChange(t,r)},i.prototype.getVocalFrequency=function(t){var r;return(r=this.songProvider)===null||r===void 0?void 0:r.getVocalFrequency(t)},i.prototype.getVocalAmplitude=function(t){var r;return(r=this.songProvider)===null||r===void 0?void 0:r.getVocalAmplitude(t)},i.prototype.getMaxVocalAmplitude=function(){var t;return(t=this.songProvider)===null||t===void 0?void 0:t.getMaxVocalAmplitude()},i.prototype.getValenceArousal=function(t){var r;return(r=this.songProvider)===null||r===void 0?void 0:r.getValenceArousal(t)},i.prototype.getMedianValenceArousal=function(){var t;return(t=this.songProvider)===null||t===void 0?void 0:t.getMedianValenceArousal()},i}(),x4=function(){function i(t,r){this.player=t,this.listener=r,this.initialize()}return Object.defineProperty(i.prototype,"options",{get:function(){return this._options?oi({},this._options):null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"author",{get:function(){return this._author},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"managed",{get:function(){return!!this._host},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"host",{get:function(){return this._host},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"songUrl",{get:function(){return this._songUrl},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"songOptions",{get:function(){return this._songOptions},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parameters",{get:function(){return this._parameters},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isConnecting",{get:function(){return!!this.connecting},enumerable:!1,configurable:!0}),i.prototype.initialize=function(){var t,r,n,s;return Ze(this,0,void 0,function(){return Ke(this,function(a){switch(a.label){case 0:return this._options=(r=(t=this.player)===null||t===void 0?void 0:t.options)===null||r===void 0?void 0:r.app,this._options&&(this._options=oi({},this._options),this._name=(n=this._options)===null||n===void 0?void 0:n.appName,this._author=(s=this._options)===null||s===void 0?void 0:s.appAuthor,this._options.token&&(bt.textalive.appToken=this._options.token)),this._parameters={},this.parseQueryString(),this.initializeServerConnection(),typeof window<"u"&&this._options?[4,this.connect()]:[3,2];case 1:a.sent(),this.initializePlayerListener(),this.initializeMessageListener(),a.label=2;case 2:return this._songUrl&&this.createFromSongUrl(),[2]}})})},i.prototype.initializeServerConnection=function(){var t,r,n,s,a,o;return Ze(this,0,void 0,function(){var l,d,p,g,y;return Ke(this,function(x){switch(x.label){case 0:return[4,pr.getServerStatus()];case 1:return l=x.sent(),d=(l==null?void 0:l.lang)==="ja",bt.textalive.appToken&&(l!=null&&l.app)&&(l.app.data&&(this._name=(t=l.app.data)===null||t===void 0?void 0:t.name,this._author=(n=(r=l.app)===null||r===void 0?void 0:r.data)===null||n===void 0?void 0:n.author,p=(a=(s=l.app)===null||s===void 0?void 0:s.data)===null||a===void 0?void 0:a.status,this._status=typeof p=="number"?p:-1),this._server={version:l.version,message:l.app.message,error:l.app.error},!this._server.error)?(g=this._server.message?`
`.concat(this._server.message):"",console.info(d?"[TextAlive API] クライアント v".concat(bt.client.version," でサーバ v").concat(this._server.version||"0.0.0"," に接続").concat(g):"[TextAlive API] App API client v".concat(bt.client.version," connected to server v").concat(this._server.version||"0.0.0").concat(g)),this.listener.onAppLoad(this),[2]):(y=!((o=this._server)===null||o===void 0)&&o.error?`
`.concat(this._server.error):"",console.warn(d?"[TextAlive API] このアプリはトークンが正しく指定されていないため動作しません。 https://developer.textalive.jp からトークンを入手して指定してください。".concat(y):"[TextAlive API] This app requires a valid app token to run properly. You could get a token from https://developer.textalive.jp. ".concat(y)),this.listener.onAppLoad(null,y),[2])}})})},i.prototype.initializePlayerListener=function(){var t=this;this.playerListener={onVideoReady:function(r){t._host&&window.parent.postMessage({kind:"ta_video",options:{lyrics:!!t.player.data.lyrics,duration:t.player.video.duration}},"*")},onThrottledTimeUpdate:function(r){t._host&&window.parent.postMessage({kind:"ta_position",options:{position:r}},"*")},onPlay:function(){t._host&&window.parent.postMessage({kind:"ta_status",options:{status:"play"}},"*")},onPause:function(){t._host&&window.parent.postMessage({kind:"ta_status",options:{status:"pause"}},"*")},onStop:function(){t._host&&window.parent.postMessage({kind:"ta_status",options:{status:"stop"}},"*")},onVolumeUpdate:function(r){t._host&&window.parent.postMessage({kind:"ta_volume",options:{volume:r}},"*")},onDispose:function(){t.dispose()}},this.player.addListener(this.playerListener)},i.prototype.initializeMessageListener=function(){var t=this;this.messageListener=function(r){if(r.data.kind&&/^ta_/.test(r.data.kind)){var n=t.player;switch(r.data.kind.substring(3)){case"status":switch(r.data.options.status){case"play":n.requestPlay();break;case"pause":n.requestPause();break;case"stop":n.requestStop()}break;case"seek":n.requestMediaSeek(r.data.options.position);break;case"volume":n.volume=r.data.options.volume;break;case"parameter":var s=r.data.options,a=s.name,o=s.value;t.parameters[a]=o,t.listener.onAppParameterUpdate(a,o);break;case"media":t._songUrl=r.data.options.url,t._songOptions=r.data.options.options||{},n.requestStop();var l=t.createFromSongUrl();t.listener.onAppMediaChange(t._songUrl,l)}}},window.addEventListener("message",this.messageListener)},i.prototype.createFromSongUrl=function(){var t,r=this._songOptions;return r&&(t={video:{}},r.altLyricsUrl&&(t.altLyricsUrl=r.altLyricsUrl),r.lyricsDirectAccess&&(t.lyricsDirectAccess=r.lyricsDirectAccess),r.lyricId&&(t.video.lyricId=r.lyricId),r.lyricDiffId&&(t.video.lyricDiffId=r.lyricDiffId),r.chordId&&(t.video.chordId=r.chordId),r.beatId&&(t.video.beatId=r.beatId),r.repetitiveSegmentId&&(t.video.repetitiveSegmentId=r.repetitiveSegmentId)),this.player.createFromSongUrl(this._songUrl,t)},i.prototype.parseQueryString=function(){var t=Ji("ta_app_token");t&&(bt.textalive.appToken=t),this._songUrl=Ji("ta_song_url"),this._songOptions={};var r=Ji("ta_lyric_id");r&&(this._songOptions.lyricId=parseInt(r),isNaN(this._songOptions.lyricId)&&delete this._songOptions.lyricId);var n=Ji("ta_lyric_diff_id");n&&(this._songOptions.lyricDiffId=parseInt(n),isNaN(this._songOptions.lyricDiffId)&&delete this._songOptions.lyricDiffId);var s=Ji("ta_alt_lyrics_url");s&&(this._songOptions.altLyricsUrl=s);var a=Ji("ta_lyrics_direct_access");a&&(this._songOptions.lyricsDirectAccess=a==="true",this._songOptions.lyricsDirectAccess||delete this._songOptions.lyricsDirectAccess);var o=Ji("ta_chord_id");o&&(this._songOptions.chordId=parseInt(o),isNaN(this._songOptions.chordId)&&delete this._songOptions.chordId);var l=Ji("ta_beat_id");l&&(this._songOptions.beatId=parseInt(l),isNaN(this._songOptions.beatId)&&delete this._songOptions.beatId);var d=Ji("ta_repetitive_segment_id");d&&(this._songOptions.repetitiveSegmentId=parseInt(d),isNaN(this._songOptions.repetitiveSegmentId)&&delete this._songOptions.repetitiveSegmentId)},i.prototype.connect=function(){return Ze(this,0,void 0,function(){var t,r=this;return Ke(this,function(n){switch(n.label){case 0:return this.connecting?[2,this.connecting]:typeof window<"u"&&this.options&&window.parent&&window!==window.parent?[3,2]:[4,new Promise(function(s){return setTimeout(s,1)})];case 1:return n.sent(),this.listener.onAppReady(this),[2,!1];case 2:return this.connecting=Promise.race([new Promise(function(s){t=function(a){a.data.kind&&/^ta_/.test(a.data.kind)&&a.data.kind.substring(3)==="ack"&&(window.removeEventListener("message",t),r._host=a.data.options,s(!0))},window.addEventListener("message",t)}),Ze(r,0,void 0,function(){var s;return Ke(this,function(a){switch(a.label){case 0:s=0,a.label=1;case 1:return s<5?(window.parent.postMessage({kind:"ta_connect",options:this.options},"*"),[4,new Promise(function(o){return setTimeout(o,200)})]):[3,4];case 2:if(a.sent(),this._host)return[3,4];a.label=3;case 3:return s++,[3,1];case 4:return!this._host&&t&&window.removeEventListener("message",t),[2,!!this._host]}})})]),this.connecting.finally(function(){r.connecting=null,r.listener.onAppReady(r)}),[2,this.connecting]}})})},i.prototype.dispose=function(){typeof window<"u"&&this.options&&(this.player.removeListener(this.playerListener),window.removeEventListener("message",this.messageListener)),this._host=null,this.player=null},i}();function eA(i){return i}function tA(i){return i<-1?i=-1:i>1&&(i=1),function(t){return i==0?t:i<0?t*(t*-i+1+i):t*((2-t)*i+(1-i))}}function yl(i){return function(t){return Math.pow(t,i)}}function vl(i){return function(t){return 1-Math.pow(1-t,i)}}function bl(i){return function(t){return(t*=2)<1?.5*Math.pow(t,i):1-.5*Math.abs(Math.pow(2-t,i))}}var rA=yl(2),nA=vl(2),iA=bl(2),sA=yl(3),aA=vl(3),oA=bl(3),uA=yl(4),lA=vl(4),cA=bl(4),hA=yl(5),fA=vl(5),dA=bl(5);function pA(i){return 1-Math.cos(i*Math.PI/2)}function gA(i){return Math.sin(i*Math.PI/2)}function mA(i){return-.5*(Math.cos(Math.PI*i)-1)}function Av(i){return function(t){return t*t*((i+1)*t-i)}}var yA=Av(1.7);function Dv(i){return function(t){return--t*t*((i+1)*t+i)+1}}var vA=Dv(1.7);function Tv(i){return i*=1.525,function(t){return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)}}var bA=Tv(1.7);function xA(i){return-(Math.sqrt(1-i*i)-1)}function _A(i){return Math.sqrt(1- --i*i)}function SA(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)}function Nv(i){return 1-Ep(1-i)}function Ep(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375}function wA(i){return i<.5?.5*Nv(2*i):.5*Ep(2*i-1)+.5}function Ov(i,t){var r=2*Math.PI;return function(n){if(n==0||n==1)return n;var s=t/r*Math.asin(1/i);return-i*Math.pow(2,10*(n-=1))*Math.sin((n-s)*r/t)}}var EA=Ov(1,.3);function Fv(i,t){var r=2*Math.PI;return function(n){if(n==0||n==1)return n;var s=t/r*Math.asin(1/i);return i*Math.pow(2,-10*n)*Math.sin((n-s)*r/t)+1}}var CA=Fv(1,.3);function Rv(i,t){var r=2*Math.PI;return function(n){var s=t/r*Math.asin(1/i);return(n*=2)<1?i*Math.pow(2,10*(n-=1))*Math.sin((n-s)*r/t)*-.5:i*Math.pow(2,-10*(n-=1))*Math.sin((n-s)*r/t)*.5+1}}var AA=Rv(1,.3*1.5),oS=Object.freeze({__proto__:null,backIn:yA,backInOut:bA,backOut:vA,bounceIn:Nv,bounceInOut:wA,bounceOut:Ep,circIn:xA,circInOut:SA,circOut:_A,cubicIn:sA,cubicInOut:oA,cubicOut:aA,elasticIn:EA,elasticInOut:AA,elasticOut:CA,get:tA,getBackIn:Av,getBackInOut:Tv,getBackOut:Dv,getElasticIn:Ov,getElasticInOut:Rv,getElasticOut:Fv,getPowIn:yl,getPowInOut:bl,getPowOut:vl,linear:eA,quadIn:rA,quadInOut:iA,quadOut:nA,quartIn:uA,quartInOut:cA,quartOut:lA,quintIn:hA,quintInOut:dA,quintOut:fA,sineIn:pA,sineInOut:mA,sineOut:gA}),Cc=function(){function i(){}return i.linear=eA,i.get=tA,i.getPowIn=yl,i.getPowOut=vl,i.getPowInOut=bl,i.quadIn=rA,i.quadOut=nA,i.quadInOut=iA,i.cubicIn=sA,i.cubicOut=aA,i.cubicInOut=oA,i.quartIn=uA,i.quartOut=lA,i.quartInOut=cA,i.quintIn=hA,i.quintOut=fA,i.quintInOut=dA,i.sineIn=pA,i.sineOut=gA,i.sineInOut=mA,i.getBackIn=Av,i.backIn=yA,i.getBackOut=Dv,i.backOut=vA,i.getBackInOut=Tv,i.backInOut=bA,i.circIn=xA,i.circOut=_A,i.circInOut=SA,i.bounceIn=Nv,i.bounceOut=Ep,i.bounceInOut=wA,i.getElasticIn=Ov,i.elasticIn=EA,i.getElasticOut=Fv,i.elasticOut=CA,i.getElasticInOut=Rv,i.elasticInOut=AA,i}(),_4=function(){function i(){this.cursor=-1,this.widgets=[],this.instances=[],this.model={id:-1,type:ui.NONE,sourceId:-1,author:null,originalAuthor:null,className:null,createdDate:null}}return Object.defineProperty(i.prototype,"id",{get:function(){return this.model?this.model.id:-1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"script",{get:function(){return this.model?this.model.script:null},enumerable:!1,configurable:!0}),i}(),S4=function(){},w4=function(){function i(t,r){this.onTemplateLoad=r,this._emitter=null,this._loaded=null,this._loading=null,this.verbose=!1,this._emitter=t,this.clear()}return Object.defineProperty(i.prototype,"loaded",{get:function(){return this._loaded},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"loading",{get:function(){return this._loading},enumerable:!1,configurable:!0}),i.prototype.clear=function(){this._loaded={},this._loading={}},i.prototype.loadLatest=function(t){return t===void 0&&(t=100),Ze(this,0,void 0,function(){var r;return Ke(this,function(n){switch(n.label){case 0:return[4,Fu.list({maxResults:t,withoutAuthors:!0,withoutOriginalAuthors:!0,script:!0})];case 1:return(r=n.sent())&&r.list?(this.verbose&&console.log("--- loading template classes ---"),[2,this.registerMany(r.list)]):[2]}})})},i.prototype.loadForVideo=function(t){return Ze(this,0,void 0,function(){var r,n=this;return Ke(this,function(s){switch(s.label){case 0:return[4,Fu.loadForVideo(t)];case 1:return(r=s.sent())&&r.list?(this.verbose&&console.log("--- loading template classes for vid:".concat(t," ---")),[4,this.registerMany(r.list)]):[2,null];case 2:return[2,s.sent().map(function(a){return a?n.getByName(a):null})]}})})},i.prototype.loadByNames=function(t){return Ze(this,0,void 0,function(){var r,n=this;return Ke(this,function(s){switch(s.label){case 0:return!Array.isArray(t)||t.length<=0?[2,[]]:(this.verbose&&console.log("--- loading template classes ---"),[4,Promise.all(t.map(function(a){return n.doLoadByName(a)}))]);case 1:return(r=s.sent())&&this._emitter.onTemplatesLoad(r.filter(function(a){return!!a}).map(function(a){return a.className})),[2,r]}})})},i.prototype.loadByName=function(t){return Ze(this,0,void 0,function(){var r,n;return Ke(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.doLoadByName(t)];case 1:return r=s.sent(),this._emitter.onTemplatesLoad([r.className]),[2,r];case 2:return n=s.sent(),this._emitter.onTemplatesLoad(null,n),[2,null];case 3:return[2]}})})},i.prototype.doLoadByName=function(t){return Ze(this,0,void 0,function(){var r,n,s=this;return Ke(this,function(a){return(r=this.getByName(t))!==null?[2,r]:this._loading[t]?[2,this._loading[t]]:(n=new Promise(function(o){return Fu.loadByName(t).then(function(l){return s.onTemplateLoad(l)}).then(o)}),this._loading[t]=n,n.finally(function(){return delete s._loading[t]}),[2,n])})})},i.prototype.loadById=function(t){return Ze(this,0,void 0,function(){var r,n,s;return Ke(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.doLoadById(t)];case 1:return r=a.sent(),n=null,[3,3];case 2:return s=a.sent(),n=s,[3,3];case 3:return this._emitter.onTemplatesLoad(r?[r.className]:null,n),[2,r]}})})},i.prototype.doLoadById=function(t){return Ze(this,0,void 0,function(){var r,n,s=this;return Ke(this,function(a){return(r=this.getById(t))?[2,r]:this._loading[t]?[2,this._loading[t]]:(n=new Promise(function(o){return Fu.load(t).then(function(l){return s.onTemplateLoad(l)}).then(o)}),this._loading[t]=n,n.finally(function(){return delete s._loading[t]}),[2,n])})})},i.prototype.registerMany=function(t){return Ze(this,0,void 0,function(){var r,n,s=this;return Ke(this,function(a){switch(a.label){case 0:return r=t.map(function(o){var l=s.onTemplateLoad(o);return s._loading[o.className]=l,s._loading["".concat(o.className,"@").concat(o.id)]=l,l}),[4,Promise.all(r.map(function(o){return o.then(function(l){return l.className}).catch(function(l){return null})}))];case 1:return n=a.sent().filter(function(o){return!!o}),this._emitter.onTemplatesLoad(n),[2,n]}})})},i.prototype.commit=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return[4,Fu.create({sourceId:t.model.sourceId,script:t.model.script,log:r})];case 1:return(n=s.sent()).success&&(t.model.id=n.id,this._emitter.onTemplateCommit(t.className)),[2,n]}})})},i.prototype.getByName=function(t,r){var n;if(r===void 0&&(r=!1),t&&(n=t.match(/(.+)@([0-9]+)/))){t=n[1];var s=parseInt(n[2]);if(!this._loaded[t])return null;var a=this._loaded[t].model;if(a.id!==s){if(!r)return null;this.verbose&&console.log("[warning] template ".concat(t," version ").concat(s," is requested but ").concat(a.id," is used"))}}return this._loaded[t]?this._loaded[t]:null},i.prototype.getById=function(t){var r=null;for(var n in this._loaded)if(this._loaded[n].model.id===t){r=this._loaded[n];break}return r},i}(),E4={Matrix2D:bC,Point:LR,Color:Dh,Font:yC,RenderingUnit:dv,TextUnit:bp,Graphic:ly,Phrase:Ru,Word:wd,Char:$c,Beat:QC,RepetitiveSegment:JC},C4=["headTime","tailTime","insomnia"],uS=["animate","getAssignedUnit","name","type"],A4=function(){function i(t,r,n){this._emitter=null,this._player=null,this.interpreter=null,this.unsafeAcceleration=!1,this._verbose=!1,this.ignoreVersion=!1,this.rawConsole=!1,this._player=t,this._emitter=r,this.unsafeAcceleration=n,this.loader=new w4(r,this.register.bind(this)),t.addListener({onVideoReady:this.onVideoReady.bind(this)})}return Object.defineProperty(i.prototype,"verbose",{get:function(){return this._verbose},set:function(t){this._verbose=this.loader.verbose=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ready",{get:function(){return!!this.interpreter},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"loaded",{get:function(){return this.loader.loaded},enumerable:!1,configurable:!0}),i.prototype.initialize=function(){var t=this;if(!this.ready){var r=function(a){var o=a.player,l=a.ignoredPropNames,d=a.rawConsole,p=a.templateGetter,g=o.graphics.wrapperTable,y=new s4(oi(oi({},E4),g),l,function(_,w){return o.graphics.isGraphics(_)&&w instanceof Dh?w.toString():w}),x={require:{func:function(_){if(!(_.length<1||typeof _[0]!="string")){var w=_[0],A=p(w);return A===null?void 0:A.functionDefinition}},raw:!0,isConstructor:!0},print:{func:function(_){o.isEditing&&console.log.apply(console,_)},raw:d},findChorus:{func:function(_){return _.length<1||typeof _[0]!="number"?null:o.findChorus(_[0])}},findBeat:{func:function(_){return _.length<1||typeof _[0]!="number"?null:o.findBeat(_[0])}},getVocalFrequency:{func:function(_){return _.length<1||typeof _[0]!="number"?null:o.getVocalFrequency(_[0])}},getVocalAmplitude:{func:function(_){return _.length<1||typeof _[0]!="number"?-1:o.getVocalAmplitude(_[0])}},getMaxVocalAmplitude:{func:function(_){return o.getMaxVocalAmplitude()}},getValenceArousal:{func:function(_){return _.length<1||typeof _[0]!="number"?null:o.getValenceArousal(_[0])}},getMedianValenceArousal:{func:function(_){return o.getMedianValenceArousal()}}};Object.keys(ui).forEach(function(_){y.setProperty(y.globalScope,_,ui[_]),x[_]={value:ui[_]}}),Object.keys(oS).forEach(function(_){var w=oS[_];_.indexOf("get")!==0&&(x[_]={func:w})});var S=Object.keys(y.wrapperTable);return S&&S.forEach(function(_){return x[_]={cls:y.wrapperTable[_]}}),Object.keys(x).forEach(function(_){var w=x[_];w.func?y.createGlobalFunction(_,w):w.value&&y.setProperty(y.globalScope,_,w.value)}),{interpreter:y,unsafeGlobalScope:x}}({player:this._player,ignoredPropNames:uS,rawConsole:this.rawConsole,templateGetter:function(a){return t.getByName(a,!0)}}),n=r.interpreter,s=r.unsafeGlobalScope;this.unsafeGlobalScope=s,this.interpreter=n,this.onVideoReady(this._player.video)}},i.prototype.getByName=function(t,r){return r===void 0&&(r=!1),this.loader.getByName(t,r)},i.prototype.getById=function(t){return this.loader.getById(t)},i.prototype.clear=function(){this.loader.clear()},i.prototype.loadLatest=function(t){return t===void 0&&(t=100),Ze(this,0,void 0,function(){return Ke(this,function(r){return this.ready||this.initialize(),[2,this.loader.loadLatest(t)]})})},i.prototype.loadForVideo=function(t){return Ze(this,0,void 0,function(){return Ke(this,function(r){return this.ready||this.initialize(),[2,this.loader.loadForVideo(t)]})})},i.prototype.loadByNames=function(t){return Ze(this,0,void 0,function(){return Ke(this,function(r){return this.ready||this.initialize(),[2,this.loader.loadByNames(t)]})})},i.prototype.loadByName=function(t){return Ze(this,0,void 0,function(){return Ke(this,function(r){return this.ready||this.initialize(),[2,this.loader.loadByName(t)]})})},i.prototype.loadById=function(t){return Ze(this,0,void 0,function(){return Ke(this,function(r){return this.ready||this.initialize(),[2,this.loader.loadById(t)]})})},i.prototype.commit=function(t,r){return Ze(this,0,void 0,function(){return Ke(this,function(n){return[2,this.loader.commit(t,r)]})})},i.prototype.register=function(t){return Ze(this,0,void 0,function(){var r,n,s,a,o,l,d=this;return Ke(this,function(p){switch(p.label){case 0:if(!t)return[2,null];if(typeof t.sourceId=="number"){if(r=t,!(n=this.createClass(t.script)))return[2,null]}else n=t;s=dm(n.ast).dependencies,p.label=1;case 1:return p.trys.push([1,3,,4]),[4,Promise.all(s.map(function(g){var y=d.getByName(g,d.ignoreVersion);return y?Promise.resolve(y):d.loadByName(g)}))];case 2:return p.sent(),this.verbose&&console.log("load dependencies for",n.className,s),[3,4];case 3:return a=p.sent(),this.verbose&&console.error("failed loading dependencies for",n.className,a),[3,4];case 4:try{if(!(r?this.loadModel(n,r):this.createModel(n)))throw new Error("failed to create a template instance");return[2,this.registerClass(n)]}catch(g){throw o=void 0,r&&(delete(l=oi({},r)).script,o=l),{error:g.message,stack:g.stack,cause:o}}return[2]}})})},i.prototype.updateClassScript=function(t,r){var n=this.createClass(r);return this.updateClass(t,n)},i.prototype.registerClass=function(t){if(!t)return null;if(this.loader.loaded[t.className]){this.verbose&&console.log("updating",t.className,t.model.id);var r=this.updateClass(this.loader.loaded[t.className],t);return this.verbose&&console.log("updated",r.className,r.id),r}return this.loader.loaded[t.className]=t,this.verbose&&console.log("loaded",t.className,t.model.id),t},i.prototype.updateClass=function(t,r){var n=t,s=r;if(!s)return null;if(n.model.script===s.model.script)return this.verbose&&console.log("no diff for",n.className),n;if(!this.createModel(s))return null;if(n.className!==s.className){var a=this.getByName(s.className);if(!a)return s.cursor=n.cursor,this.loader.loaded[s.className]=s,this.verbose&&console.log("create",s.className),s;n=a}return n.newStatement=s.newStatement,n.widgets=s.widgets,n.scope=s.scope,n.functionDefinition=s.functionDefinition,n.newStatement=s.newStatement,n.unsafeConstructorGenerator=s.unsafeConstructorGenerator,n.ast=s.ast,n.cursor<0&&(n.cursor=s.cursor),s.id>=0?(this.verbose&&console.log("replace",s.className,n.id,s.id),n.model=s.model):(this.verbose&&console.log("update",s.className,n.id,s.id),n.model.type=s.model.type,n.model.className=s.model.className,n.model.prettyName=s.model.prettyName,n.model.script=s.model.script,n.model.createdDate=null,n.id>=0&&(n.model.sourceId=n.model.id,n.model.id=-1)),s=n,this.updateInstances(n.instances.slice(),s),this._emitter.onTemplateUpdate(s.className),s},i.prototype.loadModel=function(t,r){var n=this.newRawInstance(t);return t.model=r,this.updateWidgetInitialValues(t,n),n},i.prototype.createModel=function(t){var r=this.newRawInstance(t);if(r===null)return!1;if(t.id>=0)return!0;var n=r.templateInstance,s=t.model.script;return t.model={id:-1,sourceId:-1,className:t.className,prettyName:n?this.interpreter.getProperty(n,"name"):r.unsafeTemplateInstance.name,type:n?this.interpreter.getProperty(n,"type"):r.unsafeTemplateInstance.type,script:s,author:null,originalAuthor:null,createdDate:null},this.updateWidgetInitialValues(t,r),r},i.prototype.updateWidgetInitialValues=function(t,r){var n=this;t.widgets.forEach(function(s){s.initialValue=n.getProperty(r,s.name)})},i.prototype.updateInstances=function(t,r){var n=this;t.forEach(function(s){try{n.updateInstance(s,r)}catch{console.log("failed updating template for",s.assignedUnit,":",r)}}),this._player.isPlaying||this._player.requestStageUpdate()},i.prototype.createClass=function(t){var r=this;this.ready||this.initialize();var n=new _4;n.model={id:-1,sourceId:-1,className:null,prettyName:null,type:0,script:t,author:null,originalAuthor:null,createdDate:null};var s=rS(t,uS),a=s.ast,o=s.widgets;if(n.ast=a,n.widgets=o,n.className=n.ast.body[0].id.name,n.scope=this.interpreter.prepareRun(n.ast),this.interpreter.run(1e3,"to define "+n.className),n.functionDefinition=this.interpreter.getRawProperty(n.scope,n.className),n.newStatement=this.interpreter.newStatementFor(n.className),this.unsafeAcceleration){var l=Object.keys(this.unsafeGlobalScope),d=Object.keys(this.getGlobalProperties()).map(function(S){return"".concat(S,"=props.").concat(S)}).join(","),p="return function(props){var ".concat(d,";").concat(t,"return ").concat(n.className,";}"),g=new(Function.bind.apply(Function,iS(iS([void 0],l,!1),[p],!1))),y=function(S){var _=r.getByName(S);return _?_.unsafeConstructorGenerator(r.getGlobalProperties()):null},x=l.map(function(S){if(S==="require")return y;var _=r.unsafeGlobalScope[S];return _.func?function(){for(var w=[],A=0;A<arguments.length;A++)w[A]=arguments[A];return _.func(w)}:_.cls||_.value});n.unsafeConstructorGenerator=g.apply({},x)}return n},i.prototype.getGlobalProperties=function(){var t;return{width:this._player.videoWidth,height:this._player.videoHeight,margin:this._player.margin,duration:((t=this._player.video)===null||t===void 0?void 0:t.duration)||0}},i.prototype.newRawInstance=function(t){var r=t,n=new S4;if(this.unsafeAcceleration){var s=new(r.unsafeConstructorGenerator(this.getGlobalProperties()));n.unsafeTemplateInstance=s}else{this.interpreter.prepareNewInstance(r.newStatement,r.scope);var a=this.interpreter.run(700,"to instantiate "+r.className);n.templateInstance=a,n.templateInstance._nativeInstance=n}return n.templateClass=r,n.ignore=!1,n},i.prototype.setProperty=function(t,r,n){this.unsafeAcceleration?t.unsafeTemplateInstance[r]=n:this.interpreter.setProperty(t.templateInstance,r,n)},i.prototype.getProperty=function(t,r){return this.unsafeAcceleration?t.unsafeTemplateInstance[r]:this.interpreter.getProperty(t.templateInstance,r)},i.prototype.exportInstance=function(t){for(var r={},n=0,s=t.templateClass.widgets.map(function(d){return d.name}).concat(C4);n<s.length;n++){var a=s[n],o=this.getProperty(t,a);try{var l=UR(o);l!==void 0&&(r[a]=l)}catch{console.error("cannot export ".concat(t.templateClass.className,".").concat(a),o,"assigned to",t.assignedUnit)}}return{type:t.templateClass.className,value:r}},i.prototype.importInstances=function(t,r){try{this.importPhraseTemplates(t.firstCredit,r.credits),this.importPhraseTemplates(t.firstPhrase,r.phrases);for(var n=r.graphics,s=t.firstGraphic,a=0;s!==null;){var o=n[a++];this.importTemplates(s,o.templates),s=s.next}}catch(l){return console.error("restoring templates failed",l),!1}return!0},i.prototype.importPhraseTemplates=function(t,r){if(Array.isArray(r))for(var n=0;t;){var s=r[n++];this.importTemplates(t,s.templates);for(var a=t.firstWord,o=0;o<t.wordCount;o++){var l=s.words[o];this.importTemplates(a,l.templates);for(var d=a.firstChar,p=0;p<a.charCount;p++){var g=l.characters[p];this.importTemplates(d,g.templates),d=d.next}a=a.next}if(r.length<n+1)break;t=t.next}},i.prototype.importTemplates=function(t,r){if(Array.isArray(r))for(var n=0,s=r;n<s.length;n++){var a=s[n],o=this.importInstance(a);o&&t.addTemplate(o)}},i.prototype.importInstance=function(t){var r=this.getByName(t.type),n=this.newInstance(r);if(!n||!t.value)return null;for(var s=0,a=Object.keys(t.value);s<a.length;s++){var o=a[s],l=VR(t.value[o],this.interpreter.wrapperTable);l!==void 0&&this.setProperty(n,o,l)}return n},i.prototype.updateInstance=function(t,r){var n=t,s=r,a=this.newRawInstance(s),o=n.templateInstance,l=this.interpreter.cleanupProperties(o);n.templateClass!==s&&(this.disposeInstance(n),s.instances.push(n)),n.templateClass=s,n.scope=a.scope,n.templateInstance=a.templateInstance,n.ignore=a.ignore,this.interpreter.restoreProperties(n.templateInstance,l),this.attachGetAssignedUnitMethod(n)},i.prototype.newInstance=function(t){var r;try{if((r=this.newRawInstance(t))===null)return null}catch{return null}return this.attachGetAssignedUnitMethod(r),t.instances.push(r),r},i.prototype.attachGetAssignedUnitMethod=function(t){var r=this;if(this.unsafeAcceleration)t.unsafeTemplateInstance.getAssignedUnit=function(){return t.assignedUnit};else{var n=this.interpreter.createFunction(function(){return r.interpreter.wrap(t.assignedUnit)});this.interpreter.setRawProperty(t.templateInstance,"getAssignedUnit",n)}},i.prototype.disposeInstance=function(t){var r=t.templateClass;r.instances=r.instances.filter(function(n){return n!==t})},i.prototype.disposeInstances=function(t){var r=this;if(Array.isArray(t))t.forEach(function(s){return r.disposeInstance(s)});else{var n=t;[n.firstCredit,n.firstPhrase,n.firstWord,n.firstChar,n.firstGraphic].forEach(function(s){for(;s;)r.disposeInstances(s.removeTemplates()),s=s.next})}},i.prototype.setTemplate=function(t,r){this.removeTemplates(t),t.addTemplate(r)},i.prototype.clearTemplate=function(t){this.removeTemplates(t)},i.prototype.removeTemplateAt=function(t,r){var n=t.removeTemplateAt(r);n&&this.disposeInstance(n)},i.prototype.removeTemplates=function(t){var r=t.removeTemplates();this.disposeInstances(r)},i.prototype.getRequiredTemplates=function(t){return dm(t).dependencies},i.prototype.getRequiredTemplateAt=function(t,r){return dm(t,r).dependencyAtCursor},i.prototype.exec=function(t,r,n){if(t.unsafeTemplateInstance){var s=t.unsafeTemplateInstance;return s[r].apply(s,n)}var a=this.interpreter.exec(t.templateInstance,r,n,t.assignedUnit?" assigned to "+t.assignedUnit.toString():"");return this.interpreter.unwrap(a)},i.prototype.declareVariable=function(t,r,n,s){return this.updateClassScript(t,function(a,o,l,d){try{var p=rS(a),g=p.ast,y=p.fields,x=y[y.length-1],S=a.match(/(\r\n|[\n\v\f\r\x85\u2028\u2029])/),_=S?S.pop():`
`,w=a.split(_),A=x?Array(x.loc.start.column+1).join(" "):"  ",P=x?x.loc.end.line:0;if(P<=0){var D=g.body[0].body,R=w[D.loc.start.line-1],F=R.substring(0,D.loc.start.column+1),T=R.substring(D.loc.start.column+1);w[D.loc.start.line-1]=F,w.splice(D.loc.start.line,0,T),P=D.loc.start.line}for(var U=void 0;(U="var"+Math.random().toString().substring(2)).length>8&&(U=U.substring(0,8)),!(a.indexOf(U)<0););w.length>P&&w[P].length>0&&w.splice(P,0,""),w.splice(P,0,"",A+"// @proposed",A+"// @title "+o,A+"// "+function(k,B){if(k==="Slider")return"@ui Slider("+B.min+", "+B.max+")";if(k==="Check")return"@ui Check()";if(k==="Color")return"@ui Color()";var L=B.etc;return"@comment "+(L=L.replace(/(\r\n|[\n\v\f\r\x85\u2028\u2029])/g,"")).replace(/\/[*/]/g,"")}(l,d),A+"this."+U+" = "+function(k,B){return k==="Slider"?((B.min+B.max)/2).toString():k==="Check"?"false":k==="Color"?'new Color("#000000")':"null"}(l,d)+";"),a=w.join(_)}catch{}return a}(t.model.script,r,n,s))},i.prototype.onVideoReady=function(t){this.ready&&(this.interpreter.setRawProperty(this.interpreter.globalScope,"width",this._player.resolutionWidth),this.interpreter.setRawProperty(this.interpreter.globalScope,"height",this._player.resolutionHeight),this.interpreter.setRawProperty(this.interpreter.globalScope,"margin",this.interpreter.wrap(this._player.margin)),this.interpreter.setRawProperty(this.interpreter.globalScope,"duration",(t==null?void 0:t.duration)||0))},i}(),D4='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><defs><style>.bg{fill:#1f4391;}.fg{fill:#fff;}</style></defs><g class="logo-sq"><rect class="bg" x="-20" y="-20" width="240" height="240"/><g class="textalive-logo-art"><path class="fg" d="M97.33,130.81V142a3,3,0,0,0,4.78,2.41l56.81-42.09a3,3,0,0,0,0-4.81l-8.33-6.14Z"/><path class="fg" d="M137.14,81.43l-35-25.84A3,3,0,0,0,97.33,58v52.92Z"/><path class="fg" d="M51,55H80.33a2,2,0,0,1,2,2V71.67a0,0,0,0,1,0,0H51a2,2,0,0,1-2-2V57A2,2,0,0,1,51,55Z"/><path class="fg" d="M44.83,107.5h56.33a2,2,0,0,1,2,2v12.67a2,2,0,0,1-2,2H44.83a0,0,0,0,1,0,0V107.5A0,0,0,0,1,44.83,107.5Z" transform="translate(189.83 41.84) rotate(90)"/></g></g></svg>',mm="https://textalive.jp",T4=function(){function i(t){var r,n=this;if(this.player=t,this._position="embed",this._rounded=!1,this._bordered=!1,this._shadowed=!1,this._background="#fff",this._color="#1f4391",((r=t.options)===null||r===void 0?void 0:r.mediaBannerPosition)!==void 0&&(this._position=t.options.mediaBannerPosition),this.domEnabled){this.logoAnchor=document.createElement("a"),this.logoAnchor.className="textalive-logo",this.logoAnchor.innerHTML=D4,this.logoAnchor.style.padding=this.bordered?"1px 2px":"1px 3px",this.logoAnchor.href=mm,this.logoAnchor.target="_blank",this.logoAnchor.title="Powered by TextAlive App API",this.logoSvg=this.logoAnchor.querySelector("svg"),this.logoSvg.style.width="24px",this.songNameDiv=document.createElement("div"),this.songNameDiv.className="name",this.songNameDiv.style.fontWeight="bold",this.songNameDiv.style.overflow="hidden",this.songNameDiv.style.textOverflow="ellipsis",this.songNameDiv.style.marginBottom="2px",this.songNameDiv.textContent="-",this.songArtistDiv=document.createElement("div"),this.songArtistDiv.className="artist",this.songArtistDiv.textContent="-",this.songArtistDiv.style.overflow="hidden",this.songArtistDiv.style.textOverflow="ellipsis";var s=document.createElement("span");s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150"><g class="song"><path d="M120.95,45.77l-59.12,13a2.57,2.57,0,0,0-2,2.51v47.8c0,13.61-12.4,23.74-24.2,23.74-8.92,0-14.82-4.23-14.82-13,0-13,12.86-21.93,23.9-21.93a16.33,16.33,0,0,1,10,3V35a2.57,2.57,0,0,1,2-2.51l69.41-15.29a2.57,2.57,0,0,1,3.13,2.51V92.84c0,13.61-12.1,23.9-24.2,23.9-8.92,0-14.82-4.24-14.82-13,0-13.16,12.86-21.93,23.9-21.93a16.31,16.31,0,0,1,10,2.87V48.29A2.57,2.57,0,0,0,120.95,45.77Z"/><path d="M35.61,134.36c-10.22,0-16.32-5.42-16.32-14.51,0-13.81,13.38-23.43,25.4-23.43a18.4,18.4,0,0,1,8.48,1.88V35a4,4,0,0,1,3.2-4l69.41-15.29a4.07,4.07,0,0,1,5,4V92.83c0,15-13.54,25.4-25.7,25.4-10.22,0-16.32-5.42-16.32-14.51,0-13.81,13.38-23.43,25.4-23.43A19,19,0,0,1,122.57,82V48.29a1.07,1.07,0,0,0-1.3-1h0l-59.12,13a1.08,1.08,0,0,0-.84,1v47.8C61.3,124,47.76,134.36,35.61,134.36Zm9.07-34.94c-10.57,0-22.4,8.74-22.4,20.43,0,10,8.35,11.51,13.32,11.51,13.38,0,22.7-11.72,22.7-22.24V61.31a4.1,4.1,0,0,1,3.2-4l59.12-13h0a4.07,4.07,0,0,1,5,4V87.56l-2.37-1.67a14.88,14.88,0,0,0-9.12-2.6c-10.59,0-22.4,8.39-22.4,20.43,0,10,8.35,11.51,13.32,11.51,10.74,0,22.7-9.2,22.7-22.4V19.72a1.07,1.07,0,0,0-1.3-1L57,34a1.07,1.07,0,0,0-.84,1v68.83l-2.37-1.67A14.87,14.87,0,0,0,44.68,99.42Z"/></g></svg>',s.style.padding="0 3px 0 0",this.songSvg=s.querySelector("svg"),this.songSvg.style.width="14px",this.songWrapper=document.createElement("div"),this.songWrapper.style.width="203px",this.songWrapper.style.maxWidth="203px",this.songWrapper.appendChild(this.songNameDiv),this.songWrapper.appendChild(this.songArtistDiv),this.songAnchor=document.createElement("a"),this.songAnchor.className="song",this.songAnchor.target="_blank",this.songAnchor.style.display="flex",this.songAnchor.style.lineHeight="1.2em",this.songAnchor.style.padding="4px 3px 3px 3px",this.songAnchor.style.textDecoration="none",this.songAnchor.appendChild(s),this.songAnchor.appendChild(this.songWrapper),this.lyricsNameDiv=document.createElement("div"),this.lyricsNameDiv.className="name",this.lyricsNameDiv.style.fontWeight="bold",this.lyricsNameDiv.textContent="-",this.lyricsNameDiv.style.overflow="hidden",this.lyricsNameDiv.style.textOverflow="ellipsis",this.lyricsNameDiv.style.marginBottom="2px",this.lyricsArtistDiv=document.createElement("div"),this.lyricsArtistDiv.className="artist",this.lyricsArtistDiv.textContent="-",this.lyricsArtistDiv.style.overflow="hidden",this.lyricsArtistDiv.style.textOverflow="ellipsis";var a=document.createElement("span");a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150"><g class="lyrics"><path d="M78,126.3H67.52l-6.26-23.82H24.4L18.14,126.3H7.7L35.7,22H50ZM27,92.39H58.65l-15.82-61Z"/><path d="M78,128.3H67.52a2,2,0,0,1-1.93-1.49l-5.87-22.33H25.94l-5.87,22.33a2,2,0,0,1-1.93,1.49H7.7a2,2,0,0,1-1.93-2.52l28-104.34A2,2,0,0,1,35.7,20H50a2,2,0,0,1,1.93,1.48l28,104.34A2,2,0,0,1,78,128.3Zm-8.89-4h6.29L48.43,24H37.23L10.31,124.3h6.28L22.46,102a2,2,0,0,1,1.93-1.49H61.26A2,2,0,0,1,63.2,102ZM58.65,94.39H27a2,2,0,0,1-1.94-2.5l15.82-61a2,2,0,0,1,3.87,0l15.82,61a2,2,0,0,1-1.94,2.5Zm-29.06-4H56.07L42.83,39.32Z"/><path d="M106.82,128c-17.74,0-26.43-13-26.43-36.52S89.09,55,106.82,55a21.78,21.78,0,0,1,15.83,6.43L134,56.22V112c0,5.22,1.56,8,4.7,8a7.31,7.31,0,0,0,3.65-1v6.61A17.77,17.77,0,0,1,133.6,128a9.61,9.61,0,0,1-9.74-7.65A22.4,22.4,0,0,1,106.82,128Zm0-10.09a18.15,18.15,0,0,0,16.69-10.61V75.7a18.15,18.15,0,0,0-16.69-10.61c-11.3,0-16,9.56-16,26.43S95.52,118,106.82,118Z"/><path d="M133.6,130A11.61,11.61,0,0,1,123.08,124,24.48,24.48,0,0,1,106.82,130c-13,0-28.43-6.68-28.43-38.52S93.85,53,106.82,53A23.88,23.88,0,0,1,123,59.05l10.08-4.65A2,2,0,0,1,136,56.22V112c0,4,.91,6,2.7,6a5.3,5.3,0,0,0,2.66-.78,2,2,0,0,1,3,1.74v6.61a2,2,0,0,1-1,1.74A19.64,19.64,0,0,1,133.6,130Zm-9.74-11.65a2,2,0,0,1,1.95,1.55,7.63,7.63,0,0,0,7.79,6.1,15.19,15.19,0,0,0,6.69-1.64v-2.52a8.51,8.51,0,0,1-1.65.16c-2.5,0-6.7-1.3-6.7-10V59.34l-8.46,3.91a2,2,0,0,1-2.25-.4A19.67,19.67,0,0,0,106.82,57C90.61,57,82.39,68.62,82.39,91.52S90.61,126,106.82,126a20.33,20.33,0,0,0,15.55-7A2,2,0,0,1,123.86,118.39Zm-17,1.57c-11.94,0-18-9.57-18-28.43s6.06-28.43,18-28.43a20.07,20.07,0,0,1,18.5,11.75,2,2,0,0,1,.19.86v31.65a2,2,0,0,1-.19.86A20.06,20.06,0,0,1,106.82,120Zm0-52.86c-12.55,0-14,13.94-14,24.43,0,21.9,8,24.43,14,24.43a16.13,16.13,0,0,0,14.69-9.07V76.16A16.13,16.13,0,0,0,106.82,67.09Z"/></g></svg>',a.style.padding="0 3px 0 0",this.lyricsSvg=a.querySelector("svg"),this.lyricsSvg.style.width="14px",this.lyricsWrapper=document.createElement("div"),this.lyricsWrapper.style.width="90px",this.lyricsWrapper.style.maxWidth="90px",this.lyricsWrapper.appendChild(this.lyricsNameDiv),this.lyricsWrapper.appendChild(this.lyricsArtistDiv),this.lyricsAnchor=document.createElement("a"),this.lyricsAnchor.className="lyrics",this.lyricsAnchor.target="_blank",this.lyricsAnchor.style.display="flex",this.lyricsAnchor.style.lineHeight="1.2em",this.lyricsAnchor.style.padding="4px 3px 3px 3px",this.lyricsAnchor.style.textDecoration="none",this.lyricsAnchor.appendChild(a),this.lyricsAnchor.appendChild(this.lyricsWrapper),this.bannerDiv=document.createElement("div"),this.bannerDiv.className="textalive-banner",this.bannerDiv.style.cursor="pointer",this.bannerDiv.style.zIndex="10000",this.bannerDiv.style.background="#1f4391",this.bannerDiv.style.lineHeight="0",this.bannerDiv.style.display="flex",this.bannerDiv.style.maxWidth="256px",this.bannerDiv.style.fontFamily="'Hiragino Kaku Gothic Pro','游ゴシック体','Yu Gothic',YuGothic,Meiryo,HelveticaNeue,'Helvetica Neue',Helvetica,Arial,sans-serif",this.bannerDiv.style.fontSize="9px",this.bannerDiv.style.alignItems="center",this.bannerDiv.style.whiteSpace="nowrap",this.bannerDiv.appendChild(this.logoAnchor),this.bannerDiv.appendChild(this.songAnchor),this.bannerDiv.appendChild(this.lyricsAnchor),this.songAnchor.style.display="none",this.lyricsAnchor.style.display="none",this.updatePosition(),this.updateRounded(),this.updateBordered(),this.updateShadowed(),this.updateBackground(),this.updateColor()}this.listener={onAppReady:function(){n.updatePosition()},onMediaElementSet:function(o){n.domEnabled&&(n.bannerDiv&&n.bannerDiv.parentElement&&n.bannerDiv.parentElement.removeChild(n.bannerDiv),n.player.mediaBannerElement&&n.player.mediaBannerElement.appendChild(n.bannerDiv))},onVideoLoad:function(){n.domEnabled&&(n.logoAnchor.href=mm,n.songAnchor.style.display="none",n.lyricsAnchor.style.display="none",n.songAnchor.style.borderRadius="0")},onSongLoad:function(o){return Ze(n,0,void 0,function(){var l,d,p,g,y,x,S,_,w;return Ke(this,function(A){switch(A.label){case 0:return o?(l=(S=(x=o==null?void 0:o.song)===null||x===void 0?void 0:x.artist)===null||S===void 0?void 0:S.name,d=(_=o==null?void 0:o.song)===null||_===void 0?void 0:_.name,p=(w=o==null?void 0:o.song)===null||w===void 0?void 0:w.permalink,g="".concat(mm).concat(p?"/songs/".concat(encodeURIComponent(Ar.getSongPathFromUrl(p))):""),this.domEnabled&&(this.logoAnchor.href=g,this.songArtistDiv.textContent=Kr(l),this.songNameDiv.textContent=Kr(d),this.songAnchor.title="".concat(Kr(d)," by ").concat(Kr(l)),this.songAnchor.href=p,this.songAnchor.style.display="flex",this.songAnchor.style.borderRadius=this.rounded?"0 4px 4px 0":"0",this.songWrapper.style.width="auto"),[4,pr.getServerStatus()]):[2];case 1:return((y=A.sent())==null?void 0:y.lang)==="ja"?console.warn("[TextAlive API] 楽曲 アーティスト:",Kr(l),"/ 楽曲名:",Kr(d),"/ 配信元サイト:",Kr(p)):console.warn("[TextAlive API] Song artist:",Kr(l),"/ song name:",Kr(d),"/ distributed at:",Kr(p)),[2]}})})},onLyricsLoad:function(o){o&&n.domEnabled&&(n.songWrapper.style.maxWidth="90px",n.lyricsAnchor.style.display="flex",n.songAnchor.style.borderRadius="0")},onTextLoad:function(o){return Ze(n,0,void 0,function(){var l,d,p,g,y;return Ke(this,function(x){switch(x.label){case 0:return o?(l=(y=o==null?void 0:o.artist)===null||y===void 0?void 0:y.name,d=o==null?void 0:o.name,p=o==null?void 0:o.url,this.domEnabled&&(this.lyricsArtistDiv.textContent=Kr(l),this.lyricsNameDiv.textContent=Kr(d),this.lyricsAnchor.title="".concat(Kr(d)," by ").concat(Kr(l)),this.lyricsAnchor.href=p,this.lyricsWrapper.style.width="auto"),[4,pr.getServerStatus()]):[2];case 1:return((g=x.sent())==null?void 0:g.lang)==="ja"?console.warn("[TextAlive API] 歌詞 アーティスト:",Kr(l),"/ 歌詞名:",Kr(d),"/ 配信元サイト:",Kr(p)):console.warn("[TextAlive API] Song lyrics artist:",Kr(l),"/ lyrics name:",Kr(d),"/ distributed at:",Kr(p)),[2]}})})},onDispose:function(){n.dispose()}},t.addListener(this.listener),t.mediaBannerElement&&this.player.mediaBannerElement.appendChild(this.bannerDiv)}return Object.defineProperty(i.prototype,"domEnabled",{get:function(){return typeof window<"u"&&typeof document<"u"&&typeof document.createElement=="function"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t,this.updatePosition()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rounded",{get:function(){return this._rounded},set:function(t){this._rounded=t,this.updateRounded()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bordered",{get:function(){return this._bordered},set:function(t){this._bordered=t,this.updateBordered()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"shadowed",{get:function(){return this._shadowed},set:function(t){this._shadowed=t,this.updateShadowed()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"background",{get:function(){return this._background},set:function(t){this._background=t,this.updateBackground()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,this.updateColor()},enumerable:!1,configurable:!0}),i.prototype.dispose=function(){this.player.removeListener(this.listener)},i.prototype.updatePosition=function(){var t,r;if(this.domEnabled){var n=this.position,s=this.player;if(n===null||!(!((t=s.options)===null||t===void 0)&&t.app)||!((r=s.app)===null||r===void 0)&&r.managed)this.bannerDiv.style.display="none";else if(this.bannerDiv.style.display="flex",n==="embed")this.bannerDiv.style.position="initial",this.bannerDiv.style.marginTop="4px",this.songAnchor.style.flexGrow="1",this.lyricsAnchor.style.flexGrow="1";else{this.bannerDiv.style.position="fixed",this.bannerDiv.style.marginTop="0";var a=n.indexOf("top")>=0,o=n.indexOf("right")>=0,l=n.indexOf("bottom")>=0,d=n.indexOf("left")>=0;this.bannerDiv.style.top=a?"4px":"initial",this.bannerDiv.style.right=o?"4px":"initial",this.bannerDiv.style.bottom=l?"4px":"initial",this.bannerDiv.style.left=d?"4px":"initial",this.songAnchor.style.flexGrow="0",this.lyricsAnchor.style.flexGrow="0"}}},i.prototype.updateRounded=function(){if(this.domEnabled){var t=this.rounded;this.logoSvg.style.borderRadius=t?"4px 0 0 4px":"0",this.lyricsAnchor.style.borderRadius=t?"0 4px 4px 0":"0",this.bannerDiv.style.borderRadius=t?"4px":"0"}},i.prototype.updateBordered=function(){if(this.domEnabled){var t=this.bordered;this.logoAnchor.style.padding=t?"1px 2px":"1px 3px",this.bannerDiv.style.border=t?"1px solid rgba(31, 67, 145, 0.3)":"none"}},i.prototype.updateShadowed=function(){if(this.domEnabled){var t=this.shadowed;this.bannerDiv.style.boxShadow=t?"1px 1px 3px 0 rgba(9, 19, 42, 0.9)":"none"}},i.prototype.updateBackground=function(){this.domEnabled&&(this.songAnchor.style.background=this.background,this.lyricsAnchor.style.background=this.background)},i.prototype.updateColor=function(){this.domEnabled&&(this.songSvg.style.fill=this.color,this.songAnchor.style.color=this.color,this.lyricsSvg.style.fill=this.color,this.lyricsAnchor.style.color=this.color)},i}();function Kr(i){return i&&i!==""?i:"-"}var N4=function(){this.halted=[],this.errors=[]},O4=function(){function i(t,r){var n=this;this.listener=r,this.player=null,this._scale=1,this.playerListener={onResize:function(s){n.elementWidth=Math.floor(s.width),n.updateSize()},onVideoReady:function(){n.elementWidth=n.calcWidth(),n.updateSize()},onStageElementSet:function(s){n.elementWidth=n.calcWidth(),n.updateSize(),n.player.graphics.setCanvas(s)},onDispose:function(){n.dispose()}},this.requestedTime=0,this.request=null,this.player=t,t.addListener(this.playerListener)}return Object.defineProperty(i.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale=t,this.updateSize()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.player.graphics.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.player.graphics.height},enumerable:!1,configurable:!0}),i.prototype.requestUpdate=function(t){return Ze(this,0,void 0,function(){var r=this;return Ke(this,function(n){return this.requestedTime=t===void 0?this.player.videoPosition:t,this.request||(this.request=new Promise(function(s){setTimeout(function(){try{r.update(r.requestedTime)}catch{}r.request=null,s(r.requestedTime)},0)})),[2,this.request]})})},i.prototype.update=function(t){t||(t=this.player.mediaPosition),typeof t=="number"&&(this.player.graphics.reset(),this.animate(t),this.player.graphics.update(),this.listener.onStageUpdate(t))},i.prototype.animate=function(t){for(var r=new N4,n=r.errors,s=r.halted,a=0,o=[this.player.video.firstCredit,this.player.video.firstPhrase,this.player.video.firstWord,this.player.video.firstChar,this.player.video.firstGraphic];a<o.length;a++)for(var l=o[a];l;)this.animateRenderingUnit(t,l,r),l=l.next;if(s.length>0){console.error("---");for(var d=0;d<s.length;d++)console.error("halted",s[d],n[d])}},i.prototype.animateRenderingUnit=function(t,r,n){if(r.animate)r.animate(t,r);else if(r.templateCount<=0)lS(r)&&r.getType()===ui.CHAR&&(r.rendering.visible=!1);else for(var s=0;s<r.templateCount;s++)this.animateTemplate(t,r,r.getTemplate(s),n)},i.prototype.animateTemplate=function(t,r,n,s){var a=this;if(n.ignore)r.rendering.visible=!1;else{if(r.getType()!==ui.GRAPHIC)for(var o=r.parent;o;){if(o.templateCount>0&&(!o.rendering.visible||o.rendering.alpha===0))return void(r.rendering.visible=!1);o=o.parent}var l=this.player.templates.getProperty(n,"insomnia"),d=lS(r);if(!l&&d){var p=function(g,y,x,S){var _=S&&g(S,"headTime")||500,w=S&&g(S,"tailTime")||500;return!(x.startTime-_<=y&&x.endTime+w>=y)&&(x.getType()!==ui.GRAPHIC&&(x.rendering.visible=!1),!0)}(function(g,y){return a.player.templates.getProperty(g,y)},t,r,n);if(p)return}this.doAnimateTemplate(t,n,s)}},i.prototype.doAnimateTemplate=function(t,r,n){var s=n.errors,a=n.halted;try{this.player.templates.exec(r,"animate",[t])}catch(o){s.push(o),a.push(r)}},i.prototype.calcWidth=function(){var t=this.player.stageElement;if(!t)return 0;var r=window.getComputedStyle(t);return t.offsetWidth-qf(r.borderLeftWidth)-qf(r.borderRightWidth)-qf(r.paddingLeft)-qf(r.paddingRight)},i.prototype.updateSize=function(){var t=this.player.stageElement;if(t){var r=this.elementWidth*this.player.videoProportion;if(t.style.height="".concat(r,"px"),t.width=this.elementWidth*this._scale,t.height=r*this._scale,this.player.video){var n=t.width/this.player.videoWidth;this.player.graphics.updateStageTx(n,this.player.margin),this.player.isPlaying||this.requestUpdate()}}},i.prototype.dispose=function(){this.player.removeListener(this.playerListener),this.player=null},i}();function lS(i){if(i.getType()===ui.GRAPHIC)return!0;for(var t=!0,r=i.parent;r;){if(r.templateCount>0){t=!1;break}r=r.parent}return t}var F4=function(i){function t(r,n){var s=this.constructor,a=i.call(this,r)||this;return a.video=n,Object.setPrototypeOf(a,s.prototype),a}return ml(t,i),t}(Error);function R4(i,t){var r=t.parser;return Ze(this,0,void 0,function(){var n,s,a;return Ke(this,function(o){switch(o.label){case 0:return i&&i.length>0&&i[0].words&&i[0].words.length>0&&i[0].words[0]&&!i[0].words[0].pos?(n=i.map(function(l){return l.words.map(function(d){return d.characters.map(function(p){return p.char}).join("")}).join(" ")}),s=n.join(`
`),[4,r(s)]):[2];case 1:return(a=o.sent())&&a.status==="success"?(i.forEach(function(l,d){var p=a.result[d],g=0;l.words.forEach(function(y){var x=y.characters.map(function(w){return w.char}).join(""),S=n[d].indexOf(x,g);if(!(S<0)){g=S;var _=p.find(function(w){return w.startPosition<=S&&w.endPosition>=S});_&&(y.pos=_.PoS,y.rawPoS=_.rawPoS,y.language=_.language)}})}),[2]):[2]}})})}function ym(i){for(;i.firstElementChild;)i.removeChild(i.firstElementChild)}function M4(i,t){var r=t.id,n=t.data,s=t.loader,a=t.deserializer;return Ze(this,0,void 0,function(){return Ke(this,function(o){switch(o.label){case 0:return r&&r>=0?[4,s(r)]:[3,2];case 1:o.sent(),o.label=2;case 2:return a(i,n),[2]}})})}function cS(i){return typeof i!="string"?i:typeof window>"u"?null:document.querySelector(i)}var k4=function(){function i(t){this._mediaPosition=0,this._videoPosition=0,this.isEditing=!1,this._isVideoSeeking=!1,this._volume=100,this._options=t,this.emitter=new c4(t),this._templates=new A4(this,this.emitter,t&&t.unsafeAcceleration);var r=Object.assign({},RR);t&&t.managers&&(r=Object.assign(r,t.managers)),this.managers=r,this._timer=t&&t.timer||this.createDefaultTimer(),this._data=new Ts(r,this.emitter,t),this._backgroundGraphics=new h4(this,r.asset,this.emitter),this._graphics=t&&t.graphics||this.createDefaultGraphicsDriver(),this.stage=new O4(this,{onStageUpdate:this.onStageUpdate.bind(this)}),this._banner=new T4(this),this.stageElement=cS(t==null?void 0:t.stageElement)||null,this.mediaElement=cS(t==null?void 0:t.mediaElement)||null,this._app=new x4(this,this.emitter)}return Object.defineProperty(i.prototype,"options",{get:function(){return this._options?oi({},this._options):null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"app",{get:function(){return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"backgroundGraphics",{get:function(){return this._backgroundGraphics},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"video",{get:function(){return this._video},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"templates",{get:function(){return this._templates},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"graphics",{get:function(){return this._graphics},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stageElement",{get:function(){return this._stageElement},set:function(t){this._stageElement=t,this.emitter.onStageElementSet(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stageScale",{get:function(){return this.stage.scale},set:function(t){this.stage.scale=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"mediaElement",{get:function(){return this._mediaElement},set:function(t){this.updateMediaElement(t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"mediaSourceElement",{get:function(){return this._mediaSourceElement},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"mediaBannerElement",{get:function(){return this._mediaBannerElement},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"mediaPosition",{get:function(){return this._mediaPosition},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"videoPosition",{get:function(){return this._videoPosition},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"wait",{get:function(){return this._timer?this._timer.wait:0},set:function(t){this._timer&&(this._timer.wait=t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fps",{get:function(){return 1e3/this.wait},set:function(t){this.wait=1e3/t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resolutionWidth",{get:function(){var t,r,n,s;return typeof((r=(t=this._data)===null||t===void 0?void 0:t.video)===null||r===void 0?void 0:r.config)=="object"&&typeof this._data.video.config.width=="number"?this._data.video.config.width:typeof((s=(n=this._options)===null||n===void 0?void 0:n.defaultVideoSize)===null||s===void 0?void 0:s.width)=="number"?this._options.defaultVideoSize.width:1280},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resolutionHeight",{get:function(){var t,r,n,s;return typeof((r=(t=this._data)===null||t===void 0?void 0:t.video)===null||r===void 0?void 0:r.config)=="object"&&typeof this._data.video.config.height=="number"?this._data.video.config.height:typeof((s=(n=this._options)===null||n===void 0?void 0:n.defaultVideoSize)===null||s===void 0?void 0:s.height)=="number"?this._options.defaultVideoSize.height:720},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resolutionProportion",{get:function(){return this.resolutionHeight/this.resolutionWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"margin",{get:function(){var t,r,n,s;return typeof((r=(t=this._data)===null||t===void 0?void 0:t.video)===null||r===void 0?void 0:r.config)=="object"&&this._data.video.config.margin?this._data.video.config.margin:((s=(n=this._options)===null||n===void 0?void 0:n.defaultVideoSize)===null||s===void 0?void 0:s.margin)||a4},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"videoWidth",{get:function(){var t=this.resolutionWidth,r=this.margin;return t+r[1]+r[3]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"videoHeight",{get:function(){var t=this.resolutionHeight,r=this.margin;return t+r[0]+r[2]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"videoProportion",{get:function(){return this.videoHeight/this.videoWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stageWidth",{get:function(){return this.stage.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stageHeight",{get:function(){return this.stage.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isLoading",{get:function(){return!!this._videoPromise},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isPlaying",{get:function(){return!!this._timer&&this._timer.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isVideoSeeking",{get:function(){return this._isVideoSeeking},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"banner",{get:function(){return this._banner},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"timer",{get:function(){return this._timer},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"volume",{get:function(){return this._volume},set:function(t){isNaN(t)||(this._volume=Math.min(100,Math.max(0,t)),this.emitter.onVolumeUpdate(this._volume))},enumerable:!1,configurable:!0}),i.prototype.createDefaultTimer=function(){try{if(typeof window<"u"&&Ji("ta_timer")!=="basic")return new l4}catch{}return new o4},i.prototype.createDefaultGraphicsDriver=function(){return new BR},i.prototype.addListener=function(t){return this.emitter.addListener(t)},i.prototype.removeListener=function(t){return this.emitter.removeListener(t)},i.prototype.createFromVideoId=function(t,r){return Ze(this,0,void 0,function(){var n=this;return Ke(this,function(s){return[2,this.create(function(){return n.doCreateFromVideoId(t,r)},r==null?void 0:r.dryRun)]})})},i.prototype.doCreateFromVideoId=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return[4,(n=new Ts(this.managers,this.emitter,this._options)).createFromVideoId(t,r==null?void 0:r.video)];case 1:return s.sent(),[2,this.finalize(n,r)]}})})},i.prototype.createFromVideo=function(t,r){return Ze(this,0,void 0,function(){var n=this;return Ke(this,function(s){return[2,this.create(function(){return n.doCreateFromVideo(t,r)},r==null?void 0:r.dryRun)]})})},i.prototype.doCreateFromVideo=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){return(n=new Ts(this.managers,this.emitter,this._options)).createFromVideo(t,r==null?void 0:r.video),[2,this.finalize(n,r)]})})},i.prototype.createFromSongUrl=function(t,r){return Ze(this,0,void 0,function(){var n=this;return Ke(this,function(s){return[2,this.create(function(){return n.doCreateFromSongUrl(t,r)},r==null?void 0:r.dryRun)]})})},i.prototype.doCreateFromSongUrl=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return[4,(n=new Ts(this.managers,this.emitter,this._options)).createFromSongUrl(t,r==null?void 0:r.video)];case 1:return s.sent(),[2,this.finalize(n,r)]}})})},i.prototype.createFromSongPath=function(t,r){return Ze(this,0,void 0,function(){var n=this;return Ke(this,function(s){return[2,this.create(function(){return n.doCreateFromSongPath(t,r)},r==null?void 0:r.dryRun)]})})},i.prototype.doCreateFromSongPath=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return[4,(n=new Ts(this.managers,this.emitter,this._options)).createFromSongPath(t,r==null?void 0:r.video)];case 1:return s.sent(),[2,this.finalize(n,r)]}})})},i.prototype.createFromSongId=function(t,r){return Ze(this,0,void 0,function(){var n=this;return Ke(this,function(s){return[2,this.create(function(){return n.doCreateFromSongId(t,r)},r==null?void 0:r.dryRun)]})})},i.prototype.doCreateFromSongId=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return[4,(n=new Ts(this.managers,this.emitter,this._options)).createFromSongId(t,r==null?void 0:r.video)];case 1:return s.sent(),[2,this.finalize(n,r)]}})})},i.prototype.createFromSongCode=function(t,r){return Ze(this,0,void 0,function(){var n=this;return Ke(this,function(s){return[2,this.create(function(){return n.doCreateFromSongCode(t,r)},r==null?void 0:r.dryRun)]})})},i.prototype.doCreateFromSongCode=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return[4,(n=new Ts(this.managers,this.emitter,this._options)).createFromSongCode(t,r==null?void 0:r.video)];case 1:return s.sent(),[2,this.finalize(n,r)]}})})},i.prototype.createFromText=function(t,r){return Ze(this,0,void 0,function(){var n=this;return Ke(this,function(s){return[2,this.create(function(){return n.doCreateFromText(t,r)},r==null?void 0:r.dryRun)]})})},i.prototype.doCreateFromText=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){switch(s.label){case 0:return[4,(n=new Ts(this.managers,this.emitter,this._options)).createFromText(t,r==null?void 0:r.video)];case 1:return s.sent(),[2,this.finalize(n,r)]}})})},i.prototype.createFromJSON=function(t,r){return Ze(this,0,void 0,function(){var n=this;return Ke(this,function(s){return[2,this.create(function(){return n.doCreateFromJSON(t,r)},r==null?void 0:r.dryRun)]})})},i.prototype.doCreateFromJSON=function(t,r){return Ze(this,0,void 0,function(){var n;return Ke(this,function(s){return(n=new Ts(this.managers,this.emitter,this._options)).createFromJSON(t,r==null?void 0:r.video),[2,this.finalize(n,r)]})})},i.prototype.create=function(t,r){return Ze(this,0,void 0,function(){var n,s=this;return Ke(this,function(a){if(this._videoPromise&&!r)throw new F4("Player.createFrom* method calls cannot run in parallel",this._videoPromise);return n=t(),r||(this._videoPromise=n,n.finally(function(){return s._videoPromise=null})),[2,n]})})},i.prototype.finalize=function(t,r){return Ze(this,0,void 0,function(){var n,s,a,o=this;return Ke(this,function(l){switch(l.label){case 0:return t.video?[4,Promise.all([t.finalize(r),this.backgroundGraphics.setBackground(t.video.background)])]:[2,null];case 1:return l.sent(),r!=null&&r.dryRun?[2,null]:(n=t.video.json,function(d,p){var g=p.config,y=p.song;g&&typeof g=="object"&&typeof g.duration=="number"?d.duration=g.duration:y?d.duration=1e3*y.length:d.duration||(d.duration=d.endTime)}(s=new PR(n),{config:t.video.config,song:t.song}),[4,Promise.all([this.graphics.createRuntime(s),M4(s,{id:t.video.id,data:n,loader:function(d){return Ze(o,0,void 0,function(){return Ke(this,function(p){switch(p.label){case 0:return[4,this.templates.loadForVideo(d)];case 1:return p.sent(),[2]}})})},deserializer:function(d,p){return o.templates.importInstances(d,p)}}),R4(n==null?void 0:n.phrases,{parser:oy.parse.bind(oy)})])]);case 2:return l.sent(),this._data,this._video&&this.templates.disposeInstances(this._video),this._data=t,this._video=s,this.emitter.onVideoReady(s),a=(r==null?void 0:r.altSourceUrl)||void 0,[4,this._timer.initialize({player:this,updater:this.updateMediaPosition.bind(this),emitter:this.emitter,altSourceUrl:a})];case 3:return l.sent(),this.emitter.onTimerReady(this._timer),[2,s]}})})},i.prototype.updateMediaPosition=function(t){return Ze(this,0,void 0,function(){var r=this;return Ke(this,function(n){return this._isVideoSeeking?(this._mediaPosition=t,this.emitter.onMediaSeek(t),[2,t]):[2,this.stage.requestUpdate(t).then(function(s){return r._mediaPosition=s,r._videoPosition=s,r.emitter.onMediaSeek(s),s})]})})},i.prototype.exportVideo=function(t){var r,n,s,a,o,l,d;return t===void 0&&(t={legacyStringMode:!0}),Ze(this,0,void 0,function(){var p,g,y,x;return Ke(this,function(S){return p={sourceId:((r=this._data.video)===null||r===void 0?void 0:r.id)||-1,sourceOriginId:((n=this._data.video)===null||n===void 0?void 0:n.sourceOriginId)||-1,songleId:((s=this._data.song)===null||s===void 0?void 0:s.id)||-1,lyricId:this._data.lyricsId||-1,lyricDiffId:((a=this._data.lyrics)===null||a===void 0?void 0:a.id)||-1,config:(t!=null&&t.legacyStringMode?((o=this._data.video)===null||o===void 0?void 0:o.config)&&JSON.stringify(this._data.video.config):(l=this._data.video)===null||l===void 0?void 0:l.config)||null},g=this.backgroundGraphics.exportPartialVideoEntry(t),y=((d=this._video)===null||d===void 0?void 0:d.exportData(this._templates))||null,x=t!=null&&t.legacyStringMode?JSON.stringify(y):y,[2,oi(oi(oi({},p),g),{json:x})]})})},i.prototype.getChoruses=function(){return this._data.getChoruses()},i.prototype.findChorus=function(t,r){return this._data.findChorus(t,r)},i.prototype.findChorusBetween=function(t,r){return this._data.findChorusBetween(t,r)},i.prototype.findChorusChange=function(t,r){return this._data.findChorusChange(t,r)},i.prototype.getBeats=function(){return this._data.getBeats()},i.prototype.findBeat=function(t,r){return this._data.findBeat(t,r)},i.prototype.findBeatChange=function(t,r){return this._data.findBeatChange(t,r)},i.prototype.getChords=function(){return this._data.getChords()},i.prototype.findChord=function(t,r){return this._data.findChord(t,r)},i.prototype.findChordChange=function(t,r){return this._data.findChordChange(t,r)},i.prototype.getVocalFrequency=function(t){return this._data.getVocalFrequency(t)},i.prototype.getVocalAmplitude=function(t){return this._data.getVocalAmplitude(t)},i.prototype.getMaxVocalAmplitude=function(){return this._data.getMaxVocalAmplitude()},i.prototype.getValenceArousal=function(t){return this._data.getValenceArousal(t)},i.prototype.getMedianValenceArousal=function(){return this._data.getMedianValenceArousal()},i.prototype.resize=function(t){return this.emitter.onResize(t)},i.prototype.onResize=function(t){return this.resize(t)},i.prototype.setStageElement=function(t){return this._stageElement=t,this.emitter.onStageElementSet(t)},i.prototype.setMediaElement=function(t){this.mediaElement=t},i.prototype.updateMediaElement=function(t){typeof document<"u"&&(this._mediaElement&&ym(this._mediaElement),t?(ym(t),this._mediaSourceElement||(this._mediaSourceElement=document.createElement("div"),this._mediaSourceElement.classList.add("textalive-media-wrapper")),t.appendChild(this._mediaSourceElement),this._mediaBannerElement||(this._mediaBannerElement=document.createElement("div"),this._mediaSourceElement.classList.add("textalive-banner-wrapper")),t.appendChild(this._mediaBannerElement)):(this._mediaSourceElement=null,this._mediaBannerElement=null)),this._mediaElement=t,this.emitter.onMediaElementSet(t)},i.prototype.setVideoPosition=function(t){return Ze(this,0,void 0,function(){var r=this;return Ke(this,function(n){return[2,this.stage.requestUpdate(t).then(function(s){return r._videoPosition=s,r.emitter.onVideoSeek(s),s})]})})},i.prototype.setMediaPosition=function(t){return Ze(this,0,void 0,function(){return Ke(this,function(r){return this.requestMediaSeek(t),[2]})})},i.prototype.requestPlay=function(){return this._timer.play(),!0},i.prototype.requestStop=function(){return this._timer.stop(),!0},i.prototype.requestPause=function(){return this._timer.pause(),!0},i.prototype.requestMediaSeek=function(t){return this._timer.seek(t),!0},i.prototype.startVideoSeek=function(){return this._isVideoSeeking=!0,this.emitter.onVideoSeekStart()},i.prototype.endVideoSeek=function(){return this._isVideoSeeking=!1,this.emitter.onVideoSeekEnd()},i.prototype.requestSettingBackground=function(t){return Ze(this,0,void 0,function(){return Ke(this,function(r){return[2,this.backgroundGraphics.settingBackground(t)]})})},i.prototype.requestSetBackground=function(t){return Ze(this,0,void 0,function(){return Ke(this,function(r){return[2,this.backgroundGraphics.setBackground(t)]})})},i.prototype.requestStageUpdate=function(){return Ze(this,0,void 0,function(){return Ke(this,function(t){return[2,this.stage.requestUpdate()]})})},i.prototype.onStageUpdate=function(t){this._isVideoSeeking||this.emitter.onTimeUpdate(t)},i.prototype.dispose=function(){this._timer&&(this._timer.dispose(),this._timer=null),this.mediaElement&&(ym(this._mediaElement),this._mediaElement=null),this.stageElement&&(this._stageElement=null),this.emitter.onDispose()},i}();console.log(`# ライセンス表記に関するガイドライン

国立研究開発法人産業技術総合研究所
人間情報インタラクション研究部門
メディアインタラクション研究グループ

TextAlive App APIは非商用利用に限り、どなたでも無料・無保証で利用することができます。
ただし、原則としてTextAlive App APIを利用している旨を TextAlive https://textalive.jp/ サイト内楽曲ページまたは https://developer.textalive.jp/ にハイパーリンクした上で、利用しているシステムもしくは外部サイト等に表示する必要があります。

# お問い合わせ

textalive-ml@aist.go.jp`);Pa.sortedIndex;const hS=({rowGridData:i,trackNo:t,trackVolume:r,setTrackVolume:n,refs:s})=>(Bt.useEffect(()=>{const a=(p,g)=>{n(y=>{const x=[...y];return x[p]=g,x})},o=(p,g)=>{for(let y=1;y<g;y++){if(p-y<0)return 0;if(i[p-y]!=="")return y}return 0};let l;const d=()=>{if(s.current.isPlaying){const p=Math.floor(s.current.beatPos);if(p<i.length&&i[p]!=="")a(t,1);else{const y=o(p,8);if(y>0){const x=1-(y+s.current.beatPos-p)/8;a(t,x)}else a(t,0)}}else a(t,0);l=requestAnimationFrame(d)};return d(),()=>cancelAnimationFrame(l)},[i,t,n,s]),he.jsxs("div",{className:"d-flex flex-row",style:{gap:"1px"},children:[he.jsx("div",{className:"d-flex flex-column align-items-center",style:{position:"relative",width:"5px",height:"18px",backgroundColor:"black"},children:he.jsx("div",{className:"d-flex flex-column align-items-center",style:{position:"absolute",bottom:0,width:"5px",height:`${18*r[t]}px`,backgroundColor:"#99f4e9"}})}),he.jsx("div",{className:"d-flex flex-column align-items-center",style:{position:"relative",width:"5px",height:"18px",backgroundColor:"black"},children:he.jsx("div",{className:"d-flex flex-column align-items-center",style:{position:"absolute",bottom:0,width:"5px",height:`${18*r[t]}px`,backgroundColor:"#99f4e9"}})})]})),P4=({beatPos:i,rowGridData:t,width:r="295px",widthHead:n="50px",color:s,icon:a,id:o,name:l,borderTop:d=0,children:p,level:g=0,trackNo:y,trackVolume:x,setTrackVolume:S,refs:_})=>{const w=!!p,[A]=Bt.useState(!0),P=10*g;if(w)return he.jsx("div",{className:"d-flex flex-column align-items-center",style:{width:r},children:he.jsxs("div",{className:"d-flex flex-column align-items-start",style:{width:r},children:[he.jsxs("div",{className:"d-flex flex-row justify-content-between align-items-center track",style:{width:r,paddingLeft:`${P}px`},children:[he.jsxs("div",{className:"d-flex flex-row align-items-center",style:{gap:"10px"},children:[he.jsxs("div",{className:"d-flex align-items-end justify-content-between track-serial",style:{width:"60px",backgroundColor:s},children:[he.jsx("img",{src:a,alt:"Timeline",className:"track-icon"}),he.jsx("div",{style:{fontSize:"14px",color:"black"},children:o})]}),he.jsxs("div",{className:"d-flex flex-row fw-bold",children:[he.jsx("button",{className:"mute-track",children:"m"}),he.jsx("button",{className:"stop-track",children:"s"})]}),he.jsx("div",{className:"d-flex",children:g>0?l.length<=15?l:l.slice(0,11).concat("...".concat(l.slice(-4))):l.length<=18?l:l.slice(0,14).concat("...".concat(l.slice(-4)))})]}),he.jsx(hS,{rowGridData:t,beatPos:i,trackNo:y,trackVolume:x,setTrackVolume:S,refs:_})]}),A&&he.jsx("div",{className:"d-flex flex-column",children:am.Children.map(p,R=>am.isValidElement(R)?am.cloneElement(R,{level:g+1}):R)})]})});const D={width:r,paddingLeft:`${P}px`,...d===1&&{borderTop:"1px solid #737579"}};return he.jsxs("div",{className:"d-flex flex-row justify-content-between align-items-center track",style:D,children:[he.jsxs("div",{className:"d-flex flex-row align-items-center",style:{gap:"10px"},children:[he.jsxs("div",{className:"d-flex align-items-end justify-content-between track-serial",style:{width:n,backgroundColor:s},children:[he.jsx("img",{src:a,alt:"Timeline",className:"track-icon"}),he.jsx("div",{className:"text-end",style:{fontSize:"14px",color:"black"},children:o})]}),he.jsxs("div",{className:"d-flex flex-row fw-bold",children:[he.jsx("button",{className:"mute-track",children:"m"}),he.jsx("button",{className:"stop-track",children:"s"})]}),he.jsx("div",{className:"d-flex",style:{borderWidth:"0px"},children:g>0?l.length<=15?l:l.slice(0,11).concat("...".concat(l.slice(-4))):l.length<=18?l:l.slice(0,14).concat("...".concat(l.slice(-4)))})]}),he.jsx(hS,{rowGridData:t,beatPos:i,trackNo:y,trackVolume:x,setTrackVolume:S,refs:_})]})},L4=({musicOffset:i,gridData:t,player:r,timeSteps:n,trackHeight:s=40,initialTimeWidth:a=30,timePos:o,beatPos:l,beatLeftPos:d,setBeatLeftPos:p,beatRightPos:g,setBeatRightPos:y,leftTime:x,setLeftTime:S,refs:_,processedWords:w})=>{const[A]=Bt.useState(a),P=Bt.useRef(null),[D,R]=Bt.useState(!1),[F,T]=Bt.useState(null),[U,k]=Bt.useState(0),B=H=>{if(!P.current||!r)return;const{beatIndex:z,pos:G}=V(H);T(z),k(G),_.current.beatLeftPos=z,_.current.beatRightPos=z,_.current.leftTime=G,R(!0),w.clear()},L=()=>{var G,K;R(!1),T(null),console.log("leftTime: ",_.current.leftTime),console.log("timePos: ",_.current.timePos),r.requestMediaSeek(_.current.leftTime);const H=r.findBeat(_.current.leftTime),z=H.index+(_.current.leftTime-H.startTime)/(H.endTime-H.startTime);_.current.timePos=_.current.leftTime,_.current.beatPos=z,console.log("Real position after seek:",(G=r.timer)==null?void 0:G.position),!_.current.isPlaying&&((K=r.timer)==null?void 0:K.position)!==_.current.leftTime&&(console.warn("Time seeking failed due to the delay of music player. Stop and restart the music may solve the problem."),r.volume=0,_.current.leftTime=_.current.leftTime-20,_.current.timePos=_.current.leftTime,_.current.beatPos=z,r.requestPlay(),setTimeout(()=>{r.requestPause(),setTimeout(()=>{r.requestPlay(),setTimeout(()=>{r.requestPause(),r.volume=100},10)},10)},10))},V=H=>{const z=P.current;if(!z)return{beatIndex:0,pos:0};const G=z.getBoundingClientRect(),K=H.clientX-G.left+z.scrollLeft,le=n*(A+1.2),ne=K/le,de=r.findBeat(0),ve=de.endTime-de.startTime,xe=n*ve,Q=ne*xe,oe=Q+i,ae=r.findBeat(Q);return{beatIndex:ae.index+(Q-ae.startTime)/ae.duration,pos:oe}};return Bt.useEffect(()=>{const H=z=>{if(!D||F===null||!r)return;const{beatIndex:G,pos:K}=V(z),le=Math.min(F,G),ne=Math.max(F,G);p(le),y(ne),S(Math.min(U,K))};return D?(window.addEventListener("mousemove",H),window.addEventListener("mouseup",L)):(window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",L)),()=>{window.removeEventListener("mousemove",H),window.removeEventListener("mouseup",L)}},[D,F,U,r]),Bt.useEffect(()=>{_.current.timePos=o},[o]),Bt.useEffect(()=>{_.current.beatPos=l},[l]),Bt.useEffect(()=>{_.current.beatLeftPos=d},[d]),Bt.useEffect(()=>{_.current.beatRightPos=g},[g]),Bt.useEffect(()=>{_.current.leftTime=x},[x]),he.jsxs("div",{ref:P,onMouseDown:B,onMouseUp:L,style:{width:"100%",height:"100%",backgroundColor:"#2f3135",border:"1px solid #999",borderTopRightRadius:"10px",borderBottomRightRadius:"10px"},children:[he.jsx("div",{style:{position:"sticky",top:0,zIndex:1},children:he.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${n}, ${A}px)`,height:"25px",backgroundColor:"#5FC8E0",color:"#ccc",fontSize:"12px",borderBottom:"1px solid #737579"},children:Array.from({length:n}).map((H,z)=>he.jsx("div",{style:{display:"flex",width:`${A}px`,justifyContent:"flex-start",alignItems:"center",height:"20px",borderRight:"1px solid #737579",paddingLeft:"2px",color:"white",fontWeight:"bold"},children:z%4?"":Math.floor(z/4)+1},`header-${z}`))})}),he.jsx("div",{style:{display:"grid",gridTemplateRows:`repeat(${t.length}, ${s}px)`,gridTemplateColumns:`repeat(${n}, ${A}px)`,borderLeft:"1px solid #737579",overflow:"auto",position:"relative",cursor:"pointer"},children:t.flatMap((H,z)=>Array.from({length:n}).map((G,K)=>{const le=H[K]||"#ABDFEC";return he.jsx("div",{style:{backgroundColor:le,borderRight:"1px solid #737579",borderBottom:"1px solid #737579"}},`${z}-${K}`)}))})]})},Au="#EBF6FB",sr="#FF3D3E",Ns="#1E22E5",Qr="#E0FA25",Zi="#2EFF65",Wf="#b1bbca",Et="#9346DC",fS=[{type:"piano",name:"Guide_Main",icon:"Track/piano.png",color:Au,borderTop:1},{type:"piano",name:"Guide_Main2",icon:"Track/piano.png",color:Au},{type:"piano",name:"Guide_Main2cho",icon:"Track/piano.png",color:Au},{type:"piano",name:"Cho",icon:"Track/piano.png",color:Au},{type:"piano",name:"SynthV_1cho",icon:"Track/piano.png",color:Au},{type:"piano",name:"Miku",icon:"Track/piano.png",color:Au},{type:"sample",name:"CrashL",icon:"Track/sample.png",color:sr},{type:"sample",name:"CrashR",icon:"Track/sample.png",color:sr},{type:"sample",name:"Glass1",icon:"Track/sample.png",color:sr},{type:"sample",name:"Glass2",icon:"Track/sample.png",color:sr},{type:"sample",name:"Kick",icon:"Track/sample.png",color:sr},{type:"sample",name:"ClapB",icon:"Track/sample.png",color:sr},{type:"sample",name:"ClapB2",icon:"Track/sample.png",color:sr},{type:"sample",name:"SnareA",icon:"Track/sample.png",color:sr},{type:"sample",name:"ClapSabi",icon:"Track/sample.png",color:sr},{type:"sample",name:"HatR_A",icon:"Track/sample.png",color:sr},{type:"sample",name:"HatL_A",icon:"Track/sample.png",color:sr},{type:"sample",name:"HatR_A 2",icon:"Track/sample.png",color:sr},{type:"sample",name:"HatSabiL",icon:"Track/sample.png",color:sr},{type:"sample",name:"Clock",icon:"Track/sample.png",color:sr},{type:"sample",name:"HatBL",icon:"Track/sample.png",color:sr},{type:"sample",name:"SnareGst",icon:"Track/sample.png",color:sr},{type:"sample",name:"Snap",icon:"Track/sample.png",color:sr},{type:"sample",name:"BassSlide",icon:"Track/sample.png",color:Ns},{type:"piano",name:"BassPLCenter",icon:"Track/piano.png",color:Ns},{type:"piano",name:"BassPLWide",icon:"Track/piano.png",color:Ns},{type:"piano",name:"Bass808",icon:"Track/piano.png",color:Ns},{type:"piano",name:"BassBLine",icon:"Track/piano.png",color:Ns},{type:"piano",name:"BA_Vtl_Line",icon:"Track/piano.png",color:Ns},{type:"piano",name:"BA_Srm_Sub",icon:"Track/piano.png",color:Ns},{type:"piano",name:"BA_Avn_Wide",icon:"Track/piano.png",color:Ns},{type:"piano",name:"BassFing",icon:"Track/piano.png",color:Ns},{type:"piano",name:"PianoAcos",icon:"Track/piano.png",color:Qr},{type:"piano",name:"PianoPan",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SY_Sine",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SYLd_L",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SY_Pad",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SYPluck",icon:"Track/piano.png",color:Qr},{type:"piano",name:"Chryl",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SYBellB",icon:"Track/piano.png",color:Qr},{type:"piano",name:"PianoMain",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SY_CdSabi",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SabiLdR",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SabiLdL",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SabiLd_Lay1",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SabiLd_Lay2",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SYBrass",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SYPad",icon:"Track/piano.png",color:Qr},{type:"piano",name:"VocalChop",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SYCd_E",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SYPl_E",icon:"Track/piano.png",color:Qr},{type:"piano",name:"SYPl_E2",icon:"Track/piano.png",color:Qr},{type:"piano",name:"LastLo_Hi",icon:"Track/piano.png",color:Zi},{type:"piano",name:"RGtL",icon:"Track/piano.png",color:Zi},{type:"sample",name:"RGtL",icon:"Track/sample.png",color:Zi},{type:"sample",name:"EGt 1",icon:"Track/sample.png",color:Zi},{type:"sample",name:"EGt 2",icon:"Track/sample.png",color:Zi},{type:"sample",name:"EGt 3",icon:"Track/sample.png",color:Zi},{type:"sample",name:"EGt 5",icon:"Track/sample.png",color:Zi},{type:"sample",name:"EGt 6",icon:"Track/sample.png",color:Zi},{name:"EGtCut_Sabi",type:"file",icon:"Track/file.png",color:Zi,open:!0,tracks:[{type:"sample",name:"EGt 7",icon:"Track/sample.png",color:Wf},{type:"sample",name:"EGt 8",icon:"Track/sample.png",color:Wf},{type:"sample",name:"EGt 9",icon:"Track/sample.png",color:Wf},{type:"sample",name:"EGt 10",icon:"Track/sample.png",color:Zi}]},{type:"sample",name:"SubDrop",icon:"Track/sample.png",color:Et},{type:"sample",name:"Reverse_sub",icon:"Track/sample.png",color:Et},{type:"sample",name:"PianoRev",icon:"Track/sample.png",color:Et},{type:"sample",name:"MO_SHINJU_140_synth_in 2",icon:"Track/sample.png",color:Et},{type:"sample",name:"MO_SHINJU_140_synth_in 3",icon:"Track/sample.png",color:Et},{type:"sample",name:"MO_FN_texture_asmr_might",icon:"Track/sample.png",color:Et},{type:"sample",name:"水流3",icon:"Track/sample.png",color:Et},{type:"sample",name:"New track",icon:"Track/sample.png",color:Et},{type:"sample",name:"P♭",icon:"Track/sample.png",color:Et},{type:"sample",name:"MO_FN_texture_asmr_is_fled",icon:"Track/sample.png",color:Et},{type:"sample",name:"PianoRev",icon:"Track/sample.png",color:Et},{type:"sample",name:"AcosFill",icon:"Track/sample.png",color:Et},{type:"sample",name:"WoodFill",icon:"Track/sample.png",color:Et},{type:"sample",name:"New track",icon:"Track/sample.png",color:Et},{type:"sample",name:"Radio",icon:"Track/sample.png",color:Et},{type:"sample",name:"Stab_Str",icon:"Track/sample.png",color:Et},{type:"sample",name:"PMAM_Vocal_Chop_03_C",icon:"Track/sample.png",color:Et},{type:"sample",name:"PMAM_Vocal_Chop_03_C 2",icon:"Track/sample.png",color:Et},{type:"sample",name:"UVIWorkstation",icon:"Track/sample.png",color:Et},{type:"sample",name:"UVIWorkstation 2",icon:"Track/sample.png",color:Et},{type:"sample",name:"MO_TB_hihat_opentrill",icon:"Track/sample.png",color:Et},{type:"sample",name:"MO_SVI_prec_variance",icon:"Track/sample.png",color:Et},{type:"piano",name:"BBC Symphony Orchestra",icon:"Track/piano.png",color:Et},{type:"piano",name:"BBC Symphony Orchestra",icon:"Track/piano.png",color:Et},{type:"sample",name:"VOX_HHC_94_vocal_ra_wet",icon:"Track/sample.png",color:Et},{type:"sample",name:"Shaker",icon:"Track/sample.png",color:Et},{type:"sample",name:"Shaker2",icon:"Track/sample.png",color:Et},{type:"piano",name:"SlapFX",icon:"Track/piano.png",color:Et},{type:"sample",name:"AGt",icon:"Track/sample.png",color:Et},{type:"sample",name:"cvc_vox_vooch_G♯",icon:"Track/sample.png",color:Et},{type:"sample",name:"cvc_vox_wah_C",icon:"Track/sample.png",color:Et},{type:"sample",name:"電子レンジでチン",icon:"Track/sample.png",color:Et},{type:"sample",name:"吸う_はぁ_強い",icon:"Track/sample.png",color:Et},{type:"sample",name:"吸う_はぁ_強い 2",icon:"Track/sample.png",color:Et},{type:"sample",name:"ForestBirdChirp_SFXB.69",icon:"Track/sample.png",color:Et},{type:"sample",name:"ForestBirdChirp_SFXB.69 2",icon:"Track/sample.png",color:Et},{type:"sample",name:"Sweep",icon:"Track/sample.png",color:Et},{type:"sample",name:"E_Bells",icon:"Track/sample.png",color:Et},{type:"sample",name:"Pooon",icon:"Track/sample.png",color:Et},{type:"sample",name:"ClapImpact",icon:"Track/sample.png",color:Et},{type:"sample",name:"ClapImpact2",icon:"Track/sample.png",color:Et},{type:"sample",name:"WCLP_vocal_fx_reverse",icon:"Track/sample.png",color:Et},{type:"sample",name:"DS_VPH_fx_vocal_one_se_D",icon:"Track/sample.png",color:Et},{type:"sample",name:"Bpm155_Kit26_Cymbals_PL",icon:"Track/sample.png",color:Et},{type:"sample",name:"P2J_snap_snap",icon:"Track/sample.png",color:Et},{type:"sample",name:"MO_PHR_132_percussiooley",icon:"Track/sample.png",color:Et},{type:"sample",name:"Routh",icon:"Track/sample.png",color:Et},{type:"sample",name:"JCRiser",icon:"Track/sample.png",color:Et},{type:"sample",name:"Sweep",icon:"Track/sample.png",color:Et},{type:"sample",name:"Sweep 2",icon:"Track/sample.png",color:Et},{type:"sample",name:"SweepRev",icon:"Track/sample.png",color:Et},{type:"sample",name:"TAIKI_NULIGHT___128",icon:"Track/sample.png",color:Et},{type:"sample",name:"breaks_scratch_125_kktatch",icon:"Track/sample.png",color:Wf},{type:"sample",name:"WindRev",icon:"Track/sample.png",color:Et},{type:"file",name:"Main",icon:"Track/file.png",color:sr,open:!0,tracks:[{type:"sample",name:"A",icon:"Track/sample.png",color:sr},{type:"sample",name:"A 4",icon:"Track/sample.png",color:sr},{type:"sample",name:"A 3",icon:"Track/sample.png",color:sr},{type:"sample",name:"A 2",icon:"Track/sample.png",color:sr},{type:"sample",name:"B",icon:"Track/sample.png",color:sr},{type:"sample",name:"B 2",icon:"Track/sample.png",color:sr},{type:"sample",name:"Sabi",icon:"Track/sample.png",color:sr}]},{type:"sample",name:"Oct",icon:"Track/sample.png",color:sr},{type:"sample",name:"Oct 2",icon:"Track/sample.png",color:sr},{type:"sample",name:"MikuFull - HarmoHigh",icon:"Track/sample.png",color:sr},{type:"sample",name:"MikuFull - HarmoHigh 2",icon:"Track/sample.png",color:sr},{type:"sample",name:"MikuFull - Cho",icon:"Track/sample.png",color:sr},{type:"sample",name:"MikuFull - ChoDub",icon:"Track/sample.png",color:sr},{type:"sample",name:"MikuFull - Cho 2",icon:"Track/sample.png",color:sr},{type:"sample",name:"MikuFull - ChoDub 2",icon:"Track/sample.png",color:sr},{type:"fx",name:"VoxLens",icon:"Track/fx.png",color:sr}],v="#EBF6FB",c="#FF3D3E",O="#1E22E5",f="#E0FA25",M="#2EFF65",q="#b1bbca",C="#9346DC",dS=[["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"","",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"","",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"","","","","","","","","","","","",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"","",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"","","","","","","","","","","","",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"","",v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,"",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,"","","",c,"","","",c,"","","",c,"","","",c,"","","",c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,"","","","","","","","",c,c,c,c,c,c,c,"","","","","","","","","",c,c,c,c,c,c,c,"","","","","",c,c,c,c,"",c,c,c,c,c,c,c,"","","","","","","","",c,c,c,c,c,c,c,"",c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,"","","","","","","","","",c,c,c,c,c,c,c,"","","","","",c,c,c,c,"",c,c,c,c,c,c,c,"","","","","","","","",c,c,c,c,c,c,c,"",c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,"","","","","","","","","",c,c,c,c,c,c,c,"","","","","",c,c,c,c,"",c,c,c,c,c,c,c,"","","","","","","","",c,c,c,c,c,c,c,"",c,c,c,c,c,c,c,c,"","",c,c,c,c,c,c,c,"","","","","","","","","",c,c,c,c,c,c,c,"","","","","",c,c,c,c,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,"","","","","","","","",c,c,c,c,c,c,c,c,c,"","","","","","","",c,c,c,c,c,c,c,c,c,"","","",c,c,c,c,"",c,c,c,c,c,c,c,c,c,"","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,"","","","","","","",c,c,c,c,c,c,c,c,c,"","","",c,c,c,c,"",c,c,c,c,c,c,c,c,c,"","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,"","","","","","","",c,c,c,c,c,c,c,c,c,"","","",c,c,c,c,"",c,c,c,c,c,c,c,c,c,"","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","",c,c,c,c,c,c,c,c,c,"","","","","","","",c,c,c,c,c,c,c,c,c,"","","",c,c,c,c,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,"","","","","","","","","","","","",c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,"","","","","","","","","","","","",c,c,c,c,"","","","","","","","","","","","","",c,c,c,c,"","","","","","","","","","","",c,c,c,"",c,c,c,"",c,c,c,"",c,c,c,"",c,c,c,"",c,c,c,"","","","","",c,c,c,"",c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,"","","","","","","","","","","","","","",c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,"","","","","","","","","","","","","","",c,c,"","","","","","","","","","","","","","","",c,c,"","","","","","","","","","","","","",c,c,"","",c,c,"","",c,c,"","",c,c,"","",c,c,"","",c,c,"","","","","","",c,c,"","",c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","",c,c,c,"",c,"","","",c,c,c,"",c,"","","","",c,c,c,"",c,"","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,"",c,"","","","",c,"","","",c,"","","",c,"","","",c,"","","","",c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,"",c,"","","","",c,"","","",c,"","","",c,"","","",c,"","","","",c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,c,c,c,"",c,"","","","",c,"","","",c,"","","",c,"","","",c,"","","","",c,"","","","","","","","","","",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,"","",c,c,"","",c,c,"","",c,c,"",c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"","","","","","","","","","","","","","","","","","","","","",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"","","",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"","","",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"",c,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","",c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,"",c,c,c,"",c,c,c,"",c,c,c,"",c,c,c,"",c,c,c,"",c,"","","","",c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,"","","","","","","","","","",c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,"","","","","","","","","","",c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",O,O,O,O,O,O,O,"","","","","","","","","","",O,O,O,O,O,O,O,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",O,O,O,O,O,O,O,"","","","","","","","","","",O,O,O,O,O,O,O,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,"","",O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,"","",O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,"","",O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,"","","","",f,f,f,f,f,f,f,f,"","","","","","","","",f,f,f,f,f,f,f,f,"","","","","",f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","",f,f,f,f,f,f,f,f,"","","","","","","","",f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,"","","","","","","","",f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,"","","","","",f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,"","","","","","","","","",f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,"","","","","","","","",f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"","",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"","",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",M,M,M,M,M,M,M,"","","","","","","","","","",M,M,M,M,M,M,M,"","","","","","","","",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"","",M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,"","",q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,"","",q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,"","",q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,"","",q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,"","",q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,"","",q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,"","",q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,"","",q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",q,q,q,q,q,q,q,"","","","","","","","","","",q,q,q,q,q,q,q,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",M,M,M,M,M,M,M,"","","","","","","","","","",M,M,M,M,M,M,M,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"",C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","",""],["","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,"","","","","","","","","","","","",C,C,C,C,C,"","","","","","","","","","",C,C,C,C,C,"","","","","","","","","","","","","",C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,"","","","","","","","","","","","",C,C,C,C,"","","","","","","","","","","","",C,C,C,C,"","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,"","","","","","","","","","","","",C,C,C,C,"","","","","","","","","","","","",C,C,C,C,"","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,"","","","","","","","","","","","",C,C,C,C,"","","","","","","","","","","","",C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"",C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","",C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"",C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,"","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","",C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,"","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",C,C,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",q,q,q,q,q,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,"",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,"",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,c,c,c,c,c,c,"","","","","","","","","","","","","",c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","","","","","","",c,c,c,c,c,c,"","",c,c,c,c,c,c,"","",c,c,c,c,c,c,"","",c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","","","","","","",c,c,c,c,c,c,"","",c,c,c,c,c,c,"","",c,c,c,c,c,c,"","",c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","",c,c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",c,c,c,c,c,c,c,"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]],I4=({refs:i,timelineHeight:t,timeWidth:r})=>{const n=s=>s*r;return he.jsx("div",{style:{width:"3px",height:t,backgroundColor:"black",position:"absolute",top:0,left:n(i.current.beatPos),alignItems:"center",borderWidth:"0px",pointerEvents:"none",zIndex:2}})},B4=({refs:i,timelineHeight:t,timeWidth:r})=>{const n=a=>a*r,s=(a,o)=>(o-a)*r;return he.jsx("div",{style:{display:i.current.beatLeftPos!==i.current.beatRightPos?"block":"none",width:`${s(i.current.beatLeftPos,i.current.beatRightPos)}px`,height:t,backgroundColor:i.current.repeat?"#8f83f280":"#70767a80",position:"absolute",top:0,left:n(i.current.beatLeftPos),alignItems:"center",borderWidth:"0px",pointerEvents:"none",zIndex:2}})},U4=i=>{let t=0;const r=n=>{for(const s of n)s.tracks&&s.open?(t+=1,r(s.tracks)):t+=1};return r(i),t},V4=({musicOffset:i,player:t,isPlaying:r,timePos:n,setTimePos:s,beatPos:a,setBeatPos:o,beatLeftPos:l,setBeatLeftPos:d,beatRightPos:p,setBeatRightPos:g,leftTime:y,setLeftTime:x,refs:S,processedWords:_})=>{const[P]=Bt.useState(30),[D,R]=Bt.useState(Array(135).fill(0));let F=-1,T=1;const U=(L,V=0)=>{var z;F++;let H="";return L.type!=="file"&&(H=T.toString(),T++),he.jsx(P4,{beatPos:a,rowGridData:dS[F],id:H,name:L.name,color:L.color,icon:L.icon,borderTop:L.borderTop,level:V,trackNo:F,trackVolume:D,setTrackVolume:R,refs:S,children:(z=L.tracks)==null?void 0:z.map(G=>U(G,V+1))},F)},k=Bt.useRef(null);Bt.useEffect(()=>{const L=k.current;if(!L||!S.current.isPlaying)return;const V=a*P-(L.clientWidth-300)/2;L.scrollTo({left:V,behavior:"instant"})},[a,r]);const B=25+20*U4(fS);return Bt.useEffect(()=>{S.current.timePos=n},[n]),Bt.useEffect(()=>{S.current.beatPos=a},[a]),Bt.useEffect(()=>{S.current.beatLeftPos=l},[l]),Bt.useEffect(()=>{S.current.beatRightPos=p},[p]),Bt.useEffect(()=>{S.current.leftTime=y},[y]),he.jsxs("div",{className:"d-flex flex-row",ref:k,style:{position:"relative",backgroundColor:"#2DA399",border:"2.5px solid #f9f9fa",borderRadius:"10px",minHeight:"100%",width:"100%",overflow:"auto"},children:[he.jsxs("div",{className:"d-flex flex-column align-items-center",style:{fontSize:"15px",width:"300px",height:B,backgroundColor:"inherit",position:"sticky",left:0,borderWidth:"0px",paddingLeft:"5px",borderTopLeftRadius:"10px",zIndex:3},children:[he.jsxs("div",{className:"d-flex flex-row align-items-center justify-content-between",style:{position:"sticky",top:0,width:"295px",height:"25px",backgroundColor:"inherit",padding:"10px",borderRight:"1px solid #70767a",borderBottom:"1px solid #70767a",zIndex:3},children:[he.jsxs("div",{className:"d-flex flex-row",style:{height:"20px",backgroundColor:"#5FC3C7",alignItems:"center",border:"1px solid #70767a",borderRadius:"10px"},children:[he.jsx("button",{style:{backgroundColor:"inherit",display:"flex",alignItems:"inherit",justifyContent:"inherit",border:"0px",borderTopLeftRadius:"10px",borderBottomLeftRadius:"10px"},children:he.jsx("img",{src:"Track/add-track.png",alt:"Play Button",style:{height:"12px",width:"12px"}})}),he.jsx("button",{style:{backgroundColor:"inherit",display:"flex",alignItems:"inherit",justifyContent:"inherit",border:"0px",borderTopRightRadius:"10px",borderBottomRightRadius:"10px"},children:he.jsx("img",{src:"Track/category.png",alt:"Play Button",style:{height:"12px",width:"12px"}})})]}),he.jsxs("div",{className:"d-flex flex-row align-items-center",children:[he.jsxs("div",{className:"d-flex flex-row",style:{height:"20px",backgroundColor:"#004F52",alignItems:"center",justifyContent:"center",marginRight:"10px",gap:"0px",border:"3px solid #70767a",borderRadius:"10px"},children:[he.jsx("div",{style:{width:"100px",alignItems:"center",textAlign:"right",marginRight:"10px"},children:"134/134"}),he.jsx("button",{style:{backgroundColor:"inherit",display:"flex",alignItems:"inherit",justifyContent:"center",borderWidth:"0px",borderLeft:"3px solid #70767a",borderRight:"3px solid #70767a"},children:he.jsx("img",{src:"Track/house.png",alt:"Play Button",style:{height:"15px",width:"15px"}})}),he.jsx("button",{style:{height:"15px",backgroundColor:"inherit",display:"flex",alignItems:"inherit",justifyContent:"center",borderWidth:"0px",borderRadius:"5px"},children:he.jsx("img",{src:"Track/collapse.png",alt:"Play Button",style:{height:"12px"}})})]}),he.jsx("button",{style:{height:"20px",width:"30px",backgroundColor:"#5FC3C7",display:"flex",alignItems:"inherit",justifyContent:"center",textAlign:"center",border:"1px solid #70767a",borderRadius:"3px"},children:he.jsx("img",{src:"Track/search.png",alt:"Play Button",style:{height:"15px",width:"12px"}})})]})]}),he.jsx("div",{className:"d-flex flex-column",style:{backgroundColor:"inherit",zIndex:2},children:fS.map(L=>U(L))})]}),he.jsxs("div",{style:{height:B,position:"relative"},children:[he.jsx(L4,{musicOffset:i,gridData:dS,player:t,timeSteps:502,trackHeight:20,initialTimeWidth:30,timePos:n,setTimePos:s,beatPos:a,setBeatPos:o,beatLeftPos:l,setBeatLeftPos:d,beatRightPos:p,setBeatRightPos:g,leftTime:y,setLeftTime:x,refs:S,processedWords:_}),he.jsx(I4,{refs:S,timelineHeight:B,timeWidth:P}),he.jsx(B4,{refs:S,timelineHeight:B,beatPos:a,timeWidth:P})]})]})},j4=({refs:i})=>he.jsxs("div",{className:"d-flex flex-row align-items-center text-center justify-content-between gap-1",style:{height:"100%"},children:[he.jsxs("div",{className:"d-flex flex-column text-right justify-content-between align-items-end",style:{height:"100%"},children:[he.jsx("div",{className:"ruler",children:"0  --"}),he.jsx("div",{className:"ruler",children:"  -"}),he.jsx("div",{className:"ruler",children:"  -"}),he.jsx("div",{className:"ruler",children:"5  --"}),he.jsx("div",{className:"ruler",children:"  -"}),he.jsx("div",{className:"ruler",children:"  -"}),he.jsx("div",{className:"ruler",children:"10  --"}),he.jsx("div",{className:"ruler",children:"  -"}),he.jsx("div",{className:"ruler",children:"  -"}),he.jsx("div",{className:"ruler",children:"15  --"}),he.jsx("div",{className:"ruler",children:"  -"}),he.jsx("div",{className:"ruler",children:"  -"}),he.jsx("div",{className:"ruler",children:"20  --"}),he.jsx("div",{className:"ruler",children:"  -"}),he.jsx("div",{className:"ruler",children:"25  --"}),he.jsx("div",{className:"ruler",children:"  -"}),he.jsx("div",{className:"ruler",children:"30  --"}),he.jsx("div",{className:"ruler",children:"  -"}),he.jsx("div",{className:"ruler",children:"35  --"}),he.jsx("div",{className:"ruler",children:"  -"}),he.jsx("div",{className:"ruler",children:"40  --"}),he.jsx("div",{className:"ruler",children:"  "}),he.jsx("div",{className:"ruler",children:"  -"}),he.jsx("div",{className:"ruler",children:"50  --"}),he.jsx("div",{className:"ruler",children:"  "}),he.jsx("div",{className:"ruler",children:"60  --"})]}),he.jsx("div",{className:"d-flex flex-column align-items-center",style:{position:"relative",width:"50px",height:"100%",backgroundColor:"black",borderWidth:"0px",padding:"20px"},children:he.jsx("div",{className:"d-flex flex-column align-items-center",style:{position:"absolute",bottom:0,width:"50px",height:`${i.current.isPlaying?i.current.masterVolume*100:0}%`,backgroundColor:i.current.isPlaying?"#99f4e9":"inherit",borderWidth:"0px",padding:"20px"}})}),he.jsx("div",{className:"d-flex flex-column align-items-center",style:{position:"relative",width:"50px",height:"100%",backgroundColor:"black",borderWidth:"0px",padding:"20px"},children:he.jsx("div",{className:"d-flex flex-column align-items-center",style:{position:"absolute",bottom:0,width:"50px",height:`${i.current.isPlaying?i.current.masterVolume*100:0}%`,backgroundColor:i.current.isPlaying?"#99f4e9":"inherit",borderWidth:"0px",padding:"20px"}})}),he.jsxs("div",{className:"d-flex flex-column text-left justify-content-between align-items-start",style:{height:"100%"},children:[he.jsx("div",{className:"ruler",children:"--  0"}),he.jsx("div",{className:"ruler",children:"-  "}),he.jsx("div",{className:"ruler",children:"-  "}),he.jsx("div",{className:"ruler",children:"--  5"}),he.jsx("div",{className:"ruler",children:"-  "}),he.jsx("div",{className:"ruler",children:"-  "}),he.jsx("div",{className:"ruler",children:"--  10"}),he.jsx("div",{className:"ruler",children:"-  "}),he.jsx("div",{className:"ruler",children:"-  "}),he.jsx("div",{className:"ruler",children:"--  15"}),he.jsx("div",{className:"ruler",children:"-  "}),he.jsx("div",{className:"ruler",children:"-  "}),he.jsx("div",{className:"ruler",children:"--  20"}),he.jsx("div",{className:"ruler",children:"-  "}),he.jsx("div",{className:"ruler",children:"--  25"}),he.jsx("div",{className:"ruler",children:"-  "}),he.jsx("div",{className:"ruler",children:"--  30"}),he.jsx("div",{className:"ruler",children:"-  "}),he.jsx("div",{className:"ruler",children:"--  35"}),he.jsx("div",{className:"ruler",children:"-  "}),he.jsx("div",{className:"ruler",children:"--  40"}),he.jsx("div",{className:"ruler",children:"  "}),he.jsx("div",{className:"ruler",children:"-  "}),he.jsx("div",{className:"ruler",children:"--  50"}),he.jsx("div",{className:"ruler",children:"  "}),he.jsx("div",{className:"ruler",children:"--  60"})]})]}),z4=({player:i,masterVolume:t,setMasterVolume:r,refs:n})=>(Bt.useEffect(()=>{n.current.masterVolume=t},[t]),Bt.useEffect(()=>{let s;const a=()=>{if(i&&i.isPlaying&&i.timer){const o=i.timer.position,l=i.getVocalAmplitude(o),d=i.getMaxVocalAmplitude(),p=(l&&d?l/d:0)*2;r(Math.min(1,p))}else r(0);s=requestAnimationFrame(a)};return a(),()=>cancelAnimationFrame(s)},[i,t,r]),he.jsxs("div",{className:"flex-column gap-2 right-menu",style:{display:"flex",width:"300px",height:"100%",backgroundColor:"#2DA399",alignItems:"center",borderWidth:"0px",borderRadius:"20px",padding:"20px"},children:[he.jsxs("div",{className:"d-flex flex-row",children:[he.jsxs("div",{style:{position:"relative",width:"70px"},children:[he.jsx("div",{style:{height:"20px",backgroundColor:"black",alignItems:"center",borderWidth:"0px",borderRadius:"20px"}}),he.jsx("div",{style:{height:"inherit",width:"100%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"12px"},children:"VSTi"})]}),he.jsxs("div",{style:{position:"relative",width:"70px"},children:[he.jsx("div",{style:{height:"20px",backgroundColor:"black",alignItems:"center",borderWidth:"0px",borderRadius:"20px"}}),he.jsx("div",{style:{height:"inherit",width:"100%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"12px"},children:"メディア"})]}),he.jsxs("div",{style:{position:"relative",width:"70px"},children:[he.jsx("div",{style:{height:"20px",backgroundColor:"black",alignItems:"center",borderWidth:"0px",borderRadius:"20px"}}),he.jsx("div",{style:{height:"inherit",width:"100%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"12px"},children:"CR"})]}),he.jsxs("div",{style:{position:"relative",width:"70px"},children:[he.jsx("div",{style:{height:"20px",backgroundColor:"black",alignItems:"center",borderWidth:"0px",borderRadius:"20px"}}),he.jsx("div",{style:{height:"inherit",width:"100%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"12px"},children:"メーター"})]})]}),he.jsxs("div",{className:"d-flex flex-row align-items-center text-start",style:{width:"260px",backgroundColor:"#70767a",paddingLeft:"20px",paddingRight:"20px",paddingTop:"5px",paddingBottom:"5px",borderWidth:"0px",borderRadius:"5px",fontSize:"10px"},children:[he.jsx("img",{src:"Right-menu/triangle.png",alt:"Play Button",style:{height:"10px",marginRight:"20px"}}),"Master"]}),he.jsxs("div",{className:"d-flex flex-row align-items-center text-center justify-content-between",style:{width:"260px",backgroundColor:"black",paddingLeft:"20px",paddingRight:"20px",paddingTop:"5px",paddingBottom:"5px",borderWidth:"0px",borderRadius:"5px",fontSize:"10px"},children:[he.jsx("div",{children:"Digital Scale"}),he.jsx("div",{style:{color:"#70767a"},children:"-18 dBFS"})]}),he.jsxs("div",{style:{width:"260px"},children:[he.jsx("img",{src:"Right-menu/foward.png",alt:"Play Button",style:{width:"120px"}}),he.jsx("img",{src:"Right-menu/setting.png",alt:"Play Button",style:{width:"120px"}})]}),he.jsx(j4,{refs:n}),he.jsxs("div",{className:"d-flex flex-row align-items-center text-center justify-content-between",style:{width:"260px",backgroundColor:"black",paddingLeft:"40px",paddingRight:"40px",paddingTop:"5px",paddingBottom:"5px",borderWidth:"0px",borderRadius:"5px"},children:[he.jsxs("div",{children:[he.jsx("div",{className:"d-flex flex-column",children:"最大RMS"}),he.jsx("div",{children:"-0.4"})]}),he.jsxs("div",{children:[he.jsx("div",{className:"d-flex flex-column",children:"最大ピーク"}),he.jsx("div",{children:"-0.1"})]})]}),he.jsxs("div",{className:"d-flex flex-row",children:[he.jsxs("div",{style:{position:"relative",width:"70px"},children:[he.jsx("div",{style:{height:"20px",backgroundColor:"black",alignItems:"center",borderWidth:"0px",borderRadius:"20px"}}),he.jsx("div",{style:{position:"absolute",top:"50%",left:"10px",transform:"translateY(-50%)",fontSize:"12px"},children:"マスター"})]}),he.jsxs("div",{style:{position:"relative",width:"80px"},children:[he.jsx("div",{style:{height:"20px",backgroundColor:"black",alignItems:"center",borderWidth:"0px",borderRadius:"20px"}}),he.jsx("div",{style:{position:"absolute",top:"50%",left:"10px",transform:"translateY(-50%)",fontSize:"12px"},children:"ラウドネス"})]})]})]})),G4=i=>{const t=Math.floor(i/4)+1,r=Math.floor(i%4)+1,n=Math.floor(i*4%4)+1,s=Math.floor(i*1024%256);return`${t.toString()}.   ${r.toString()}.   ${n.toString()}.
    ${s.toString().padStart(3,"0")}.`},H4=({refs:i})=>he.jsxs("div",{className:"flex-row align-items-center justify-content-center",style:{width:"150px",height:"25px",backgroundColor:"#004F52",marginRight:"10px",gap:"0px",border:"3px solid #70767a",borderRadius:"5px"},children:[he.jsx("div",{className:"justify-content-center align-items-center",style:{width:"15px",marginRight:"10px",position:"relative",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px"},children:he.jsx("img",{src:"Footer/track-left.png",alt:"Play Button",style:{position:"absolute",left:9,height:"15px"}})}),he.jsxs("div",{className:"justify-content-center text-end",style:{width:"140px",height:"100%",backgroundColor:"inherit",paddingRight:"10px",borderWidth:"0px",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",borderLeft:"3px solid #70767a"},children:["  ",G4(i.current.beatLeftPos)]})]}),q4=i=>{const t=Math.floor(i/4)+1,r=Math.floor(i%4)+1,n=Math.floor(i*4%4)+1,s=Math.floor(i*1024%256);return`${t.toString()}.   ${r.toString()}.   ${n.toString()}.
    ${s.toString().padStart(3,"0")}.`},$4=({refs:i})=>he.jsxs("div",{className:"flex-row align-items-center justify-content-center",style:{width:"150px",height:"25px",backgroundColor:"#004F52",marginRight:"10px",gap:"0px",border:"3px solid #70767a",borderRadius:"5px"},children:[he.jsx("div",{className:"justify-content-center align-items-center",style:{width:"15px",marginRight:"10px",position:"relative",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px"},children:he.jsx("img",{src:"Footer/track-right.png",alt:"Play Button",style:{position:"absolute",left:9,height:"15px"}})}),he.jsxs("div",{className:"justify-content-center text-end",style:{width:"140px",height:"100%",backgroundColor:"inherit",paddingRight:"10px",borderWidth:"0px",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",borderLeft:"3px solid #70767a"},children:["  ",q4(i.current.beatRightPos)]})]}),W4=i=>{const t=Math.floor(i/4)+1,r=Math.floor(i%4)+1,n=Math.floor(i*4%4)+1,s=Math.floor(i*1024%256);return`${t.toString()}.   ${r.toString()}.   ${n.toString()}.
    ${s.toString().padStart(3,"0")}.`},Y4=({refs:i})=>he.jsxs("div",{className:"flex-row align-items-center justify-content-center",style:{width:"150px",height:"25px",backgroundColor:"#004F52",marginRight:"10px",gap:"0px",border:"3px solid #70767a",borderRadius:"5px"},children:[he.jsx("div",{className:"justify-content-center align-items-center",style:{width:"15px",marginRight:"10px",position:"relative",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px"},children:he.jsx("img",{src:"Footer/track-pos.png",alt:"Play Button",style:{position:"absolute",left:7,height:"15px"}})}),he.jsxs("div",{className:"justify-content-center text-end",style:{width:"140px",height:"100%",backgroundColor:"inherit",paddingRight:"10px",borderWidth:"0px",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",borderLeft:"3px solid #70767a"},children:["  ",W4(i.current.beatPos)]})]}),X4=i=>{const t=Math.floor(i/36e5),r=Math.floor(i%36e5/6e4),n=Math.floor(i%6e4/1e3),s=Math.floor(i%1e3);return`${t}:${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}.${s.toString().padStart(3,"0")}`},Z4=({refs:i})=>he.jsxs("div",{className:"flex-row align-items-center justify-content-center",style:{width:"150px",height:"25px",backgroundColor:"#004F52",marginRight:"10px",gap:"0px",border:"3px solid #70767a",borderRadius:"5px"},children:[he.jsx("div",{className:"justify-content-center align-items-center",style:{width:"15px",marginRight:"10px",position:"relative",borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px"},children:he.jsx("img",{src:"Footer/time-pos.png",alt:"Play Button",style:{position:"absolute",left:5,height:"15px"}})}),he.jsx("div",{className:"justify-content-center text-end",style:{width:"140px",height:"100%",backgroundColor:"inherit",paddingRight:"10px",borderWidth:"0px",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",borderLeft:"3px solid #70767a"},children:X4(i.current.timePos)})]}),K4=()=>he.jsxs("div",{className:"flex-row gap-0",children:[he.jsx("div",{style:{width:"25px",height:"25px",backgroundColor:"white",position:"relative",borderRadius:"3px"},children:he.jsx("img",{src:"Footer/bpm.png",alt:"Play Button",style:{position:"absolute",top:5,left:5,height:"15px",width:"15px"}})}),he.jsxs("div",{className:"flex-row align-items-center justify-content-center",style:{width:"80px",height:"25px",backgroundColor:"#004F52",marginRight:"10px",gap:"0px",border:"3px solid #70767a",borderLeft:"0px",borderTopRightRadius:"5px",borderBottomRightRadius:"5px"},children:[he.jsx("div",{className:"justify-content-center text-end",style:{width:"100%",height:"100%",backgroundColor:"inherit",borderWidth:"0px",borderTopRightRadius:"5px",borderBottomRightRadius:"5px"},children:"  130.000"}),he.jsxs("div",{className:"align-item-center justify-content-center",style:{width:"16px",height:"30px",borderWidth:"0px",borderTopRightRadius:"5px",borderBottomRightRadius:"5px",gap:"1px"},children:[he.jsx("button",{style:{height:"7px",backgroundColor:"inherit",borderWidth:"0px",position:"relative"},children:he.jsx("img",{src:"Footer/bpm-up.png",alt:"Play Button",style:{position:"absolute",top:0,right:3,width:"7px",height:"7px"}})}),he.jsx("button",{style:{height:"7px",backgroundColor:"inherit",borderWidth:"0px",position:"relative"},children:he.jsx("img",{src:"Footer/bpm-down.png",alt:"Play Button",style:{position:"absolute",top:0,right:3,width:"7px",height:"7px"}})})]})]})]}),Q4=({onPlay:i})=>he.jsx("button",{onClick:i,style:{width:"40px",height:"30px",backgroundColor:"#5FC3C7",display:"flex",alignItems:"inherit",justifyContent:"inherit",borderWidth:"0px",borderTopRightRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:"20px",borderBottomLeftRadius:"20px"},children:he.jsx("img",{src:"Footer/to-start.png",alt:"Play Button",style:{width:"50%",height:"50%"}})}),J4=({onPlay:i})=>he.jsx("button",{onClick:i,style:{width:"40px",height:"30px",backgroundColor:"#5FC3C7",display:"flex",alignItems:"inherit",justifyContent:"inherit",borderWidth:"0px"},children:he.jsx("img",{src:"Footer/to-end.png",alt:"Play Button",style:{width:"50%",height:"50%"}})}),eM=()=>he.jsx("button",{style:{width:"40px",height:"30px",backgroundColor:"#5FC3C7",display:"flex",alignItems:"inherit",justifyContent:"inherit",borderWidth:"0px"},children:he.jsx("img",{src:"Footer/prev.png",alt:"Play Button",style:{width:"50%",height:"50%"}})}),tM=()=>he.jsx("button",{style:{width:"40px",height:"30px",backgroundColor:"#5FC3C7",display:"flex",alignItems:"inherit",justifyContent:"inherit",borderWidth:"0px"},children:he.jsx("img",{src:"Footer/next.png",alt:"Play Button",style:{width:"50%",height:"50%"}})}),rM=({refs:i,onPlay:t})=>he.jsx("button",{onClick:t,style:{width:"40px",height:"30px",backgroundColor:i.current.repeat?"#8f83f2":"#5FC3C7",display:"flex",alignItems:"inherit",justifyContent:"inherit",borderWidth:"0px"},children:he.jsx("img",{src:"Footer/return.png",alt:"Play Button",style:{width:"50%",height:"50%"}})}),nM=({refs:i,onPlay:t})=>he.jsx("button",{onClick:t,style:{width:"40px",height:"30px",backgroundColor:i.current.isPlaying?"#5FC3C7":"#45F8E8",display:"flex",alignItems:"inherit",justifyContent:"inherit",borderWidth:"0px"},children:he.jsx("img",{src:"Footer/stop.png",alt:"Play Button",style:{width:"50%",height:"50%"}})}),iM=({refs:i,onPlay:t})=>he.jsx("button",{onClick:t,style:{width:"40px",height:"30px",backgroundColor:i.current.isPlaying?"#69cd84":"#5FC3C7",display:"flex",alignItems:"center",justifyContent:"center",borderWidth:"0px"},children:he.jsx("img",{src:"Footer/play.png",alt:"Play Button",style:{width:"50%",height:"50%"}})}),sM=()=>he.jsx("button",{style:{width:"40px",height:"30px",backgroundColor:"#dc3030",display:"flex",alignItems:"inherit",justifyContent:"inherit",borderWidth:"0px",borderTopRightRadius:"20px",borderBottomRightRadius:"20px",borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px"},children:he.jsx("img",{src:"Footer/record.png",alt:"Play Button",style:{width:"50%",height:"50%"}})}),aM=({musicOffset:i,player:t,isPlaying:r,setIsPlaying:n,timePos:s,beatPos:a,beatLeftPos:o,beatRightPos:l,repeat:d,setRepeat:p,refs:g})=>{const y=()=>{var D,R;g.current.timePos=0,g.current.beatPos=0,g.current.beatLeftPos=0,g.current.beatRightPos=0,t.requestMediaSeek(i),console.log("To start"),console.log("leftTime: ",g.current.leftTime),console.log("timePos: ",g.current.timePos),console.log("Real position after seek:",(D=t.timer)==null?void 0:D.position),!g.current.isPlaying&&((R=t.timer)==null?void 0:R.position)!==i&&(console.error("Time seeking failed due to the delay of music player. Stop and restart the music may solve the problem."),t.volume=0,g.current.timePos=i-20,g.current.beatPos=0,t.requestPlay(),setTimeout(()=>{t.requestPause(),setTimeout(()=>{t.requestPlay(),setTimeout(()=>{t.requestPause(),t.volume=100},10)},10)},10))},x=()=>{if(t){const D=(t.data.song.length-2.5)*1e3,R=t.findBeat(D),F=R.endTime,T=R.index+(F-R.startTime)/R.duration;g.current.timePos=F,g.current.beatPos=T,g.current.beatLeftPos=T,g.current.beatRightPos=T,t.requestMediaSeek(F)}},S=()=>{n(D=>!D),r?(t.requestPause(),console.log("Music pause")):(t.requestPlay(),console.log("Music play"))},_=()=>{n(!1),t.requestPause(),console.log("Music pause")},w=()=>{p(D=>!D),console.log("Repeat toggled:",!g.current.repeat),t.volume=0,t.mediaPosition>i?t.requestMediaSeek(t.mediaPosition-10):t.requestMediaSeek(t.mediaPosition),g.current.isPlaying||(t.volume=0,t.requestPlay(),setTimeout(()=>{t.requestPause(),t.volume=100},10))},A=()=>{const D=document.getElementById("popup");D&&(D.style.display="none")},P=()=>{const D=document.getElementById("instructJP"),R=document.getElementById("popup");R&&(R.style.display="none"),D&&(D.style.display="flex")};return Bt.useEffect(()=>{g.current.timePos=s},[s]),Bt.useEffect(()=>{g.current.beatPos=a},[a]),Bt.useEffect(()=>{g.current.isPlaying=r},[r]),Bt.useEffect(()=>{g.current.repeat=d},[d]),Bt.useEffect(()=>{g.current.beatLeftPos=o},[o]),Bt.useEffect(()=>{g.current.beatRightPos=l},[l]),he.jsxs("footer",{className:"d-flex flex-row flex-wrap align-items-center text-center justify-content-between",style:{height:"100%"},children:[he.jsx(H4,{refs:g}),he.jsx($4,{refs:g}),he.jsxs("div",{className:"d-flex flex-row align-items-center justift-content-center",style:{position:"relative"},children:[he.jsxs("div",{style:{height:"30px",flexDirection:"row",alignItems:"center",justifyContent:"center",marginRight:"5px",gap:"0px"},children:[he.jsx(Q4,{onPlay:y}),he.jsx(J4,{onPlay:x}),he.jsx(eM,{}),he.jsx(tM,{}),he.jsx(rM,{refs:g,onPlay:w}),he.jsx(nM,{refs:g,onPlay:_}),"   ",he.jsx(iM,{refs:g,onPlay:S}),he.jsx(sM,{})]}),he.jsx("button",{className:"d-flex flex-row align-items-center text-center justify-content-between",onClick:P,style:{width:"30px",height:"24px",backgroundColor:"#5FC3C7",borderWidth:"0px",paddingLeft:"10px",fontSize:"20px",color:"white"},children:"?"}),he.jsx("img",{className:"popup",id:"popup",onClick:A,src:"instructPopup.png",alt:"Play Button",style:{position:"absolute",bottom:30,right:-140,height:"100px",cursor:"pointer",zIndex:3}})]}),he.jsx(Y4,{refs:g}),he.jsx(Z4,{refs:g}),he.jsx(K4,{})]})},oM=({musicOffset:i,player:t,timePos:r,setTimePos:n,beatPos:s,setBeatPos:a,refs:o,masterVolume:l,setMasterVolume:d})=>{let p,g=!0;return Bt.useEffect(()=>{o.current.timePos=r},[r,o]),Bt.useEffect(()=>{o.current.beatPos=s},[s,o]),Bt.useEffect(()=>{o.current.masterVolume=l},[l,o]),t.addListener({onAppReady:y=>{y.managed||t.createFromSongUrl("https://piapro.jp/t/SuQO/20250127235813",{video:{beatId:4694276,chordId:2830731,repetitiveSegmentId:2946479,lyricId:67811,lyricDiffId:20655}})},onAppMediaChange:y=>{console.log("New music is set:",y)},onPlay:()=>{console.log("Music play");const y=document.getElementById("popup");y&&(g?g=!1:y.style.display="none")},onPause:()=>{console.log("Music paused")},onStop:()=>{console.log("Music stopped"),n(0),a(0)},onMediaSeek:y=>{if(y>232e3&&(t.requestPause(),o.current.isPlaying=!1),y>=i){const x=y-i,S=t.findBeat(x);if(p!==S){if(S){const _=S.index+(x-S.startTime)/S.duration;o.current.repeat&&o.current.beatLeftPos!==o.current.beatRightPos&&(_>o.current.beatRightPos||_<o.current.beatLeftPos)?t.requestMediaSeek(o.current.leftTime):(n(x),a(_))}p=S}}else n(0),a(0)},onTimerReady(){if(o.current.isPlaying)console.log("Stop excessing play");else{console.log("Timer ready");const y=document.getElementById("overlay");y&&(y.style.display="none"),t.requestMediaSeek(i),d(0),o.current.masterVolume=0}}}),he.jsx("div",{})},uM=({player:i,musicOffset:t,processedWords:r})=>{const[n,s]=Bt.useState(!1),[a,o]=Bt.useState(0),[l,d]=Bt.useState(0),[p,g]=Bt.useState(0),[y,x]=Bt.useState(0),[S,_]=Bt.useState(0),[w,A]=Bt.useState(!1),[P,D]=Bt.useState(0),R=Bt.useRef({timePos:0,beatPos:0,isPlaying:!1,repeat:!1,beatLeftPos:0,beatRightPos:0,masterVolume:0,leftTime:0}),F=()=>{const k=document.getElementById("instructJP"),B=document.getElementById("instructEN");k&&(k.style.display="none"),B&&(B.style.display="none")},T=()=>{const k=document.getElementById("instructJP"),B=document.getElementById("instructEN");k&&(k.style.display="none"),B&&(B.style.display="flex")},U=()=>{const k=document.getElementById("instructJP"),B=document.getElementById("instructEN");k&&(k.style.display="flex"),B&&(B.style.display="none")};return he.jsxs("div",{className:"d-flex flex-column",style:{width:"100vw",height:"100vh",position:"relative"},children:[he.jsxs("main",{className:"inner-main text-center text-gray-600 d-flex flex-row justify-content-between",children:[he.jsx(V4,{musicOffset:t,player:i,isPlaying:n,timePos:a,setTimePos:o,beatPos:l,setBeatPos:d,beatLeftPos:p,setBeatLeftPos:g,beatRightPos:y,setBeatRightPos:x,leftTime:P,setLeftTime:D,refs:R,processedWords:r}),he.jsx(z4,{player:i,masterVolume:S,setMasterVolume:_,refs:R})]}),he.jsx(aM,{musicOffset:t,player:i,isPlaying:n,setIsPlaying:s,timePos:a,beatPos:l,beatLeftPos:p,setBeatLeftPos:g,beatRightPos:y,setBeatRightPos:x,refs:R,repeat:w,setRepeat:A}),he.jsx("div",{className:"justify-content-center align-items-center",id:"overlay",style:{display:"flex",position:"absolute",top:0,bottom:0,left:0,right:0,width:"100%",height:"100%",backgroundColor:"#70767a80",zIndex:"3"},children:he.jsx("img",{src:"logo.png",alt:"Logo layer"})}),he.jsx("div",{id:"lyrics",style:{display:R.current.isPlaying?"block":"none",position:"absolute",top:"30%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"72px",color:"white",pointerEvents:"none",zIndex:"4"}}),he.jsx("img",{className:"illust justify-content-center align-items-center",id:"illust",src:"illust.png",alt:"Logo layer"}),he.jsx("div",{className:"overlay justify-content-center align-items-center",id:"instructJP",children:he.jsxs("div",{style:{position:"relative"},children:[he.jsx("img",{src:"helpJP.png",alt:"Logo layer",style:{height:"500px"}}),he.jsxs("div",{className:"help-button-container d-flex flex-row align-items-center text-center justify-content-start",children:[he.jsx("button",{className:"help-button",onClick:F,style:{backgroundColor:"#15c18d"},children:he.jsx("div",{className:"help-text text-center",children:"閉じる"})}),he.jsx("button",{className:"help-button",onClick:T,style:{backgroundColor:"#15c173"},children:he.jsx("div",{className:"help-text text-center",children:"English"})})]})]})}),he.jsx("div",{className:"overlay justify-content-center align-items-center",id:"instructEN",children:he.jsxs("div",{style:{position:"relative"},children:[he.jsx("img",{src:"helpEN.png",alt:"Logo layer",style:{height:"500px"}}),he.jsxs("div",{className:"help-button-container d-flex flex-row align-items-center text-center justify-content-between",children:[he.jsx("button",{className:"help-button",onClick:F,style:{backgroundColor:"#15c18d"},children:he.jsx("div",{className:"help-text text-center",children:"Close"})}),he.jsx("button",{className:"help-button",onClick:U,style:{backgroundColor:"#15c173"},children:he.jsx("div",{className:"help-text text-center",children:"日本語"})})]})]})}),he.jsx(oM,{musicOffset:t,player:i,timePos:a,setTimePos:o,beatPos:l,setBeatPos:d,refs:R,masterVolume:S,setMasterVolume:_})]})},Bo=Math.PI,DA="2.0.3",Co="p2d",lM="p2d-hdr",Ba="webgl",rn="webgl2",TA="default",wy="simple",Ey="full",NA="crosshair",OA="pointer",FA="move",RA="text",MA="wait",ho=Bo/2,Cy=Bo,cM=Bo/4,hM=Bo*2,kn=Bo*2,fo=Bo/180,po=180/Bo,ci="corner",Zc="corners",Kc="radius",Od="right",kA="left",$n="center",fM="top",Ay="bottom",PA="alphabetic",Fd=0,rl=1,dM=3,pM=2,Vu=4,Cp=6,Qc=5,Bc="quads",Jc="quad_strip",gM="tess",ju=7,Vi=8,eh="close",Ao="open",Rd="chord",th="pie",Mv="square",kv="butt",Ra="round",Pv="bevel",Lv="miter",LA="auto",mM="Alt",yM="Backspace",vM="Control",bM="Delete",xM="ArrowDown",_M="Enter",SM="Escape",wM="ArrowLeft",EM="Alt",CM="Enter",AM="ArrowRight",DM="Shift",TM="Tab",NM="ArrowUp",Ln="source-over",Do="destination-out",rh="lighter",Ap="darken",Dp="lighten",IA="difference",Tp="subtract",Np="exclusion",Op="multiply",Fp="screen",Rp="copy",Iv="overlay",Bv="hard-light",Uv="soft-light",Vv="color-dodge",jv="color-burn",Mp="threshold",zv="gray",Gv="opaque",Hv="invert",kp="posterize",qv="dilate",$v="erode",nl="blur",rs="normal",OM="italic",FM="bold",RM="bold italic",MM="CHAR",BA="WORD",kM="#000000",PM=1.25,LM="middle",Dy="linear",IM="quadratic",BM="bezier",UM="curve",VM="stroke",Md="fill",kd="texture",jM="immediate",Pp="image",UA="nearest",Ty="repeat",Ny="clamp",Oy="mirror",VA="flat",jA="smooth",zM="landscape",GM="portrait",zA="#000000",GA="#FFFFFF",HA="grid",qA="axes",HM="label",qM="fallback",$A="contain",WA="cover",Ea="unsigned-byte",Uc="unsigned-int",Gn="float",ku="half-float",zu=Symbol("include"),Lu=Symbol("exclude"),Fy=Symbol("join");var To=Object.freeze({__proto__:null,ADD:rh,ALT:mM,ARROW:TA,AUTO:LA,AXES:qA,BACKSPACE:yM,BASELINE:PA,BEVEL:Pv,BEZIER:BM,BLEND:Ln,BLUR:nl,BOLD:FM,BOLDITALIC:RM,BOTTOM:Ay,BURN:jv,CENTER:$n,CHAR:MM,CHORD:Rd,CLAMP:Ny,CLOSE:eh,CONTAIN:$A,CONTROL:vM,CORNER:ci,CORNERS:Zc,COVER:WA,CROSS:NA,CURVE:UM,DARKEST:Ap,DEG_TO_RAD:fo,DELETE:bM,DIFFERENCE:IA,DILATE:qv,DODGE:Vv,DOWN_ARROW:xM,EMPTY_PATH:ju,ENTER:_M,ERODE:$v,ESCAPE:SM,EXCLUDE:Lu,EXCLUSION:Np,FALLBACK:qM,FILL:Md,FLAT:VA,FLOAT:Gn,FULL:Ey,GRAY:zv,GRID:HA,HALF_FLOAT:ku,HALF_PI:ho,HAND:OA,HARD_LIGHT:Bv,IMAGE:Pp,IMMEDIATE:jM,INCLUDE:zu,INVERT:Hv,ITALIC:OM,JOIN:Fy,LABEL:HM,LANDSCAPE:zM,LEFT:kA,LEFT_ARROW:wM,LIGHTEST:Dp,LINEAR:Dy,LINES:rl,LINE_LOOP:pM,LINE_STRIP:dM,MIRROR:Oy,MITER:Lv,MOVE:FA,MULTIPLY:Op,NEAREST:UA,NORMAL:rs,OPAQUE:Gv,OPEN:Ao,OPTION:EM,OVERLAY:Iv,P2D:Co,P2DHDR:lM,PATH:Vi,PI:Cy,PIE:th,POINTS:Fd,PORTRAIT:GM,POSTERIZE:kp,PROJECT:Mv,QUADRATIC:IM,QUADS:Bc,QUAD_STRIP:Jc,QUARTER_PI:cM,RADIUS:Kc,RAD_TO_DEG:po,REMOVE:Do,REPEAT:Ty,REPLACE:Rp,RETURN:CM,RIGHT:Od,RIGHT_ARROW:AM,ROUND:Ra,SCREEN:Fp,SHIFT:DM,SIMPLE:wy,SMOOTH:jA,SOFT_LIGHT:Uv,SQUARE:kv,STROKE:VM,SUBTRACT:Tp,TAB:TM,TAU:hM,TESS:gM,TEXT:RA,TEXTURE:kd,THRESHOLD:Mp,TOP:fM,TRIANGLES:Vu,TRIANGLE_FAN:Cp,TRIANGLE_STRIP:Qc,TWO_PI:kn,UNSIGNED_BYTE:Ea,UNSIGNED_INT:Uc,UP_ARROW:NM,VERSION:DA,WAIT:MA,WEBGL:Ba,WEBGL2:rn,WORD:BA,_CTX_MIDDLE:LM,_DEFAULT_FILL:GA,_DEFAULT_LEADMULT:PM,_DEFAULT_STROKE:zA,_DEFAULT_TEXT_FILL:kM});function Wv(i,t){t.applyMatrix=function(...r){let n=r[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(r[0])||n?this._renderer.applyMatrix(...r[0]):this._renderer.applyMatrix(...r),this},t.resetMatrix=function(){return this._renderer.resetMatrix(),this},t.rotate=function(r,n){return this._renderer.rotate(this._toRadians(r),n),this},t.rotateX=function(r){return this._assert3d("rotateX"),this._renderer.rotateX(this._toRadians(r)),this},t.rotateY=function(r){return this._assert3d("rotateY"),this._renderer.rotateY(this._toRadians(r)),this},t.rotateZ=function(r){return this._assert3d("rotateZ"),this._renderer.rotateZ(this._toRadians(r)),this},t.scale=function(r,n,s){if(r instanceof i.Vector){const a=r;r=a.x,n=a.y,s=a.z}else if(Array.isArray(r)){const a=r;r=a[0],n=a[1],s=a[2]||1}return isNaN(n)?n=s=r:isNaN(s)&&(s=1),this._renderer.scale(r,n,s),this},t.shearX=function(r){const n=this._toRadians(r);return this._renderer.applyMatrix(1,0,Math.tan(n),1,0,0),this},t.shearY=function(r){const n=this._toRadians(r);return this._renderer.applyMatrix(1,Math.tan(n),0,1,0,0),this},t.translate=function(r,n,s){return this._renderer.isP3D?this._renderer.translate(r,n,s):this._renderer.translate(r,n),this},t.push=function(){this._renderer.push()},t.pop=function(){this._renderer.pop()}}typeof p5<"u"&&Wv(p5,p5.prototype);function YA(i,t){t.noLoop=function(){this._loop=!1},t.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.isLooping=function(){return this._loop},t.redraw=async function(r){if(this._inUserDraw||!this._setupDone)return;let n=parseInt(r);(isNaN(n)||n<1)&&(n=1);const s=this._isGlobal?window:this;if(typeof s.draw=="function"){typeof s.setup>"u"&&s.scale(s._pixelDensity,s._pixelDensity);for(let a=0;a<n;a++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),this._renderer.isP3D&&this._renderer._update(),this.frameCount=s.frameCount+1,await this._runLifecycleHook("predraw"),this._inUserDraw=!0;try{await s.draw()}finally{this._inUserDraw=!1}await this._runLifecycleHook("postdraw")}}}}typeof p5<"u"&&YA(p5,p5.prototype);const pS=function(i,t){return i!==0&&(this.x=this.x%i),t!==0&&(this.y=this.y%t),this},vm=function(i,t,r){return i!==0&&(this.x=this.x%i),t!==0&&(this.y=this.y%t),r!==0&&(this.z=this.z%r),this};class be{constructor(...t){let r=t.map(s=>s||0);typeof t[0]=="function"&&(this.isPInst=!0,this._fromRadians=t[0],this._toRadians=t[1],r=t.slice(2).map(s=>s||0));let n=r.length;n===0?(this.dimensions=2,this._values=[0,0,0]):(this.dimensions=n,this._values=r)}get values(){return this._values}set values(t){let r=t.length;r===0?(this.dimensions=2,this._values=[0,0,0]):(this.dimensions=r,this._values=t.slice())}get x(){return this._values[0]||0}getValue(t){if(t<this._values.length)return this._values[t];p5._friendlyError("The index parameter is trying to set a value outside the bounds of the vector","p5.Vector.setValue")}setValue(t,r){t<this._values.length?this._values[t]=r:p5._friendlyError("The index parameter is trying to set a value outside the bounds of the vector","p5.Vector.setValue")}get y(){return this._values[1]||0}get z(){return this._values[2]||0}get w(){return this._values[3]||0}set x(t){this._values.length>1&&(this._values[0]=t)}set y(t){this._values.length>1&&(this._values[1]=t)}set z(t){this._values.length>2&&(this._values[2]=t)}set w(t){this._values.length>3&&(this._values[3]=t)}toString(){return`[${this.values.join(", ")}]`}set(...t){return t[0]instanceof be?this.values=t[0].values.slice():Array.isArray(t[0])?this.values=t[0].map(r=>r||0):this.values=t.map(r=>r||0),this.dimensions=this.values.length,this}copy(){return this.isPInst?new be(this._fromRadians,this._toRadians,...this.values):new be(...this.values)}add(...t){return t[0]instanceof be?t=t[0].values:Array.isArray(t[0])&&(t=t[0]),t.forEach((r,n)=>{this.values[n]=(this.values[n]||0)+(r||0)}),this}rem(t,r,n){if(t instanceof be){if([t.x,t.y,t.z].every(Number.isFinite)){const s=parseFloat(t.x),a=parseFloat(t.y),o=parseFloat(t.z);return vm.call(this,s,a,o)}}else if(Array.isArray(t)){if(t.every(s=>Number.isFinite(s))){if(t.length===2)return pS.call(this,t[0],t[1]);if(t.length===3)return vm.call(this,t[0],t[1],t[2])}}else if(arguments.length===1){if(Number.isFinite(arguments[0])&&arguments[0]!==0)return this.x=this.x%arguments[0],this.y=this.y%arguments[0],this.z=this.z%arguments[0],this}else if(arguments.length===2){const s=[...arguments];if(s.every(a=>Number.isFinite(a))&&s.length===2)return pS.call(this,s[0],s[1])}else if(arguments.length===3){const s=[...arguments];if(s.every(a=>Number.isFinite(a))&&s.length===3)return vm.call(this,s[0],s[1],s[2])}}sub(...t){return t[0]instanceof be?t[0].values.forEach((r,n)=>{this.values[n]-=r||0}):Array.isArray(t[0])?t[0].forEach((r,n)=>{this.values[n]-=r||0}):t.forEach((r,n)=>{this.values[n]-=r||0}),this}mult(...t){if(t.length===1&&t[0]instanceof be){const r=t[0],n=Math.min(this.values.length,r.values.length);for(let s=0;s<n;s++)if(Number.isFinite(r.values[s])&&typeof r.values[s]=="number")this._values[s]*=r.values[s];else return console.warn("p5.Vector.prototype.mult:","v contains components that are either undefined or not finite numbers"),this}else if(t.length===1&&Array.isArray(t[0])){const r=t[0],n=Math.min(this.values.length,r.length);for(let s=0;s<n;s++)if(Number.isFinite(r[s])&&typeof r[s]=="number")this._values[s]*=r[s];else return console.warn("p5.Vector.prototype.mult:","arr contains elements that are either undefined or not finite numbers"),this}else if(t.length===1&&typeof t[0]=="number"&&Number.isFinite(t[0]))for(let r=0;r<this._values.length;r++)this._values[r]*=t[0];return this}div(...t){if(t.length===0)return this;if(t.length===1&&t[0]instanceof be){const r=t[0];if(r._values.every(n=>Number.isFinite(n)&&typeof n=="number")){if(r._values.some(n=>n===0))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((n,s)=>n/r._values[s])}else console.warn("p5.Vector.prototype.div:","vector contains components that are either undefined or not finite numbers");return this}if(t.length===1&&Array.isArray(t[0])){const r=t[0];if(r.every(n=>Number.isFinite(n)&&typeof n=="number")){if(r.some(n=>n===0))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((n,s)=>n/r[s])}else console.warn("p5.Vector.prototype.div:","array contains components that are either undefined or not finite numbers");return this}if(t.every(r=>Number.isFinite(r)&&typeof r=="number")){if(t.some(r=>r===0))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this._values=this._values.map((r,n)=>r/t[0])}else console.warn("p5.Vector.prototype.div:","arguments contain components that are either undefined or not finite numbers");return this}mag(){return Math.sqrt(this.magSq())}magSq(){return this._values.reduce((t,r)=>t+r*r,0)}dot(...t){return t[0]instanceof be?this.dot(...t[0]._values):this._values.reduce((r,n,s)=>r+n*(t[s]||0),0)}cross(t){const r=this.y*t.z-this.z*t.y,n=this.z*t.x-this.x*t.z,s=this.x*t.y-this.y*t.x;return this.isPInst?new be(this._fromRadians,this._toRadians,r,n,s):new be(r,n,s)}dist(t){return t.copy().sub(this).mag()}normalize(){const t=this.mag();return t!==0&&this.mult(1/t),this}limit(t){const r=this.magSq();return r>t*t&&this.div(Math.sqrt(r)).mult(t),this}setMag(t){return this.normalize().mult(t)}heading(){const t=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(t):t}setHeading(t){this.isPInst&&(t=this._toRadians(t));let r=this.mag();return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this}rotate(t){let r=this.heading()+t;this.isPInst&&(r=this._toRadians(r));const n=this.mag();return this.x=Math.cos(r)*n,this.y=Math.sin(r)*n,this}angleBetween(t){if(this.magSq()*t.magSq()===0)return NaN;const n=this.cross(t);let s=Math.atan2(n.mag(),this.dot(t))*Math.sign(n.z||1);return this.isPInst&&(s=this._fromRadians(s)),s}lerp(t,r,n,s){return t instanceof be?this.lerp(t.x,t.y,t.z,r):(this.x+=(t-this.x)*s||0,this.y+=(r-this.y)*s||0,this.z+=(n-this.z)*s||0,this)}slerp(t,r){if(r===0)return this;if(r===1)return this.set(t);const n=this.mag(),s=t.mag();if(n*s===0)return this.mult(1-r).add(t.x*r,t.y*r,t.z*r),this;const o=this.cross(t),l=o.mag(),d=Math.atan2(l,this.dot(t));if(l>0)o.x/=l,o.y/=l,o.z/=l;else{if(d<Math.PI*.5)return this.mult(1-r).add(t.x*r,t.y*r,t.z*r),this;this.z===0&&t.z===0?o.set(0,0,1):this.x!==0?o.set(this.y,-this.x,0).normalize():o.set(1,0,0)}const p=o.cross(this),g=1-r+r*s/n,y=g*Math.cos(r*d),x=g*Math.sin(r*d);return this.x=this.x*y+p.x*x,this.y=this.y*y+p.y*x,this.z=this.z*y+p.z*x,this}reflect(t){const r=be.normalize(t);return this.sub(r.mult(2*this.dot(r)))}array(){return[this.x||0,this.y||0,this.z||0]}equals(...t){let r;t[0]instanceof be?r=t[0]._values:Array.isArray(t[0])?r=t[0]:r=t;for(let n=0;n<this._values.length;n++)if(this._values[n]!==(r[n]||0))return!1;return!0}clampToZero(){for(let t=0;t<this._values.length;t++)this._values[t]=this._clampToZero(this._values[t]);return this}_clampToZero(t){return Math.abs((t||0)-0)<=Number.EPSILON?0:t}static fromAngle(t,r){return typeof r>"u"&&(r=1),new be(r*Math.cos(t),r*Math.sin(t),0)}static fromAngles(t,r,n){typeof n>"u"&&(n=1);const s=Math.cos(r),a=Math.sin(r),o=Math.cos(t),l=Math.sin(t);return new be(n*l*a,-n*o,n*l*s)}static random2D(){return this.fromAngle(Math.random()*kn)}static random3D(){const t=Math.random()*kn,r=Math.random()*2-1,n=Math.sqrt(1-r*r),s=n*Math.cos(t),a=n*Math.sin(t);return new be(s,a,r)}static copy(t){return t.copy(t)}static add(t,r,n){return n?n.set(t):(n=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),n.add(r),n}static rem(t,r){if(t instanceof be&&r instanceof be){let n=t.copy();return n.rem(r),n}}static sub(t,r,n){return n?n.set(t):(n=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),n.sub(r),n}static mult(t,r,n){return n?n.set(t):(n=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),n.mult(r),n}static rotate(t,r,n){return arguments.length===2?n=t.copy():(n instanceof be||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),n.set(t)),n.rotate(r),n}static div(t,r,n){return n?n.set(t):(n=t.copy(),arguments.length===3&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),n.div(r),n}static dot(t,r){return t.dot(r)}static cross(t,r){return t.cross(r)}static dist(t,r){return t.dist(r)}static lerp(t,r,n,s){return s?s.set(t):(s=t.copy(),arguments.length===4&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),s.lerp(r,n),s}static slerp(t,r,n,s){return s?s.set(t):(s=t.copy(),arguments.length===4&&p5._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),s.slerp(r,n),s}static mag(t){return t.mag()}static magSq(t){return t.magSq()}static normalize(t,r){return arguments.length<2?r=t.copy():(r instanceof be||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),r.set(t)),r.normalize()}static limit(t,r,n){return arguments.length<3?n=t.copy():(n instanceof be||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),n.set(t)),n.limit(r)}static setMag(t,r,n){return arguments.length<3?n=t.copy():(n instanceof be||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),n.set(t)),n.setMag(r)}static heading(t){return t.heading()}static angleBetween(t,r){return t.angleBetween(r)}static reflect(t,r,n){return arguments.length<3?n=t.copy():(n instanceof be||p5._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),n.set(t)),n.reflect(r)}static array(t){return t.array()}static equals(t,r){let n;return t instanceof be?n=t:t instanceof Array?n=new be().set(t):p5._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),n.equals(r)}}function XA(i,t){i.Vector=be}typeof p5<"u"&&XA(p5,p5.prototype);function ZA(i,t){const r=[TA,NA,OA,FA,RA,MA];t._frameRate=0,t._lastFrameTime=window.performance.now(),t._targetFrameRate=60;const n=window.print;let s=!1;t.print=function(...p){p.length?console.log(...p):s||(n(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(s=!0))},t.frameCount=0,t.deltaTime=0,t.focused=document.hasFocus(),t.cursor=function(p,g,y){let x="auto";const S=this._curElement.elt;if(r.includes(p))x=p;else if(typeof p=="string"){let _="";g&&y&&typeof g=="number"&&typeof y=="number"&&(_=`${g} ${y}`),p.substring(0,7)==="http://"||p.substring(0,8)==="https://"?x=`url(${p}) ${_}, auto`:/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(p)?x=`url(${p}) ${_}, auto`:x=p}S.style.cursor=x},t.frameRate=function(p){return typeof p!="number"||p<0?this._frameRate:(this._targetFrameRate=p,p===0&&(this._frameRate=p),this)},t.getFrameRate=function(){return this.frameRate()},t.setFrameRate=function(p){return this.frameRate(p)},t.getTargetFrameRate=function(){return this._targetFrameRate},t.noCursor=function(){this._curElement.elt.style.cursor="none"},t.webglVersion=Co,t.displayWidth=screen.width,t.displayHeight=screen.height,t.windowWidth=0,t.windowHeight=0,t._onresize=function(p){this.windowWidth=a(),this.windowHeight=o();const g=this._isGlobal?window:this;let y;typeof g.windowResized=="function"&&(y=g.windowResized(p),y!==void 0&&!y&&p.preventDefault())};function a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function o(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}t._updateWindowSize=function(){this.windowWidth=a(),this.windowHeight=o()},Object.defineProperty(t,"width",{get(){return this._renderer.width}}),Object.defineProperty(t,"height",{get(){return this._renderer.height}}),t.fullscreen=function(p){if(typeof p>"u")return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;p?l(document.documentElement):d()},t.pixelDensity=function(p){let g;return typeof p=="number"?(p!==this._renderer._pixelDensity&&(this._renderer._pixelDensity=p),g=this,this.resizeCanvas(this.width,this.height,!0)):g=this._renderer._pixelDensity,g},t.displayDensity=()=>window.devicePixelRatio;function l(p){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");p.requestFullscreen?p.requestFullscreen():p.mozRequestFullScreen?p.mozRequestFullScreen():p.webkitRequestFullscreen?p.webkitRequestFullscreen():p.msRequestFullscreen&&p.msRequestFullscreen()}function d(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}t.getURL=()=>location.href,t.getURLPath=()=>location.pathname.split("/").filter(p=>p!==""),t.getURLParams=function(){const p=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim;let g;const y={};for(;(g=p.exec(location.search))!=null;)g.index===p.lastIndex&&p.lastIndex++,y[g[1]]=g[2];return y},t.worldToScreen=function(p){return typeof p=="number"&&(p=this.createVector(...arguments)),this._renderer.getWorldToScreenMatrix().multiplyAndNormalizePoint(p)},t.screenToWorld=function(p){typeof p=="number"&&(p=this.createVector(...arguments));const g=this._renderer.getWorldToScreenMatrix();if(p.dimensions==2){let S=g.mat4[14]/g.mat4[15];p=this.createVector(p.x,p.y,S)}return g.invert(g).multiplyAndNormalizePoint(p)}}typeof p5<"u"&&ZA(p5,p5.prototype);function ln(i,t){let r=i.length;Array.isArray(i[0])||(i=[i]),Array.isArray(t[0])||(t=t.map(o=>[o]));let n=t[0].length,s=t[0].map((o,l)=>t.map(d=>d[l])),a=i.map(o=>s.map(l=>{let d=0;if(!Array.isArray(o)){for(let p of l)d+=o*p;return d}for(let p=0;p<o.length;p++)d+=o[p]*(l[p]||0);return d}));return r===1&&(a=a[0]),n===1?a.map(o=>o[0]):a}function KA(i){return Gu(i)==="string"}function Gu(i){return(Object.prototype.toString.call(i).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function Ry(i,{precision:t,unit:r}){return My(i)?"none":$M(i,t)+(r??"")}function My(i){return Number.isNaN(i)||i instanceof Number&&(i==null?void 0:i.none)}function $M(i,t){if(i===0)return 0;let r=~~i,n=0;r&&t&&(n=~~Math.log10(Math.abs(r))+1);const s=10**(t-n);return Math.floor(i*s+.5)/s}const WM={deg:1,grad:.9,rad:180/Math.PI,turn:360};function YM(i){if(!i)return;i=i.trim();const t=/^([a-z]+)\((.+?)\)$/i,r=/^-?[\d.]+$/,n=/%|deg|g?rad|turn$/,s=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g;let a=i.match(t);if(a){let o=[];return a[2].replace(s,(l,d)=>{let p=d.match(n),g=d;if(p){let y=p[0],x=g.slice(0,-y.length);y==="%"?(g=new Number(x/100),g.type="<percentage>"):(g=new Number(x*WM[y]),g.type="<angle>",g.unit=y)}else r.test(g)?(g=new Number(g),g.type="<number>"):g==="none"&&(g=new Number(NaN),g.none=!0);l.startsWith("/")&&(g=g instanceof Number?g:new Number(g),g.alpha=!0),typeof g=="object"&&g instanceof Number&&(g.raw=d),o.push(g)}),{name:a[1].toLowerCase(),rawName:a[1],rawArgs:a[2],args:o}}}function XM(i){return i[i.length-1]}function Pd(i,t,r){return isNaN(i)?t:isNaN(t)?i:i+(t-i)*r}function ZM(i,t,r){return(r-i)/(t-i)}function QA(i,t,r){return Pd(t[0],t[1],ZM(i[0],i[1],r))}function KM(i){return i.map(t=>t.split("|").map(r=>{r=r.trim();let n=r.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(n){let s=new String(n[1]);return s.range=[+n[2],+n[3]],s}return r}))}function QM(i,t,r){return Math.max(Math.min(r,t),i)}function Yv(i,t){return Math.sign(i)===Math.sign(t)?i:-i}function Ps(i,t){return Yv(Math.abs(i)**t,i)}function JA(i,t){return t===0?0:i/t}function JM(i,t,r=0,n=i.length){for(;r<n;){const s=r+n>>1;i[s]<t?r=s+1:n=s}return r}class ek{add(t,r,n){if(typeof arguments[0]!="string"){for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1]);return}(Array.isArray(t)?t:[t]).forEach(function(s){this[s]=this[s]||[],r&&this[s][n?"unshift":"push"](r)},this)}run(t,r){this[t]=this[t]||[],this[t].forEach(function(n){n.call(r&&r.context?r.context:r,r)})}}const Ld=new ek,Ls={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function ky(i){return Array.isArray(i)?i:Ls[i]}function Id(i,t,r,n={}){if(i=ky(i),t=ky(t),!i||!t)throw new TypeError(`Missing white point to convert ${i?"":"from"}${!i&&!t?"/":""}${t?"":"to"}`);if(i===t)return r;let s={W1:i,W2:t,XYZ:r,options:n};if(Ld.run("chromatic-adaptation-start",s),s.M||(s.W1===Ls.D65&&s.W2===Ls.D50?s.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:s.W1===Ls.D50&&s.W2===Ls.D65&&(s.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),Ld.run("chromatic-adaptation-end",s),s.M)return ln(s.M,s.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}var BE,UE,VE;const No={gamut_mapping:"css",precision:5,deltaE:"76",verbose:((VE=(UE=(BE=globalThis==null?void 0:globalThis.process)==null?void 0:BE.env)==null?void 0:UE.NODE_ENV)==null?void 0:VE.toLowerCase())!=="test",warn:function(t){var r,n;this.verbose&&((n=(r=globalThis==null?void 0:globalThis.console)==null?void 0:r.warn)==null||n.call(r,t))}},tk=new Set(["<number>","<percentage>","<angle>"]);function gS(i,t,r,n){return Object.entries(i.coords).map(([a,o],l)=>{let d=t.coordGrammar[l],p=n[l],g=p==null?void 0:p.type,y;if(p.none?y=d.find(_=>tk.has(_)):y=d.find(_=>_==g),!y){let _=o.name||a;throw new TypeError(`${g??p.raw} not allowed for ${_} in ${r}()`)}let x=y.range;g==="<percentage>"&&(x||(x=[0,1]));let S=o.range||o.refRange;return x&&S&&(n[l]=QA(x,S,n[l])),y})}function eD(i,{meta:t}={}){var n,s,a,o;let r={str:(n=String(i))==null?void 0:n.trim()};if(Ld.run("parse-start",r),r.color)return r.color;if(r.parsed=YM(r.str),r.parsed){let l=r.parsed.name;if(l==="color"){let d=r.parsed.args.shift(),p=d.startsWith("--")?d.substring(2):`--${d}`,g=[d,p],y=r.parsed.rawArgs.indexOf("/")>0?r.parsed.args.pop():1;for(let _ of It.all){let w=_.getFormat("color");if(w&&(g.includes(w.id)||(s=w.ids)!=null&&s.filter(A=>g.includes(A)).length)){const A=Object.keys(_.coords).map((D,R)=>r.parsed.args[R]||0);let P;return w.coordGrammar&&(P=gS(_,w,"color",A)),t&&Object.assign(t,{formatId:"color",types:P}),w.id.startsWith("--")&&!d.startsWith("--")&&No.warn(`${_.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${w.id}) instead of color(${d}).`),d.startsWith("--")&&!w.id.startsWith("--")&&No.warn(`${_.name} is a standard space and supported in the CSS spec. Use color(${w.id}) instead of prefixed color(${d}).`),{spaceId:_.id,coords:A,alpha:y}}}let x="",S=d in It.registry?d:p;if(S in It.registry){let _=(o=(a=It.registry[S].formats)==null?void 0:a.color)==null?void 0:o.id;_&&(x=`Did you mean color(${_})?`)}throw new TypeError(`Cannot parse color(${d}). `+(x||"Missing a plugin?"))}else for(let d of It.all){let p=d.getFormat(l);if(p&&p.type==="function"){let g=1;(p.lastAlpha||XM(r.parsed.args).alpha)&&(g=r.parsed.args.pop());let y=r.parsed.args,x;return p.coordGrammar&&(x=gS(d,p,l,y)),t&&Object.assign(t,{formatId:p.name,types:x}),{spaceId:d.id,coords:y,alpha:g}}}}else for(let l of It.all)for(let d in l.formats){let p=l.formats[d];if(p.type!=="custom"||p.test&&!p.test(r.str))continue;let g=p.parse(r.str);if(g)return g.alpha??(g.alpha=1),t&&(t.formatId=d),g}throw new TypeError(`Could not parse ${i} as a color. Missing a plugin?`)}function nn(i){if(Array.isArray(i))return i.map(nn);if(!i)throw new TypeError("Empty color reference");KA(i)&&(i=eD(i));let t=i.space||i.spaceId;return t instanceof It||(i.space=It.get(t)),i.alpha===void 0&&(i.alpha=1),i}const rk=75e-6,qn=class qn{constructor(t){var s;this.id=t.id,this.name=t.name,this.base=t.base?qn.get(t.base):null,this.aliases=t.aliases,this.base&&(this.fromBase=t.fromBase,this.toBase=t.toBase);let r=t.coords??this.base.coords;for(let a in r)"name"in r[a]||(r[a].name=a);this.coords=r;let n=t.white??this.base.white??"D65";this.white=ky(n),this.formats=t.formats??{};for(let a in this.formats){let o=this.formats[a];o.type||(o.type="function"),o.name||(o.name=a)}(s=this.formats.color)!=null&&s.id||(this.formats.color={...this.formats.color??{},id:t.cssId||this.id}),t.gamutSpace?this.gamutSpace=t.gamutSpace==="self"?this:qn.get(t.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(a,o)=>!0),this.referred=t.referred,Object.defineProperty(this,"path",{value:nk(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),Ld.run("colorspace-init-end",this)}inGamut(t,{epsilon:r=rk}={}){if(!this.equals(this.gamutSpace))return t=this.to(this.gamutSpace,t),this.gamutSpace.inGamut(t,{epsilon:r});let n=Object.values(this.coords);return t.every((s,a)=>{let o=n[a];if(o.type!=="angle"&&o.range){if(Number.isNaN(s))return!0;let[l,d]=o.range;return(l===void 0||s>=l-r)&&(d===void 0||s<=d+r)}return!0})}get isUnbounded(){return Object.values(this.coords).every(t=>!("range"in t))}get cssId(){var t,r;return((r=(t=this.formats)==null?void 0:t.color)==null?void 0:r.id)||this.id}get isPolar(){for(let t in this.coords)if(this.coords[t].type==="angle")return!0;return!1}getFormat(t){if(typeof t=="object")return t=mS(t,this),t;let r;return t==="default"?r=Object.values(this.formats)[0]:r=this.formats[t],r?(r=mS(r,this),r):null}equals(t){return t?this===t||this.id===t||this.id===t.id:!1}to(t,r){if(arguments.length===1){const l=nn(t);[t,r]=[l.space,l.coords]}if(t=qn.get(t),this.equals(t))return r;r=r.map(l=>Number.isNaN(l)?0:l);let n=this.path,s=t.path,a,o;for(let l=0;l<n.length&&n[l].equals(s[l]);l++)a=n[l],o=l;if(!a)throw new Error(`Cannot convert between color spaces ${this} and ${t}: no connection space was found`);for(let l=n.length-1;l>o;l--)r=n[l].toBase(r);for(let l=o+1;l<s.length;l++)r=s[l].fromBase(r);return r}from(t,r){if(arguments.length===1){const n=nn(t);[t,r]=[n.space,n.coords]}return t=qn.get(t),t.to(this,r)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let t=[];for(let r in this.coords){let n=this.coords[r],s=n.range||n.refRange;t.push((s==null?void 0:s.min)??0)}return t}static get all(){return[...new Set(Object.values(qn.registry))]}static register(t,r){if(arguments.length===1&&(r=arguments[0],t=r.id),r=this.get(r),this.registry[t]&&this.registry[t]!==r)throw new Error(`Duplicate color space registration: '${t}'`);if(this.registry[t]=r,arguments.length===1&&r.aliases)for(let n of r.aliases)this.register(n,r);return r}static get(t,...r){if(!t||t instanceof qn)return t;if(Gu(t)==="string"){let s=qn.registry[t.toLowerCase()];if(!s)throw new TypeError(`No color space found with id = "${t}"`);return s}if(r.length)return qn.get(...r);throw new TypeError(`${t} is not a valid color space`)}static resolveCoord(t,r){var d;let n=Gu(t),s,a;if(n==="string"?t.includes(".")?[s,a]=t.split("."):[s,a]=[,t]:Array.isArray(t)?[s,a]=t:(s=t.space,a=t.coordId),s=qn.get(s),s||(s=r),!s)throw new TypeError(`Cannot resolve coordinate reference ${t}: No color space specified and relative references are not allowed here`);if(n=Gu(a),n==="number"||n==="string"&&a>=0){let p=Object.entries(s.coords)[a];if(p)return{space:s,id:p[0],index:a,...p[1]}}s=qn.get(s);let o=a.toLowerCase(),l=0;for(let p in s.coords){let g=s.coords[p];if(p.toLowerCase()===o||((d=g.name)==null?void 0:d.toLowerCase())===o)return{space:s,id:p,index:l,...g};l++}throw new TypeError(`No "${a}" coordinate found in ${s.name}. Its coordinates are: ${Object.keys(s.coords).join(", ")}`)}};tr(qn,"registry",{}),tr(qn,"DEFAULT_FORMAT",{type:"functions",name:"color"});let It=qn;function nk(i){let t=[i];for(let r=i;r=r.base;)t.push(r);return t}function mS(i,{coords:t}={}){if(i.coords&&!i.coordGrammar){i.type||(i.type="function"),i.name||(i.name="color"),i.coordGrammar=KM(i.coords);let r=Object.entries(t).map(([n,s],a)=>{let o=i.coordGrammar[a][0],l=s.range||s.refRange,d=o.range,p="";return o=="<percentage>"?(d=[0,100],p="%"):o=="<angle>"&&(p="deg"),{fromRange:l,toRange:d,suffix:p}});i.serializeCoords=(n,s)=>n.map((a,o)=>{let{fromRange:l,toRange:d,suffix:p}=r[o];return l&&d&&(a=QA(l,d,a)),a=Ry(a,{precision:s,unit:p}),a})}return i}const Ma=new It({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class Lp extends It{constructor(t){t.coords||(t.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),t.base||(t.base=Ma),t.toXYZ_M&&t.fromXYZ_M&&(t.toBase??(t.toBase=r=>{let n=ln(t.toXYZ_M,r);return this.white!==this.base.white&&(n=Id(this.white,this.base.white,n)),n}),t.fromBase??(t.fromBase=r=>(r=Id(this.base.white,this.white,r),ln(t.fromXYZ_M,r)))),t.referred??(t.referred="display"),super(t)}}function tD(i,t){return i=nn(i),!t||i.space.equals(t)?i.coords.slice():(t=It.get(t),t.from(i))}function xo(i,t){i=nn(i);let{space:r,index:n}=It.resolveCoord(t,i.space);return tD(i,r)[n]}function rD(i,t,r){return i=nn(i),t=It.get(t),i.coords=t.to(i.space,r),i}rD.returns="color";function nh(i,t,r){if(i=nn(i),arguments.length===2&&Gu(arguments[1])==="object"){let n=arguments[1];for(let s in n)nh(i,s,n[s])}else{typeof r=="function"&&(r=r(xo(i,t)));let{space:n,index:s}=It.resolveCoord(t,i.space),a=tD(i,n);a[s]=r,rD(i,n,a)}return i}nh.returns="color";const ik=new It({id:"xyz-d50",name:"XYZ D50",white:"D50",base:Ma,fromBase:i=>Id(Ma.white,"D50",i),toBase:i=>Id("D50",Ma.white,i)}),sk=216/24389,yS=24/116,Yf=24389/27;let bm=Ls.D50;const Bi=new It({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:bm,base:ik,fromBase(i){let r=i.map((n,s)=>n/bm[s]).map(n=>n>sk?Math.cbrt(n):(Yf*n+16)/116);return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase(i){let t=[];return t[1]=(i[0]+16)/116,t[0]=i[1]/500+t[1],t[2]=t[1]-i[2]/200,[t[0]>yS?Math.pow(t[0],3):(116*t[0]-16)/Yf,i[0]>8?Math.pow((i[0]+16)/116,3):i[0]/Yf,t[2]>yS?Math.pow(t[2],3):(116*t[2]-16)/Yf].map((n,s)=>n*bm[s])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function Ws(i){return(i%360+360)%360}function ak(i,t){if(i==="raw")return t;let[r,n]=t.map(Ws),s=n-r;return i==="increasing"?s<0&&(n+=360):i==="decreasing"?s>0&&(r+=360):i==="longer"?-180<s&&s<180&&(s>0?r+=360:n+=360):i==="shorter"&&(s>180?r+=360:s<-180&&(n+=360)),[r,n]}const il=new It({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Bi,fromBase(i){let[t,r,n]=i,s;const a=.02;return Math.abs(r)<a&&Math.abs(n)<a?s=NaN:s=Math.atan2(n,r)*180/Math.PI,[t,Math.sqrt(r**2+n**2),Ws(s)]},toBase(i){let[t,r,n]=i;return r<0&&(r=0),isNaN(n)&&(n=0),[t,r*Math.cos(n*Math.PI/180),r*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),vS=25**7,Bd=Math.PI,bS=180/Bd,Du=Bd/180;function xS(i){const t=i*i;return t*t*t*i}function nD(i,t,{kL:r=1,kC:n=1,kH:s=1}={}){[i,t]=nn([i,t]);let[a,o,l]=Bi.from(i),d=il.from(Bi,[a,o,l])[1],[p,g,y]=Bi.from(t),x=il.from(Bi,[p,g,y])[1];d<0&&(d=0),x<0&&(x=0);let S=(d+x)/2,_=xS(S),w=.5*(1-Math.sqrt(_/(_+vS))),A=(1+w)*o,P=(1+w)*g,D=Math.sqrt(A**2+l**2),R=Math.sqrt(P**2+y**2),F=A===0&&l===0?0:Math.atan2(l,A),T=P===0&&y===0?0:Math.atan2(y,P);F<0&&(F+=2*Bd),T<0&&(T+=2*Bd),F*=bS,T*=bS;let U=p-a,k=R-D,B=T-F,L=F+T,V=Math.abs(B),H;D*R===0?H=0:V<=180?H=B:B>180?H=B-360:B<-180?H=B+360:No.warn("the unthinkable has happened");let z=2*Math.sqrt(R*D)*Math.sin(H*Du/2),G=(a+p)/2,K=(D+R)/2,le=xS(K),ne;D*R===0?ne=L:V<=180?ne=L/2:L<360?ne=(L+360)/2:ne=(L-360)/2;let de=(G-50)**2,ve=1+.015*de/Math.sqrt(20+de),xe=1+.045*K,Q=1;Q-=.17*Math.cos((ne-30)*Du),Q+=.24*Math.cos(2*ne*Du),Q+=.32*Math.cos((3*ne+6)*Du),Q-=.2*Math.cos((4*ne-63)*Du);let oe=1+.015*K*Q,ae=30*Math.exp(-1*((ne-275)/25)**2),ge=2*Math.sqrt(le/(le+vS)),me=-1*Math.sin(2*ae*Du)*ge,Ae=(U/(r*ve))**2;return Ae+=(k/(n*xe))**2,Ae+=(z/(s*oe))**2,Ae+=me*(k/(n*xe))*(z/(s*oe)),Math.sqrt(Ae)}const ok=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],uk=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],lk=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],ck=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],Oo=new It({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:Ma,fromBase(i){let r=ln(ok,i).map(n=>Math.cbrt(n));return ln(lk,r)},toBase(i){let r=ln(ck,i).map(n=>n**3);return ln(uk,r)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function Py(i,t){[i,t]=nn([i,t]);let[r,n,s]=Oo.from(i),[a,o,l]=Oo.from(t),d=r-a,p=n-o,g=s-l;return Math.sqrt(d**2+p**2+g**2)}const hk=75e-6;function Hu(i,t,{epsilon:r=hk}={}){i=nn(i),t||(t=i.space),t=It.get(t);let n=i.coords;return t!==i.space&&(n=t.from(i)),t.inGamut(n,{epsilon:r})}function ih(i){return{space:i.space,coords:i.coords.slice(),alpha:i.alpha}}function fk(i,t,r="lab"){r=It.get(r);let n=r.from(i),s=r.from(t);return Math.sqrt(n.reduce((a,o,l)=>{let d=s[l];return isNaN(o)||isNaN(d)?a:a+(d-o)**2},0))}function dk(i,t){return fk(i,t,"lab")}const pk=Math.PI,_S=pk/180;function gk(i,t,{l:r=2,c:n=1}={}){[i,t]=nn([i,t]);let[s,a,o]=Bi.from(i),[,l,d]=il.from(Bi,[s,a,o]),[p,g,y]=Bi.from(t),x=il.from(Bi,[p,g,y])[1];l<0&&(l=0),x<0&&(x=0);let S=s-p,_=l-x,w=a-g,A=o-y,P=w**2+A**2-_**2,D=.511;s>=16&&(D=.040975*s/(1+.01765*s));let R=.0638*l/(1+.0131*l)+.638,F;Number.isNaN(d)&&(d=0),d>=164&&d<=345?F=.56+Math.abs(.2*Math.cos((d+168)*_S)):F=.36+Math.abs(.4*Math.cos((d+35)*_S));let T=Math.pow(l,4),U=Math.sqrt(T/(T+1900)),k=R*(U*F+1-U),B=(S/(r*D))**2;return B+=(_/(n*R))**2,B+=P/k**2,Math.sqrt(B)}const SS=203,iD=new It({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:Ma,fromBase(i){return i.map(t=>Math.max(t*SS,0))},toBase(i){return i.map(t=>Math.max(t/SS,0))}}),Xf=1.15,Zf=.66,wS=2610/2**14,mk=2**14/2610,ES=3424/2**12,CS=2413/2**7,AS=2392/2**7,yk=1.7*2523/2**5,DS=2**5/(1.7*2523),Kf=-.56,xm=16295499532821565e-27,vk=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],bk=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],xk=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],_k=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],Sk=new It({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:iD,fromBase(i){let[t,r,n]=i,s=Xf*t-(Xf-1)*n,a=Zf*r-(Zf-1)*t,l=ln(vk,[s,a,n]).map(function(x){let S=ES+CS*(x/1e4)**wS,_=1+AS*(x/1e4)**wS;return(S/_)**yk}),[d,p,g]=ln(xk,l);return[(1+Kf)*d/(1+Kf*d)-xm,p,g]},toBase(i){let[t,r,n]=i,s=(t+xm)/(1+Kf-Kf*(t+xm)),o=ln(_k,[s,r,n]).map(function(x){let S=ES-x**DS,_=AS*x**DS-CS;return 1e4*(S/_)**mk}),[l,d,p]=ln(bk,o),g=(l+(Xf-1)*p)/Xf,y=(d+(Zf-1)*g)/Zf;return[g,y,p]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),TS=new It({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:Sk,fromBase(i){let[t,r,n]=i,s;const a=2e-4;return Math.abs(r)<a&&Math.abs(n)<a?s=NaN:s=Math.atan2(n,r)*180/Math.PI,[t,Math.sqrt(r**2+n**2),Ws(s)]},toBase(i){return[i[0],i[1]*Math.cos(i[2]*Math.PI/180),i[1]*Math.sin(i[2]*Math.PI/180)]}});function wk(i,t){[i,t]=nn([i,t]);let[r,n,s]=TS.from(i),[a,o,l]=TS.from(t),d=r-a,p=n-o;Number.isNaN(s)&&Number.isNaN(l)?(s=0,l=0):Number.isNaN(s)?s=l:Number.isNaN(l)&&(l=s);let g=s-l,y=2*Math.sqrt(n*o)*Math.sin(g/2*(Math.PI/180));return Math.sqrt(d**2+p**2+y**2)}const sD=3424/4096,aD=2413/128,oD=2392/128,NS=2610/16384,Ek=2523/32,Ck=16384/2610,OS=32/2523,Ak=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],Dk=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],Tk=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],Nk=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]],FS=new It({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:iD,fromBase(i){let t=ln(Ak,i);return Ok(t)},toBase(i){let t=Fk(i);return ln(Nk,t)}});function Ok(i){let t=i.map(function(r){let n=sD+aD*(r/1e4)**NS,s=1+oD*(r/1e4)**NS;return(n/s)**Ek});return ln(Dk,t)}function Fk(i){return ln(Tk,i).map(function(n){let s=Math.max(n**OS-sD,0),a=aD-oD*n**OS;return 1e4*(s/a)**Ck})}function Rk(i,t){[i,t]=nn([i,t]);let[r,n,s]=FS.from(i),[a,o,l]=FS.from(t);return 720*Math.sqrt((r-a)**2+.25*(n-o)**2+(s-l)**2)}const Mk=Ls.D65,uD=.42,RS=1/uD,_m=2*Math.PI,lD=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],kk=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],Pk=[[460,451,288],[460,-891,-261],[460,-220,-6300]],Lk={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},mo={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},Ik=180/Math.PI,MS=Math.PI/180;function cD(i,t){return i.map(n=>{const s=Ps(t*Math.abs(n)*.01,uD);return 400*Yv(s,n)/(s+27.13)})}function Bk(i,t){const r=100/t*27.13**RS;return i.map(n=>{const s=Math.abs(n);return Yv(r*Ps(s/(400-s),RS),n)})}function Uk(i){let t=Ws(i);t<=mo.h[0]&&(t+=360);const r=JM(mo.h,t)-1,[n,s]=mo.h.slice(r,r+2),[a,o]=mo.e.slice(r,r+2),l=mo.H[r],d=(t-n)/a;return l+100*d/(d+(s-t)/o)}function Vk(i){let t=(i%400+400)%400;const r=Math.floor(.01*t);t=t%100;const[n,s]=mo.h.slice(r,r+2),[a,o]=mo.e.slice(r,r+2);return Ws((t*(o*n-a*s)-100*n*o)/(t*(o-a)-100*o))}function hD(i,t,r,n,s){const a={};a.discounting=s,a.refWhite=i,a.surround=n;const o=i.map(w=>w*100);a.la=t,a.yb=r;const l=o[1],d=ln(lD,o);n=Lk[a.surround];const p=n[0];a.c=n[1],a.nc=n[2];const y=(1/(5*a.la+1))**4;a.fl=y*a.la+.1*(1-y)*(1-y)*Math.cbrt(5*a.la),a.flRoot=a.fl**.25,a.n=a.yb/l,a.z=1.48+Math.sqrt(a.n),a.nbb=.725*a.n**-.2,a.ncb=a.nbb;const x=Math.max(Math.min(p*(1-1/3.6*Math.exp((-a.la-42)/92)),1),0);a.dRgb=d.map(w=>Pd(1,l/w,x)),a.dRgbInv=a.dRgb.map(w=>1/w);const S=d.map((w,A)=>w*a.dRgb[A]),_=cD(S,a.fl);return a.aW=a.nbb*(2*_[0]+_[1]+.05*_[2]),a}const kS=hD(Mk,64/Math.PI*.2,20,"average",!1);function Ly(i,t){if(!(i.J!==void 0^i.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(i.C!==void 0^i.M!==void 0^i.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(i.h!==void 0^i.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(i.J===0||i.Q===0)return[0,0,0];let r=0;i.h!==void 0?r=Ws(i.h)*MS:r=Vk(i.H)*MS;const n=Math.cos(r),s=Math.sin(r);let a=0;i.J!==void 0?a=Ps(i.J,1/2)*.1:i.Q!==void 0&&(a=.25*t.c*i.Q/((t.aW+4)*t.flRoot));let o=0;i.C!==void 0?o=i.C/a:i.M!==void 0?o=i.M/t.flRoot/a:i.s!==void 0&&(o=4e-4*i.s**2*(t.aW+4)/t.c);const l=Ps(o*Math.pow(1.64-Math.pow(.29,t.n),-.73),10/9),d=.25*(Math.cos(r+2)+3.8),p=t.aW*Ps(a,2/t.c/t.z),g=5e4/13*t.nc*t.ncb*d,y=p/t.nbb,x=23*(y+.305)*JA(l,23*g+l*(11*n+108*s)),S=x*n,_=x*s,w=Bk(ln(Pk,[y,S,_]).map(A=>A*1/1403),t.fl);return ln(kk,w.map((A,P)=>A*t.dRgbInv[P])).map(A=>A/100)}function fD(i,t){const r=i.map(R=>R*100),n=cD(ln(lD,r).map((R,F)=>R*t.dRgb[F]),t.fl),s=n[0]+(-12*n[1]+n[2])/11,a=(n[0]+n[1]-2*n[2])/9,o=(Math.atan2(a,s)%_m+_m)%_m,l=.25*(Math.cos(o+2)+3.8),d=5e4/13*t.nc*t.ncb*JA(l*Math.sqrt(s**2+a**2),n[0]+n[1]+1.05*n[2]+.305),p=Ps(d,.9)*Math.pow(1.64-Math.pow(.29,t.n),.73),g=t.nbb*(2*n[0]+n[1]+.05*n[2]),y=Ps(g/t.aW,.5*t.c*t.z),x=100*Ps(y,2),S=4/t.c*y*(t.aW+4)*t.flRoot,_=p*y,w=_*t.flRoot,A=Ws(o*Ik),P=Uk(A),D=50*Ps(t.c*p/(t.aW+4),1/2);return{J:x,C:_,h:A,s:D,Q:S,M:w,H:P}}new It({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Ma,fromBase(i){const t=fD(i,kS);return[t.J,t.M,t.h]},toBase(i){return Ly({J:i[0],M:i[1],h:i[2]},kS)}});const jk=Ls.D65,zk=216/24389,dD=24389/27;function Gk(i){return 116*(i>zk?Math.cbrt(i):(dD*i+16)/116)-16}function Iy(i){return i>8?Math.pow((i+16)/116,3):i/dD}function Hk(i,t){let[r,n,s]=i,a=[],o=0;if(s===0)return[0,0,0];let l=Iy(s);s>0?o=.00379058511492914*s**2+.608983189401032*s+.9155088574762233:o=9514440756550361e-21*s**2+.08693057439788597*s-21.928975842194614;const d=2e-12,p=15;let g=0,y=1/0;for(;g<=p;){a=Ly({J:o,C:n,h:r},t);const x=Math.abs(a[1]-l);if(x<y){if(x<=d)return a;y=x}o=o-(a[1]-l)*o/(2*a[1]),g+=1}return Ly({J:o,C:n,h:r},t)}function qk(i,t){const r=Gk(i[1]);if(r===0)return[0,0,0];const n=fD(i,Xv);return[Ws(n.h),n.C,r]}const Xv=hD(jk,200/Math.PI*Iy(50),Iy(50)*100,"average",!1),Ud=new It({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:Ma,fromBase(i){return qk(i)},toBase(i){return Hk(i,Xv)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),$k=Math.PI/180,PS=[1,.007,.0228];function LS(i){i[1]<0&&(i=Ud.fromBase(Ud.toBase(i)));const t=Math.log(Math.max(1+PS[2]*i[1]*Xv.flRoot,1))/PS[2],r=i[0]*$k,n=t*Math.cos(r),s=t*Math.sin(r);return[i[2],n,s]}function Wk(i,t){[i,t]=nn([i,t]);let[r,n,s]=LS(Ud.from(i)),[a,o,l]=LS(Ud.from(t));return Math.sqrt((r-a)**2+(n-o)**2+(s-l)**2)}const IS={deltaE76:dk,deltaECMC:gk,deltaE2000:nD,deltaEJz:wk,deltaEITP:Rk,deltaEOK:Py,deltaEHCT:Wk};function Yk(i){const t=i?Math.floor(Math.log10(Math.abs(i))):0;return Math.max(parseFloat(`1e${t-2}`),1e-6)}const BS={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function Fo(i,{method:t=No.gamut_mapping,space:r=void 0,deltaEMethod:n="",jnd:s=2,blackWhiteClamp:a={}}={}){if(i=nn(i),KA(arguments[1])?r=arguments[1]:r||(r=i.space),r=It.get(r),Hu(i,r,{epsilon:0}))return i;let o;if(t==="css")o=Xk(i,{space:r});else{if(t!=="clip"&&!Hu(i,r)){Object.prototype.hasOwnProperty.call(BS,t)&&({method:t,jnd:s,deltaEMethod:n,blackWhiteClamp:a}=BS[t]);let l=nD;if(n!==""){for(let p in IS)if("deltae"+n.toLowerCase()===p.toLowerCase()){l=IS[p];break}}let d=Fo(Yt(i,r),{method:"clip",space:r});if(l(i,d)>s){if(Object.keys(a).length===3){let D=It.resolveCoord(a.channel),R=xo(Yt(i,D.space),D.id);if(My(R)&&(R=0),R>=a.max)return Yt({space:"xyz-d65",coords:Ls.D65},i.space);if(R<=a.min)return Yt({space:"xyz-d65",coords:[0,0,0]},i.space)}let p=It.resolveCoord(t),g=p.space,y=p.id,x=Yt(i,g);x.coords.forEach((D,R)=>{My(D)&&(x.coords[R]=0)});let _=(p.range||p.refRange)[0],w=Yk(s),A=_,P=xo(x,y);for(;P-A>w;){let D=ih(x);D=Fo(D,{space:r,method:"clip"}),l(x,D)-s<w?A=xo(x,y):P=xo(x,y),nh(x,y,(A+P)/2)}o=Yt(x,r)}else o=d}else o=Yt(i,r);if(t==="clip"||!Hu(o,r,{epsilon:0})){let l=Object.values(r.coords).map(d=>d.range||[]);o.coords=o.coords.map((d,p)=>{let[g,y]=l[p];return g!==void 0&&(d=Math.max(g,d)),y!==void 0&&(d=Math.min(d,y)),d})}}return r!==i.space&&(o=Yt(o,i.space)),i.coords=o.coords,i}Fo.returns="color";const US={WHITE:{space:Oo,coords:[1,0,0]},BLACK:{space:Oo,coords:[0,0,0]}};function Xk(i,{space:t}={}){i=nn(i),t||(t=i.space),t=It.get(t);const s=It.get("oklch");if(t.isUnbounded)return Yt(i,t);const a=Yt(i,s);let o=a.coords[0];if(o>=1){const _=Yt(US.WHITE,t);return _.alpha=i.alpha,Yt(_,t)}if(o<=0){const _=Yt(US.BLACK,t);return _.alpha=i.alpha,Yt(_,t)}if(Hu(a,t,{epsilon:0}))return Yt(a,t);function l(_){const w=Yt(_,t),A=Object.values(t.coords);return w.coords=w.coords.map((P,D)=>{if("range"in A[D]){const[R,F]=A[D].range;return QM(R,P,F)}return P}),w}let d=0,p=a.coords[1],g=!0,y=ih(a),x=l(y),S=Py(x,y);if(S<.02)return x;for(;p-d>1e-4;){const _=(d+p)/2;if(y.coords[1]=_,g&&Hu(y,t,{epsilon:0}))d=_;else if(x=l(y),S=Py(x,y),S<.02){if(.02-S<1e-4)break;g=!1,d=_}else p=_}return x}function Yt(i,t,{inGamut:r}={}){i=nn(i),t=It.get(t);let n=t.from(i),s={space:t,coords:n,alpha:i.alpha};return r&&(s=Fo(s,r===!0?void 0:r)),s}Yt.returns="color";function Zk(i,{precision:t=No.precision,format:r="default",inGamut:n=!0,...s}={}){var d;let a;i=nn(i);let o=r;r=i.space.getFormat(r)??i.space.getFormat("default")??It.DEFAULT_FORMAT;let l=i.coords.slice();if(n||(n=r.toGamut),n&&!Hu(i)&&(l=Fo(ih(i),n===!0?void 0:n).coords),r.type==="custom")if(s.precision=t,r.serialize)a=r.serialize(l,i.alpha,s);else throw new TypeError(`format ${o} can only be used to parse colors, not for serialization`);else{let p=r.name||"color";r.serializeCoords?l=r.serializeCoords(l,t):t!==null&&(l=l.map(S=>Ry(S,{precision:t})));let g=[...l];if(p==="color"){let S=r.id||((d=r.ids)==null?void 0:d[0])||i.space.id;g.unshift(S)}let y=i.alpha;t!==null&&(y=Ry(y,{precision:t}));let x=i.alpha>=1||r.noAlpha?"":`${r.commas?",":" /"} ${y}`;a=`${p}(${g.join(r.commas?", ":" ")}${x})`}return a}const Kk=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],Qk=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]],Jk=new Lp({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:Kk,fromXYZ_M:Qk}),eP=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],tP=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],rP=new Lp({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:eP,fromXYZ_M:tP}),VS={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let jS=Array(3).fill("<percentage> | <number>[0, 255]"),zS=Array(3).fill("<number>[0, 255]");const sl=new Lp({id:"srgb",name:"sRGB",base:rP,fromBase:i=>i.map(t=>{let r=t<0?-1:1,n=t*r;return n>.0031308?r*(1.055*n**(1/2.4)-.055):12.92*t}),toBase:i=>i.map(t=>{let r=t<0?-1:1,n=t*r;return n<=.04045?t/12.92:r*((n+.055)/1.055)**2.4}),formats:{rgb:{coords:jS},rgb_number:{name:"rgb",commas:!0,coords:zS,noAlpha:!0},color:{},rgba:{coords:jS,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:zS},hex:{type:"custom",toGamut:!0,test:i=>/^#([a-f0-9]{3,4}){1,2}$/i.test(i),parse(i){i.length<=5&&(i=i.replace(/[a-f0-9]/gi,"$&$&"));let t=[];return i.replace(/[a-f0-9]{2}/gi,r=>{t.push(parseInt(r,16)/255)}),{spaceId:"srgb",coords:t.slice(0,3),alpha:t.slice(3)[0]}},serialize:(i,t,{collapse:r=!0}={})=>{t<1&&i.push(t),i=i.map(a=>Math.round(a*255));let n=r&&i.every(a=>a%17===0);return"#"+i.map(a=>n?(a/17).toString(16):a.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:i=>/^[a-z]+$/i.test(i),parse(i){i=i.toLowerCase();let t={spaceId:"srgb",coords:null,alpha:1};if(i==="transparent"?(t.coords=VS.black,t.alpha=0):t.coords=VS[i],t.coords)return t}}}}),GS=new Lp({id:"p3",cssId:"display-p3",name:"P3",base:Jk,fromBase:sl.fromBase,toBase:sl.toBase});function pD(i,t,r={}){if(nP(i)){let[d,p]=[i,t];return pD(...d.rangeArgs.colors,{...d.rangeArgs.options,...p})}let{space:n,outputSpace:s,progression:a,premultiplied:o}=r;i=nn(i),t=nn(t),i=ih(i),t=ih(t);let l={colors:[i,t],options:r};if(n?n=It.get(n):n=It.registry[No.interpolationSpace]||i.space,s=s?It.get(s):n,i=Yt(i,n),t=Yt(t,n),i=Fo(i),t=Fo(t),n.coords.h&&n.coords.h.type==="angle"){let d=r.hue=r.hue||"shorter",p=[n,"h"],[g,y]=[xo(i,p),xo(t,p)];isNaN(g)&&!isNaN(y)?g=y:isNaN(y)&&!isNaN(g)&&(y=g),[g,y]=ak(d,[g,y]),nh(i,p,g),nh(t,p,y)}return o&&(i.coords=i.coords.map(d=>d*i.alpha),t.coords=t.coords.map(d=>d*t.alpha)),Object.assign(d=>{d=a?a(d):d;let p=i.coords.map((x,S)=>{let _=t.coords[S];return Pd(x,_,d)}),g=Pd(i.alpha,t.alpha,d),y={space:n,coords:p,alpha:g};return o&&(y.coords=y.coords.map(x=>x/g)),s!==n&&(y=Yt(y,s)),y},{rangeArgs:l})}function nP(i){return Gu(i)==="function"&&!!i.rangeArgs}No.interpolationSpace="lab";const By=new It({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:sl,fromBase:i=>{let t=Math.max(...i),r=Math.min(...i),[n,s,a]=i,[o,l,d]=[NaN,0,(r+t)/2],p=t-r;if(p!==0){switch(l=d===0||d===1?0:(t-d)/Math.min(d,1-d),t){case n:o=(s-a)/p+(s<a?6:0);break;case s:o=(a-n)/p+2;break;case a:o=(n-s)/p+4}o=o*60}return l<0&&(o+=180,l=Math.abs(l)),o>=360&&(o-=360),[o,l*100,d*100]},toBase:i=>{let[t,r,n]=i;t=t%360,t<0&&(t+=360),r/=100,n/=100;function s(a){let o=(a+t/30)%12,l=r*Math.min(n,1-n);return n-l*Math.max(-1,Math.min(o-3,9-o,1))}return[s(0),s(8),s(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),iP=new It({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:By,fromBase(i){let[t,r,n]=i;r/=100,n/=100;let s=n+r*Math.min(n,1-n);return[t,s===0?0:200*(1-n/s),100*s]},toBase(i){let[t,r,n]=i;r/=100,n/=100;let s=n*(1-r/2);return[t,s===0||s===1?0:(n-s)/Math.min(s,1-s)*100,s*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),HS=new It({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:iP,fromBase(i){let[t,r,n]=i;return[t,n*(100-r)/100,100-n]},toBase(i){let[t,r,n]=i;r/=100,n/=100;let s=r+n;if(s>=1){let l=r/s;return[t,0,l*100]}let a=1-n,o=a===0?0:1-r/a;return[t,o*100,a*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),qS=new It({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:Oo,fromBase(i){let[t,r,n]=i,s;const a=2e-4;return Math.abs(r)<a&&Math.abs(n)<a?s=NaN:s=Math.atan2(n,r)*180/Math.PI,[t,Math.sqrt(r**2+n**2),Ws(s)]},toBase(i){let[t,r,n]=i,s,a;return isNaN(n)?(s=0,a=0):(s=r*Math.cos(n*Math.PI/180),a=r*Math.sin(n*Math.PI/180)),[t,s,a]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});var $S=new It({id:"hsb",name:"HSB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},b:{range:[0,100],name:"Brightness"}},base:sl,fromBase:i=>{const t=Math.max(...i),r=t-Math.min(...i);let[n,s,a]=i,o,l;return r===0?(o=0,l=0):(l=r/t,n===t?o=(s-a)/r:s===t?o=2+(a-n)/r:a===t&&(o=4+(n-s)/r),o<0?o+=6:o>=6&&(o-=6)),[o/6*360,l*100,t*100]},toBase:WS,formats:{default:{type:"custom",serialize:(i,t)=>{const r=WS(i);let n=`rgb(${Math.round(r[0]*100*100)/100}% ${Math.round(r[1]*100*100)/100}% ${Math.round(r[2]*100*100)/100}%`;return t<1&&(n+=` / ${t}`),n+=")",n}},hsb:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsba:{coords:["<number> | <angle>","<percentage>","<percentage>"],commans:!0,lastAlpha:!0}}});function WS(i){const t=i[0]/360*6,r=i[1]/100,n=i[2]/100;let s=[];if(r===0)s=[n,n,n];else{const a=Math.floor(t),o=n*(1-r),l=n*(1-r*(t-a)),d=n*(1-r*(1+a-t));let p,g,y;a===1?(p=l,g=n,y=o):a===2?(p=o,g=n,y=d):a===3?(p=o,g=l,y=n):a===4?(p=d,g=o,y=n):a===5?(p=n,g=o,y=l):(p=n,g=d,y=o),s=[p,g,y]}return s}const Cr=(i,t,r,n,s,a)=>{let o=(i-t)/(r-t)*(s-n)+n;return a&&(o=Math.max(o,Math.min(n,s)),o=Math.min(o,Math.max(n,s))),o},YS={};var Er,Ca,av,sP;const Ot=class Ot{constructor(t,r,n,{clamp:s=!1}={}){_r(this,av);tr(this,"_color");tr(this,"mode");if(this.mode=r||Tr,t instanceof Ot){const a=r?Ot.colorMap[r]:Ot.colorMap[t.mode];this._color=Yt(t._color,a),this.mode=a}else if(typeof t=="object"&&!Array.isArray(t)&&t!==null){const a=r?Ot.colorMap[r]:t.spaceId;this._color=Yt(t,a),this.mode=r||Object.entries(Ot.colorMap).find(([o,l])=>l===this._color.spaceId)}else if(typeof t[0]=="string")try{this._color=eD(t[0]);const[a]=Object.entries(Ot.colorMap).find(([o,l])=>l===this._color.spaceId);this.mode=a,this._color=Yt(this._color,this._color.spaceId)}catch{throw new Error("Invalid color string")}else{let a;if(n)if(t.length===4)a=Ot.mapColorRange(t,this.mode,n,s);else if(t.length===3)a=Ot.mapColorRange([t[0],t[1],t[2]],this.mode,n,s),a.push(1);else if(t.length===2){Qe(Ot,Ca)[this.mode]?a=Qe(Ot,Ca)[this.mode](t[0],n,s):a=Ot.mapColorRange([t[0],t[0],t[0]],this.mode,n,s);const p=Array.isArray(n[n.length-1])?n[n.length-1]:[0,n[n.length-1]];a.push(Cr(t[1],p[0],p[1],0,1,s))}else if(t.length===1)Qe(Ot,Ca)[this.mode]?a=Qe(Ot,Ca)[this.mode](t[0],n,s):a=Ot.mapColorRange([t[0],t[0],t[0]],this.mode,n,s),a.push(1);else throw new Error("Invalid color");else a=t;const o=Ot.colorMap[this.mode]||console.error("Invalid color mode"),l=a.slice(0,3),d={space:o,coords:l,alpha:a[3]};this._color=Yt(d,o)}}static addColorMode(t,r){It.register(r),Ot.colorMap[t]=r.id,Qe(Ot,Er)[t]=Object.values(r.coords).reduce((n,s)=>(n.push(s.refRange||s.range),n),[]),Qe(Ot,Er)[t].push([0,1]),Qe(Ot,Ca)[t]=r.fromGray}static mapColorRange(t,r,n,s){const a=n.map(l=>Array.isArray(l)?l:[0,l]),o=Qe(Ot,Er)[r];return t.map((l,d)=>Cr(l,a[d][0],a[d][1],o[d][0],o[d][1],s))}static unmapColorRange(t,r,n){const s=n.map(o=>Array.isArray(o)?o:[0,o]),a=Qe(Ot,Er)[r];return t.map((o,l)=>Cr(o,a[l][0],a[l][1],s[l][0],s[l][1]))}get _array(){return this._getRGBA()}array(){return this._array}lerp(t,r,n){let s=-1;for(;(s+1<this._color.space.path.length||s+1<t._color.space.path.length)&&this._color.space.path[s+1]===t._color.space.path[s+1];)s+=1;if(s===-1)throw new Error("Cannot lerp colors. No common color space found");const a=pD(this._color,t._color,{space:this._color.space.path[s].id})(r);return new Ot(a,n||this.mode)}toString(t){const r=`${this._color.space.id}-${this._color.coords.join(",")}-${this._color.alpha}-${t}`;let n=YS[r];return n||(n=Zk(this._color,{format:t}),YS[r]=n),n}setRed(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const n=Qe(Ot,Er)[Tr][0],s=Cr(t,r[0],r[1],n[0],n[1]);if(this.mode===Tr||this.mode===Pn)this._color.coords[0]=s;else{const a=this._color.space.id,o=Yt(this._color,"srgb");o.coords[0]=s,this._color=Yt(o,a)}}setGreen(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const n=Qe(Ot,Er)[Tr][1],s=Cr(t,r[0],r[1],n[0],n[1]);if(this.mode===Tr||this.mode===Pn)this._color.coords[1]=s;else{const a=this._color.space.id,o=Yt(this._color,"srgb");o.coords[1]=s,this._color=Yt(o,a)}}setBlue(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const n=Qe(Ot,Er)[Tr][2],s=Cr(t,r[0],r[1],n[0],n[1]);if(this.mode===Tr||this.mode===Pn)this._color.coords[2]=s;else{const a=this._color.space.id,o=Yt(this._color,"srgb");o.coords[2]=s,this._color=Yt(o,a)}}setAlpha(t,r=[0,1]){Array.isArray(r)||(r=[0,r]);const n=Qe(Ot,Er)[this.mode][3],s=Cr(t,r[0],r[1],n[0],n[1]);this._color.alpha=s}_getRGBA(t=[1,1,1,1]){const r=Qe(Ot,Er)[Tr];let n=structuredClone(Yt(this._color,"srgb").coords);n.push(this._color.alpha);const s=t.map(a=>Array.isArray(a)?a:[0,a]);return n=n.map((a,o)=>Cr(a,r[o][0],r[o][1],s[o][0],s[o][1])),n}_getMode(){return this.mode}_getRed(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===Tr||this.mode===Pn){const r=Qe(Ot,Er)[this.mode][0];return Cr(this._color.coords[0],r[0],r[1],t[0],t[1])}else{const r=Qe(Ot,Er)[Tr][0];return Cr(Yt(this._color,"srgb").coords[0],r[0],r[1],t[0],t[1])}}_getGreen(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===Tr||this.mode===Pn){const r=Qe(Ot,Er)[this.mode][1];return Cr(this._color.coords[1],r[0],r[1],t[0],t[1])}else{const r=Qe(Ot,Er)[Tr][1];return Cr(Yt(this._color,"srgb").coords[1],r[0],r[1],t[0],t[1])}}_getBlue(t=[0,1]){if(Array.isArray(t)||(t=[0,t]),this.mode===Tr||this.mode===Pn){const r=Qe(Ot,Er)[this.mode][2];return Cr(this._color.coords[2],r[0],r[1],t[0],t[1])}else{const r=Qe(Ot,Er)[Tr][2];return Cr(Yt(this._color,"srgb").coords[2],r[0],r[1],t[0],t[1])}}_getAlpha(t=[0,1]){Array.isArray(t)||(t=[0,t]);const r=Qe(Ot,Er)[this.mode][3];return Cr(this._color.alpha,r[0],r[1],t[0],t[1])}_getHue(t=[0,360]){if(Array.isArray(t)||(t=[0,t]),this.mode===Ei||this.mode===Wn){const r=Qe(Ot,Er)[this.mode][0];return Cr(this._color.coords[0],r[0],r[1],t[0],t[1])}else{const r=Qe(Ot,Er)[Wn][0];return Cr(Yt(this._color,"hsl").coords[0],r[0],r[1],t[0],t[1])}}_getSaturation(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===Ei||this.mode===Wn){const r=Qe(Ot,Er)[this.mode][1];return Cr(this._color.coords[1],r[0],r[1],t[0],t[1])}else{const r=Qe(Ot,Er)[Wn][1];return Cr(Yt(this._color,"hsl").coords[1],r[0],r[1],t[0],t[1])}}_getBrightness(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===Ei){const r=Qe(Ot,Er)[this.mode][2];return Cr(this._color.coords[2],r[0],r[1],t[0],t[1])}else{const r=Qe(Ot,Er)[Ei][2];return Cr(Yt(this._color,"hsb").coords[2],r[0],r[1],t[0],t[1])}}_getLightness(t=[0,100]){if(Array.isArray(t)||(t=[0,t]),this.mode===Wn){const r=Qe(Ot,Er)[this.mode][2];return Cr(this._color.coords[2],r[0],r[1],t[0],t[1])}else{const r=Qe(Ot,Er)[Wn][2];return Cr(Yt(this._color,"hsl").coords[2],r[0],r[1],t[0],t[1])}}};Er=new WeakMap,Ca=new WeakMap,av=new WeakSet,sP=function(t){return new Ot(this._color,t)},tr(Ot,"colorMap",{}),_r(Ot,Er,{}),_r(Ot,Ca,{});let Nr=Ot;function gD(i,t,r){i.Color=Nr,sl.fromGray=GS.fromGray=function(n,s,a){const o=s.map(d=>Array.isArray(d)?d:[0,d]),l=Cr(n,o[2][0],o[2][1],0,1,a);return[l,l,l]},$S.fromGray=By.fromGray=function(n,s,a){const o=s.map(d=>Array.isArray(d)?d:[0,d]);return[0,0,Cr(n,o[2][0],o[2][1],0,100,a)]},HS.fromGray=function(n,s,a){const o=s.map(y=>Array.isArray(y)?y:[0,y]),l=Math.abs(o[1][0]-o[1][1])/2+Math.abs(o[2][0]-o[2][1])/2,d=Cr(n,0,l,0,100);let p,g;return d<50?(g=d,p=100-d):d>=50&&(p=d,g=100-d),[0,p,g]},Bi.fromGray=il.fromGray=Oo.fromGray=qS.fromGray=function(n,s,a){const o=s.map(d=>Array.isArray(d)?d:[0,d]);return[Cr(n,o[0][0],o[0][1],0,100,a),0,0]},i.Color.addColorMode(Tr,sl),i.Color.addColorMode(Pn,GS),i.Color.addColorMode(Ei,$S),i.Color.addColorMode(Wn,By),i.Color.addColorMode(qu,HS),i.Color.addColorMode(sh,Bi),i.Color.addColorMode($u,il),i.Color.addColorMode(ah,Oo),i.Color.addColorMode(Wu,qS),r.presetup=function(){const n=this,s=["Red","Green","Blue","Alpha"];for(let o in s){const l=s[o],d=i.Color.prototype["set"+l];i.Color.prototype["set"+l]=function(p,g){var y,x,S;return g=g||((S=(x=(y=n==null?void 0:n._renderer)==null?void 0:y.states)==null?void 0:x.colorMaxes)==null?void 0:S[Tr][o]),d.call(this,p,g)}}function a(o,l){const d=i.Color.prototype["_get"+o];i.Color.prototype["_get"+o]=function(p){var g,y,x,S,_,w;if(Object.keys(l).includes(this.mode))p=p||((x=(y=(g=n==null?void 0:n._renderer)==null?void 0:g.states)==null?void 0:y.colorMaxes)==null?void 0:x[this.mode][l[this.mode]]);else{const A=Object.keys(l)[0];p=p||((w=(_=(S=n==null?void 0:n._renderer)==null?void 0:S.states)==null?void 0:_.colorMaxes)==null?void 0:w[A][l[A]])}return d.call(this,p)}}a("Red",{[Tr]:0,[Pn]:0}),a("Green",{[Tr]:1,[Pn]:1}),a("Blue",{[Tr]:2,[Pn]:2}),a("Alpha",{[Tr]:3,[Pn]:3,[Ei]:3,[Wn]:3,[qu]:3,[sh]:3,[$u]:3,[ah]:3,[Wu]:3}),a("Hue",{[Wn]:0,[Ei]:0,[qu]:0,[$u]:2,[Wu]:2}),a("Saturation",{[Wn]:1,[Ei]:1}),a("Brightness",{[Ei]:2}),a("Lightness",{[Wn]:2})}}typeof p5<"u"&&gD(p5,p5.prototype);const Tr="rgb",Pn="rgbhdr",Ei="hsb",Wn="hsl",qu="hwb",sh="lab",$u="lch",ah="oklab",Wu="oklch",pd="rgba";function Zv(i,t){t.RGB=Tr,t.RGBHDR=Pn,t.HSB=Ei,t.HSL=Wn,t.HWB=qu,t.LAB=sh,t.LCH=$u,t.OKLAB=ah,t.OKLCH=Wu,t.RGBA=pd,i.Renderer.states.colorMode=Tr,i.Renderer.states.colorMaxes={[Tr]:[255,255,255,255],[Pn]:[255,255,255,255],[Ei]:[360,100,100,1],[Wn]:[360,100,100,1],[qu]:[360,100,100,1],[sh]:[100,[-125,125],[-125,125],1],[$u]:[100,150,360,1],[ah]:[100,[-125,125],[-125,125],1],[Wu]:[100,150,360,1],clone:function(){const r={...this};for(const n in r)r[n]instanceof Array&&(r[n]=[...r[n]]);return r}},t.color=function(...r){if(r[0]instanceof Nr)return r[0];const n=Array.isArray(r[0])?r[0]:r;return new Nr(n,this._renderer.states.colorMode,this._renderer.states.colorMaxes[this._renderer.states.colorMode],{clamp:!0})},t.red=function(r){return this.color(r)._getRed()},t.green=function(r){return this.color(r)._getGreen()},t.blue=function(r){return this.color(r)._getBlue()},t.alpha=function(r){return this.color(r)._getAlpha()},t.hue=function(r){return this.color(r)._getHue()},t.saturation=function(r){return this.color(r)._getSaturation()},t.brightness=function(r){return this.color(r)._getBrightness()},t.lightness=function(r){return this.color(r)._getLightness()},t.lerpColor=function(r,n,s){return r.lerp(n,s,this._renderer.states.colorMode)},t.paletteLerp=function(r,n){const s=r[0];if(n<s[1])return this.color(s[0]);for(let a=1;a<r.length;a++){const o=r[a];if(n<o[1]){const l=r[a-1];return this.lerpColor(this.color(l[0]),this.color(o[0]),(n-l[1])/(o[1]-l[1]))}}return this.color(r[r.length-1][0])}}typeof p5<"u"&&Zv(p5,p5.prototype);class Aa{constructor(t){if(t)this.DOM=t;else{const r=document.implementation.createDocument(null,"doc");this.DOM=r.createElement("root")}}getParent(){return new Aa(this.DOM.parentElement)}getName(){return this.DOM.tagName}setName(t){const r=this.DOM.innerHTML,n=this.DOM.attributes,a=document.implementation.createDocument(null,"default").createElement(t);a.innerHTML=r;for(let o=0;o<n.length;o++)a.setAttribute(n[o].nodeName,n[o].nodeValue);this.DOM=a}hasChildren(){return this.DOM.children.length>0}listChildren(){const t=[];for(let r=0;r<this.DOM.childNodes.length;r++)t.push(this.DOM.childNodes[r].nodeName);return t}getChildren(t){return XS(t?this.DOM.getElementsByTagName(t):this.DOM.children)}getChild(t){if(typeof t=="string"){for(const r of this.DOM.children)if(r.tagName===t)return new Aa(r)}else return new Aa(this.DOM.children[t])}addChild(t){t instanceof Aa&&this.DOM.appendChild(t.DOM)}removeChild(t){let r=-1;if(typeof t=="string"){for(let n=0;n<this.DOM.children.length;n++)if(this.DOM.children[n].tagName===t){r=n;break}}else r=t;r!==-1&&this.DOM.removeChild(this.DOM.children[r])}getAttributeCount(){return this.DOM.attributes.length}listAttributes(){const t=[];for(const r of this.DOM.attributes)t.push(r.nodeName);return t}hasAttribute(t){const r={};for(const n of this.DOM.attributes)r[n.nodeName]=n.nodeValue;return!!r[t]}getNum(t,r){const n={};for(const s of this.DOM.attributes)n[s.nodeName]=s.nodeValue;return Number(n[t])||r||0}getString(t,r){const n={};for(const s of this.DOM.attributes)n[s.nodeName]=s.nodeValue;return n[t]?String(n[t]):r||null}setAttribute(t,r){this.DOM.setAttribute(t,r)}getContent(t){let r;return r=this.DOM.textContent,r=r.replace(/\s\s+/g,","),r||t||null}setContent(t){this.DOM.children.length||(this.DOM.textContent=t)}serialize(){return new XMLSerializer().serializeToString(this.DOM)}}function XS(i){const t=[];for(let r=0;r<i.length;r++)t.push(new Aa(i[r]));return t}function mD(i,t){i.XML=Aa}typeof p5<"u"&&mD(p5,p5.prototype);class Da{constructor(t,r){this.file=t,this._pInst=r;const n=t.type.split("/");this.type=n[0],this.subtype=n[1],this.name=t.name,this.size=t.size,this.data=void 0}static _createLoader(t,r){const n=new FileReader;return n.onload=function(s){const a=new Da(t);if(a.file.type==="application/json")a.data=JSON.parse(s.target.result);else if(a.file.type==="text/xml"){const l=new DOMParser().parseFromString(s.target.result,"text/xml");a.data=new Aa(l.documentElement)}else a.data=s.target.result;r(a)},n}static _load(t,r){if(/^text\//.test(t.type)||t.type==="application/json")Da._createLoader(t,r).readAsText(t);else if(!/^(video|audio)\//.test(t.type))Da._createLoader(t,r).readAsDataURL(t);else{const n=new Da(t);n.data=URL.createObjectURL(t),r(n)}}}function yD(i,t){i.File=Da}typeof p5<"u"&&yD(p5,p5.prototype);class Xt{constructor(t,r){tr(this,"width");tr(this,"height");tr(this,"elt");this.elt=t,this._pInst=this._pixelsState=r,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}remove(){if(this.stop){this.stop();const r=this.elt.srcObject;r!==null&&r.getTracks().forEach(s=>{s.stop()})}const t=this._pInst._elements.indexOf(this);t!==-1&&this._pInst._elements.splice(t,1);for(let r in this._events)this.elt.removeEventListener(r,this._events[r]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)}parent(t){return typeof t>"u"?this.elt.parentNode:(typeof t=="string"?(t[0]==="#"&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof Xt&&(t=t.elt),t.appendChild(this.elt),this)}child(t){return typeof t>"u"?this.elt.childNodes:(typeof t=="string"?(t[0]==="#"&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof Xt&&(t=t.elt),t instanceof HTMLElement&&this.elt.appendChild(t),this)}html(...t){return t.length===0?this.elt.innerHTML:t[1]?(this.elt.insertAdjacentHTML("beforeend",t[0]),this):(this.elt.innerHTML=t[0],this)}id(t){return typeof t>"u"?this.elt.id:(this.elt.id=t,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}class(t){return typeof t>"u"?this.elt.className:(this.elt.className=t,this)}addClass(t){return this.elt.className?this.hasClass(t)||(this.elt.className=this.elt.className+" "+t):this.elt.className=t,this}removeClass(t){return this.elt.classList.remove(t),this}hasClass(t){return this.elt.classList.contains(t)}toggleClass(t){return this.elt.classList.contains(t)?this.elt.classList.remove(t):this.elt.classList.add(t),this}center(t){const r=this.elt.style.display,n=this.elt.style.display==="none",s=this.parent().style.display==="none",a={x:this.elt.offsetLeft,y:this.elt.offsetTop};n&&this.show(),s&&this.parent().show(),this.elt.style.display="block",this.position(0,0);const o=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),l=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return t==="both"||t===void 0?this.position(o/2+this.parent().offsetLeft,l/2+this.parent().offsetTop):t==="horizontal"?this.position(o/2+this.parent().offsetLeft,a.y):t==="vertical"&&this.position(a.x,l/2+this.parent().offsetTop),this.style("display",r),n&&this.hide(),s&&this.parent().hide(),this}position(...t){if(t.length===0)return{x:this.elt.offsetLeft,y:this.elt.offsetTop};{let r="absolute";return(t[2]==="static"||t[2]==="fixed"||t[2]==="relative"||t[2]==="sticky"||t[2]==="initial"||t[2]==="inherit")&&(r=t[2]),this.elt.style.position=r,this.elt.style.left=t[0]+"px",this.elt.style.top=t[1]+"px",this.x=t[0],this.y=t[1],this}}show(){return this.elt.style.display="block",this}hide(){return this.elt.style.display="none",this}size(t,r){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};{let n=t,s=r;const a=LA;if(n!==a||s!==a){if(n===a?n=r*this.width/this.height:s===a&&(s=t*this.height/this.width),this.elt instanceof HTMLCanvasElement){const o={},l=this.elt.getContext("2d");let d;for(d in l)o[d]=l[d];this.elt.setAttribute("width",n*this._pInst._pixelDensity),this.elt.setAttribute("height",s*this._pInst._pixelDensity),this.elt.style.width=n+"px",this.elt.style.height=s+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity);for(d in o)this.elt.getContext("2d")[d]=o[d]}else this.elt.style.width=n+"px",this.elt.style.height=s+"px",this.elt.width=n,this.elt.height=s;this.width=n,this.height=s,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst.width=n,this._pInst.height=s)}return this}}style(t,r){const n=this;if(r instanceof Nr&&(r=r.toString()),typeof r>"u"){if(t.indexOf(":")===-1)return window.getComputedStyle(n.elt).getPropertyValue(t);{const s=t.split(";");for(let a=0;a<s.length;a++){const o=s[a].split(":");o[0]&&o[1]&&(this.elt.style[o[0].trim()]=o[1].trim())}}}else if(this.elt.style[t]=r,t==="width"||t==="height"||t==="left"||t==="top"){let o=window.getComputedStyle(n.elt).getPropertyValue(t).replace(/[^\d.]/g,"");this[t]=Math.round(parseFloat(o,10))}return this}_translate(...t){this.elt.style.position="absolute";let r="";return this.elt.style.transform&&(r=this.elt.style.transform.replace(/translate3d\(.*\)/g,""),r=r.replace(/translate[X-Z]?\(.*\)/g,"")),t.length===2?this.elt.style.transform="translate("+t[0]+"px, "+t[1]+"px)":t.length>2&&(this.elt.style.transform="translate3d("+t[0]+"px,"+t[1]+"px,"+t[2]+"px)",t.length===3?this.elt.parentElement.style.perspective="1000px":this.elt.parentElement.style.perspective=t[3]+"px"),this.elt.style.transform+=r,this}_rotate(...t){let r="";return this.elt.style.transform&&(r=this.elt.style.transform.replace(/rotate3d\(.*\)/g,""),r=r.replace(/rotate[X-Z]?\(.*\)/g,"")),t.length===1?this.elt.style.transform="rotate("+t[0]+"deg)":t.length===2?this.elt.style.transform="rotate("+t[0]+"deg, "+t[1]+"deg)":t.length===3&&(this.elt.style.transform="rotateX("+t[0]+"deg)",this.elt.style.transform+="rotateY("+t[1]+"deg)",this.elt.style.transform+="rotateZ("+t[2]+"deg)"),this.elt.style.transform+=r,this}attribute(t,r){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio")){if(typeof r>"u")return this.elt.firstChild.getAttribute(t);for(let n=0;n<this.elt.childNodes.length;n++)this.elt.childNodes[n].setAttribute(t,r)}else return typeof r>"u"?this.elt.getAttribute(t):(this.elt.setAttribute(t,r),this)}removeAttribute(t){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(let r=0;r<this.elt.childNodes.length;r++)this.elt.childNodes[r].removeAttribute(t);return this.elt.removeAttribute(t),this}value(...t){return t.length>0?(this.elt.value=t[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value}mousePressed(t){const r=function(n){return this._pInst.mouseIsPressed=!0,this._pInst._activePointers.set(n.pointerId,n),this._pInst._setMouseButton(n),this._pInst._updatePointerCoords(n),t.call(this,n)};return Xt._adjustListener("pointerdown",r,this),this}doubleClicked(t){return Xt._adjustListener("dblclick",t,this),this}mouseWheel(t){return Xt._adjustListener("wheel",t,this),this}mouseReleased(t){return Xt._adjustListener("pointerup",t,this),this}mouseClicked(t){return Xt._adjustListener("click",t,this),this}mouseMoved(t){return Xt._adjustListener("pointermove",t,this),this}mouseOver(t){return Xt._adjustListener("pointerover",t,this),this}mouseOut(t){return Xt._adjustListener("pointerout",t,this),this}dragOver(t){return Xt._adjustListener("dragover",t,this),this}dragLeave(t){return Xt._adjustListener("dragleave",t,this),this}changed(t){return Xt._adjustListener("change",t,this),this}input(t){return Xt._adjustListener("input",t,this),this}drop(t,r){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=!0;const n=function(s){s.preventDefault()};this.elt.addEventListener("dragover",n),this.elt.addEventListener("dragleave",n)}Xt._attachListener("drop",function(n){n.preventDefault(),typeof r=="function"&&r.call(this,n);const s=n.dataTransfer.files;for(const a of s)Da._load(a,t)},this)}else console.log("The File APIs are not fully supported in this browser.");return this}draggable(t){let r="ontouchstart"in window,n=0,s=0,a=0,o=0,l,d=r?"touchstart":"mousedown",p=r?"touchend":"mouseup",g=r?"touchmove":"mousemove";t===void 0?(t=this.elt,l=t):t!==this.elt&&t.elt!==this.elt&&(t=t.elt,l=this.elt),l.addEventListener(d,y,!1),l.style.cursor="move";function y(_){if(_=_||window.event,r){const w=_.changedTouches;a=parseInt(w[0].clientX),o=parseInt(w[0].clientY)}else a=parseInt(_.clientX),o=parseInt(_.clientY);return document.addEventListener(p,S,!1),document.addEventListener(g,x,!1),!1}function x(_){if(_=_||window.event,r){const w=_.changedTouches;n=a-parseInt(w[0].clientX),s=o-parseInt(w[0].clientY),a=parseInt(w[0].clientX),o=parseInt(w[0].clientY)}else n=a-parseInt(_.clientX),s=o-parseInt(_.clientY),a=parseInt(_.clientX),o=parseInt(_.clientY);t.style.left=t.offsetLeft-n+"px",t.style.top=t.offsetTop-s+"px"}function S(){document.removeEventListener(p,S,!1),document.removeEventListener(g,x,!1)}return this}static _adjustListener(t,r,n){return r===!1?Xt._detachListener(t,n):Xt._attachListener(t,r,n),this}static _attachListener(t,r,n){n._events[t]&&Xt._detachListener(t,n);const s=r.bind(n);n.elt.addEventListener(t,s,!1),n._events[t]=s}static _detachListener(t,r){const n=r._events[t];r.elt.removeEventListener(t,n,!1),r._events[t]=null}}function vD(i,t){i.Element=Xt}typeof p5<"u"&&vD(p5,p5.prototype);const dr={_toPixels(i){if(i instanceof ImageData)return i.data;if(i.getContext("2d"))return i.getContext("2d").getImageData(0,0,i.width,i.height).data;if(i.getContext("webgl")){const t=i.getContext("webgl"),r=t.drawingBufferWidth*t.drawingBufferHeight*4,n=new Uint8Array(r);return t.readPixels(0,0,i.width,i.height,t.RGBA,t.UNSIGNED_BYTE,n),n}},_getARGB(i,t){const r=t*4;return i[r+3]<<24&4278190080|i[r]<<16&16711680|i[r+1]<<8&65280|i[r+2]&255},_setPixels(i,t){let r=0;for(let n=0,s=i.length;n<s;n++)r=n*4,i[r+0]=(t[n]&16711680)>>>16,i[r+1]=(t[n]&65280)>>>8,i[r+2]=t[n]&255,i[r+3]=(t[n]&4278190080)>>>24},_toImageData(i){return i instanceof ImageData?i:i.getContext("2d").getImageData(0,0,i.width,i.height)},_createImageData(i,t){return dr._tmpCanvas=document.createElement("canvas"),dr._tmpCtx=dr._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(i,t)},apply(i,t,r){const n=i.getContext("2d"),s=n.getImageData(0,0,i.width,i.height),a=t(s,r);a instanceof ImageData?n.putImageData(a,0,0,0,0,i.width,i.height):n.putImageData(s,0,0,0,0,i.width,i.height)},threshold(i,t=.5){const r=dr._toPixels(i),n=Math.floor(t*255);for(let s=0;s<r.length;s+=4){const a=r[s],o=r[s+1],l=r[s+2],d=.2126*a+.7152*o+.0722*l;let p;d>=n?p=255:p=0,r[s]=r[s+1]=r[s+2]=p}},gray(i){const t=dr._toPixels(i);for(let r=0;r<t.length;r+=4){const n=t[r],s=t[r+1],a=t[r+2],o=.2126*n+.7152*s+.0722*a;t[r]=t[r+1]=t[r+2]=o}},opaque(i){const t=dr._toPixels(i);for(let r=0;r<t.length;r+=4)t[r+3]=255;return t},invert(i){const t=dr._toPixels(i);for(let r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]},posterize(i,t=4){const r=dr._toPixels(i);if(t<2||t>255)throw new Error("Level must be greater than 2 and less than 255 for posterize");const n=t-1;for(let s=0;s<r.length;s+=4){const a=r[s],o=r[s+1],l=r[s+2];r[s]=(a*t>>8)*255/n,r[s+1]=(o*t>>8)*255/n,r[s+2]=(l*t>>8)*255/n}},dilate(i){const t=dr._toPixels(i);let r=0;const n=t.length?t.length/4:0,s=new Int32Array(n);let a,o,l,d,p,g,y,x,S,_,w,A,P,D,R,F,T;for(;r<n;)for(a=r,o=r+i.width;r<o;)l=d=dr._getARGB(t,r),y=r-1,g=r+1,x=r-i.width,S=r+i.width,y<a&&(y=r),g>=o&&(g=r),x<0&&(x=0),S>=n&&(S=r),A=dr._getARGB(t,x),w=dr._getARGB(t,y),P=dr._getARGB(t,S),_=dr._getARGB(t,g),p=77*(l>>16&255)+151*(l>>8&255)+28*(l&255),R=77*(w>>16&255)+151*(w>>8&255)+28*(w&255),D=77*(_>>16&255)+151*(_>>8&255)+28*(_&255),F=77*(A>>16&255)+151*(A>>8&255)+28*(A&255),T=77*(P>>16&255)+151*(P>>8&255)+28*(P&255),R>p&&(d=w,p=R),D>p&&(d=_,p=D),F>p&&(d=A,p=F),T>p&&(d=P,p=T),s[r++]=d;dr._setPixels(t,s)},erode(i){const t=dr._toPixels(i);let r=0;const n=t.length?t.length/4:0,s=new Int32Array(n);let a,o,l,d,p,g,y,x,S,_,w,A,P,D,R,F,T;for(;r<n;)for(a=r,o=r+i.width;r<o;)l=d=dr._getARGB(t,r),y=r-1,g=r+1,x=r-i.width,S=r+i.width,y<a&&(y=r),g>=o&&(g=r),x<0&&(x=0),S>=n&&(S=r),A=dr._getARGB(t,x),w=dr._getARGB(t,y),P=dr._getARGB(t,S),_=dr._getARGB(t,g),p=77*(l>>16&255)+151*(l>>8&255)+28*(l&255),R=77*(w>>16&255)+151*(w>>8&255)+28*(w&255),D=77*(_>>16&255)+151*(_>>8&255)+28*(_&255),F=77*(A>>16&255)+151*(A>>8&255)+28*(A&255),T=77*(P>>16&255)+151*(P>>8&255)+28*(P&255),R<p&&(d=w,p=R),D<p&&(d=_,p=D),F<p&&(d=A,p=F),T<p&&(d=P,p=T),s[r++]=d;dr._setPixels(t,s)},blur(i,t){oP(i,t)}};let Vc,Iu,Bu,yo;function aP(i){let t=i*3.5|0;if(t=t<1?1:t<248?t:248,Vc!==t){Vc=t,Iu=1+Vc<<1,Bu=new Int32Array(Iu),yo=new Array(Iu);for(let o=0;o<Iu;o++)yo[o]=new Int32Array(256);let r,n,s,a;for(let o=1,l=t-1;o<t;o++){Bu[t+o]=Bu[l]=n=l*l,s=yo[t+o],a=yo[l--];for(let d=0;d<256;d++)s[d]=a[d]=n*d}r=Bu[t]=t*t,s=yo[t];for(let o=0;o<256;o++)s[o]=r*o}}function oP(i,t){const r=dr._toPixels(i),n=i.width,s=i.height,a=n*s,o=new Int32Array(a);for(let V=0;V<a;V++)o[V]=dr._getARGB(r,V);let l,d,p,g,y,x,S,_,w,A;const P=new Int32Array(a),D=new Int32Array(a),R=new Int32Array(a),F=new Int32Array(a);let T=0;aP(t);let U,k,B,L;for(k=0;k<s;k++){for(U=0;U<n;U++){if(g=p=d=y=l=0,x=U-Vc,x<0)A=-x,x=0;else{if(x>=n)break;A=0}for(B=A;B<Iu&&!(x>=n);B++){const V=o[x+T];L=yo[B],y+=L[(V&-16777216)>>>24],d+=L[(V&16711680)>>16],p+=L[(V&65280)>>8],g+=L[V&255],l+=Bu[B],x++}S=T+U,P[S]=y/l,D[S]=d/l,R[S]=p/l,F[S]=g/l}T+=n}for(T=0,_=-Vc,w=_*n,k=0;k<s;k++){for(U=0;U<n;U++){if(g=p=d=y=l=0,_<0)A=S=-_,x=U;else{if(_>=s)break;A=0,S=_,x=U+w}for(B=A;B<Iu&&!(S>=s);B++)L=yo[B],y+=L[P[x]],d+=L[D[x]],p+=L[R[x]],g+=L[F[x]],l+=Bu[B],S++,x+=n;o[U+T]=y/l<<24|d/l<<16|p/l<<8|g/l}T+=n,w+=n,_++}dr._setPixels(r,o)}function bD(i){let t=0;for(let r=1;r<i.length;r++)t+=i[r-1].position.dist(i[r].position);return t}class xD{constructor(t){for(const[r,n]of Object.entries(t))this[r]=n}}class Ti{constructor(...t){tr(this,"vertices");tr(this,"_shape",null);tr(this,"_primitivesIndex",null);tr(this,"_contoursIndex",null);tr(this,"isClosing",!1);if(this.constructor===Ti)throw new Error("ShapePrimitive is an abstract class: it cannot be instantiated.");if(t.length>0)this.vertices=t;else throw new Error("At least one vertex must be passed to the constructor.")}get vertexCount(){return this.vertices.length}get vertexCapacity(){throw new Error("Getter vertexCapacity must be implemented.")}get _firstInterpolatedVertex(){return this.startVertex()}get canOverrideAnchor(){return!1}accept(t){throw new Error("Method accept() must be implemented.")}addToShape(t){let r=t.at(-1);if(r.primitives.length===0)r.primitives.push(this);else{let s=t.at(-1,-1),a=s instanceof this.constructor,o=s.vertexCapacity-s.vertexCount,l,d;a&&o>0?(l=this.vertices.splice(0,o),d=this.vertices,s.vertices.push(...l),d.length>0&&r.primitives.push(this)):r.primitives.push(this)}if(this.vertices.length>0){let s=t.at(-1);this._primitivesIndex=s.primitives.length-1,this._contoursIndex=t.contours.length-1,this._shape=t}return t.at(-1,-1)}get _nextPrimitive(){return this._belongsToShape?this._shape.at(this._contoursIndex,this._primitivesIndex+1):null}get _belongsToShape(){return this._shape!==null}handlesClose(){return!1}close(t){throw new Error("Unimplemented!")}}var Zu;class _D{constructor(t=Vi){_r(this,Zu);tr(this,"primitives");Dn(this,Zu,t),this.primitives=[]}get kind(){const t=this.primitives.length===0,r=Qe(this,Zu)===Vi;return t&&r?ju:Qe(this,Zu)}accept(t){for(const r of this.primitives)r.accept(t)}}Zu=new WeakMap;var tp;class gd extends Ti{constructor(){super(...arguments);_r(this,tp,1)}get vertexCapacity(){return Qe(this,tp)}accept(r){r.visitAnchor(this)}getEndVertex(){return this.vertices[0]}}tp=new WeakMap;class Ro extends Ti{constructor(...t){if(super(...t),this.constructor===Ro)throw new Error("Segment is an abstract class: it cannot be instantiated.")}get _previousPrimitive(){return this._belongsToShape?this._shape.at(this._contoursIndex,this._primitivesIndex-1):null}getStartVertex(){return this._previousPrimitive.getEndVertex()}getEndVertex(){return this.vertices.at(-1)}}var rp;class SD extends Ro{constructor(){super(...arguments);_r(this,rp,1)}get vertexCapacity(){return Qe(this,rp)}accept(r){r.visitLineSegment(this)}}rp=new WeakMap;var xh,_h,Ku;class wD extends Ro{constructor(r,...n){super(...n);_r(this,xh);_r(this,_h);_r(this,Ku);let s=Array.isArray(r)?r[0]:r;Dn(this,xh,s),Dn(this,_h,s)}get order(){return Qe(this,xh)}get vertexCapacity(){return Qe(this,_h)}hullLength(){return Qe(this,Ku)===void 0&&Dn(this,Ku,bD([this.getStartVertex(),...this.vertices])),Qe(this,Ku)}accept(r){r.visitBezierSegment(this)}}xh=new WeakMap,_h=new WeakMap,Ku=new WeakMap;var np;class ED extends Ro{constructor(){super(...arguments);_r(this,np,1/0);tr(this,"_splineProperties",{ends:zu,tightness:0})}get vertexCapacity(){return Qe(this,np)}accept(r){r.visitSplineSegment(this)}get _comesAfterSegment(){return this._previousPrimitive instanceof Ro}get canOverrideAnchor(){return this._splineProperties.ends===Lu}get _firstInterpolatedVertex(){return this._splineProperties.ends===Lu?this._comesAfterSegment?this.vertices[1]:this.vertices[0]:this.getStartVertex()}get _chainedToSegment(){if(this._belongsToShape&&this._comesAfterSegment){let r=this._firstInterpolatedVertex.position;return this.getStartVertex().position.equals(r)}else return!1}addToShape(r){const n=super.addToShape(r);if(this._splineProperties.ends=r._splineProperties.ends,this._splineProperties.tightness=r._splineProperties.tightness,this._splineProperties.ends!==Lu)return n;let s=!this._belongsToShape,a=r.at(-1,-1),o=(l,d)=>`Spline does not start where previous path segment ends:
      second spline vertex at (${l})
      expected to be at (${d}).`;if(s&&a.vertices.length===2&&a._comesAfterSegment&&!a._chainedToSegment){let l=a._firstInterpolatedVertex.position,d=a.getStartVertex().position;console.warn(o(l.array(),d.array()))}return n}getEndVertex(){return this._splineProperties.ends===zu?super.getEndVertex():this._splineProperties.ends===Lu?this.vertices.at(-2):this.getStartVertex()}getControlPoints(){let r=[];this._comesAfterSegment&&r.push(this.getStartVertex()),r.push(this.getStartVertex());for(const s of this.vertices)r.push(s);const n=this.getStartVertex();return this._splineProperties.ends===zu?(r.unshift(n),r.push(this.vertices.at(-1))):this._splineProperties.ends===Fy&&(r.unshift(this.vertices.at(-1)),r.push(n,this.vertices.at(0))),r}handlesClose(){return this._belongsToShape?this._shape.at(this._contoursIndex).primitives.length===2&&this._primitivesIndex===1:!1}close(){this._splineProperties.ends=Fy}}np=new WeakMap;var ip;class CD extends Ti{constructor(){super(...arguments);_r(this,ip,1)}get vertexCapacity(){return Qe(this,ip)}accept(r){r.visitPoint(this)}}ip=new WeakMap;var sp;class AD extends Ti{constructor(){super(...arguments);_r(this,sp,2)}get vertexCapacity(){return Qe(this,sp)}accept(r){r.visitLine(this)}}sp=new WeakMap;var ap;class DD extends Ti{constructor(){super(...arguments);_r(this,ap,3)}get vertexCapacity(){return Qe(this,ap)}accept(r){r.visitTriangle(this)}}ap=new WeakMap;var op;class TD extends Ti{constructor(){super(...arguments);_r(this,op,4)}get vertexCapacity(){return Qe(this,op)}accept(r){r.visitQuad(this)}}op=new WeakMap;var up;class ND extends Ti{constructor(){super(...arguments);_r(this,up,1/0)}get vertexCapacity(){return Qe(this,up)}accept(r){r.visitTriangleFan(this)}}up=new WeakMap;var lp;class OD extends Ti{constructor(){super(...arguments);_r(this,lp,1/0)}get vertexCapacity(){return Qe(this,lp)}accept(r){r.visitTriangleStrip(this)}}lp=new WeakMap;var cp;class FD extends Ti{constructor(){super(...arguments);_r(this,cp,1/0)}get vertexCapacity(){return Qe(this,cp)}accept(r){r.visitQuadStrip(this)}}cp=new WeakMap;class uP{constructor(){tr(this,"creators");let t=new Map;t.set(`vertex-${ju}`,(...r)=>new gd(...r)),t.set(`vertex-${Vi}`,(...r)=>new SD(...r)),t.set(`vertex-${Fd}`,(...r)=>new CD(...r)),t.set(`vertex-${rl}`,(...r)=>new AD(...r)),t.set(`vertex-${Vu}`,(...r)=>new DD(...r)),t.set(`vertex-${Bc}`,(...r)=>new TD(...r)),t.set(`vertex-${Cp}`,(...r)=>new ND(...r)),t.set(`vertex-${Qc}`,(...r)=>new OD(...r)),t.set(`vertex-${Jc}`,(...r)=>new FD(...r)),t.set(`bezierVertex-${ju}`,(r,...n)=>new gd(...n)),t.set(`bezierVertex-${Vi}`,(r,...n)=>new wD(r,...n)),t.set(`splineVertex-${ju}`,(...r)=>new gd(...r)),t.set(`splineVertex-${Vi}`,(...r)=>new ED(...r)),this.creators=t}get(t,r){const n=`${t}-${r}`;return this.creators.get(n)}set(t,r,n){const s=`${t}-${r}`;this.creators.set(s,n)}clear(){this.creators.clear()}}var on,Sh,wh,Eh,Ui,MD,kD,Fc;class RD{constructor(t,r=new uP){_r(this,Ui);_r(this,on);_r(this,Sh);_r(this,wh);_r(this,Eh,3);tr(this,"kind",null);tr(this,"contours",[]);tr(this,"_splineProperties",{tightness:0,ends:zu});tr(this,"userVertexProperties",null);Dn(this,Sh,t),Dn(this,on,t),Dn(this,wh,r);for(const n in Qe(this,on))n!=="position"&&n!=="textureCoordinates"&&(this[n]=function(s){Qe(this,on)[n]=s})}serializeToArray(t){if(t==null)return[];if(t instanceof Number)return[t];if(t instanceof Array)return t;if(t.array instanceof Function)return t.array();throw new Error(`Can't convert ${t} to array!`)}vertexToArray(t){const r=[];for(const n in Qe(this,on)){if(this.userVertexProperties&&n in this.userVertexProperties)continue;const s=t[n];r.push(...this.serializeToArray(s))}for(const n in this.userVertexProperties)n in t?r.push(...this.serializeToArray(t[n])):r.push(...new Array(this.userVertexProperties[n]).fill(0));return r}hydrateValue(t,r){if(r===null)return null;if(r instanceof Number)return t.shift();if(r instanceof Array){const n=[];for(let s=0;s<r.length;s++)n.push(t.shift());return n}else{if(r instanceof be)return new be(t.shift(),t.shift(),t.shift());if(r instanceof Nr){const n=[t.shift(),t.shift(),t.shift(),t.shift()];return new Nr(n)}}}arrayToVertex(t){const r={},n=[...t];for(const s in Qe(this,on)){if(this.userVertexProperties&&s in this.userVertexProperties)continue;const a=Qe(this,on)[s];r[s]=this.hydrateValue(n,a)}for(const s in this.userVertexProperties){const a=Qe(this,on)[s];r[s]=this.hydrateValue(n,a)}return r}arrayScale(t,r){return t.map(n=>n*r)}arraySum(t,...r){return t.map((n,s)=>{let a=n;for(let o=0;o<r.length;o++)a+=r[o][s];return a})}arrayMinus(t,r){return t.map((n,s)=>n-r[s])}evaluateCubicBezier([t,r,n,s],a){return this.arraySum(this.arrayScale(t,Math.pow(1-a,3)),this.arrayScale(r,3*Math.pow(1-a,2)*a),this.arrayScale(n,3*(1-a)*Math.pow(a,2)),this.arrayScale(s,Math.pow(a,3)))}evaluateQuadraticBezier([t,r,n],s){return this.arraySum(this.arrayScale(t,Math.pow(1-s,2)),this.arrayScale(r,2*(1-s)*s),this.arrayScale(n,s*s))}catmullRomToBezier(t,r){let n=1-r,s=[];for(let a=0;a+3<t.length;a++){const[o,l,d,p]=t.slice(a,a+4),g=this.arraySum(l,this.arrayScale(this.arrayMinus(d,o),n/6)),y=this.arraySum(d,this.arrayScale(this.arrayMinus(l,p),n/6)),x=d;s.push([g,y,x])}return s}at(t,r,n){let s,a;switch(s=this.contours.at(t),arguments.length){case 1:return s;case 2:return s.primitives.at(r);case 3:return a=s.primitives.at(r),a.vertices.at(n)}}reset(){Dn(this,on,{...Qe(this,Sh)}),this.kind=null,this.contours=[],this.userVertexProperties=null}vertexProperty(t,r){this.userVertexProperties=this.userVertexProperties||{};const n=this.vertexPropertyKey(t),s=Array.isArray(r)?r:[r];this.userVertexProperties[n]||(this.userVertexProperties[n]=s.length),Qe(this,on)[n]=s}vertexPropertyName(t){return t.replace(/Src$/,"")}vertexPropertyKey(t){return t+"Src"}bezierOrder(...t){Dn(this,Eh,t)}splineProperty(t,r){this._splineProperties[t]=r}splineProperties(t){if(t)for(const r in t)this.splineProperty(r,t[r]);else return this._splineProperties}vertex(t,r,{isClosing:n=!1}={}){const s=Zr(this,Ui,Fc).call(this,"vertex",t,r);s.isClosing=n}bezierVertex(t,r){Zr(this,Ui,Fc).call(this,"bezierVertex",t,r)}splineVertex(t,r){Zr(this,Ui,Fc).call(this,"splineVertex",t,r)}arcVertex(t,r){Zr(this,Ui,Fc).call(this,"arcVertex",t,r)}beginContour(t=Vi){var r;((r=this.at(-1))==null?void 0:r.kind)===ju&&this.contours.pop(),this.contours.push(new _D(t))}endContour(t=Ao,r=this.contours.length-1){const n=this.at(r);if(t===eh){const s=n.kind===Vi,a=this.at(r,0,0),o=Object.hasOwn(a,"position"),l=this.at(r,-1);if(s&&o)if(l.handlesClose())l.close(a);else{const d=this.contours.splice(r+1,this.contours.length-r-1),p=Qe(this,on);Dn(this,on,{...p});for(const g in a)["position","textureCoordinates"].includes(g)||(Qe(this,on)[g]=a[g]);this.vertex(a.position,a.textureCoordinates,{isClosing:!0}),Dn(this,on,p),this.contours.push(...d)}}}beginShape(t=Vi){this.kind=t,this.beginContour(t)}endShape(t=Ao){t===eh&&this.endContour(t,0)}accept(t){for(const r of this.contours)r.accept(t)}}on=new WeakMap,Sh=new WeakMap,wh=new WeakMap,Eh=new WeakMap,Ui=new WeakSet,MD=function(t,r){return Qe(this,on).position=t,r!==void 0&&(Qe(this,on).textureCoordinates=r),new xD(Qe(this,on))},kD=function(t,r,...n){let s=Qe(this,wh).get(t,r);return t==="bezierVertex"?s(Qe(this,Eh),...n):s(...n)},Fc=function(t,r,n){let s=t,a=this.at(-1).kind,o=Zr(this,Ui,MD).call(this,r,n);return Zr(this,Ui,kD).call(this,s,a,o).addToShape(this)};class xl{constructor(){if(this.constructor===xl)throw new Error("PrimitiveVisitor is an abstract class: it cannot be instantiated.")}visitAnchor(t){throw new Error("Method visitAnchor() has not been implemented.")}visitLineSegment(t){throw new Error("Method visitLineSegment() has not been implemented.")}visitBezierSegment(t){throw new Error("Method visitBezierSegment() has not been implemented.")}visitSplineSegment(t){throw new Error("Method visitSplineSegment() has not been implemented.")}visitArcSegment(t){throw new Error("Method visitArcSegment() has not been implemented.")}visitPoint(t){throw new Error("Method visitPoint() has not been implemented.")}visitLine(t){throw new Error("Method visitLine() has not been implemented.")}visitTriangle(t){throw new Error("Method visitTriangle() has not been implemented.")}visitQuad(t){throw new Error("Method visitQuad() has not been implemented.")}visitTriangleFan(t){throw new Error("Method visitTriangleFan() has not been implemented.")}visitTriangleStrip(t){throw new Error("Method visitTriangleStrip() has not been implemented.")}visitQuadStrip(t){throw new Error("Method visitQuadStrip() has not been implemented.")}}class PD extends xl{constructor({strokeWeight:r}){super();tr(this,"path",new Path2D);tr(this,"strokeWeight");this.strokeWeight=r}visitAnchor(r){let n=r.getEndVertex();this.path.moveTo(n.position.x,n.position.y)}visitLineSegment(r){if(r.isClosing)this.path.closePath();else{let n=r.getEndVertex();this.path.lineTo(n.position.x,n.position.y)}}visitBezierSegment(r){let[n,s,a]=r.vertices;switch(r.order){case 2:this.path.quadraticCurveTo(n.position.x,n.position.y,s.position.x,s.position.y);break;case 3:this.path.bezierCurveTo(n.position.x,n.position.y,s.position.x,s.position.y,a.position.x,a.position.y);break}}visitSplineSegment(r){const n=r._shape;if(r._splineProperties.ends===Lu&&!r._comesAfterSegment){let o=r._firstInterpolatedVertex;this.path.moveTo(o.position.x,o.position.y)}const s=r.getControlPoints().map(o=>n.vertexToArray(o));let a=n.catmullRomToBezier(s,r._splineProperties.tightness).map(o=>o.map(l=>n.arrayToVertex(l)));for(const o of a){const l=o.flatMap(d=>[d.position.x,d.position.y]);this.path.bezierCurveTo(...l)}}visitPoint(r){const{x:n,y:s}=r.vertices[0].position;this.path.moveTo(n,s),this.path.lineTo(n+1e-5,s)}visitLine(r){const{x:n,y:s}=r.vertices[0].position,{x:a,y:o}=r.vertices[1].position;this.path.moveTo(n,s),this.path.lineTo(a,o)}visitTriangle(r){const[n,s,a]=r.vertices;this.path.moveTo(n.position.x,n.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.closePath()}visitQuad(r){const[n,s,a,o]=r.vertices;this.path.moveTo(n.position.x,n.position.y),this.path.lineTo(s.position.x,s.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.closePath()}visitTriangleFan(r){const[n,...s]=r.vertices;for(let a=0;a<s.length-1;a++){const o=s[a],l=s[a+1];this.path.moveTo(n.position.x,n.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.lineTo(l.position.x,l.position.y),this.path.closePath()}}visitTriangleStrip(r){for(let n=0;n<r.vertices.length-2;n++){const s=r.vertices[n],a=r.vertices[n+1],o=r.vertices[n+2];this.path.moveTo(s.position.x,s.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.closePath()}}visitQuadStrip(r){for(let n=0;n<r.vertices.length-3;n+=2){const s=r.vertices[n],a=r.vertices[n+1],o=r.vertices[n+2],l=r.vertices[n+3];this.path.moveTo(s.position.x,s.position.y),this.path.lineTo(a.position.x,a.position.y),this.path.lineTo(l.position.x,l.position.y),this.path.lineTo(o.position.x,o.position.y),this.path.closePath()}}}class LD extends xl{constructor({curveDetail:r=1}={}){super();tr(this,"contours",[]);tr(this,"curveDetail");this.curveDetail=r}lastContour(){return this.contours[this.contours.length-1]}visitAnchor(r){this.contours.push([]);const n=r._nextPrimitive;n!=null&&n.canOverrideAnchor?this.lastContour().push(n._firstInterpolatedVertex):this.lastContour().push(r.getEndVertex())}visitLineSegment(r){this.lastContour().push(r.getEndVertex())}visitBezierSegment(r){const n=this.lastContour(),s=Math.max(1,Math.ceil(r.hullLength()*this.curveDetail)),a=[r.getStartVertex(),...r.vertices].map(o=>r._shape.vertexToArray(o));for(let o=0;o<s;o++){const l=(o+1)/s;n.push(r._shape.arrayToVertex(r.order===3?r._shape.evaluateCubicBezier(a,l):r._shape.evaluateQuadraticBezier(a,l)))}}visitSplineSegment(r){const n=r._shape,s=this.lastContour(),a=r.getControlPoints().map(d=>n.vertexToArray(d));let o=n.catmullRomToBezier(a,r._splineProperties.tightness),l=n.vertexToArray(r._firstInterpolatedVertex);for(const d of o){const p=[l,...d],g=Math.max(1,Math.ceil(bD(p.map(y=>n.arrayToVertex(y)))*this.curveDetail));for(let y=0;y<g;y++){const x=(y+1)/g;s.push(n.arrayToVertex(n.evaluateCubicBezier(p,x)))}l=d[2]}}visitPoint(r){this.contours.push(r.vertices.slice())}visitLine(r){this.contours.push(r.vertices.slice())}visitTriangle(r){this.contours.push(r.vertices.slice())}visitQuad(r){this.contours.push(r.vertices.slice())}visitTriangleFan(r){this.contours.push(r.vertices.slice())}visitTriangleStrip(r){this.contours.push(r.vertices.slice())}visitQuadStrip(r){this.contours.push(r.vertices.slice())}}class lP extends xl{constructor(){super()}}function Kv(i,t){i.Shape=RD,i.Contour=_D,i.ShapePrimitive=Ti,i.Vertex=xD,i.Anchor=gd,i.Segment=Ro,i.LineSegment=SD,i.BezierSegment=wD,i.SplineSegment=ED,i.Point=CD,i.Line=AD,i.Triangle=DD,i.Quad=TD,i.TriangleFan=ND,i.TriangleStrip=OD,i.QuadStrip=FD,i.PrimitiveVisitor=xl,i.PrimitiveToPath2DConverter=PD,i.PrimitiveToVerticesConverter=LD,i.PointAtLengthGetter=lP,t.bezierOrder=function(r){return this._renderer.bezierOrder(r)},t.splineVertex=function(...r){let n=0,s=0,a=0,o=0,l=0;r.length===2?[n,s]=r:r.length===4?[n,s,o,l]=r:r.length===3?[n,s,a]=r:r.length===5&&([n,s,a,o,l]=r),this._renderer.splineVertex(n,s,a,o,l)},t.splineProperty=function(r,n){return this._renderer.splineProperty(r,n)},t.splineProperties=function(r){return this._renderer.splineProperties(r)},t.vertex=function(r,n){let s,a,o;s=a=o=0,arguments.length===3?s=arguments[2]:arguments.length===4?(a=arguments[2],o=arguments[3]):arguments.length===5&&(s=arguments[2],a=arguments[3],o=arguments[4]),this._renderer.vertex(r,n,s,a,o)},t.beginContour=function(r){this._renderer.beginContour(r)},t.endContour=function(r=Ao){this._renderer.endContour(r)}}typeof p5<"u"&&Kv(p5,p5.prototype);var Pi;class cP{constructor(t){_r(this,Pi,{});for(const r in t)this[r]=t[r]}setValue(t,r){t in Qe(this,Pi)||(Qe(this,Pi)[t]=this[t]),this[t]=r}getDiff(){const t=Qe(this,Pi);return Dn(this,Pi,{}),t}getModified(){return Qe(this,Pi)}applyDiff(t){for(const r in Qe(this,Pi))this[r]=Qe(this,Pi)[r];Dn(this,Pi,t)}}Pi=new WeakMap;var md={exports:{}},hP=md.exports,ZS;function fP(){return ZS||(ZS=1,function(i){/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */var t=t||function(r){if(!(typeof r>"u"||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent))){var n=r.document,s=function(){return r.URL||r.webkitURL||r},a=n.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in a,l=function(R){var F=new MouseEvent("click");R.dispatchEvent(F)},d=/constructor/i.test(r.HTMLElement)||r.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent),g=function(R){(r.setImmediate||r.setTimeout)(function(){throw R},0)},y="application/octet-stream",x=1e3*40,S=function(R){var F=function(){typeof R=="string"?s().revokeObjectURL(R):R.remove()};setTimeout(F,x)},_=function(R,F,T){F=[].concat(F);for(var U=F.length;U--;){var k=R["on"+F[U]];if(typeof k=="function")try{k.call(R,T||R)}catch(B){g(B)}}},w=function(R){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(R.type)?new Blob(["\uFEFF",R],{type:R.type}):R},A=function(R,F,T){T||(R=w(R));var U=this,k=R.type,B=k===y,L,V=function(){_(U,"writestart progress write writeend".split(" "))},H=function(){if((p||B&&d)&&r.FileReader){var z=new FileReader;z.onloadend=function(){var K=p?z.result:z.result.replace(/^data:[^;]*;/,"data:attachment/file;"),le=r.open(K,"_blank");le||(r.location.href=K),K=void 0,U.readyState=U.DONE,V()},z.readAsDataURL(R),U.readyState=U.INIT;return}if(L||(L=s().createObjectURL(R)),B)r.location.href=L;else{var G=r.open(L,"_blank");G||(r.location.href=L)}U.readyState=U.DONE,V(),S(L)};if(U.readyState=U.INIT,o){L=s().createObjectURL(R),setTimeout(function(){a.href=L,a.download=F,l(a),V(),S(L),U.readyState=U.DONE});return}H()},P=A.prototype,D=function(R,F,T){return new A(R,F||R.name||"download",T)};return typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(R,F,T){return F=F||R.name||"download",T||(R=w(R)),navigator.msSaveOrOpenBlob(R,F)}:(P.abort=function(){},P.readyState=P.INIT=0,P.WRITING=1,P.DONE=2,P.error=P.onwritestart=P.onprogress=P.onwrite=P.onabort=P.onerror=P.onwriteend=null,D)}}(typeof self<"u"&&self||typeof window<"u"&&window||hP.content);i.exports&&(i.exports.saveAs=t)}(md)),md.exports}var dP=fP();function Qv(i,t,r){const s=Vd(t,r)[0];let a=i;a instanceof Blob||(a=new Blob([i])),dP.saveAs(a,s)}function Vd(i,t){(!t||t===!0||t==="true")&&(t=""),i||(i="untitled");let r="";return i&&i.includes(".")&&(r=i.split(".").pop()),t&&r!==t&&(r=t,i=`${i}.${r}`),[i,r]}class zi{constructor(t,r){this.width=t,this.height=r,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),this._pixelsState=this,this._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}pixelDensity(t){return typeof t<"u"?(t<=0&&(t=1),this._pixelDensity=t,this.width/=t,this.height/=t,this):this._pixelDensity}_animateGif(t){const r=this.gifProperties,n=t._lastRealFrameTime||window.performance.now();if(r.lastChangeTime===0&&(r.lastChangeTime=n),r.playing){r.timeDisplayed=n-r.lastChangeTime;const s=r.frames[r.displayIndex].delay;if(r.timeDisplayed>=s){const a=Math.floor(r.timeDisplayed/s);if(r.timeDisplayed=0,r.lastChangeTime=n,r.displayIndex+=a,r.loopCount=Math.floor(r.displayIndex/r.numFrames),r.loopLimit!==null&&r.loopCount>=r.loopLimit)r.playing=!1;else{const o=r.displayIndex%r.numFrames;this.drawingContext.putImageData(r.frames[o].image,0,0),r.displayIndex=o,this.setModified(!0)}}}}loadPixels(){const t=this._pixelsState,r=this._pixelDensity,n=this.width*r,s=this.height*r,a=this.drawingContext.getImageData(0,0,n,s);t.imageData=a,this.pixels=t.pixels=a.data,this.setModified(!0)}updatePixels(t,r,n,s){const a=this._pixelsState,o=this._pixelDensity;t===void 0&&r===void 0&&n===void 0&&s===void 0&&(t=0,r=0,n=this.width,s=this.height),t*=o,r*=o,n*=o,s*=o,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=a.imageData),this.drawingContext.putImageData(a.imageData,t,r,0,0,n,s),this.setModified(!0)}get(t,r,n,s){const a=this._pixelsState,o=this._pixelDensity,l=this.canvas;if(typeof t>"u"&&typeof r>"u")t=r=0,n=a.width,s=a.height;else if(t*=o,r*=o,typeof n>"u"&&typeof s>"u")return t<0||r<0||t>=l.width||r>=l.height?[0,0,0,0]:this._getPixel(t,r);const d=new zi(n*o,s*o);return d.pixelDensity(o),d.canvas.getContext("2d").drawImage(l,t,r,n*o,s*o,0,0,n*o,s*o),d}_getPixel(t,r){let n,s;return n=this.drawingContext.getImageData(t,r,1,1).data,s=0,[n[s+0],n[s+1],n[s+2],n[s+3]]}set(t,r,n){t=Math.floor(t),r=Math.floor(r);const s=this._pixelsState;if(n instanceof zi)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this.drawingContext.clearRect(t,r,n.width,n.height),this.drawingContext.drawImage(n.canvas,t,r),this.drawingContext.restore();else{let a=0,o=0,l=0,d=0,p=4*(r*this._pixelDensity*(this.width*this._pixelDensity)+t*this._pixelDensity);if(s.imageData||s.loadPixels(),typeof n=="number")p<s.pixels.length&&(a=n,o=n,l=n,d=255);else if(Array.isArray(n)){if(n.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");p<s.pixels.length&&(a=n[0],o=n[1],l=n[2],d=n[3])}else n instanceof p5.Color&&p<s.pixels.length&&([a,o,l,d]=n._getRGBA([255,255,255,255]));for(let g=0;g<this._pixelDensity;g++)for(let y=0;y<this._pixelDensity;y++)p=4*((r*this._pixelDensity+y)*this.width*this._pixelDensity+(t*this._pixelDensity+g)),s.pixels[p]=a,s.pixels[p+1]=o,s.pixels[p+2]=l,s.pixels[p+3]=d}this.setModified(!0)}resize(t,r){t===0&&r===0?(t=this.canvas.width,r=this.canvas.height):t===0?t=this.canvas.width*r/this.canvas.height:r===0&&(r=this.canvas.height*t/this.canvas.width),t=Math.floor(t),r=Math.floor(r);const n=document.createElement("canvas");if(n.width=t,n.height=r,this.gifProperties){const s=this.gifProperties,a=(o,l)=>{let d=0;for(let p=0;p<l.height;p++)for(let g=0;g<l.width;g++){const y=Math.floor(g*o.width/l.width);let S=(Math.floor(p*o.height/l.height)*o.width+y)*4;l.data[d++]=o.data[S++],l.data[d++]=o.data[S++],l.data[d++]=o.data[S++],l.data[d++]=o.data[S++]}};for(let o=0;o<s.numFrames;o++){const l=this.drawingContext.createImageData(t,r);a(s.frames[o].image,l),s.frames[o].image=l}}n.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,n.width,n.height),this.canvas.width=this.width=t,this.canvas.height=this.height=r,this.drawingContext.drawImage(n,0,0,t,r,0,0,t,r),this.pixels.length>0&&this.loadPixels(),this.setModified(!0)}copy(...t){let r,n,s,a,o,l,d,p,g;if(t.length===9)r=t[0],n=t[1],s=t[2],a=t[3],o=t[4],l=t[5],d=t[6],p=t[7],g=t[8];else if(t.length===8)r=this,n=t[0],s=t[1],a=t[2],o=t[3],l=t[4],d=t[5],p=t[6],g=t[7];else throw new Error("Signature not supported");this._copyHelper(this,r,n,s,a,o,l,d,p,g)}_copyHelper(t,r,n,s,a,o,l,d,p,g){const y=r.canvas.width/r.width;let x=0,S=0;r._renderer&&r._renderer.isP3D&&(x=r.width/2,S=r.height/2),t._renderer&&t._renderer.isP3D?(t.push(),t.resetMatrix(),t.noLights(),t.blendMode(t.BLEND),t.imageMode(t.CORNER),t._renderer.image(r,n+x,s+S,a,o,l,d,p,g),t.pop()):t.drawingContext.drawImage(r.canvas,y*(n+x),y*(s+S),y*a,y*o,l,d,p,g)}mask(t){t===void 0&&(t=this);const r=this.drawingContext.globalCompositeOperation;let n=this._pixelDensity,s=1;t instanceof _t&&(s=t._pInst._renderer._pixelDensity);const a=[t,0,0,s*t.width,s*t.height,0,0,n*this.width,n*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(let o=0;o<this.gifProperties.frames.length;o++)this.drawingContext.putImageData(this.gifProperties.frames[o].image,0,0),this.copy(...a),this.gifProperties.frames[o].image=this.drawingContext.getImageData(0,0,n*this.width,n*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy(...a);this.drawingContext.globalCompositeOperation=r,this.setModified(!0)}filter(t,r){dr.apply(this.canvas,dr[t],r),this.setModified(!0)}blend(...t){const r=this.drawingContext.globalCompositeOperation,n=t[t.length-1],s=Array.prototype.slice.call(t,0,t.length-1);this.drawingContext.globalCompositeOperation=n,this.copy(...s),this.drawingContext.globalCompositeOperation=r,this.setModified(!0)}setModified(t){this._modified=t}isModified(){return this._modified}save(t,r){if(this.gifProperties)pP(this,t);else{let n=this.canvas;r=r||Vd(t,r)[1]||"png";let s;switch(r){default:s="image/png";break;case"webp":s="image/webp";break;case"jpeg":case"jpg":s="image/jpeg";break}n.toBlob(a=>{Qv(a,t,r)},s)}}async toBlob(){return new Promise(t=>{this.canvas.toBlob(t)})}reset(){if(this.gifProperties){const t=this.gifProperties;t.playing=!0,t.timeSinceStart=0,t.timeDisplayed=0,t.lastChangeTime=0,t.loopCount=0,t.displayIndex=0,this.drawingContext.putImageData(t.frames[0].image,0,0)}}getCurrentFrame(){if(this.gifProperties){const t=this.gifProperties;return t.displayIndex%t.numFrames}}setFrame(t){if(this.gifProperties){const r=this.gifProperties;t<r.numFrames&&t>=0?(r.timeDisplayed=0,r.lastChangeTime=0,r.displayIndex=t,this.drawingContext.putImageData(r.frames[t].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}}numFrames(){if(this.gifProperties)return this.gifProperties.numFrames}play(){this.gifProperties&&(this.gifProperties.playing=!0)}pause(){this.gifProperties&&(this.gifProperties.playing=!1)}delay(t,r){if(this.gifProperties){const n=this.gifProperties;if(r<n.numFrames&&r>=0)n.frames[r].delay=t;else for(const s of n.frames)s.delay=t}}}function pP(i,t){const r=i.gifProperties;let n=r.loopLimit;n===1?n=null:n===null&&(n=0);const s=new Uint8Array(i.width*i.height*r.numFrames),a=[],o={};for(let D=0;D<r.numFrames;D++){const R=new Set,F=r.frames[D].image.data,T=F.length,U=new Uint32Array(i.width*i.height);for(let B=0,L=0;B<T;B+=4,L++){const V=F[B+0],H=F[B+1],z=F[B+2],G=V<<16|H<<8|z<<0;R.add(G),U[L]=G}const k=[...R].sort().toString();o[k]===void 0?o[k]={freq:1,frames:[D]}:(o[k].freq+=1,o[k].frames.push(D)),a.push(U)}let l=[];const d=Object.keys(o).sort(function(D,R){return o[R].freq-o[D].freq}),p=d[0].split(",").map(D=>parseInt(D));l=l.concat(o[p].frames);const g=new Set(p);for(let D=1;D<d.length;D++){const F=d[D].split(",").map(T=>parseInt(T)).filter(T=>!g.has(T));if(p.length+F.length<=256){for(let T=0;T<F.length;T++)p.push(F[T]),g.add(F[T]);l=l.concat(o[d[D]].frames)}}l=new Set(l);const y={};for(let D=0;D<p.length;D++)y[p[D]]||(y[p[D]]=D);let x=1;for(;x<p.length;)x<<=1;p.length=x;const S={loop:n,palette:new Uint32Array(p)},_=new omggif.GifWriter(s,i.width,i.height,S);let w={};for(let D=0;D<r.numFrames;D++){const R=!l.has(D),F=R?[]:p,T=new Uint8Array(i.width*i.height),U={},k=new Set;a[D].forEach((V,H)=>{R?(U[V]===void 0&&(U[V]=F.length,F.push(V)),T[H]=U[V]):T[H]=y[V],D>0&&a[D-1][H]!==V&&k.add(V)});const B={},L=F.filter(V=>!k.has(V));if(L.length>0){const V=L[0],H=R?U[V]:y[V];if(D>0){for(let z=0;z<a[D].length;z++)a[D-1][z]===a[D][z]&&(T[z]=H);B.transparent=H,w.frameOpts.disposal=1}}if(B.delay=r.frames[D].delay/10,R){let V=1;for(;V<F.length;)V<<=1;F.length=V,B.palette=new Uint32Array(F)}D>0&&_.addFrame(0,0,i.width,i.height,w.pixelPaletteIndex,w.frameOpts),w={pixelPaletteIndex:T,frameOpts:B}}w.frameOpts.disposal=1,_.addFrame(0,0,i.width,i.height,w.pixelPaletteIndex,w.frameOpts);const A="gif",P=new Blob([s.slice(0,_.end())],{type:"image/gif"});Qv(P,t,A)}function ID(i,t){i.Image=zi}typeof p5<"u"&&ID(p5,p5.prototype);class Jv{constructor(t={}){for(const r in t)this[r]=t[r]}clone(){return new Jv(this)}}const hp=class hp{constructor(t,r,n,s){this._pInst=t,this._isMainCanvas=s,this.pixels=[],this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this.width=r,this.height=n,this._events={},s&&(this._isMainCanvas=!0),this.states=new cP(hp.states),this.states.strokeColor=new Nr([0,0,0]),this.states.fillColor=new Nr([1,1,1]),this._pushPopStack=[],this._pushPopDepth=0,this._clipping=!1,this._clipInvert=!1,this._currentShape=void 0}get currentShape(){return this._currentShape||(this._currentShape=new RD(this.getCommonVertexProperties())),this._currentShape}remove(){}pixelDensity(t){let r;return typeof t=="number"?(t!==this._pixelDensity&&(this._pixelDensity=t),r=this,this.resize(this.width,this.height)):r=this._pixelDensity,r}push(){this._pushPopDepth++,this._pushPopStack.push(this.states.getDiff())}pop(){this._pushPopDepth--;const t=this._pushPopStack.pop()||{},r=this.states.getModified();this.states.applyDiff(t),this.updateShapeVertexProperties(r),this.updateShapeProperties(r)}bezierOrder(t){if(t===void 0)return this.states.bezierOrder;this.states.setValue("bezierOrder",t),this.updateShapeProperties()}bezierVertex(t,r,n=0,s=0,a=0){const o=new be(t,r,n),l=this.getSupportedIndividualVertexProperties().textureCoordinates?new be(s,a):void 0;this.currentShape.bezierVertex(o,l)}splineProperty(t,r){if(r===void 0)return this.states.splineProperties[t];this.states.setValue("splineProperties",this.states.splineProperties.clone()),this.states.splineProperties[t]=r,this.updateShapeProperties()}splineProperties(t){if(t)for(const r in t)this.splineProperty(r,t[r]);else return{...this.states.splineProperties}}splineVertex(t,r,n=0,s=0,a=0){const o=new be(t,r,n),l=this.getSupportedIndividualVertexProperties().textureCoordinates?new be(s,a):void 0;this.currentShape.splineVertex(o,l)}curveDetail(t){if(t===void 0)return this.states.curveDetail;this.states.setValue("curveDetail",t)}beginShape(...t){this.currentShape.reset(),this.updateShapeVertexProperties(),this.currentShape.beginShape(...t)}endShape(...t){this.currentShape.endShape(...t),this.drawShape(this.currentShape)}beginContour(t){this.currentShape.beginContour(t)}endContour(t){this.currentShape.endContour(t)}drawShape(t,r){throw new Error("Unimplemented")}vertex(t,r,n=0,s=0,a=0){const o=new be(t,r,n),l=this.getSupportedIndividualVertexProperties().textureCoordinates?new be(s,a):void 0;this.currentShape.vertex(o,l)}bezier(t,r,n,s,a,o,l,d){const p=this._pInst.bezierOrder();return this._pInst.bezierOrder(p),this._pInst.beginShape(),this._pInst.bezierVertex(t,r),this._pInst.bezierVertex(n,s),this._pInst.bezierVertex(a,o),this._pInst.bezierVertex(l,d),this._pInst.endShape(),this}spline(...t){if(t.length===2*4){const[r,n,s,a,o,l,d,p]=t;this._pInst.beginShape(),this._pInst.splineVertex(r,n),this._pInst.splineVertex(s,a),this._pInst.splineVertex(o,l),this._pInst.splineVertex(d,p),this._pInst.endShape()}else if(t.length===3*4){const[r,n,s,a,o,l,d,p,g,y,x,S]=t;this._pInst.beginShape(),this._pInst.splineVertex(r,n,s),this._pInst.splineVertex(a,o,l),this._pInst.splineVertex(d,p,g),this._pInst.splineVertex(y,x,S),this._pInst.endShape()}return this}beginClip(t={}){if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=t.invert}endClip(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}resize(t,r){this.width=t,this.height=r}get(t,r,n,s){const a=this._pixelDensity,o=this.canvas;if(typeof t>"u"&&typeof r>"u")t=r=0,n=this.width,s=this.height;else if(t*=a,r*=a,typeof n>"u"&&typeof s>"u")return t<0||r<0||t>=o.width||r>=o.height?[0,0,0,0]:this._getPixel(t,r);const l=new zi(n*a,s*a);return l.pixelDensity(a),l.canvas.getContext("2d").drawImage(o,t,r,n*a,s*a,0,0,n*a,s*a),l}scale(t,r){}fill(...t){this.states.setValue("fillSet",!0),this.states.setValue("fillColor",this._pInst.color(...t)),this.updateShapeVertexProperties()}noFill(){this.states.setValue("fillColor",null)}strokeWeight(t){if(t===void 0)return this.states.strokeWeight;this.states.setValue("strokeWeight",t)}stroke(...t){this.states.setValue("strokeSet",!0),this.states.setValue("strokeColor",this._pInst.color(...t)),this.updateShapeVertexProperties()}noStroke(){this.states.setValue("strokeColor",null)}getCommonVertexProperties(){return{}}getSupportedIndividualVertexProperties(){return{textureCoordinates:!1}}updateShapeProperties(t){if(!t||t.bezierOrder||t.splineProperties){const r=this.currentShape;r.bezierOrder(this.states.bezierOrder),r.splineProperty("ends",this.states.splineProperties.ends),r.splineProperty("tightness",this.states.splineProperties.tightness)}}updateShapeVertexProperties(t){const r=this.getCommonVertexProperties();if(!t||Object.keys(t).some(n=>n in r)){const n=this.currentShape;for(const s in r)n[s](r[s])}}_applyDefaults(){return this}};tr(hp,"states",{strokeColor:null,strokeSet:!1,fillColor:null,fillSet:!1,tint:null,imageMode:ci,rectMode:ci,ellipseMode:$n,strokeWeight:1,textFont:{family:"sans-serif"},textLeading:15,leadingSet:!1,textSize:12,textAlign:kA,textBaseline:PA,bezierOrder:3,splineProperties:new Jv({ends:zu,tightness:0}),textWrap:BA,fontStyle:rs,fontStretch:rs,fontWeight:rs,lineHeight:rs,fontVariant:rs,direction:"inherit"});let _t=hp;function gP(i,t){i.Renderer=_t}class oh extends Xt{constructor(t,r){super(t,r);const n=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],this.pixels=[],this._pixelsState=this,this._pixelDensity=1,this._modified=!1,this._frameOnCanvas=-1,Object.defineProperty(n,"src",{get(){const s=n.elt.children[0].src,a=n.elt.src===window.location.href?"":n.elt.src;return s===window.location.href?a:s},set(s){for(let o=0;o<n.elt.children.length;o++)n.elt.removeChild(n.elt.children[o]);const a=document.createElement("source");a.src=s,t.appendChild(a),n.elt.src=s,n.modified=!0}}),n._onended=function(){},n.elt.onended=function(){n._onended(n)}}play(){this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0);let t;return this.elt.readyState>1?t=this.elt.play():(this.elt.load(),t=this.elt.play()),t&&t.catch&&t.catch(r=>{r.name==="NotAllowedError"?typeof IS_MINIFIED>"u"?p5._friendlyAutoplayError(this.src):console.error(r):console.error("Media play method encountered an unexpected error",r)}),this}stop(){return this.elt.pause(),this.elt.currentTime=0,this}pause(){return this.elt.pause(),this}loop(){return this.elt.setAttribute("loop",!0),this.play(),this}noLoop(){return this.elt.removeAttribute("loop"),this}_setupAutoplayFailDetection(){const t=setTimeout(()=>{typeof IS_MINIFIED>"u"?p5._friendlyAutoplayError(this.src):console.error(e)},500);this.elt.addEventListener("play",()=>clearTimeout(t),{passive:!0,once:!0})}autoplay(t){const r=this.elt.getAttribute("autoplay");if(this.elt.setAttribute("autoplay",t),t&&!r){const n=()=>this._setupAutoplayFailDetection();this.elt.readyState===4?n():this.elt.addEventListener("canplay",n,{passive:!0,once:!0})}return this}volume(t){if(typeof t>"u")return this.elt.volume;this.elt.volume=t}speed(t){if(typeof t>"u")return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=t:this.presetPlaybackRate=t}time(t){return typeof t>"u"?this.elt.currentTime:(this.elt.currentTime=t,this)}duration(){return this.elt.duration}_ensureCanvas(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));const t=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&t&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}loadPixels(...t){return this._ensureCanvas(),p5.Renderer2D.prototype.loadPixels.apply(this,t)}updatePixels(t,r,n,s){return this.loadedmetadata&&(this._ensureCanvas(),p5.Renderer2D.prototype.updatePixels.call(this,t,r,n,s)),this.setModified(!0),this}get(...t){return this._ensureCanvas(),p5.Renderer2D.prototype.get.apply(this,t)}_getPixel(...t){return this.loadPixels(),p5.Renderer2D.prototype._getPixel.apply(this,t)}set(t,r,n){this.loadedmetadata&&(this._ensureCanvas(),p5.Renderer2D.prototype.set.call(this,t,r,n),this.setModified(!0))}copy(...t){this._ensureCanvas(),fn.copy.apply(this,t)}mask(...t){this.loadPixels(),this.setModified(!0),p5.Image.prototype.mask.apply(this,t)}isModified(){return this._modified}setModified(t){this._modified=t}onended(t){return this._onended=t,this}connect(t){let r,n;if(typeof fn.getAudioContext=="function")r=fn.getAudioContext(),n=p5.soundOut.input;else try{r=t.context,n=r.destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=r.createMediaElementSource(this.elt),this.audioSourceNode.connect(n)),t?t.input?this.audioSourceNode.connect(t.input):this.audioSourceNode.connect(t):this.audioSourceNode.connect(n)}disconnect(){if(this.audioSourceNode)this.audioSourceNode.disconnect();else throw"nothing to disconnect"}showControls(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}hideControls(){this.elt.controls=!1}addCue(t,r,n){const s=this._cueIDCounter++,a=new mP(r,t,s,n);return this._cues.push(a),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),s}removeCue(t){for(let r=0;r<this._cues.length;r++)this._cues[r].id===t&&(console.log(t),this._cues.splice(r,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}clearCues(){this._cues=[],this.elt.ontimeupdate=null}_onTimeUpdate(){const t=this.time();for(let r=0;r<this._cues.length;r++){const n=this._cues[r].time,s=this._cues[r].val;this._prevTime<n&&n<=t&&this._cues[r].callback(s)}this._prevTime=t}}class mP{constructor(t,r,n,s){this.callback=t,this.time=r,this.id=n,this.val=s}}function BD(i,t){function r(s,a,o){(a._userNode?a._userNode:document.body).appendChild(s);const d=o?new oh(s,a):new Xt(s,a);return a._elements.push(d),d}function n(s,a,o,l){const d=document.createElement(a);o=o||"",typeof o=="string"&&(o=[o]);for(const g of o){const y=document.createElement("source");y.setAttribute("src",g),d.appendChild(y)}if(typeof l=="function"){const g=()=>{l(),d.removeEventListener("canplaythrough",g)};d.addEventListener("canplaythrough",g)}const p=r(d,s,!0);return p.loadedmetadata=!1,d.addEventListener("loadedmetadata",()=>{p.width=d.videoWidth,p.height=d.videoHeight,p.elt.width===0&&(p.elt.width=d.videoWidth),p.elt.height===0&&(p.elt.height=d.videoHeight),p.presetPlaybackRate&&(p.elt.playbackRate=p.presetPlaybackRate,delete p.presetPlaybackRate),p.loadedmetadata=!0}),p}t.createVideo=function(s,a){return n(this,"video",s,a)},t.createAudio=function(s,a){return n(this,"audio",s,a)},t.VIDEO="video",t.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(s){const a=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return a?new Promise(function(o,l){a.call(navigator,s,o,l)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),t.createCapture=function(...s){if(!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia))throw new DOMException("getUserMedia not supported in this browser");let a=!0,o=!0,l,d,p=!1;for(const S of s)S===t.VIDEO?o=!1:S===t.AUDIO?a=!1:typeof S=="object"?(S.flipped!==void 0&&(p=S.flipped,delete S.flipped),l=Object.assign({},l,S)):typeof S=="function"&&(d=S);l=Object.assign({},{video:a,audio:o},l);const y=document.createElement("video");y.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(l).then(function(S){try{"srcObject"in y?y.srcObject=S:y.src=window.URL.createObjectURL(S)}catch{y.src=S}}).catch(S=>{S.name==="NotFoundError"&&i._friendlyError("No webcam found on this device","createCapture"),S.name==="NotAllowedError"&&i._friendlyError("Access to the camera was denied","createCapture"),console.error(S)});const x=r(y,this,!0);return x.loadedmetadata=!1,y.addEventListener("loadedmetadata",function(){y.play(),y.width?(x.width=y.width,x.height=y.height,p&&(x.elt.style.transform="scaleX(-1)")):(x.width=x.elt.width=y.videoWidth,x.height=x.elt.height=y.videoHeight),x.loadedmetadata=!0,d&&d(y.srcObject)}),x.flipped=p,x},i.MediaElement=oh}typeof p5<"u"&&BD(p5,p5.prototype);function yP(i,t,r,n,s){let a;return s===ci?a={x:i,y:t,w:Math.abs(r),h:Math.abs(n)}:s===Zc?a={x:Math.min(i,r),y:Math.min(t,n),w:Math.abs(r-i),h:Math.abs(n-t)}:s===Kc?(r=Math.abs(r),n=Math.abs(n),a={x:i-r,y:t-n,w:2*r,h:2*n}):s===$n&&(r=Math.abs(r),n=Math.abs(n),a={x:i-r*.5,y:t-n*.5,w:r,h:n}),a}var yd={modeAdjust:yP};function e1(i,t){t._normalizeArcAngles=(r,n,s,a,o)=>{let d;return r=r-kn*Math.floor(r/kn),n=n-kn*Math.floor(n/kn),d=Math.min(Math.abs(r-n),kn-Math.abs(r-n)),o&&(r<=ho?r=Math.atan(s/a*Math.tan(r)):r>ho&&r<=3*ho?r=Math.atan(s/a*Math.tan(r))+Cy:r=Math.atan(s/a*Math.tan(r))+kn,n<=ho?n=Math.atan(s/a*Math.tan(n)):n>ho&&n<=3*ho?n=Math.atan(s/a*Math.tan(n))+Cy:n=Math.atan(s/a*Math.tan(n))+kn),r>n&&(n+=kn),{start:r,stop:n,correspondToSamePoint:d<1e-5}},t.arc=function(r,n,s,a,o,l,d,p){if(!this._renderer.states.strokeColor&&!this._renderer.states.fillColor)return this;if(o===l)return this;o=this._toRadians(o),l=this._toRadians(l);const g=yd.modeAdjust(r,n,s,a,this._renderer.states.ellipseMode),y=this._normalizeArcAngles(o,l,g.w,g.h,!0);return y.correspondToSamePoint?this._renderer.ellipse([g.x,g.y,g.w,g.h,p]):(this._renderer.arc(g.x,g.y,g.w,g.h,y.start,y.stop,d,p),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[g.x,g.y,g.w,g.h,y.start,y.stop,d])),this},t.ellipse=function(r,n,s,a,o){return this._renderEllipse(...arguments)},t.circle=function(...r){const n=r.slice(0,2);return n.push(r[2],r[2]),this._renderEllipse(...n)},t._renderEllipse=function(r,n,s,a,o){if(!this._renderer.states.strokeColor&&!this._renderer.states.fillColor)return this;typeof a>"u"&&(a=s);const l=yd.modeAdjust(r,n,s,a,this._renderer.states.ellipseMode);return this._renderer.ellipse([l.x,l.y,l.w,l.h,o]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[l.x,l.y,l.w,l.h]),this},t.line=function(...r){return this._renderer.states.strokeColor&&this._renderer.line(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",r),this},t.point=function(...r){return this._renderer.states.strokeColor&&(r.length===1&&r[0]instanceof i.Vector?this._renderer.point.call(this._renderer,r[0].x,r[0].y,r[0].z):(this._renderer.point(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",r))),this},t.quad=function(...r){return(this._renderer.states.strokeColor||this._renderer.states.fillColor)&&(this._renderer.isP3D&&r.length<12?this._renderer.quad.call(this._renderer,r[0],r[1],0,r[2],r[3],0,r[4],r[5],0,r[6],r[7],0,r[8],r[9]):(this._renderer.quad(...r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",r))),this},t.rect=function(...r){return this._renderRect(...r)},t.square=function(r,n,s,a,o,l,d){return this._renderRect.call(this,r,n,s,s,a,o,l,d)},t._renderRect=function(){if(this._renderer.states.strokeColor||this._renderer.states.fillColor){arguments.length===3&&(arguments[3]=arguments[2]);const r=yd.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer.states.rectMode);this._renderer.states.rectMode===ci&&(r.w=arguments[2],r.h=arguments[3]);const n=[r.x,r.y,r.w,r.h];for(let s=4;s<arguments.length;s++)n[s]=arguments[s];this._renderer.rect(n),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[r.x,r.y,r.w,r.h])}return this},t.triangle=function(...r){return(this._renderer.states.strokeColor||this._renderer.states.fillColor)&&this._renderer.triangle(r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",r),this}}typeof p5<"u"&&e1(p5,p5.prototype);function t1(i,t){t.ellipseMode=function(r){return(r===ci||r===Zc||r===Kc||r===$n)&&this._renderer.states.setValue("ellipseMode",r),this},t.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},t.rectMode=function(r){return(r===ci||r===Zc||r===Kc||r===$n)&&this._renderer.states.setValue("rectMode",r),this},t.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},t.strokeCap=function(r){return(r===Ra||r===kv||r===Mv)&&this._renderer.strokeCap(r),this},t.strokeJoin=function(r){return(r===Ra||r===Pv||r===Lv)&&this._renderer.strokeJoin(r),this},t.strokeWeight=function(r){return this._renderer.strokeWeight(r),this}}typeof p5<"u"&&t1(p5,p5.prototype);function r1(i,t){t.bezier=function(...r){return!this._renderer.states.strokeColor&&!this._renderer.states.fillColor?this:(this._renderer.bezier(...r),this)},t.bezierPoint=function(r,n,s,a,o){const l=1-o;return Math.pow(l,3)*r+3*Math.pow(l,2)*o*n+3*l*Math.pow(o,2)*s+Math.pow(o,3)*a},t.bezierTangent=function(r,n,s,a,o){const l=1-o;return 3*a*Math.pow(o,2)-3*s*Math.pow(o,2)+6*s*l*o-6*n*l*o+3*n*Math.pow(l,2)-3*r*Math.pow(l,2)},t.spline=function(...r){return!this._renderer.states.strokeColor&&!this._renderer.states.fillColor?this:(this._renderer.spline(...r),this)},t.splinePoint=function(r,n,s,a,o){const l=this._renderer.states.splineProperties.tightness,d=o*o*o,p=o*o,g=(l-1)/2*d+(1-l)*p+(l-1)/2*o,y=(l+3)/2*d+(-5-l)/2*p+1,x=(-3-l)/2*d+(l+2)*p+(1-l)/2*o,S=(1-l)/2*d+(l-1)/2*p;return r*g+n*y+s*x+a*S},t.splineTangent=function(r,n,s,a,o){const l=this._renderer.states.splineProperties.tightness,d=o*o*3,p=o*2,g=(l-1)/2*d+(1-l)*p+(l-1)/2,y=(l+3)/2*d+(-5-l)/2*p,x=(-3-l)/2*d+(l+2)*p+(1-l)/2,S=(1-l)/2*d+(l-1)/2*p;return r*g+n*y+s*x+a*S}}typeof p5<"u"&&r1(p5,p5.prototype);function n1(i,t){t.beginShape=function(r){this._renderer.beginShape(...arguments)},t.bezierVertex=function(...r){this._renderer.bezierVertex(...r)},t.endShape=function(r,n=1){n<1&&(console.log("🌸 p5.js says: You can not have less than one instance"),n=1),this._renderer.endShape(r,n)},t.normal=function(r,n,s){return this._assert3d("normal"),this._renderer.normal(...arguments),this},t.vertexProperty=function(r,n){this._renderer.vertexProperty(r,n)}}typeof p5<"u"&&n1(p5,p5.prototype);function i1(i,t){t.beginClip=function(r={}){this._renderer.beginClip(r)},t.endClip=function(){this._renderer.endClip()},t.clip=function(r,n){this._renderer.beginClip(n),r(),this._renderer.endClip(n)},t.background=function(...r){return this._renderer.background(...r),this},t.clear=function(...r){const n=r[0]||0,s=r[1]||0,a=r[2]||0,o=r[3]||0;return this._renderer.clear(n,s,a,o),this},t.colorMode=function(r,n,s,a,o){if([Tr,Pn,Ei,Wn,qu,sh,$u,ah,Wu].includes(r)){this._renderer.states.setValue("colorMode",r),this._renderer.states.setValue("colorMaxes",this._renderer.states.colorMaxes.clone());const l=this._renderer.states.colorMaxes[r];arguments.length===2?(l[0]=n,l[1]=n,l[2]=n,l[3]=n):arguments.length===4?(l[0]=n,l[1]=s,l[2]=a):arguments.length===5&&(l[0]=n,l[1]=s,l[2]=a,l[3]=o)}return this._renderer.states.colorMode},t.fill=function(...r){return this._renderer.fill(...r),this},t.noFill=function(){return this._renderer.noFill(),this},t.noStroke=function(){return this._renderer.states.setValue("strokeColor",null),this},t.stroke=function(...r){return this._renderer.stroke(...r),this},t.erase=function(r=255,n=255){return this._renderer.erase(r,n),this},t.noErase=function(){return this._renderer.noErase(),this},t.blendMode=function(r){r===rs&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),r=Ln),this._renderer.blendMode(r)}}typeof p5<"u"&&i1(p5,p5.prototype);var Qf={},KS;function vP(){if(KS)return Qf;KS=1;function i(s,a,o,p){var d=0,p=p===void 0?{}:p,g=p.loop===void 0?null:p.loop,y=p.palette===void 0?null:p.palette;if(a<=0||o<=0||a>65535||o>65535)throw new Error("Width/Height invalid.");function x(F){var T=F.length;if(T<2||T>256||T&T-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return T}s[d++]=71,s[d++]=73,s[d++]=70,s[d++]=56,s[d++]=57,s[d++]=97;var S=0,_=0;if(y!==null){for(var w=x(y);w>>=1;)++S;if(w=1<<S,--S,p.background!==void 0){if(_=p.background,_>=w)throw new Error("Background index out of range.");if(_===0)throw new Error("Background index explicitly passed as 0.")}}if(s[d++]=a&255,s[d++]=a>>8&255,s[d++]=o&255,s[d++]=o>>8&255,s[d++]=(y!==null?128:0)|S,s[d++]=_,s[d++]=0,y!==null)for(var A=0,P=y.length;A<P;++A){var D=y[A];s[d++]=D>>16&255,s[d++]=D>>8&255,s[d++]=D&255}if(g!==null){if(g<0||g>65535)throw new Error("Loop count invalid.");s[d++]=33,s[d++]=255,s[d++]=11,s[d++]=78,s[d++]=69,s[d++]=84,s[d++]=83,s[d++]=67,s[d++]=65,s[d++]=80,s[d++]=69,s[d++]=50,s[d++]=46,s[d++]=48,s[d++]=3,s[d++]=1,s[d++]=g&255,s[d++]=g>>8&255,s[d++]=0}var R=!1;this.addFrame=function(F,T,U,k,B,L){if(R===!0&&(--d,R=!1),L=L===void 0?{}:L,F<0||T<0||F>65535||T>65535)throw new Error("x/y invalid.");if(U<=0||k<=0||U>65535||k>65535)throw new Error("Width/Height invalid.");if(B.length<U*k)throw new Error("Not enough pixels for the frame size.");var V=!0,H=L.palette;if(H==null&&(V=!1,H=y),H==null)throw new Error("Must supply either a local or global palette.");for(var z=x(H),G=0;z>>=1;)++G;z=1<<G;var K=L.delay===void 0?0:L.delay,le=L.disposal===void 0?0:L.disposal;if(le<0||le>3)throw new Error("Disposal out of range.");var ne=!1,de=0;if(L.transparent!==void 0&&L.transparent!==null&&(ne=!0,de=L.transparent,de<0||de>=z))throw new Error("Transparent color index.");if((le!==0||ne||K!==0)&&(s[d++]=33,s[d++]=249,s[d++]=4,s[d++]=le<<2|(ne===!0?1:0),s[d++]=K&255,s[d++]=K>>8&255,s[d++]=de,s[d++]=0),s[d++]=44,s[d++]=F&255,s[d++]=F>>8&255,s[d++]=T&255,s[d++]=T>>8&255,s[d++]=U&255,s[d++]=U>>8&255,s[d++]=k&255,s[d++]=k>>8&255,s[d++]=V===!0?128|G-1:0,V===!0)for(var ve=0,xe=H.length;ve<xe;++ve){var Q=H[ve];s[d++]=Q>>16&255,s[d++]=Q>>8&255,s[d++]=Q&255}return d=t(s,d,G<2?2:G,B),d},this.end=function(){return R===!1&&(s[d++]=59,R=!0),d},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(F){s=F},this.getOutputBufferPosition=function(){return d},this.setOutputBufferPosition=function(F){d=F}}function t(s,a,o,l){s[a++]=o;var d=a++,p=1<<o,g=p-1,y=p+1,x=y+1,S=o+1,_=0,w=0;function A(L){for(;_>=L;)s[a++]=w&255,w>>=8,_-=8,a===d+256&&(s[d]=255,d=a++)}function P(L){w|=L<<_,_+=S,A(8)}var D=l[0]&g,R={};P(p);for(var F=1,T=l.length;F<T;++F){var U=l[F]&g,k=D<<8|U,B=R[k];if(B===void 0){for(w|=D<<_,_+=S;_>=8;)s[a++]=w&255,w>>=8,_-=8,a===d+256&&(s[d]=255,d=a++);x===4096?(P(p),x=y+1,S=o+1,R={}):(x>=1<<S&&++S,R[k]=x++),D=U}else D=B}return P(D),P(y),A(1),d+1===a?s[d]=0:(s[d]=a-d-1,s[a++]=0),a}function r(s){var a=0;if(s[a++]!==71||s[a++]!==73||s[a++]!==70||s[a++]!==56||(s[a++]+1&253)!==56||s[a++]!==97)throw new Error("Invalid GIF 87a/89a header.");var o=s[a++]|s[a++]<<8,l=s[a++]|s[a++]<<8,d=s[a++],p=d>>7,g=d&7,y=1<<g+1;s[a++],s[a++];var x=null,S=null;p&&(x=a,S=y,a+=y*3);var _=!0,w=[],A=0,P=null,D=0,R=null;for(this.width=o,this.height=l;_&&a<s.length;)switch(s[a++]){case 33:switch(s[a++]){case 255:if(s[a]!==11||s[a+1]==78&&s[a+2]==69&&s[a+3]==84&&s[a+4]==83&&s[a+5]==67&&s[a+6]==65&&s[a+7]==80&&s[a+8]==69&&s[a+9]==50&&s[a+10]==46&&s[a+11]==48&&s[a+12]==3&&s[a+13]==1&&s[a+16]==0)a+=14,R=s[a++]|s[a++]<<8,a++;else for(a+=12;;){var F=s[a++];if(!(F>=0))throw Error("Invalid block size");if(F===0)break;a+=F}break;case 249:if(s[a++]!==4||s[a+4]!==0)throw new Error("Invalid graphics extension block.");var T=s[a++];A=s[a++]|s[a++]<<8,P=s[a++],(T&1)===0&&(P=null),D=T>>2&7,a++;break;case 254:for(;;){var F=s[a++];if(!(F>=0))throw Error("Invalid block size");if(F===0)break;a+=F}break;default:throw new Error("Unknown graphic control label: 0x"+s[a-1].toString(16))}break;case 44:var U=s[a++]|s[a++]<<8,k=s[a++]|s[a++]<<8,B=s[a++]|s[a++]<<8,L=s[a++]|s[a++]<<8,V=s[a++],H=V>>7,z=V>>6&1,G=V&7,K=1<<G+1,le=x,ne=S,de=!1;if(H){var de=!0;le=a,ne=K,a+=K*3}var ve=a;for(a++;;){var F=s[a++];if(!(F>=0))throw Error("Invalid block size");if(F===0)break;a+=F}w.push({x:U,y:k,width:B,height:L,has_local_palette:de,palette_offset:le,palette_size:ne,data_offset:ve,data_length:a-ve,transparent_index:P,interlaced:!!z,delay:A,disposal:D});break;case 59:_=!1;break;default:throw new Error("Unknown gif block: 0x"+s[a-1].toString(16))}this.numFrames=function(){return w.length},this.loopCount=function(){return R},this.frameInfo=function(xe){if(xe<0||xe>=w.length)throw new Error("Frame index out of range.");return w[xe]},this.decodeAndBlitFrameBGRA=function(xe,Q){var oe=this.frameInfo(xe),ae=oe.width*oe.height,ge=new Uint8Array(ae);n(s,oe.data_offset,ge,ae);var me=oe.palette_offset,Ae=oe.transparent_index;Ae===null&&(Ae=256);var Ce=oe.width,$e=o-Ce,Ye=Ce,Le=(oe.y*o+oe.x)*4,Re=((oe.y+oe.height)*o+oe.x)*4,Ne=Le,Ge=$e*4;oe.interlaced===!0&&(Ge+=o*4*7);for(var Xe=8,Be=0,se=ge.length;Be<se;++Be){var te=ge[Be];if(Ye===0&&(Ne+=Ge,Ye=Ce,Ne>=Re&&(Ge=$e*4+o*4*(Xe-1),Ne=Le+(Ce+$e)*(Xe<<1),Xe>>=1)),te===Ae)Ne+=4;else{var ce=s[me+te*3],_e=s[me+te*3+1],Me=s[me+te*3+2];Q[Ne++]=Me,Q[Ne++]=_e,Q[Ne++]=ce,Q[Ne++]=255}--Ye}},this.decodeAndBlitFrameRGBA=function(xe,Q){var oe=this.frameInfo(xe),ae=oe.width*oe.height,ge=new Uint8Array(ae);n(s,oe.data_offset,ge,ae);var me=oe.palette_offset,Ae=oe.transparent_index;Ae===null&&(Ae=256);var Ce=oe.width,$e=o-Ce,Ye=Ce,Le=(oe.y*o+oe.x)*4,Re=((oe.y+oe.height)*o+oe.x)*4,Ne=Le,Ge=$e*4;oe.interlaced===!0&&(Ge+=o*4*7);for(var Xe=8,Be=0,se=ge.length;Be<se;++Be){var te=ge[Be];if(Ye===0&&(Ne+=Ge,Ye=Ce,Ne>=Re&&(Ge=$e*4+o*4*(Xe-1),Ne=Le+(Ce+$e)*(Xe<<1),Xe>>=1)),te===Ae)Ne+=4;else{var ce=s[me+te*3],_e=s[me+te*3+1],Me=s[me+te*3+2];Q[Ne++]=ce,Q[Ne++]=_e,Q[Ne++]=Me,Q[Ne++]=255}--Ye}}}function n(s,a,o,l){for(var d=s[a++],p=1<<d,g=p+1,y=g+1,x=d+1,S=(1<<x)-1,_=0,w=0,A=0,P=s[a++],D=new Int32Array(4096),R=null;;){for(;_<16&&P!==0;)w|=s[a++]<<_,_+=8,P===1?P=s[a++]:--P;if(_<x)break;var F=w&S;if(w>>=x,_-=x,F===p){y=g+1,x=d+1,S=(1<<x)-1,R=null;continue}else if(F===g)break;for(var T=F<y?F:R,U=0,k=T;k>p;)k=D[k]>>8,++U;var B=k,L=A+U+(T!==F?1:0);if(L>l){console.log("Warning, gif stream longer than expected.");return}o[A++]=B,A+=U;var V=A;for(T!==F&&(o[A++]=B),k=T;U--;)k=D[k],o[--V]=k&255,k>>=8;R!==null&&y<4096&&(D[y++]=R<<8|B,y>=S+1&&x<12&&(++x,S=S<<1|1)),R=F}return A!==l&&console.log("Warning, gif stream shorter than expected."),o}try{Qf.GifWriter=i,Qf.GifReader=r}catch{}return Qf}var UD=vP();function bP(i,t,r=n=>n){const n=Object.create(null);if(n.options=t||{},n.reviver=r,n.value="",n.entry=[],n.output=[],n.col=1,n.row=1,n.options.delimiter=n.options.delimiter===void 0?'"':t.delimiter,n.options.delimiter.length>1||n.options.delimiter.length===0)throw Error(`CSVError: delimiter must be one character [${n.options.separator}]`);if(n.options.separator=n.options.separator===void 0?",":t.separator,n.options.separator.length>1||n.options.separator.length===0)throw Error(`CSVError: separator must be one character [${n.options.separator}]`);const s=new RegExp(`${Uu(n.options.delimiter)}|${Uu(n.options.separator)}|\r
|
|\r|[^${Uu(n.options.delimiter)}${Uu(n.options.separator)}\r
]+`,"y"),a=/^(\r\n|\n|\r)$/;let o=[],l="",d=0;for(;(o=s.exec(i))!==null;)switch(l=o[0],d){case 0:switch(!0){case l===n.options.delimiter:d=3;break;case l===n.options.separator:d=0,uo(n);break;case a.test(l):d=0,uo(n),Jf(n);break;default:n.value+=l,d=2;break}break;case 2:switch(!0){case l===n.options.separator:d=0,uo(n);break;case a.test(l):d=0,uo(n),Jf(n);break;default:throw d=4,Error(`CSVError: Illegal state [row:${n.row}, col:${n.col}]`)}break;case 3:switch(!0){case l===n.options.delimiter:d=4;break;default:d=3,n.value+=l;break}break;case 4:switch(!0){case l===n.options.delimiter:d=3,n.value+=l;break;case l===n.options.separator:d=0,uo(n);break;case a.test(l):d=0,uo(n),Jf(n);break;default:throw Error(`CSVError: Illegal state [row:${n.row}, col:${n.col}]`)}break}return n.entry.length!==0&&(uo(n),Jf(n)),n.output}function xP(i,t={},r=n=>n){const n=Object.create(null);if(n.options=t,n.options.eof=n.options.eof!==void 0?n.options.eof:!0,n.row=1,n.col=1,n.output="",n.options.delimiter=n.options.delimiter===void 0?'"':t.delimiter,n.options.delimiter.length>1||n.options.delimiter.length===0)throw Error(`CSVError: delimiter must be one character [${n.options.separator}]`);if(n.options.separator=n.options.separator===void 0?",":t.separator,n.options.separator.length>1||n.options.separator.length===0)throw Error(`CSVError: separator must be one character [${n.options.separator}]`);const s=new RegExp(`${Uu(n.options.delimiter)}|${Uu(n.options.separator)}|\r
|
|\r`);return i.forEach((a,o)=>{let l="";switch(n.col=1,a.forEach((d,p)=>{typeof d=="string"&&(d=d.replace(new RegExp(n.options.delimiter,"g"),`${n.options.delimiter}${n.options.delimiter}`),d=s.test(d)?`${n.options.delimiter}${d}${n.options.delimiter}`:d),l+=r(d,n.row,n.col),p!==a.length-1&&(l+=n.options.separator),n.col++}),!0){case n.options.eof:case(!n.options.eof&&o!==i.length-1):n.output+=`${l}
`;break;default:n.output+=`${l}`;break}n.row++}),n.output}function uo(i){const t=i.options.typed?_P(i.value):i.value;i.entry.push(i.reviver(t,i.row,i.col)),i.value="",i.col++}function Jf(i){i.output.push(i.entry),i.entry=[],i.row++,i.col=1}function _P(i){const t=/.\./;switch(!0){case i==="true":case i==="false":return i==="true";case t.test(i):return parseFloat(i);case isFinite(i):return parseInt(i);default:return i}}function Uu(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var SP={trailer:59};function VD(i=256){let t=0,r=new Uint8Array(i);return{get buffer(){return r.buffer},reset(){t=0},bytesView(){return r.subarray(0,t)},bytes(){return r.slice(0,t)},writeByte(s){n(t+1),r[t]=s,t++},writeBytes(s,a=0,o=s.length){n(t+o);for(let l=0;l<o;l++)r[t++]=s[l+a]},writeBytesView(s,a=0,o=s.byteLength){n(t+o),r.set(s.subarray(a,a+o),t),t+=o}};function n(s){var a=r.length;if(a>=s)return;var o=1024*1024;s=Math.max(s,a*(a<o?2:1.125)>>>0),a!=0&&(s=Math.max(s,256));let l=r;r=new Uint8Array(s),t>0&&r.set(l.subarray(0,t),0)}}var Sm=12,QS=5003,wP=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function EP(i,t,r,n,s=VD(512),a=new Uint8Array(256),o=new Int32Array(QS),l=new Int32Array(QS)){let d=o.length,p=Math.max(2,n);a.fill(0),l.fill(0),o.fill(-1);let g=0,y=0,x=p+1,S=x,_=!1,w=S,A=(1<<w)-1,P=1<<x-1,D=P+1,R=P+2,F=0,T=r[0],U=0;for(let L=d;L<65536;L*=2)++U;U=8-U,s.writeByte(p),B(P);let k=r.length;for(let L=1;L<k;L++)e:{let V=r[L],H=(V<<Sm)+T,z=V<<U^T;if(o[z]===H){T=l[z];break e}let G=z===0?1:d-z;for(;o[z]>=0;)if(z-=G,z<0&&(z+=d),o[z]===H){T=l[z];break e}B(T),T=V,R<1<<Sm?(l[z]=R++,o[z]=H):(o.fill(-1),R=P+2,_=!0,B(P))}return B(T),B(D),s.writeByte(0),s.bytesView();function B(L){for(g&=wP[y],y>0?g|=L<<y:g=L,y+=w;y>=8;)a[F++]=g&255,F>=254&&(s.writeByte(F),s.writeBytesView(a,0,F),F=0),g>>=8,y-=8;if((R>A||_)&&(_?(w=S,A=(1<<w)-1,_=!1):(++w,A=w===Sm?1<<w:(1<<w)-1)),L==D){for(;y>0;)a[F++]=g&255,F>=254&&(s.writeByte(F),s.writeBytesView(a,0,F),F=0),g>>=8,y-=8;F>0&&(s.writeByte(F),s.writeBytesView(a,0,F),F=0)}}}var CP=EP;function AP(i,t,r){return i<<8&63488|t<<2&992|r>>3}function DP(i,t,r,n){return i>>4|t&240|(r&240)<<4|(n&240)<<8}function TP(i,t,r){return i>>4<<8|t&240|r>>4}function ed(i,t,r){return i<t?t:i>r?r:i}function vd(i){return i*i}function JS(i,t,r){var n=0,s=1e100;let a=i[t],o=a.cnt;a.ac;let l=a.rc,d=a.gc,p=a.bc;for(var g=a.fw;g!=0;g=i[g].fw){let x=i[g],S=x.cnt,_=o*S/(o+S);if(!(_>=s)){var y=0;y+=_*vd(x.rc-l),!(y>=s)&&(y+=_*vd(x.gc-d),!(y>=s)&&(y+=_*vd(x.bc-p),!(y>=s)&&(s=y,n=g)))}}a.err=s,a.nn=n}function wm(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function NP(i,t){let r=t==="rgb444"?4096:65536,n=new Array(r),s=i.length;if(t==="rgba4444")for(let a=0;a<s;++a){let o=i[a],l=o>>24&255,d=o>>16&255,p=o>>8&255,g=o&255,y=DP(g,p,d,l),x=y in n?n[y]:n[y]=wm();x.rc+=g,x.gc+=p,x.bc+=d,x.ac+=l,x.cnt++}else if(t==="rgb444")for(let a=0;a<s;++a){let o=i[a],l=o>>16&255,d=o>>8&255,p=o&255,g=TP(p,d,l),y=g in n?n[g]:n[g]=wm();y.rc+=p,y.gc+=d,y.bc+=l,y.cnt++}else for(let a=0;a<s;++a){let o=i[a],l=o>>16&255,d=o>>8&255,p=o&255,g=AP(p,d,l),y=g in n?n[g]:n[g]=wm();y.rc+=p,y.gc+=d,y.bc+=l,y.cnt++}return n}function OP(i,t,r={}){let{format:n="rgb565",clearAlpha:s=!0,clearAlphaColor:a=0,clearAlphaThreshold:o=0,oneBitAlpha:l=!1}=r;if(!i||!i.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(i instanceof Uint8Array)&&!(i instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");let d=new Uint32Array(i.buffer),p=r.useSqrt!==!1,g=n==="rgba4444",y=NP(d,n),x=y.length,S=x-1,_=new Uint32Array(x+1);for(var w=0,A=0;A<x;++A){let K=y[A];if(K!=null){var P=1/K.cnt;g&&(K.ac*=P),K.rc*=P,K.gc*=P,K.bc*=P,y[w++]=K}}vd(t)/w<.022&&(p=!1);for(var A=0;A<w-1;++A)y[A].fw=A+1,y[A+1].bk=A,p&&(y[A].cnt=Math.sqrt(y[A].cnt));p&&(y[A].cnt=Math.sqrt(y[A].cnt));var D,R,F;for(A=0;A<w;++A){JS(y,A);var T=y[A].err;for(R=++_[0];R>1&&(F=R>>1,!(y[D=_[F]].err<=T));R=F)_[R]=D;_[R]=A}var U=w-t;for(A=0;A<U;){for(var k;;){var B=_[1];if(k=y[B],k.tm>=k.mtm&&y[k.nn].mtm<=k.tm)break;k.mtm==S?B=_[1]=_[_[0]--]:(JS(y,B),k.tm=A);var T=y[B].err;for(R=1;(F=R+R)<=_[0]&&(F<_[0]&&y[_[F]].err>y[_[F+1]].err&&F++,!(T<=y[D=_[F]].err));R=F)_[R]=D;_[R]=B}var L=y[k.nn],V=k.cnt,H=L.cnt,P=1/(V+H);g&&(k.ac=P*(V*k.ac+H*L.ac)),k.rc=P*(V*k.rc+H*L.rc),k.gc=P*(V*k.gc+H*L.gc),k.bc=P*(V*k.bc+H*L.bc),k.cnt+=L.cnt,k.mtm=++A,y[L.bk].fw=L.fw,y[L.fw].bk=L.bk,L.mtm=S}let z=[];var G=0;for(A=0;;++G){let K=ed(Math.round(y[A].rc),0,255),le=ed(Math.round(y[A].gc),0,255),ne=ed(Math.round(y[A].bc),0,255),de=255;g&&(de=ed(Math.round(y[A].ac),0,255),l&&(de=de<=(typeof l=="number"?l:127)?0:255),s&&de<=o&&(K=le=ne=a,de=0));let ve=g?[K,le,ne,de]:[K,le,ne];if(FP(z,ve)||z.push(ve),(A=y[A].fw)==0)break}return z}function FP(i,t){for(let r=0;r<i.length;r++){let n=i[r],s=n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2],a=n.length>=4&&t.length>=4?n[3]===t[3]:!0;if(s&&a)return!0}return!1}function RP(i,t){var r=0,n;for(n=0;n<i.length;n++){let s=i[n]-t[n];r+=s*s}return r}function MP(i,t,r=RP){let n=1/0,s=-1;for(let a=0;a<i.length;a++){let o=i[a],l=r(t,o);l<n&&(n=l,s=a)}return s}function kP(i={}){let{initialCapacity:t=4096,auto:r=!0}=i,n=VD(t),s=5003,a=new Uint8Array(256),o=new Int32Array(s),l=new Int32Array(s),d=!1;return{reset(){n.reset(),d=!1},finish(){n.writeByte(SP.trailer)},bytes(){return n.bytes()},bytesView(){return n.bytesView()},get buffer(){return n.buffer},get stream(){return n},writeHeader:p,writeFrame(g,y,x,S={}){let{transparent:_=!1,transparentIndex:w=0,delay:A=0,palette:P=null,repeat:D=0,colorDepth:R=8,dispose:F=-1}=S,T=!1;if(r?d||(T=!0,p(),d=!0):T=!!S.first,y=Math.max(0,Math.floor(y)),x=Math.max(0,Math.floor(x)),T){if(!P)throw new Error("First frame must include a { palette } option");LP(n,y,x,P,R),ew(n,P),D>=0&&IP(n,D)}let U=Math.round(A/10);PP(n,F,U,_,w);let k=!!P&&!T;BP(n,y,x,k?P:null),k&&ew(n,P),UP(n,g,y,x,R,a,o,l)}};function p(){jD(n,"GIF89a")}}function PP(i,t,r,n,s){i.writeByte(33),i.writeByte(249),i.writeByte(4),s<0&&(s=0,n=!1);var a,o;n?(a=1,o=2):(a=0,o=0),t>=0&&(o=t&7),o<<=2,i.writeByte(0|o|0|a),Ta(i,r),i.writeByte(s||0),i.writeByte(0)}function LP(i,t,r,n,s=8){let a=1,o=0,l=s1(n.length)-1,d=a<<7|s-1<<4|o<<3|l;Ta(i,t),Ta(i,r),i.writeBytes([d,0,0])}function IP(i,t){i.writeByte(33),i.writeByte(255),i.writeByte(11),jD(i,"NETSCAPE2.0"),i.writeByte(3),i.writeByte(1),Ta(i,t),i.writeByte(0)}function ew(i,t){let r=1<<s1(t.length);for(let n=0;n<r;n++){let s=[0,0,0];n<t.length&&(s=t[n]),i.writeByte(s[0]),i.writeByte(s[1]),i.writeByte(s[2])}}function BP(i,t,r,n){if(i.writeByte(44),Ta(i,0),Ta(i,0),Ta(i,t),Ta(i,r),n){let s=0,a=0,o=s1(n.length)-1;i.writeByte(128|s|a|0|o)}else i.writeByte(0)}function UP(i,t,r,n,s=8,a,o,l){CP(r,n,t,s,i,a,o,l)}function Ta(i,t){i.writeByte(t&255),i.writeByte(t>>8&255)}function jD(i,t){for(var r=0;r<t.length;r++)i.writeByte(t.charCodeAt(r))}function s1(i){return Math.max(Math.ceil(Math.log2(i)),1)}function a1(i,t){t.blend=function(...n){this._renderer?this._renderer.blend(...n):i.Renderer2D.prototype.blend.apply(this,n)},t.copy=function(...n){let s,a,o,l,d,p,g,y,x;if(n.length===9)s=n[0],a=n[1],o=n[2],l=n[3],d=n[4],p=n[5],g=n[6],y=n[7],x=n[8];else if(n.length===8)s=this,a=n[0],o=n[1],l=n[2],d=n[3],p=n[4],g=n[5],y=n[6],x=n[7];else throw new Error("Signature not supported");t._copyHelper(this,s,a,o,l,d,p,g,y,x)},t._copyHelper=(n,s,a,o,l,d,p,g,y,x)=>{const S=s.canvas.width/s.width;let _=0,w=0;s._renderer&&s._renderer.isP3D&&(_=s.width/2,w=s.height/2),n._renderer&&n._renderer.isP3D?(n.push(),n.resetMatrix(),n.noLights(),n.blendMode(n.BLEND),n.imageMode(n.CORNER),n._renderer.image(s,a+_,o+w,l,d,p,g,y,x),n.pop()):n.drawingContext.drawImage(s.canvas,S*(a+_),S*(o+w),S*l,S*d,p,g,y,x)},t.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},t.filter=function(...n){let{shader:s,operation:a,value:o,useWebGL:l}=r(...n);if(this._renderer.isP3D&&s){this._renderer.filter(s);return}if(!l&&!this._renderer.isP3D){this.canvas!==void 0?dr.apply(this.canvas,dr[a],o):dr.apply(this.elt,dr[a],o);return}!l&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?this._renderer.filter(a,o):(s?this._renderer.filterRenderer.setOperation(a,o,s):this._renderer.filterRenderer.setOperation(a,o),this._renderer.filterRenderer.applyFilter())};function r(...n){let s={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return n[0]instanceof i.Shader?(s.shader=n[0],s):(s.operation=n[0],n.length>1&&typeof n[1]=="number"&&(s.value=n[1]),n[n.length-1]===!1&&(s.useWebGL=!1),s)}t.get=function(n,s,a,o){return this._renderer.get(...arguments)},t.loadPixels=function(...n){this._renderer.loadPixels()},t.set=function(n,s,a){this._renderer.set(n,s,a)},t.updatePixels=function(n,s,a,o){this.pixels.length!==0&&this._renderer.updatePixels(n,s,a,o)}}typeof p5<"u"&&a1(p5,p5.prototype);var ov;const D1=class D1{constructor(...t){_r(this,ov,null);if(this.constructor===D1)throw new Error("Class is of abstract type and can't be instantiated");["add","setElement","reset","set","get","copy","clone","diagonal","row","column","transpose","mult","multiplyVec","invert","createSubMatrix3x3","inverseTranspose4x4","apply","scale","rotate4x4","translate","rotateX","rotateY","rotateZ","perspective","ortho","multiplyVec4","multiplyPoint","multiplyAndNormalizePoint","multiplyDirection","multiplyVec3"].forEach(n=>{if(this[n]===void 0)throw new Error(`${n}() method must be implemented`)})}};ov=new WeakMap;let Uy=D1;const Em=i=>{if(Math.sqrt(Array.from(i).length)%1!==0)throw new Error("Array length must be a perfect square.");return!0};let Rs=Array,go=i=>Array.isArray(i);typeof Float32Array<"u"&&(Rs=Float32Array,go=i=>Array.isArray(i)||i instanceof Float32Array);var fr,Vr,Vy,zD,GD,HD,qD,$D,WD,YD,XD,VP;const es=class es extends Uy{constructor(...r){super(...r);_r(this,Vr);tr(this,"matrix");_r(this,fr);if(go(r[0])&&Em(r[0])){const n=Math.sqrt(Array.from(r[0]).length);Dn(this,fr,n),this.matrix=Rs.from(r[0])}else typeof r[0]=="number"&&(Dn(this,fr,Number(r[0])),this.matrix=Zr(this,Vr,Vy).call(this,r[0]));return this}get mat3(){if(Qe(this,fr)===3)return this.matrix}get mat4(){if(Qe(this,fr)===4)return this.matrix}add(r){if(this.matrix.length!==r.matrix.length)throw new Error("Matrices must be of the same dimension to add.");for(let n=0;n<this.matrix.length;n++)this.matrix[n]+=r.matrix[n];return this}setElement(r,n){return r>=0&&r<this.matrix.length&&(this.matrix[r]=n),this}reset(){return this.matrix=Zr(this,Vr,Vy).call(this,Qe(this,fr)),this}set(r){let n=Rs.from([...arguments]);return r instanceof es?n=Rs.from(r.matrix):go(r)&&(n=Rs.from(r)),n.length!==this.matrix.length?(p5._friendlyError(`Expected same dimensions values but received different ${n.length}.`,"p5.Matrix.set"),this):(this.matrix=n,this)}get(){return new es(this.matrix)}copy(){return new es(this.matrix)}clone(){return this.copy()}diagonal(){const r=[];for(let n=0;n<Qe(this,fr);n++)r.push(this.matrix[n*(Qe(this,fr)+1)]);return r}row(r){const n=[];for(let s=0;s<Qe(this,fr);s++)n.push(this.matrix[s*Qe(this,fr)+r]);return new be(...n)}column(r){const n=[];for(let s=0;s<Qe(this,fr);s++)n.push(this.matrix[r*Qe(this,fr)+s]);return new be(...n)}transpose(r){return Qe(this,fr)===4?Zr(this,Vr,$D).call(this,r):Qe(this,fr)===3?Zr(this,Vr,WD).call(this,r):Zr(this,Vr,qD).call(this,r)}mult(r){let n;return r===this||r===this.matrix?n=this.copy().matrix:r instanceof es?n=r.matrix:go(r)&&Em(r)?n=r:Em(arguments)&&(n=Array.from(arguments)),Qe(this,fr)===4&&n.length===16?Zr(this,Vr,zD).call(this,n):Qe(this,fr)===3&&n.length===9?Zr(this,Vr,HD).call(this,n):Zr(this,Vr,GD).call(this,n)}multiplyVec(r,n){n===void 0&&(n=r.copy());for(let s=0;s<Qe(this,fr);s++)n.values[s]=this.row(s).dot(r);return n}invert(r){if(Qe(this,fr)===4)return Zr(this,Vr,YD).call(this,r);if(Qe(this,fr)===3)return Zr(this,Vr,XD).call(this,r);throw new Error("Invert is not implemented for N>4 at the moment, we are working on it")}createSubMatrix3x3(){if(Qe(this,fr)===4){const r=new es(3);return r.mat3[0]=this.matrix[0],r.mat3[1]=this.matrix[1],r.mat3[2]=this.matrix[2],r.mat3[3]=this.matrix[4],r.mat3[4]=this.matrix[5],r.mat3[5]=this.matrix[6],r.mat3[6]=this.matrix[8],r.mat3[7]=this.matrix[9],r.mat3[8]=this.matrix[10],r}else throw new Error("Matrix dimension must be 4 to create a 3x3 submatrix.")}inverseTranspose4x4({mat4:r}){if(Qe(this,fr)!==3)throw new Error("This function only works with 3×3 matrices.");this.matrix[0]=r[0],this.matrix[1]=r[1],this.matrix[2]=r[2],this.matrix[3]=r[4],this.matrix[4]=r[5],this.matrix[5]=r[6],this.matrix[6]=r[8],this.matrix[7]=r[9],this.matrix[8]=r[10];const n=this.invert();if(n)n.transpose(this.matrix);else for(let s=0;s<9;s++)this.matrix[s]=0;return this}apply(r){let n;if(r===this||r===this.matrix)n=this.copy().matrix;else if(r instanceof es)n=r.matrix;else if(go(r))n=r;else if(arguments.length===16)n=arguments;else return;const s=this.matrix,a=s[0],o=s[4],l=s[8],d=s[12];s[0]=n[0]*a+n[1]*o+n[2]*l+n[3]*d,s[4]=n[4]*a+n[5]*o+n[6]*l+n[7]*d,s[8]=n[8]*a+n[9]*o+n[10]*l+n[11]*d,s[12]=n[12]*a+n[13]*o+n[14]*l+n[15]*d;const p=s[1],g=s[5],y=s[9],x=s[13];s[1]=n[0]*p+n[1]*g+n[2]*y+n[3]*x,s[5]=n[4]*p+n[5]*g+n[6]*y+n[7]*x,s[9]=n[8]*p+n[9]*g+n[10]*y+n[11]*x,s[13]=n[12]*p+n[13]*g+n[14]*y+n[15]*x;const S=s[2],_=s[6],w=s[10],A=s[14];s[2]=n[0]*S+n[1]*_+n[2]*w+n[3]*A,s[6]=n[4]*S+n[5]*_+n[6]*w+n[7]*A,s[10]=n[8]*S+n[9]*_+n[10]*w+n[11]*A,s[14]=n[12]*S+n[13]*_+n[14]*w+n[15]*A;const P=s[3],D=s[7],R=s[11],F=s[15];return s[3]=n[0]*P+n[1]*D+n[2]*R+n[3]*F,s[7]=n[4]*P+n[5]*D+n[6]*R+n[7]*F,s[11]=n[8]*P+n[9]*D+n[10]*R+n[11]*F,s[15]=n[12]*P+n[13]*D+n[14]*R+n[15]*F,this}scale(r,n,s){return r instanceof be?(n=r.y,s=r.z,r=r.x):r instanceof Array&&(n=r[1],s=r[2],r=r[0]),this.matrix[0]*=r,this.matrix[1]*=r,this.matrix[2]*=r,this.matrix[3]*=r,this.matrix[4]*=n,this.matrix[5]*=n,this.matrix[6]*=n,this.matrix[7]*=n,this.matrix[8]*=s,this.matrix[9]*=s,this.matrix[10]*=s,this.matrix[11]*=s,this}rotate4x4(r,n,s,a){n instanceof be?(s=n.y,a=n.z,n=n.x):n instanceof Array&&(s=n[1],a=n[2],n=n[0]);const o=Math.sqrt(n*n+s*s+a*a);n*=1/o,s*=1/o,a*=1/o;const l=this.matrix[0],d=this.matrix[1],p=this.matrix[2],g=this.matrix[3],y=this.matrix[4],x=this.matrix[5],S=this.matrix[6],_=this.matrix[7],w=this.matrix[8],A=this.matrix[9],P=this.matrix[10],D=this.matrix[11],R=Math.sin(r),F=Math.cos(r),T=1-F,U=n*n*T+F,k=s*n*T+a*R,B=a*n*T-s*R,L=n*s*T-a*R,V=s*s*T+F,H=a*s*T+n*R,z=n*a*T+s*R,G=s*a*T-n*R,K=a*a*T+F;return this.matrix[0]=l*U+y*k+w*B,this.matrix[1]=d*U+x*k+A*B,this.matrix[2]=p*U+S*k+P*B,this.matrix[3]=g*U+_*k+D*B,this.matrix[4]=l*L+y*V+w*H,this.matrix[5]=d*L+x*V+A*H,this.matrix[6]=p*L+S*V+P*H,this.matrix[7]=g*L+_*V+D*H,this.matrix[8]=l*z+y*G+w*K,this.matrix[9]=d*z+x*G+A*K,this.matrix[10]=p*z+S*G+P*K,this.matrix[11]=g*z+_*G+D*K,this}translate(r){const n=r[0],s=r[1],a=r[2]||0;return this.matrix[12]+=this.matrix[0]*n+this.matrix[4]*s+this.matrix[8]*a,this.matrix[13]+=this.matrix[1]*n+this.matrix[5]*s+this.matrix[9]*a,this.matrix[14]+=this.matrix[2]*n+this.matrix[6]*s+this.matrix[10]*a,this.matrix[15]+=this.matrix[3]*n+this.matrix[7]*s+this.matrix[11]*a,this}rotateX(r){this.rotate4x4(r,1,0,0)}rotateY(r){this.rotate4x4(r,0,1,0)}rotateZ(r){this.rotate4x4(r,0,0,1)}perspective(r,n,s,a){const o=1/Math.tan(r/2),l=1/(s-a);return this.matrix[0]=o/n,this.matrix[1]=0,this.matrix[2]=0,this.matrix[3]=0,this.matrix[4]=0,this.matrix[5]=o,this.matrix[6]=0,this.matrix[7]=0,this.matrix[8]=0,this.matrix[9]=0,this.matrix[10]=(a+s)*l,this.matrix[11]=-1,this.matrix[12]=0,this.matrix[13]=0,this.matrix[14]=2*a*s*l,this.matrix[15]=0,this}ortho(r,n,s,a,o,l){const d=1/(r-n),p=1/(s-a),g=1/(o-l);return this.matrix[0]=-2*d,this.matrix[1]=0,this.matrix[2]=0,this.matrix[3]=0,this.matrix[4]=0,this.matrix[5]=-2*p,this.matrix[6]=0,this.matrix[7]=0,this.matrix[8]=0,this.matrix[9]=0,this.matrix[10]=2*g,this.matrix[11]=0,this.matrix[12]=(r+n)*d,this.matrix[13]=(a+s)*p,this.matrix[14]=(l+o)*g,this.matrix[15]=1,this}multiplyVec4(r,n,s,a){const o=new Array(4),l=this.matrix;return o[0]=l[0]*r+l[4]*n+l[8]*s+l[12]*a,o[1]=l[1]*r+l[5]*n+l[9]*s+l[13]*a,o[2]=l[2]*r+l[6]*n+l[10]*s+l[14]*a,o[3]=l[3]*r+l[7]*n+l[11]*s+l[15]*a,o}multiplyPoint({x:r,y:n,z:s}){const a=this.multiplyVec4(r,n,s,1);return new be(a[0],a[1],a[2])}multiplyAndNormalizePoint({x:r,y:n,z:s}){const a=this.multiplyVec4(r,n,s,1);return a[0]/=a[3],a[1]/=a[3],a[2]/=a[3],new be(a[0],a[1],a[2])}multiplyDirection({x:r,y:n,z:s}){const a=this.multiplyVec4(r,n,s,0);return new be(a[0],a[1],a[2])}multiplyVec3(r,n){return n===void 0&&(n=r.copy()),n.x=this.row(0).dot(r),n.y=this.row(1).dot(r),n.z=this.row(2).dot(r),n}};fr=new WeakMap,Vr=new WeakSet,Vy=function(r){if(r===3)return new Rs([1,0,0,0,1,0,0,0,1]);if(r===4)return new Rs([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);const n=new Rs(r*r).fill(0);for(let s=0;s<r;s++)n[s*r+s]=1;return n},zD=function(r){let n=this.matrix[0],s=this.matrix[1],a=this.matrix[2],o=this.matrix[3];return this.matrix[0]=n*r[0]+s*r[4]+a*r[8]+o*r[12],this.matrix[1]=n*r[1]+s*r[5]+a*r[9]+o*r[13],this.matrix[2]=n*r[2]+s*r[6]+a*r[10]+o*r[14],this.matrix[3]=n*r[3]+s*r[7]+a*r[11]+o*r[15],n=this.matrix[4],s=this.matrix[5],a=this.matrix[6],o=this.matrix[7],this.matrix[4]=n*r[0]+s*r[4]+a*r[8]+o*r[12],this.matrix[5]=n*r[1]+s*r[5]+a*r[9]+o*r[13],this.matrix[6]=n*r[2]+s*r[6]+a*r[10]+o*r[14],this.matrix[7]=n*r[3]+s*r[7]+a*r[11]+o*r[15],n=this.matrix[8],s=this.matrix[9],a=this.matrix[10],o=this.matrix[11],this.matrix[8]=n*r[0]+s*r[4]+a*r[8]+o*r[12],this.matrix[9]=n*r[1]+s*r[5]+a*r[9]+o*r[13],this.matrix[10]=n*r[2]+s*r[6]+a*r[10]+o*r[14],this.matrix[11]=n*r[3]+s*r[7]+a*r[11]+o*r[15],n=this.matrix[12],s=this.matrix[13],a=this.matrix[14],o=this.matrix[15],this.matrix[12]=n*r[0]+s*r[4]+a*r[8]+o*r[12],this.matrix[13]=n*r[1]+s*r[5]+a*r[9]+o*r[13],this.matrix[14]=n*r[2]+s*r[6]+a*r[10]+o*r[14],this.matrix[15]=n*r[3]+s*r[7]+a*r[11]+o*r[15],this},GD=function(r){if(r.length!==this.matrix.length)throw new Error("Matrices must be of the same dimension to multiply.");const n=new Rs(this.matrix.length).fill(0);for(let s=0;s<Qe(this,fr);s++)for(let a=0;a<Qe(this,fr);a++)for(let o=0;o<Qe(this,fr);o++)n[s*Qe(this,fr)+a]+=this.matrix[s*Qe(this,fr)+o]*r[o*Qe(this,fr)+a];return this.matrix=n,this},HD=function(r){let n=this.mat3[0],s=this.mat3[1],a=this.mat3[2];return this.mat3[0]=n*r[0]+s*r[3]+a*r[6],this.mat3[1]=n*r[1]+s*r[4]+a*r[7],this.mat3[2]=n*r[2]+s*r[5]+a*r[8],n=this.mat3[3],s=this.mat3[4],a=this.mat3[5],this.mat3[3]=n*r[0]+s*r[3]+a*r[6],this.mat3[4]=n*r[1]+s*r[4]+a*r[7],this.mat3[5]=n*r[2]+s*r[5]+a*r[8],n=this.mat3[6],s=this.mat3[7],a=this.mat3[8],this.mat3[6]=n*r[0]+s*r[3]+a*r[6],this.mat3[7]=n*r[1]+s*r[4]+a*r[7],this.mat3[8]=n*r[2]+s*r[5]+a*r[8],this},qD=function(){const r=Qe(this,fr);for(let n=0;n<r;n++)for(let s=0;s<r;s++)this.matrix[n*r+s]=this.matrix[s*r+n];return this},$D=function(r){console.log("====> 4x4");let n,s,a,o,l,d;return r instanceof es?(n=r.matrix[1],s=r.matrix[2],a=r.matrix[3],o=r.matrix[6],l=r.matrix[7],d=r.matrix[11],this.matrix[0]=r.matrix[0],this.matrix[1]=r.matrix[4],this.matrix[2]=r.matrix[8],this.matrix[3]=r.matrix[12],this.matrix[4]=n,this.matrix[5]=r.matrix[5],this.matrix[6]=r.matrix[9],this.matrix[7]=r.matrix[13],this.matrix[8]=s,this.matrix[9]=o,this.matrix[10]=r.matrix[10],this.matrix[11]=r.matrix[14],this.matrix[12]=a,this.matrix[13]=l,this.matrix[14]=d,this.matrix[15]=r.matrix[15]):go(r)&&(n=r[1],s=r[2],a=r[3],o=r[6],l=r[7],d=r[11],this.matrix[0]=r[0],this.matrix[1]=r[4],this.matrix[2]=r[8],this.matrix[3]=r[12],this.matrix[4]=n,this.matrix[5]=r[5],this.matrix[6]=r[9],this.matrix[7]=r[13],this.matrix[8]=s,this.matrix[9]=o,this.matrix[10]=r[10],this.matrix[11]=r[14],this.matrix[12]=a,this.matrix[13]=l,this.matrix[14]=d,this.matrix[15]=r[15]),this},WD=function(r){r===void 0&&(r=this.mat3);const n=r[1],s=r[2],a=r[5];return this.mat3[0]=r[0],this.mat3[1]=r[3],this.mat3[2]=r[6],this.mat3[3]=n,this.mat3[4]=r[4],this.mat3[5]=r[7],this.mat3[6]=s,this.mat3[7]=a,this.mat3[8]=r[8],this},YD=function(r){let n,s,a,o,l,d,p,g,y,x,S,_,w,A,P,D;r instanceof es?(n=r.matrix[0],s=r.matrix[1],a=r.matrix[2],o=r.matrix[3],l=r.matrix[4],d=r.matrix[5],p=r.matrix[6],g=r.matrix[7],y=r.matrix[8],x=r.matrix[9],S=r.matrix[10],_=r.matrix[11],w=r.matrix[12],A=r.matrix[13],P=r.matrix[14],D=r.matrix[15]):go(r)&&(n=r[0],s=r[1],a=r[2],o=r[3],l=r[4],d=r[5],p=r[6],g=r[7],y=r[8],x=r[9],S=r[10],_=r[11],w=r[12],A=r[13],P=r[14],D=r[15]);const R=n*d-s*l,F=n*p-a*l,T=n*g-o*l,U=s*p-a*d,k=s*g-o*d,B=a*g-o*p,L=y*A-x*w,V=y*P-S*w,H=y*D-_*w,z=x*P-S*A,G=x*D-_*A,K=S*D-_*P;let le=R*K-F*G+T*z+U*H-k*V+B*L;return le?(le=1/le,this.matrix[0]=(d*K-p*G+g*z)*le,this.matrix[1]=(a*G-s*K-o*z)*le,this.matrix[2]=(A*B-P*k+D*U)*le,this.matrix[3]=(S*k-x*B-_*U)*le,this.matrix[4]=(p*H-l*K-g*V)*le,this.matrix[5]=(n*K-a*H+o*V)*le,this.matrix[6]=(P*T-w*B-D*F)*le,this.matrix[7]=(y*B-S*T+_*F)*le,this.matrix[8]=(l*G-d*H+g*L)*le,this.matrix[9]=(s*H-n*G-o*L)*le,this.matrix[10]=(w*k-A*T+D*R)*le,this.matrix[11]=(x*T-y*k-_*R)*le,this.matrix[12]=(d*V-l*z-p*L)*le,this.matrix[13]=(n*z-s*V+a*L)*le,this.matrix[14]=(A*F-w*U-P*R)*le,this.matrix[15]=(y*U-x*F+S*R)*le,this):null},XD=function(){const r=this.mat3[0],n=this.mat3[1],s=this.mat3[2],a=this.mat3[3],o=this.mat3[4],l=this.mat3[5],d=this.mat3[6],p=this.mat3[7],g=this.mat3[8],y=g*o-l*p,x=-g*a+l*d,S=p*a-o*d;let _=r*y+n*x+s*S;return _?(_=1/_,this.mat3[0]=y*_,this.mat3[1]=(-g*n+s*p)*_,this.mat3[2]=(l*n-s*o)*_,this.mat3[3]=x*_,this.mat3[4]=(g*r-s*d)*_,this.mat3[5]=(-l*r+s*a)*_,this.mat3[6]=S*_,this.mat3[7]=(-p*r+n*d)*_,this.mat3[8]=(o*r-n*a)*_,this):null},VP=function(){if(Qe(this,fr)!==4)throw new Error("Determinant is only implemented for 4x4 matrices. We are working on it.");const r=this.matrix[0]*this.matrix[5]-this.matrix[1]*this.matrix[4],n=this.matrix[0]*this.matrix[6]-this.matrix[2]*this.matrix[4],s=this.matrix[0]*this.matrix[7]-this.matrix[3]*this.matrix[4],a=this.matrix[1]*this.matrix[6]-this.matrix[2]*this.matrix[5],o=this.matrix[1]*this.matrix[7]-this.matrix[3]*this.matrix[5],l=this.matrix[2]*this.matrix[7]-this.matrix[3]*this.matrix[6],d=this.matrix[8]*this.matrix[13]-this.matrix[9]*this.matrix[12],p=this.matrix[8]*this.matrix[14]-this.matrix[10]*this.matrix[12],g=this.matrix[8]*this.matrix[15]-this.matrix[11]*this.matrix[12],y=this.matrix[9]*this.matrix[14]-this.matrix[10]*this.matrix[13],x=this.matrix[9]*this.matrix[15]-this.matrix[11]*this.matrix[13],S=this.matrix[10]*this.matrix[15]-this.matrix[11]*this.matrix[14];return r*S-n*x+s*y+a*g-o*p+l*d};let qr=es;function ZD(i,t){i.Matrix=qr}typeof p5<"u"&&ZD(p5,p5.prototype);class vo{constructor(t=128){this.length=0,this.data=new Float32Array(t),this.initialLength=t}dataArray(){return this.subArray(0,this.length)}clear(){this.length=0}rescale(){if(this.length<this.data.length/2){const t=1<<Math.ceil(Math.log2(this.length)),r=new Float32Array(t);r.set(this.data.subarray(0,this.length),0),this.data=r}}reset(){this.clear(),this.data=new Float32Array(this.initialLength)}push(...t){this.ensureLength(this.length+t.length),this.data.set(t,this.length),this.length+=t.length}slice(t,r){return this.data.slice(t,Math.min(r,this.length))}subArray(t,r){return this.data.subarray(t,Math.min(r,this.length))}ensureLength(t){for(;this.data.length<t;){const r=new Float32Array(this.data.length*2);r.set(this.data,0),this.data=r}}}function KD(i,t){i.DataArray=vo}typeof p5<"u"&&KD(p5,p5.prototype);class vn{constructor(t,r,n,s){this.renderer=s,this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new vo,this.lineTangentsIn=new vo,this.lineTangentsOut=new vo,this.lineSides=new vo,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.userVertexProperties={},this.lineVertexColors=new vo,this.detailX=t!==void 0?t:1,this.detailY=r!==void 0?r:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.gid=`_p5_Geometry_${vn.nextId}`,vn.nextId++,n instanceof Function&&n.call(this)}calculateBoundingBox(){if(this.boundingBoxCache)return this.boundingBoxCache;let t=new be(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),r=new be(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE);for(let a=0;a<this.vertices.length;a++){let o=this.vertices[a];t.x=Math.min(t.x,o.x),t.y=Math.min(t.y,o.y),t.z=Math.min(t.z,o.z),r.x=Math.max(r.x,o.x),r.y=Math.max(r.y,o.y),r.z=Math.max(r.z,o.z)}let n=new be(r.x-t.x,r.y-t.y,r.z-t.z),s=new be((t.x+r.x)/2,(t.y+r.y)/2,(t.z+r.z)/2);return this.boundingBoxCache={min:t,max:r,size:n,offset:s},this.boundingBoxCache}reset(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0;for(const t in this.userVertexProperties)this.userVertexProperties[t].delete();this.userVertexProperties={},this.dirtyFlags={}}hasFillTransparency(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(let t=0;t<this.vertexColors.length;t+=4)if(this.vertexColors[t+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}hasStrokeTransparency(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(let t=0;t<this.lineVertexColors.length;t+=4)if(this.lineVertexColors[t+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}clearColors(){return this.vertexColors=[],this}saveObj(t="model.obj"){let r="";if(this.vertices.forEach(s=>{r+=`v ${s.x} ${s.y} ${s.z}
`}),this.uvs&&this.uvs.length>0)for(let s=0;s<this.uvs.length;s+=2)r+=`vt ${this.uvs[s]} ${this.uvs[s+1]}
`;this.vertexNormals&&this.vertexNormals.length>0&&this.vertexNormals.forEach(s=>{r+=`vn ${s.x} ${s.y} ${s.z}
`}),this.faces.forEach(s=>{let a="f";s.forEach(o=>{a+=" ",a+=o+1,(this.vertexNormals.length>0||this.uvs.length>0)&&(a+="/",this.uvs.length>0&&(a+=o+1),a+="/",this.vertexNormals.length>0&&(a+=o+1))}),r+=a+`
`});const n=new Blob([r],{type:"text/plain"});fn.downloadFile(n,t,"obj")}saveStl(t="model.stl",{binary:r=!1}={}){let n,s=t.substring(0,t.lastIndexOf(".")),a=[];for(let l of this.faces){const d=be.sub(this.vertices[l[1]],this.vertices[l[0]]),p=be.sub(this.vertices[l[2]],this.vertices[l[0]]),g=d.y*p.z-d.z*p.y,y=d.z*p.x-d.x*p.z,x=d.x*p.y-d.y*p.x;a.push(new be(g,y,x).normalize())}if(r){let l=80;const d=this.faces.length*2+this.faces.length*3*4*4+80+4,p=new ArrayBuffer(d);n=new DataView(p),n.setUint32(l,this.faces.length,!0),l+=4;for(const[g,y]of Object.entries(this.faces)){const x=a[g];n.setFloat32(l,x.x,!0),l+=4,n.setFloat32(l,x.y,!0),l+=4,n.setFloat32(l,x.z,!0),l+=4;for(let S of y){const _=this.vertices[S];n.setFloat32(l,_.x,!0),l+=4,n.setFloat32(l,_.y,!0),l+=4,n.setFloat32(l,_.z,!0),l+=4}n.setUint16(l,0,!0),l+=2}}else{n="solid "+s+`
`;for(const[l,d]of Object.entries(this.faces)){const p=a[l];n+=" facet norm "+p.x+" "+p.y+" "+p.z+`
`,n+=`  outer loop
`;for(let g of d){const y=this.vertices[g];n+="   vertex "+y.x+" "+y.y+" "+y.z+`
`}n+=`  endloop
`,n+=` endfacet
`}n+="endsolid "+s+`
`}const o=new Blob([n],{type:"text/plain"});fn.downloadFile(o,t,"stl")}flipU(){this.uvs=this.uvs.flat().map((t,r)=>r%2===0?1-t:t)}flipV(){this.uvs=this.uvs.flat().map((t,r)=>r%2===0?t:1-t)}computeFaces(){this.faces.length=0;const t=this.detailX+1;let r,n,s,a;for(let o=0;o<this.detailY;o++)for(let l=0;l<this.detailX;l++)r=o*t+l,n=o*t+l+1,s=(o+1)*t+l+1,a=(o+1)*t+l,this.faces.push([r,n,a]),this.faces.push([a,n,s]);return this}_getFaceNormal(t){const r=this.faces[t],n=this.vertices[r[0]],s=this.vertices[r[1]],a=this.vertices[r[2]],o=be.sub(s,n),l=be.sub(a,n),d=be.cross(o,l),p=be.mag(d);let g=p/(be.mag(o)*be.mag(l));return g===0||isNaN(g)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),d):(g>1&&(g=1),d.mult(Math.asin(g)/p))}computeNormals(t=VA,{roundToPrecision:r=3}={}){const n=this.vertexNormals;let s=this.vertices;const a=this.faces;let o;if(t===jA){const l={},d=[],p=Math.pow(10,r),g=x=>Math.round(x*p)/p,y=x=>`${g(x.x)},${g(x.y)},${g(x.z)}`;for(let x=0;x<s.length;x++){const S=s[x],_=y(S);l[_]===void 0&&(l[_]=d.length,d.push(S))}a.forEach(x=>{for(let S=0;S<3;++S){const _=x[S],w=s[_],A=y(w);x[S]=l[A]}}),this.edges.forEach(x=>{for(let S=0;S<2;++S){const _=x[S],w=s[_],A=y(w);x[S]=l[A]}}),this.vertices=s=d}for(n.length=0,o=0;o<s.length;++o)n.push(new be);for(a.forEach((l,d)=>{const p=this._getFaceNormal(d);for(let g=0;g<3;++g){const y=l[g];n[y].add(p)}}),o=0;o<s.length;++o)n[o].normalize();return this}averageNormals(){for(let t=0;t<=this.detailY;t++){const r=this.detailX+1;let n=be.add(this.vertexNormals[t*r],this.vertexNormals[t*r+this.detailX]);n=be.div(n,2),this.vertexNormals[t*r]=n,this.vertexNormals[t*r+this.detailX]=n}return this}averagePoleNormals(){let t=new be(0,0,0);for(let r=0;r<this.detailX;r++)t.add(this.vertexNormals[r]);t=be.div(t,this.detailX);for(let r=0;r<this.detailX;r++)this.vertexNormals[r]=t;t=new be(0,0,0);for(let r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)t.add(this.vertexNormals[r]);t=be.div(t,this.detailX);for(let r=this.vertices.length-1;r>this.vertices.length-1-this.detailX;r--)this.vertexNormals[r]=t;return this}_makeTriangleEdges(){this.edges.length=0;for(let t=0;t<this.faces.length;t++)this.edges.push([this.faces[t][0],this.faces[t][1]]),this.edges.push([this.faces[t][1],this.faces[t][2]]),this.edges.push([this.faces[t][2],this.faces[t][0]]);return this}makeEdgesFromFaces(){this._makeTriangleEdges()}_edgesToVertices(){var s;this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();const t=new Map,r=new Set;let n;for(let a=0;a<this.edges.length;a++){const o=this.edges[a-1],l=this.edges[a],d=this.vertices[l[0]],p=this.vertices[l[1]],g=this.vertexStrokeColors.length>0&&o?this.vertexStrokeColors.slice(o[1]*4,(o[1]+1)*4):[0,0,0,0],y=this.vertexStrokeColors.length>0?this.vertexStrokeColors.slice(l[0]*4,(l[0]+1)*4):[0,0,0,0],x=this.vertexStrokeColors.length>0?this.vertexStrokeColors.slice(l[1]*4,(l[1]+1)*4):[0,0,0,0],S=p.copy().sub(d).normalize(),_=S.magSq()>0;if(_&&this._addSegment(d,p,y,x,S),!((s=this.renderer)!=null&&s._simpleLines)){if(a>0&&o[1]===l[0])r.has(l[0])||(r.add(l[0]),t.delete(l[0]),n&&_&&S.dot(n)<1-1e-8&&this._addJoin(d,n,S,y));else{if(_&&!r.has(l[0])){const w=t.get(l[0]);w?(this._addJoin(d,w.dir,S,y),t.delete(l[0]),r.add(l[0])):t.set(l[0],{point:d,dir:S.copy().mult(-1),color:y})}if(n&&!r.has(o[1])){const w=t.get(o[1]);w?(this._addJoin(this.vertices[o[1]],n,w.dir.copy().mult(-1),g),t.delete(o[1]),r.add(o[1])):t.set(o[1],{point:this.vertices[o[1]],dir:n,color:g}),n=void 0}}if(a===this.edges.length-1&&!r.has(l[1])){const w=t.get(l[1]);w?(this._addJoin(p,S,w.dir.copy().mult(-1),x),t.delete(l[1]),r.add(l[1])):t.set(l[1],{point:p,dir:S,color:x})}_&&(n=S)}}for(const{point:a,dir:o,color:l}of t.values())this._addCap(a,o,l);return this}_addSegment(t,r,n,s,a){var p;const o=t.array(),l=r.array(),d=a.array();this.lineSides.push(1,1,-1,1,-1,-1);for(const g of[this.lineTangentsIn,this.lineTangentsOut])for(let y=0;y<6;y++)g.push(...d);return this.lineVertices.push(...o,...l,...o,...l,...l,...o),(p=this.renderer)!=null&&p._simpleLines||this.lineVertexColors.push(...n,...s,...n,...s,...s,...n),this}_addCap(t,r,n){const s=t.array(),a=r.array(),o=[0,0,0];for(let l=0;l<6;l++)this.lineVertices.push(...s),this.lineTangentsIn.push(...a),this.lineTangentsOut.push(...o),this.lineVertexColors.push(...n);return this.lineSides.push(-1,2,-2,1,2,-1),this}_addJoin(t,r,n,s){const a=t.array(),o=r.array(),l=n.array();for(let d=0;d<12;d++)this.lineVertices.push(...a),this.lineTangentsIn.push(...o),this.lineTangentsOut.push(...l),this.lineVertexColors.push(...s);return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}normalize(){if(this.vertices.length>0){const t=this.vertices[0].copy(),r=this.vertices[0].copy();for(let l=0;l<this.vertices.length;l++)t.x=Math.max(t.x,this.vertices[l].x),r.x=Math.min(r.x,this.vertices[l].x),t.y=Math.max(t.y,this.vertices[l].y),r.y=Math.min(r.y,this.vertices[l].y),t.z=Math.max(t.z,this.vertices[l].z),r.z=Math.min(r.z,this.vertices[l].z);const n=be.lerp(t,r,.5),s=be.sub(t,r),o=200/Math.max(Math.max(s.x,s.y),s.z);for(let l=0;l<this.vertices.length;l++)this.vertices[l].sub(n),this.vertices[l].mult(o)}return this}vertexProperty(t,r,n){let s;this.userVertexProperties[t]||(s=this.userVertexProperties[t]=this._userVertexPropertyHelper(t,r,n)),s=this.userVertexProperties[t],n?s.pushDirect(r):(s.setCurrentData(r),s.pushCurrentData())}_userVertexPropertyHelper(t,r,n){const s=this,a=this.userVertexProperties[t]={name:t,dataSize:n||(r.length?r.length:1),geometry:s,getName(){return this.name},getCurrentData(){return this.currentData===void 0&&(this.currentData=new Array(this.getDataSize()).fill(0)),this.currentData},getDataSize(){return this.dataSize},getSrcName(){return this.name.concat("Src")},getDstName(){return this.name.concat("Buffer")},getSrcArray(){const o=this.getSrcName();return this.geometry[o]},setCurrentData(o){o.length&&o.length,this.currentData=o},pushCurrentData(){const o=this.getCurrentData();this.pushDirect(o)},pushDirect(o){o.length?this.getSrcArray().push(...o):this.getSrcArray().push(o)},resetSrcArray(){this.geometry[this.getSrcName()]=[]},delete(){const o=this.getSrcName();delete this.geometry[o],delete this}};return this[a.getSrcName()]=[],this.userVertexProperties[t]}}vn.nextId=0;function QD(i,t){i.Geometry=vn}typeof p5<"u"&&QD(p5,p5.prototype);class uh{constructor(t){this.renderer=t,t._pInst.push(),this.identityMatrix=new qr(4),t.states.setValue("uModelMatrix",new qr(4)),this.geometry=new vn(void 0,void 0,void 0,this.renderer),this.geometry.gid=`_p5_GeometryBuilder_${uh.nextGeometryId}`,uh.nextGeometryId++,this.hasTransform=!1}transformVertices(t){return this.hasTransform?t.map(r=>this.renderer.states.uModelMatrix.multiplyPoint(r)):t}transformNormals(t){return this.hasTransform?t.map(r=>this.renderer.scratchMat3.multiplyVec(r)):t}addGeometry(t){this.hasTransform=!this.renderer.states.uModelMatrix.mat4.every((l,d)=>l===this.identityMatrix.mat4[d]),this.hasTransform&&this.renderer.scratchMat3.inverseTranspose4x4(this.renderer.states.uModelMatrix);let r=this.geometry.vertices.length;this.geometry.vertices.push(...this.transformVertices(t.vertices)),this.geometry.vertexNormals.push(...this.transformNormals(t.vertexNormals)),this.geometry.uvs.push(...t.uvs);const n=t.userVertexProperties,s=this.geometry.userVertexProperties,a=this.geometry.vertices.length-t.vertices.length;for(const l in s){if(l in n)continue;const d=s[l],g=d.getDataSize()*t.vertices.length,y=Array(g).fill(0);d.pushDirect(y)}for(const l in n){const d=n[l],p=d.getSrcArray(),g=d.getDataSize();if(a>0&&!(l in s)){const y=g*a,x=Array(y).fill(0);this.geometry.vertexProperty(l,x,g)}this.geometry.vertexProperty(l,p,g)}this.renderer.states.fillColor&&this.geometry.faces.push(...t.faces.map(l=>l.map(d=>d+r))),this.renderer.states.strokeColor&&this.geometry.edges.push(...t.edges.map(l=>l.map(d=>d+r)));const o=[...t.vertexColors];for(;o.length<t.vertices.length*4;)o.push(...this.renderer.states.curFillColor);this.geometry.vertexColors.push(...o)}addImmediate(t,r){const n=[];if(this.renderer.states.fillColor)if(r===Qc||r===Jc)for(let s=2;s<t.vertices.length;s++)s%2===0?n.push([s,s-1,s-2]):n.push([s,s-2,s-1]);else if(r===Cp)for(let s=2;s<t.vertices.length;s++)n.push([0,s-1,s]);else for(let s=0;s<t.vertices.length;s+=3)n.push([s,s+1,s+2]);this.addGeometry(Object.assign({},t,{faces:n}))}addRetained(t){this.addGeometry(t)}finish(){return this.renderer._pInst.pop(),this.geometry}}uh.nextGeometryId=0;class Yu{constructor(t,r,n,s){this.w=t,this.vec=new be(r,n,s)}static fromAxisAngle(t,r,n,s){const a=Math.cos(t/2),o=new be(r,n,s).normalize().mult(Math.sin(t/2));return new Yu(a,o.x,o.y,o.z)}conjugate(){return new Yu(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}multiply(t){return new Yu(this.w*t.w-this.vec.x*t.vec.x-this.vec.y*t.vec.y-this.vec.z-t.vec.z,this.w*t.vec.x+this.vec.x*t.w+this.vec.y*t.vec.z-this.vec.z*t.vec.y,this.w*t.vec.y-this.vec.x*t.vec.z+this.vec.y*t.w+this.vec.z*t.vec.x,this.w*t.vec.z+this.vec.x*t.vec.y-this.vec.y*t.vec.x+this.vec.z*t.w)}rotateVector(t){return be.mult(t,this.w*this.w-this.vec.dot(this.vec)).add(be.mult(this.vec,2*t.dot(this.vec))).add(be.mult(this.vec,2*this.w).cross(t)).clampToZero()}rotateBy(t){return t.multiply(this).multiply(t.conjugate()).vec.clampToZero()}}function JD(i,t){i.Quat=Yu}typeof p5<"u"&&JD(p5,p5.prototype);class Mn{constructor(t,r,n,s,a,o){this.size=t,this.src=r,this.dst=n,this.attr=s,this._renderer=a,this.map=o}_prepareBuffer(t,r){const n=r.attributes,s=this._renderer.GL,a=this._renderer._getOrMakeCachedBuffers(t),o=n[this.attr];if(!o)return;let l=a[this.dst];const d=t[this.src];if(d&&d.length>0){const p=!l;if(p&&(a[this.dst]=l=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,l),p||t.dirtyFlags[this.src]!==!1){const g=this.map,y=g?g(d):d;this._renderer._bindBuffer(l,s.ARRAY_BUFFER,y),t.dirtyFlags[this.src]=!1}r.enableAttrib(o,this.size)}else{const p=o.location;if(p===-1||!this._renderer.registerEnabled.has(p))return;s.disableVertexAttribArray(p),this._renderer.registerEnabled.delete(p)}}}function eT(i,t){i.RenderBuffer=Mn}typeof p5<"u"&&eT(p5,p5.prototype);var bd={exports:{}},tw=bd.exports,rw;function jP(){return rw||(rw=1,function(i){var t;function r(j,Z){return j.b===Z.b&&j.a===Z.a}function n(j,Z){return j.b<Z.b||j.b===Z.b&&j.a<=Z.a}function s(j,Z,re){var ue=Z.b-j.b,pe=re.b-Z.b;return 0<ue+pe?ue<pe?Z.a-j.a+ue/(ue+pe)*(j.a-re.a):Z.a-re.a+pe/(ue+pe)*(re.a-j.a):0}function a(j,Z,re){var ue=Z.b-j.b,pe=re.b-Z.b;return 0<ue+pe?(Z.a-re.a)*ue+(Z.a-j.a)*pe:0}function o(j,Z){return j.a<Z.a||j.a===Z.a&&j.b<=Z.b}function l(j,Z,re){var ue=Z.a-j.a,pe=re.a-Z.a;return 0<ue+pe?ue<pe?Z.b-j.b+ue/(ue+pe)*(j.b-re.b):Z.b-re.b+pe/(ue+pe)*(re.b-j.b):0}function d(j,Z,re){var ue=Z.a-j.a,pe=re.a-Z.a;return 0<ue+pe?(Z.b-re.b)*ue+(Z.b-j.b)*pe:0}function p(j){return n(j.b.a,j.a)}function g(j){return n(j.a,j.b.a)}function y(j,Z,re,ue){return j=0>j?0:j,re=0>re?0:re,j<=re?re===0?(Z+ue)/2:Z+j/(j+re)*(ue-Z):ue+re/(j+re)*(Z-ue)}function x(j){var Z=P(j.b);return R(Z,j.c),R(Z.b,j.c),F(Z,j.a),Z}function S(j,Z){var re=!1,ue=!1;j!==Z&&(Z.a!==j.a&&(ue=!0,U(Z.a,j.a)),Z.d!==j.d&&(re=!0,k(Z.d,j.d)),D(Z,j),ue||(R(Z,j.a),j.a.c=j),re||(F(Z,j.d),j.d.a=j))}function _(j){var Z=j.b,re=!1;j.d!==j.b.d&&(re=!0,k(j.d,j.b.d)),j.c===j?U(j.a,null):(j.b.d.a=ce(j),j.a.c=j.c,D(j,ce(j)),re||F(j,j.d)),Z.c===Z?(U(Z.a,null),k(Z.d,null)):(j.d.a=ce(Z),Z.a.c=Z.c,D(Z,ce(Z))),T(j)}function w(j){var Z=P(j),re=Z.b;return D(Z,j.e),Z.a=j.b.a,R(re,Z.a),Z.d=re.d=j.d,Z=Z.b,D(j.b,ce(j.b)),D(j.b,Z),j.b.a=Z.a,Z.b.a.c=Z.b,Z.b.d=j.b.d,Z.f=j.f,Z.b.f=j.b.f,Z}function A(j,Z){var re=!1,ue=P(j),pe=ue.b;return Z.d!==j.d&&(re=!0,k(Z.d,j.d)),D(ue,j.e),D(pe,Z),ue.a=j.b.a,pe.a=Z.a,ue.d=pe.d=j.d,j.d.a=pe,re||F(ue,j.d),ue}function P(j){var Z=new te,re=new te,ue=j.b.h;return re.h=ue,ue.b.h=Z,Z.h=j,j.b.h=re,Z.b=re,Z.c=Z,Z.e=re,re.b=Z,re.c=re,re.e=Z}function D(j,Z){var re=j.c,ue=Z.c;re.b.e=Z,ue.b.e=j,j.c=ue,Z.c=re}function R(j,Z){var re=Z.f,ue=new Me(Z,re);re.e=ue,Z.f=ue,re=ue.c=j;do re.a=ue,re=re.c;while(re!==j)}function F(j,Z){var re=Z.d,ue=new se(Z,re);re.b=ue,Z.d=ue,ue.a=j,ue.c=Z.c,re=j;do re.d=ue,re=re.e;while(re!==j)}function T(j){var Z=j.h;j=j.b.h,Z.b.h=j,j.b.h=Z}function U(j,Z){var re=j.c,ue=re;do ue.a=Z,ue=ue.c;while(ue!==re);re=j.f,ue=j.e,ue.f=re,re.e=ue}function k(j,Z){var re=j.a,ue=re;do ue.d=Z,ue=ue.e;while(ue!==re);re=j.d,ue=j.b,ue.d=re,re.b=ue}function B(j){var Z=0;return Math.abs(j[1])>Math.abs(j[0])&&(Z=1),Math.abs(j[2])>Math.abs(j[Z])&&(Z=2),Z}var L=4*1e150;function V(j,Z){j.f+=Z.f,j.b.f+=Z.b.f}function H(j,Z,re){return j=j.a,Z=Z.a,re=re.a,Z.b.a===j?re.b.a===j?n(Z.a,re.a)?0>=a(re.b.a,Z.a,re.a):0<=a(Z.b.a,re.a,Z.a):0>=a(re.b.a,j,re.a):re.b.a===j?0<=a(Z.b.a,j,Z.a):(Z=s(Z.b.a,j,Z.a),j=s(re.b.a,j,re.a),Z>=j)}function z(j){j.a.i=null;var Z=j.e;Z.a.c=Z.c,Z.c.a=Z.a,j.e=null}function G(j,Z){_(j.a),j.c=!1,j.a=Z,Z.i=j}function K(j){var Z=j.a.a;do j=jr(j);while(j.a.a===Z);return j.c&&(Z=A(Qt(j).a.b,j.a.e),G(j,Z),j=jr(j)),j}function le(j,Z,re){var ue=new Wr;return ue.a=re,ue.e=Le(j.f,Z.e,ue),re.i=ue}function ne(j,Z){switch(j.s){case 100130:return(Z&1)!==0;case 100131:return Z!==0;case 100132:return 0<Z;case 100133:return 0>Z;case 100134:return 2<=Z||-2>=Z}return!1}function de(j){var Z=j.a,re=Z.d;re.c=j.d,re.a=Z,z(j)}function ve(j,Z,re){for(j=Z,Z=Z.a;j!==re;){j.c=!1;var ue=Qt(j),pe=ue.a;if(pe.a!==Z.a){if(!ue.c){de(j);break}pe=A(Z.c.b,pe.b),G(ue,pe)}Z.c!==pe&&(S(ce(pe),pe),S(Z,pe)),de(j),Z=ue.a,j=ue}return Z}function xe(j,Z,re,ue,pe,Pe){var je=!0;do le(j,Z,re.b),re=re.c;while(re!==ue);for(pe===null&&(pe=Qt(Z).a.b.c);ue=Qt(Z),re=ue.a.b,re.a===pe.a;)re.c!==pe&&(S(ce(re),re),S(ce(pe),re)),ue.f=Z.f-re.f,ue.d=ne(j,ue.f),Z.b=!0,!je&&ge(j,Z)&&(V(re,pe),z(Z),_(pe)),je=!1,Z=ue,pe=re;Z.b=!0,Pe&&Ae(j,Z)}function Q(j,Z,re,ue,pe){var Pe=[Z.g[0],Z.g[1],Z.g[2]];Z.d=null,Z.d=j.o&&j.o(Pe,re,ue,j.c)||null,Z.d===null&&(pe?j.n||(Be(j,100156),j.n=!0):Z.d=re[0])}function oe(j,Z,re){var ue=[null,null,null,null];ue[0]=Z.a.d,ue[1]=re.a.d,Q(j,Z.a,ue,[.5,.5,0,0],!1),S(Z,re)}function ae(j,Z,re,ue,pe){var Pe=Math.abs(Z.b-j.b)+Math.abs(Z.a-j.a),je=Math.abs(re.b-j.b)+Math.abs(re.a-j.a),it=pe+1;ue[pe]=.5*je/(Pe+je),ue[it]=.5*Pe/(Pe+je),j.g[0]+=ue[pe]*Z.g[0]+ue[it]*re.g[0],j.g[1]+=ue[pe]*Z.g[1]+ue[it]*re.g[1],j.g[2]+=ue[pe]*Z.g[2]+ue[it]*re.g[2]}function ge(j,Z){var re=Qt(Z),ue=Z.a,pe=re.a;if(n(ue.a,pe.a)){if(0<a(pe.b.a,ue.a,pe.a))return!1;if(!r(ue.a,pe.a))w(pe.b),S(ue,ce(pe)),Z.b=re.b=!0;else if(ue.a!==pe.a){var re=j.e,Pe=ue.a.h;if(0<=Pe){var re=re.b,je=re.d,it=re.e,vt=re.c,Ft=vt[Pe];je[Ft]=je[re.a],vt[je[Ft]]=Ft,Ft<=--re.a&&(1>=Ft||n(it[je[Ft>>1]],it[je[Ft]])?pt(re,Ft):$r(re,Ft)),it[Pe]=null,vt[Pe]=re.b,re.b=Pe}else for(re.c[-(Pe+1)]=null;0<re.a&&re.c[re.d[re.a-1]]===null;)--re.a;oe(j,ce(pe),ue)}}else{if(0>a(ue.b.a,pe.a,ue.a))return!1;jr(Z).b=Z.b=!0,w(ue.b),S(ce(pe),ue)}return!0}function me(j,Z){var re=Qt(Z),ue=Z.a,pe=re.a,Pe=ue.a,je=pe.a,it=ue.b.a,vt=pe.b.a,Ft=new Me;if(a(it,j.a,Pe),a(vt,j.a,je),Pe===je||Math.min(Pe.a,it.a)>Math.max(je.a,vt.a))return!1;if(n(Pe,je)){if(0<a(vt,Pe,je))return!1}else if(0>a(it,je,Pe))return!1;var Sr=it,I=Pe,X=vt,W=je,Y,ie;if(n(Sr,I)||(Y=Sr,Sr=I,I=Y),n(X,W)||(Y=X,X=W,W=Y),n(Sr,X)||(Y=Sr,Sr=X,X=Y,Y=I,I=W,W=Y),n(X,I)?n(I,W)?(Y=s(Sr,X,I),ie=s(X,I,W),0>Y+ie&&(Y=-Y,ie=-ie),Ft.b=y(Y,X.b,ie,I.b)):(Y=a(Sr,X,I),ie=-a(Sr,W,I),0>Y+ie&&(Y=-Y,ie=-ie),Ft.b=y(Y,X.b,ie,W.b)):Ft.b=(X.b+I.b)/2,o(Sr,I)||(Y=Sr,Sr=I,I=Y),o(X,W)||(Y=X,X=W,W=Y),o(Sr,X)||(Y=Sr,Sr=X,X=Y,Y=I,I=W,W=Y),o(X,I)?o(I,W)?(Y=l(Sr,X,I),ie=l(X,I,W),0>Y+ie&&(Y=-Y,ie=-ie),Ft.a=y(Y,X.a,ie,I.a)):(Y=d(Sr,X,I),ie=-d(Sr,W,I),0>Y+ie&&(Y=-Y,ie=-ie),Ft.a=y(Y,X.a,ie,W.a)):Ft.a=(X.a+I.a)/2,n(Ft,j.a)&&(Ft.b=j.a.b,Ft.a=j.a.a),Sr=n(Pe,je)?Pe:je,n(Sr,Ft)&&(Ft.b=Sr.b,Ft.a=Sr.a),r(Ft,Pe)||r(Ft,je))return ge(j,Z),!1;if(!r(it,j.a)&&0<=a(it,j.a,Ft)||!r(vt,j.a)&&0>=a(vt,j.a,Ft)){if(vt===j.a)return w(ue.b),S(pe.b,ue),Z=K(Z),ue=Qt(Z).a,ve(j,Qt(Z),re),xe(j,Z,ce(ue),ue,ue,!0),!0;if(it===j.a){w(pe.b),S(ue.e,ce(pe)),Pe=re=Z,je=Pe.a.b.a;do Pe=jr(Pe);while(Pe.a.b.a===je);return Z=Pe,Pe=Qt(Z).a.b.c,re.a=ce(pe),pe=ve(j,re,null),xe(j,Z,pe.c,ue.b.c,Pe,!0),!0}return 0<=a(it,j.a,Ft)&&(jr(Z).b=Z.b=!0,w(ue.b),ue.a.b=j.a.b,ue.a.a=j.a.a),0>=a(vt,j.a,Ft)&&(Z.b=re.b=!0,w(pe.b),pe.a.b=j.a.b,pe.a.a=j.a.a),!1}return w(ue.b),w(pe.b),S(ce(pe),ue),ue.a.b=Ft.b,ue.a.a=Ft.a,ue.a.h=tt(j.e,ue.a),ue=ue.a,pe=[0,0,0,0],Ft=[Pe.d,it.d,je.d,vt.d],ue.g[0]=ue.g[1]=ue.g[2]=0,ae(ue,Pe,it,pe,0),ae(ue,je,vt,pe,2),Q(j,ue,Ft,pe,!0),jr(Z).b=Z.b=re.b=!0,!1}function Ae(j,Z){for(var re=Qt(Z);;){for(;re.b;)Z=re,re=Qt(re);if(!Z.b&&(re=Z,Z=jr(Z),Z===null||!Z.b))break;Z.b=!1;var ue=Z.a,pe=re.a,Pe;if(Pe=ue.b.a!==pe.b.a)e:{Pe=Z;var je=Qt(Pe),it=Pe.a,vt=je.a,Ft=void 0;if(n(it.b.a,vt.b.a)){if(0>a(it.b.a,vt.b.a,it.a)){Pe=!1;break e}jr(Pe).b=Pe.b=!0,Ft=w(it),S(vt.b,Ft),Ft.d.c=Pe.d}else{if(0<a(vt.b.a,it.b.a,vt.a)){Pe=!1;break e}Pe.b=je.b=!0,Ft=w(vt),S(it.e,vt.b),Ft.b.d.c=Pe.d}Pe=!0}if(Pe&&(re.c?(z(re),_(pe),re=Qt(Z),pe=re.a):Z.c&&(z(Z),_(ue),Z=jr(re),ue=Z.a)),ue.a!==pe.a){if(ue.b.a===pe.b.a||Z.c||re.c||ue.b.a!==j.a&&pe.b.a!==j.a)ge(j,Z);else if(me(j,Z))break}ue.a===pe.a&&ue.b.a===pe.b.a&&(V(pe,ue),z(Z),_(ue),Z=jr(re))}}function Ce(j,Z){j.a=Z;for(var re=Z.c;re.i===null;)if(re=re.c,re===Z.c){var re=j,ue=Z,je=new Wr;je.a=ue.c.b;var pe=re.f,it=pe.a;do it=it.a;while(it.b!==null&&!pe.c(pe.b,je,it.b));var pe=it.b,Pe=Qt(pe),je=pe.a,it=Pe.a;if(a(je.b.a,ue,je.a)===0)je=pe.a,r(je.a,ue)||r(je.b.a,ue)||(w(je.b),pe.c&&(_(je.c),pe.c=!1),S(ue.c,je),Ce(re,ue));else{var vt=n(it.b.a,je.b.a)?pe:Pe,Pe=void 0;pe.d||vt.c?(vt===pe?Pe=A(ue.c.b,je.e):Pe=A(it.b.c.b,ue.c).b,vt.c?G(vt,Pe):(je=re,pe=le(re,pe,Pe),pe.f=jr(pe).f+pe.a.f,pe.d=ne(je,pe.f)),Ce(re,ue)):xe(re,pe,ue.c,ue.c,null,!0)}return}if(re=K(re.i),je=Qt(re),pe=je.a,je=ve(j,je,null),je.c===pe){var pe=je,je=pe.c,it=Qt(re),Pe=re.a,vt=it.a,Ft=!1;Pe.b.a!==vt.b.a&&me(j,re),r(Pe.a,j.a)&&(S(ce(je),Pe),re=K(re),je=Qt(re).a,ve(j,Qt(re),it),Ft=!0),r(vt.a,j.a)&&(S(pe,ce(vt)),pe=ve(j,it,null),Ft=!0),Ft?xe(j,re,pe.c,je,je,!0):(n(vt.a,Pe.a)?ue=ce(vt):ue=Pe,ue=A(pe.c.b,ue),xe(j,re,ue,ue.c,ue.c,!1),ue.b.i.c=!0,Ae(j,re))}else xe(j,re,je.c,pe,pe,!0)}function $e(j,Z){var re=new Wr,ue=x(j.b);ue.a.b=L,ue.a.a=Z,ue.b.a.b=-4e150,ue.b.a.a=Z,j.a=ue.b.a,re.a=ue,re.f=0,re.d=!1,re.c=!1,re.h=!0,re.b=!1,ue=j.f,ue=Le(ue,ue.a,re),re.e=ue}function Ye(j){this.a=new Re,this.b=j,this.c=H}function Le(j,Z,re){do Z=Z.c;while(Z.b!==null&&!j.c(j.b,Z.b,re));return j=new Re(re,Z.a,Z),Z.a.c=j,Z.a=j}function Re(j,Z,re){this.b=j||null,this.a=Z||this,this.c=re||this}function Ne(){this.d=Ge,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}var Ge=0;t=Ne.prototype,t.x=function(){Xe(this,Ge)},t.B=function(j,Z){switch(j){case 100142:return;case 100140:switch(Z){case 100130:case 100131:case 100132:case 100133:case 100134:this.s=Z;return}break;case 100141:this.m=!!Z;return;default:Be(this,100900);return}Be(this,100901)},t.y=function(j){switch(j){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Be(this,100900)}return!1},t.A=function(j,Z,re){this.j[0]=j,this.j[1]=Z,this.j[2]=re},t.z=function(j,Z){var re=Z||null;switch(j){case 100100:case 100106:this.h=re;break;case 100104:case 100110:this.l=re;break;case 100101:case 100107:this.k=re;break;case 100102:case 100108:this.i=re;break;case 100103:case 100109:this.p=re;break;case 100105:case 100111:this.o=re;break;case 100112:this.r=re;break;default:Be(this,100900)}},t.C=function(j,Z){var re=!1,ue=[0,0,0];Xe(this,2);for(var pe=0;3>pe;++pe){var Pe=j[pe];-1e150>Pe&&(Pe=-1e150,re=!0),1e150<Pe&&(Pe=1e150,re=!0),ue[pe]=Pe}re&&Be(this,100155),re=this.q,re===null?(re=x(this.b),S(re,re.b)):(w(re),re=re.e),re.a.d=Z,re.a.g[0]=ue[0],re.a.g[1]=ue[1],re.a.g[2]=ue[2],re.f=1,re.b.f=-1,this.q=re},t.u=function(j){Xe(this,Ge),this.d=1,this.b=new _e,this.c=j},t.t=function(){Xe(this,1),this.d=2,this.q=null},t.v=function(){Xe(this,2),this.d=1},t.w=function(){Xe(this,1),this.d=Ge;var j=this.j[0],Z=this.j[1],re=this.j[2],ue=!1,pe=[j,Z,re];if(j===0&&Z===0&&re===0){for(var Z=[-2*1e150,-2*1e150,-2*1e150],Pe=[2*1e150,2*1e150,2*1e150],re=[],je=[],ue=this.b.c,j=ue.e;j!==ue;j=j.e)for(var it=0;3>it;++it){var vt=j.g[it];vt<Pe[it]&&(Pe[it]=vt,je[it]=j),vt>Z[it]&&(Z[it]=vt,re[it]=j)}if(j=0,Z[1]-Pe[1]>Z[0]-Pe[0]&&(j=1),Z[2]-Pe[2]>Z[j]-Pe[j]&&(j=2),Pe[j]>=Z[j])pe[0]=0,pe[1]=0,pe[2]=1;else{for(Z=0,Pe=je[j],re=re[j],je=[0,0,0],Pe=[Pe.g[0]-re.g[0],Pe.g[1]-re.g[1],Pe.g[2]-re.g[2]],it=[0,0,0],j=ue.e;j!==ue;j=j.e)it[0]=j.g[0]-re.g[0],it[1]=j.g[1]-re.g[1],it[2]=j.g[2]-re.g[2],je[0]=Pe[1]*it[2]-Pe[2]*it[1],je[1]=Pe[2]*it[0]-Pe[0]*it[2],je[2]=Pe[0]*it[1]-Pe[1]*it[0],vt=je[0]*je[0]+je[1]*je[1]+je[2]*je[2],vt>Z&&(Z=vt,pe[0]=je[0],pe[1]=je[1],pe[2]=je[2]);0>=Z&&(pe[0]=pe[1]=pe[2]=0,pe[B(Pe)]=1)}ue=!0}for(je=B(pe),j=this.b.c,Z=(je+1)%3,re=(je+2)%3,je=0<pe[je]?1:-1,pe=j.e;pe!==j;pe=pe.e)pe.b=pe.g[Z],pe.a=je*pe.g[re];if(ue){for(pe=0,ue=this.b.a,j=ue.b;j!==ue;j=j.b)if(Z=j.a,!(0>=Z.f))do pe+=(Z.a.b-Z.b.a.b)*(Z.a.a+Z.b.a.a),Z=Z.e;while(Z!==j.a);if(0>pe)for(pe=this.b.c,ue=pe.e;ue!==pe;ue=ue.e)ue.a=-ue.a}for(this.n=!1,pe=this.b.b,j=pe.h;j!==pe;j=ue)ue=j.h,Z=j.e,r(j.a,j.b.a)&&j.e.e!==j&&(oe(this,Z,j),_(j),j=Z,Z=j.e),Z.e===j&&(Z!==j&&((Z===ue||Z===ue.b)&&(ue=ue.h),_(Z)),(j===ue||j===ue.b)&&(ue=ue.h),_(j));for(this.e=pe=new Te,ue=this.b.c,j=ue.e;j!==ue;j=j.e)j.h=tt(pe,j);for(rt(pe),this.f=new Ye(this),$e(this,-4e150),$e(this,L);(pe=ct(this.e))!==null;){for(;;){e:if(j=this.e,j.a===0)ue=et(j.b);else if(ue=j.c[j.d[j.a-1]],j.b.a!==0&&(j=et(j.b),n(j,ue))){ue=j;break e}if(ue===null||!r(ue,pe))break;ue=ct(this.e),oe(this,pe.c,ue.c)}Ce(this,pe)}for(this.a=this.f.a.a.b.a.a,pe=0;(ue=this.f.a.a.b)!==null;)ue.h||++pe,z(ue);for(this.f=null,pe=this.e,pe.b=null,pe.d=null,this.e=pe.c=null,pe=this.b,j=pe.a.b;j!==pe.a;j=ue)ue=j.b,j=j.a,j.e.e===j&&(V(j.c,j),_(j));if(!this.n){if(pe=this.b,this.m)for(j=pe.b.h;j!==pe.b;j=ue)ue=j.h,j.b.d.c!==j.d.c?j.f=j.d.c?1:-1:_(j);else for(j=pe.a.b;j!==pe.a;j=ue)if(ue=j.b,j.c){for(j=j.a;n(j.b.a,j.a);j=j.c.b);for(;n(j.a,j.b.a);j=j.e);for(Z=j.c.b,re=void 0;j.e!==Z;)if(n(j.b.a,Z.a)){for(;Z.e!==j&&(p(Z.e)||0>=a(Z.a,Z.b.a,Z.e.b.a));)re=A(Z.e,Z),Z=re.b;Z=Z.c.b}else{for(;Z.e!==j&&(g(j.c.b)||0<=a(j.b.a,j.a,j.c.b.a));)re=A(j,j.c.b),j=re.b;j=j.e}for(;Z.e.e!==j;)re=A(Z.e,Z),Z=re.b}if(this.h||this.i||this.k||this.l)if(this.m){for(pe=this.b,ue=pe.a.b;ue!==pe.a;ue=ue.b)if(ue.c){this.h&&this.h(2,this.c),j=ue.a;do this.k&&this.k(j.a.d,this.c),j=j.e;while(j!==ue.a);this.i&&this.i(this.c)}}else{for(pe=this.b,ue=!!this.l,j=!1,Z=-1,re=pe.a.d;re!==pe.a;re=re.d)if(re.c){j||(this.h&&this.h(4,this.c),j=!0),je=re.a;do ue&&(Pe=je.b.d.c?0:1,Z!==Pe&&(Z=Pe,this.l&&this.l(!!Z,this.c))),this.k&&this.k(je.a.d,this.c),je=je.e;while(je!==re.a)}j&&this.i&&this.i(this.c)}if(this.r){for(pe=this.b,j=pe.a.b;j!==pe.a;j=ue)if(ue=j.b,!j.c){Z=j.a,re=Z.e,je=void 0;do je=re,re=je.e,je.d=null,je.b.d===null&&(je.c===je?U(je.a,null):(je.a.c=je.c,D(je,ce(je))),Pe=je.b,Pe.c===Pe?U(Pe.a,null):(Pe.a.c=Pe.c,D(Pe,ce(Pe))),T(je));while(je!==Z);Z=j.d,j=j.b,j.d=Z,Z.b=j}this.r(this.b),this.c=this.b=null;return}}this.b=this.c=null};function Xe(j,Z){if(j.d!==Z)for(;j.d!==Z;)if(j.d<Z)switch(j.d){case Ge:Be(j,100151),j.u(null);break;case 1:Be(j,100152),j.t()}else switch(j.d){case 2:Be(j,100154),j.v();break;case 1:Be(j,100153),j.w()}}function Be(j,Z){j.p&&j.p(Z,j.c)}function se(j,Z){this.b=j||this,this.d=Z||this,this.a=null,this.c=!1}function te(){this.h=this,this.i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function ce(j){return j.b.e}function _e(){this.c=new Me,this.a=new se,this.b=new te,this.d=new te,this.b.b=this.d,this.d.b=this.b}function Me(j,Z){this.e=j||this,this.f=Z||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function Te(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new wt}function rt(j){j.d=[];for(var Z=0;Z<j.a;Z++)j.d[Z]=Z;j.d.sort(function(re){return function(ue,pe){return n(re[ue],re[pe])?1:-1}}(j.c)),j.e=!0,Mt(j.b)}function tt(j,Z){if(j.e){var re=j.b,ue=++re.a;2*ue>re.f&&(re.f*=2,re.c=st(re.c,re.f+1));var pe;return re.b===0?pe=ue:(pe=re.b,re.b=re.c[re.b]),re.e[pe]=Z,re.c[pe]=ue,re.d[ue]=pe,re.h&&$r(re,ue),pe}return re=j.a++,j.c[re]=Z,-(re+1)}function ct(j){if(j.a===0)return mt(j.b);var Z=j.c[j.d[j.a-1]];if(j.b.a!==0&&n(et(j.b),Z))return mt(j.b);do--j.a;while(0<j.a&&j.c[j.d[j.a-1]]===null);return Z}function wt(){this.d=st([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function st(j,Z){for(var re=Array(Z),ue=0;ue<j.length;ue++)re[ue]=j[ue];for(;ue<Z;ue++)re[ue]=0;return re}function Mt(j){for(var Z=j.a;1<=Z;--Z)pt(j,Z);j.h=!0}function et(j){return j.e[j.d[1]]}function mt(j){var Z=j.d,re=j.e,ue=j.c,pe=Z[1],Pe=re[pe];return 0<j.a&&(Z[1]=Z[j.a],ue[Z[1]]=1,re[pe]=null,ue[pe]=j.b,j.b=pe,0<--j.a&&pt(j,1)),Pe}function pt(j,Z){for(var re=j.d,ue=j.e,pe=j.c,Pe=Z,je=re[Pe];;){var it=Pe<<1;it<j.a&&n(ue[re[it+1]],ue[re[it]])&&(it+=1);var vt=re[it];if(it>j.a||n(ue[je],ue[vt])){re[Pe]=je,pe[je]=Pe;break}re[Pe]=vt,pe[vt]=Pe,Pe=it}}function $r(j,Z){for(var re=j.d,ue=j.e,pe=j.c,Pe=Z,je=re[Pe];;){var it=Pe>>1,vt=re[it];if(it===0||n(ue[vt],ue[je])){re[Pe]=je,pe[je]=Pe;break}re[Pe]=vt,pe[vt]=Pe,Pe=it}}function Wr(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Qt(j){return j.e.c.b}function jr(j){return j.e.a.b}tw.libtess={GluTesselator:Ne,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Ne.prototype.gluDeleteTess=Ne.prototype.x,Ne.prototype.gluTessProperty=Ne.prototype.B,Ne.prototype.gluGetTessProperty=Ne.prototype.y,Ne.prototype.gluTessNormal=Ne.prototype.A,Ne.prototype.gluTessCallback=Ne.prototype.z,Ne.prototype.gluTessVertex=Ne.prototype.C,Ne.prototype.gluTessBeginPolygon=Ne.prototype.u,Ne.prototype.gluTessBeginContour=Ne.prototype.t,Ne.prototype.gluTessEndContour=Ne.prototype.v,Ne.prototype.gluTessEndPolygon=Ne.prototype.w,i.exports=tw.libtess}(bd)),bd.exports}var zP=jP();const Os=uv(zP),tT={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},nw=Object.values(tT).reduce((i,t)=>i+t);class GP{constructor(t){this.renderer=t,this.shapeMode=Vi,this.geometry=new vn(void 0,void 0,void 0,this.renderer),this.geometry.gid="__IMMEDIATE_MODE_GEOMETRY__",this.contourIndices=[],this._useUserVertexProperties=void 0,this._bezierVertex=[],this._quadraticVertex=[],this._curveVertex=[],this.isProcessingVertices=!1,this._tessy=this._initTessy(),this.tessyVertexSize=nw,this.bufferStrides={...tT}}constructFromContours(t,r){this._useUserVertexProperties&&this._resetUserVertexProperties(),this.geometry.reset(),this.contourIndices=[],this.shapeMode=t.contours[0].kind;const n=!!this.renderer.states.strokeColor,s={};if(t.userVertexProperties){this._useUserVertexProperties=!0;for(const a in t.userVertexProperties){const o=t.vertexPropertyName(a),l=this.geometry._userVertexPropertyHelper(o,[],t.userVertexProperties[a]);s[a]=l,this.tessyVertexSize+=l.getDataSize(),this.bufferStrides[l.getSrcName()]=l.getDataSize(),this.renderer.buffers.user.push(new Mn(l.getDataSize(),l.getSrcName(),l.getDstName(),o,this.renderer))}}else this._useUserVertexProperties=!1;for(const a of r){this.contourIndices.push(this.geometry.vertices.length);for(const o of a){if(this.shapeMode===Bc&&this.geometry.vertices.length%6===3)for(const l in this.bufferStrides){const d=this.bufferStrides[l],p=this.geometry[l];p.push(...p.slice(p.length-3*d,p.length-2*d),...p.slice(p.length-d,p.length))}this.geometry.vertices.push(o.position),this.geometry.vertexNormals.push(o.normal||new be(0,0,0)),this.geometry.uvs.push(o.textureCoordinates.x,o.textureCoordinates.y),this.renderer.states.fillColor?this.geometry.vertexColors.push(...o.fill.array()):this.geometry.vertexColors.push(0,0,0,0),this.renderer.states.strokeColor?this.geometry.vertexStrokeColors.push(...o.stroke.array()):this.geometry.vertexStrokeColors.push(0,0,0,0);for(const l in s){const d=s[l];l in o&&d.setCurrentData(o[l]),d.pushCurrentData()}}}n&&(this.geometry.edges=this._calculateEdges(this.shapeMode,this.geometry.vertices)),n&&!this.renderer.geometryBuilder&&this.geometry._edgesToVertices(),this.shapeMode===Vi?(this.isProcessingVertices=!0,this._tesselateShape(),this.isProcessingVertices=!1):this.shapeMode===Jc?this.shapeMode=Qc:this.shapeMode===Bc&&(this.shapeMode=Vu),this.renderer.states.textureMode===Pp&&this.renderer.states._tex!==null&&this.renderer.states._tex.width>0&&this.renderer.states._tex.height>0&&(this.geometry.uvs=this.geometry.uvs.map((a,o)=>o%2===0?a/this.renderer.states._tex.width:a/this.renderer.states._tex.height))}_resetUserVertexProperties(){const t=this.geometry.userVertexProperties;for(const r in t){const n=t[r];delete this.bufferStrides[r],n.delete()}this._useUserVertexProperties=!1,this.tessyVertexSize=nw,this.geometry.userVertexProperties={}}_calculateEdges(t,r){const n=[];let s=0;const a=this.contourIndices.slice();let o=-1;switch(t){case Qc:for(s=0;s<r.length-2;s++)n.push([s,s+1]),n.push([s,s+2]);n.push([s,s+1]);break;case Cp:for(s=1;s<r.length-1;s++)n.push([0,s]),n.push([s,s+1]);n.push([0,r.length-1]);break;case Vu:for(s=0;s<r.length-2;s=s+3)n.push([s,s+1]),n.push([s+1,s+2]),n.push([s+2,s]);break;case rl:for(s=0;s<r.length-1;s=s+2)n.push([s,s+1]);break;case Bc:for(s=0;s<r.length-5;s+=6)n.push([s,s+1]),n.push([s+1,s+2]),n.push([s+2,s+5]),n.push([s+5,s]);break;case Jc:for(s=0;s<r.length-2;s+=2)n.push([s,s+1]),n.push([s+1,s+3]),n.push([s,s+2]);n.push([s,s+1]);break;default:for(s=0;s<r.length;s++)s===a[0]?o=a.shift():r[o]&&r[s].equals(r[o])?n.push([s-1,o]):n.push([s-1,s]);break}return n}_tesselateShape(){this.shapeMode=Vu;const t=[];for(let a=0;a<this.geometry.vertices.length;a++){this.contourIndices.length>0&&this.contourIndices[0]===a&&(this.contourIndices.shift(),t.push([])),t[t.length-1].push(this.geometry.vertices[a].x,this.geometry.vertices[a].y,this.geometry.vertices[a].z,this.geometry.uvs[a*2],this.geometry.uvs[a*2+1],this.geometry.vertexColors[a*4],this.geometry.vertexColors[a*4+1],this.geometry.vertexColors[a*4+2],this.geometry.vertexColors[a*4+3],this.geometry.vertexNormals[a].x,this.geometry.vertexNormals[a].y,this.geometry.vertexNormals[a].z);for(const o in this.geometry.userVertexProperties){const l=this.geometry.userVertexProperties[o],d=a*l.getDataSize(),p=d+l.getDataSize(),g=l.getSrcArray().slice(d,p);t[t.length-1].push(...g)}}const r=this._triangulate(t),n=this.geometry.vertices;this.geometry.vertices=[],this.geometry.vertexNormals=[],this.geometry.uvs=[];for(const a in this.geometry.userVertexProperties)this.geometry.userVertexProperties[a].resetSrcArray();const s=[];for(let a=0,o=r.length;a<o;a=a+this.tessyVertexSize){s.push(...r.slice(a+5,a+9)),this.geometry.vertexNormals.push(new be(...r.slice(a+9,a+12)));{let l=12;for(const d in this.geometry.userVertexProperties){const p=this.geometry.userVertexProperties[d],g=p.getDataSize(),y=a+l,x=y+g;p.setCurrentData(r.slice(y,x)),p.pushCurrentData(),l+=g}}this.geometry.vertices.push(new be(...r.slice(a,a+3))),this.geometry.uvs.push(...r.slice(a+3,a+5))}if(this.renderer.geometryBuilder){const a=new Map;this.geometry.edges=this.geometry.edges.map(o=>o.map(l=>{if(!a.has(l)){const d=n[l];let p=this.geometry.vertices.findIndex(g=>d.x===g.x&&d.y===g.y&&d.z===g.z);if(p===-1){let g=1/0,y=0;for(let x=0;x<this.geometry.vertices.length;x++){const S=this.geometry.vertices[x],_=d.x-S.x,w=d.y-S.y,A=d.z-S.z,P=_*_+w*w+A*A;P<g&&(g=P,y=x)}p=y}a.set(l,p)}return a.get(l)}))}this.geometry.vertexColors=s}_initTessy(){function t(l,d){for(const p of l)d.push(p)}function r(l){l!==Os.primitiveType.GL_TRIANGLES&&console.log(`expected TRIANGLES but got type: ${l}`)}function n(l){console.log("error callback"),console.log(`error number: ${l}`)}const s=(l,d,p)=>{const g=new Array(this.tessyVertexSize).fill(0);for(let y=0;y<p.length;y++)for(let x=0;x<g.length;x++)p[y]===0||!d[y]||(g[x]+=d[y][x]*p[y]);return g};function a(l){}const o=new Os.GluTesselator;return o.gluTessCallback(Os.gluEnum.GLU_TESS_VERTEX_DATA,t),o.gluTessCallback(Os.gluEnum.GLU_TESS_BEGIN,r),o.gluTessCallback(Os.gluEnum.GLU_TESS_ERROR,n),o.gluTessCallback(Os.gluEnum.GLU_TESS_COMBINE,s),o.gluTessCallback(Os.gluEnum.GLU_TESS_EDGE_FLAG,a),o.gluTessProperty(Os.gluEnum.GLU_TESS_WINDING_RULE,Os.windingRule.GLU_TESS_WINDING_NONZERO),o}_triangulate(t){const r=t[0]?t[0][2]:void 0;let n=!0;for(const a of t)for(let o=0;o<a.length;o+=this.tessyVertexSize)if(a[o+2]!==r){n=!1;break}n?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);const s=[];this._tessy.gluTessBeginPolygon(s);for(const a of t){this._tessy.gluTessBeginContour();for(let o=0;o<a.length;o+=this.tessyVertexSize){const l=a.slice(o,o+this.tessyVertexSize);this._tessy.gluTessVertex(l,l)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),s}}class HP{constructor(t){this.renderer=t,this.cache={}}numCached(){return Object.keys(this.cache).length}isCached(t){return this.cache[t]!==void 0}getGeometryByID(t){var r;return(r=this.cache[t])==null?void 0:r.geometry}getCached(t){return this.getCachedID(t.gid)}getCachedID(t){return this.cache[t]}ensureCached(t){const r=t.gid;if(!r)throw new Error("The p5.Geometry you passed in has no gid property!");if(this.isCached(t.gid))return this.getCached(t);const n=this.renderer.GL;if(this.freeBuffers(r),Object.keys(this.cache).length>1e3){const o=Object.keys(this.cache)[0];this.freeBuffers(o)}const s={};this.cache[r]=s,s.geometry=t;let a=s.indexBuffer;if(t.faces.length){a||(a=s.indexBuffer=n.createBuffer());const o=t.faces.flat(),l=o.some(p=>p>65535);let d=l?Uint32Array:Uint16Array;this.renderer._bindBuffer(a,n.ELEMENT_ARRAY_BUFFER,o,d),s.indexBufferType=l?n.UNSIGNED_INT:n.UNSIGNED_SHORT}else a&&(n.deleteBuffer(a),s.indexBuffer=null);return s}freeBuffers(t){const r=this.cache[t];if(!r)return;delete this.cache[t];const n=this.renderer.GL;r.indexBuffer&&n.deleteBuffer(r.indexBuffer);function s(a){for(const o of a)r[o.dst]&&(n.deleteBuffer(r[o.dst]),r[o.dst]=null)}s(this.renderer.buffers.stroke),s(this.renderer.buffers.fill),s(this.renderer.buffers.user)}}const jd={[nl]:3,[kp]:4,[Mp]:.5};function o1(i,t){const r=t.DEGREES="degrees",n=t.RADIANS="radians";t._angleMode=n,t.acos=function(s){return this._fromRadians(Math.acos(s))},t.asin=function(s){return this._fromRadians(Math.asin(s))},t.atan=function(s){return this._fromRadians(Math.atan(s))},t.atan2=function(s,a){return this._fromRadians(Math.atan2(s,a))},t.cos=function(s){return Math.cos(this._toRadians(s))},t.sin=function(s){return Math.sin(this._toRadians(s))},t.tan=function(s){return Math.tan(this._toRadians(s))},t.degrees=s=>s*po,t.radians=s=>s*fo,t.angleMode=function(s){if(typeof s>"u")return this._angleMode;if(s===r||s===n){const a=this._angleMode;if(s===a)return;s===n?(this.pRotationX=this.pRotationX*fo,this.pRotationY=this.pRotationY*fo,this.pRotationZ=this.pRotationZ*fo):(this.pRotationX=this.pRotationX*po,this.pRotationY=this.pRotationY*po,this.pRotationZ=this.pRotationZ*po),this._angleMode=s}},t._toRadians=function(s){return this._angleMode===r?s*fo:s},t._toDegrees=function(s){return this._angleMode===n?s*po:s},t._fromRadians=function(s){return this._angleMode===r?s*po:s},t._fromDegrees=function(s){return this._angleMode===n?s*fo:s}}typeof p5<"u"&&o1(p5,p5.prototype);function u1(i,t){t.createImage=function(r,n){return new i.Image(r,n)},t.saveCanvas=function(...r){let n,s,a,o;if(r[0]instanceof HTMLCanvasElement)n=r[0],r.shift();else if(r[0]instanceof Xt)n=r[0].elt,r.shift();else if(r[0]instanceof Ii){const d=r[0];o=this.createGraphics(d.width,d.height),o.pixelDensity(d.pixelDensity()),d.loadPixels(),o.loadPixels(),o.pixels.set(d.pixels),o.updatePixels(),n=o._renderer.canvas,r.shift()}else n=this._curElement&&this._curElement.elt;r.length>=1&&(s=r[0]),r.length>=2&&(a=r[1]),a=a||t._checkFileExtension(s,a)[1]||"png";let l;switch(a){default:l="image/png";break;case"webp":l="image/webp";break;case"jpeg":case"jpg":l="image/jpeg";break}n.toBlob(d=>{t.downloadFile(d,s,a),o&&o.remove()},l)},t.encodeAndDownloadGif=function(r,n){const s=r.gifProperties;let a=s.loopLimit;a===1?a=null:a===null&&(a=0);const o=new Uint8Array(r.width*r.height*s.numFrames),l=[],d={};for(let F=0;F<s.numFrames;F++){const T=new Set,U=s.frames[F].image.data,k=U.length,B=new Uint32Array(r.width*r.height);for(let V=0,H=0;V<k;V+=4,H++){const z=U[V+0],G=U[V+1],K=U[V+2],le=z<<16|G<<8|K<<0;T.add(le),B[H]=le}const L=[...T].sort().toString();d[L]===void 0?d[L]={freq:1,frames:[F]}:(d[L].freq+=1,d[L].frames.push(F)),l.push(B)}let p=[];const g=Object.keys(d).sort(function(F,T){return d[T].freq-d[F].freq}),y=g[0].split(",").map(F=>parseInt(F));p=p.concat(d[y].frames);const x=new Set(y);for(let F=1;F<g.length;F++){const U=g[F].split(",").map(k=>parseInt(k)).filter(k=>!x.has(k));if(y.length+U.length<=256){for(let k=0;k<U.length;k++)y.push(U[k]),x.add(U[k]);p=p.concat(d[g[F]].frames)}}p=new Set(p);const S={};for(let F=0;F<y.length;F++)S[y[F]]||(S[y[F]]=F);let _=1;for(;_<y.length;)_<<=1;y.length=_;const w={loop:a,palette:new Uint32Array(y)},A=new UD.GifWriter(o,r.width,r.height,w);let P={};for(let F=0;F<s.numFrames;F++){const T=!p.has(F),U=T?[]:y,k=new Uint8Array(r.width*r.height),B={},L=new Set;l[F].forEach((z,G)=>{T?(B[z]===void 0&&(B[z]=U.length,U.push(z)),k[G]=B[z]):k[G]=S[z],F>0&&l[F-1][G]!==z&&L.add(z)});const V={},H=U.filter(z=>!L.has(z));if(H.length>0){const z=H[0],G=T?B[z]:S[z];if(F>0){for(let K=0;K<l[F].length;K++)l[F-1][K]===l[F][K]&&(k[K]=G);V.transparent=G,P.frameOpts.disposal=1}}if(V.delay=s.frames[F].delay/10,T){let z=1;for(;z<U.length;)z<<=1;U.length=z,V.palette=new Uint32Array(U)}F>0&&A.addFrame(0,0,r.width,r.height,P.pixelPaletteIndex,P.frameOpts),P={pixelPaletteIndex:k,frameOpts:V}}P.frameOpts.disposal=1,A.addFrame(0,0,r.width,r.height,P.pixelPaletteIndex,P.frameOpts);const D="gif",R=new Blob([o.slice(0,A.end())],{type:"image/gif"});t.downloadFile(R,n,D)},t.saveFrames=function(r,n,s,a,o){let l=s||3;l=Math.max(Math.min(l,15),0),l=l*1e3;let d=a||15;d=Math.max(Math.min(d,22),0);let p=0;const g=t._makeFrame,y=this._curElement.elt;let x=[];const S=setInterval(()=>{x.push(g(r+p,n,y)),p++},1e3/d);setTimeout(()=>{if(clearInterval(S),o)o(x);else for(const _ of x)t.downloadFile(_.imageData,_.filename,_.ext);x=[]},l+.01)},t._makeFrame=function(r,n,s){let a;this?a=this._curElement.elt:a=s;let o;if(!n)n="png",o="image/png";else switch(n.toLowerCase()){case"png":o="image/png";break;case"jpeg":o="image/jpeg";break;case"jpg":o="image/jpeg";break;default:o="image/png";break}const l="image/octet-stream";let d=a.toDataURL(o);d=d.replace(o,l);const p={};return p.imageData=d,p.filename=r,p.ext=n,p}}typeof p5<"u"&&u1(p5,p5.prototype);class iw extends Error{constructor(){super(...arguments);tr(this,"status");tr(this,"response");tr(this,"ok")}}async function ai(i,t){try{const r=await fetch(i);if(r.ok){let n;switch(t){case"json":n=await r.json();break;case"text":n=await r.text();break;case"arrayBuffer":n=await r.arrayBuffer();break;case"blob":n=await r.blob();break;case"bytes":if(r.bytes)n=await r.bytes();else{const s=await r.arrayBuffer();n=new Uint8Array(s)}break;default:throw new Error("Unsupported response type")}return{data:n,headers:r.headers}}else{const n=new iw(r.statusText);throw n.status=r.status,n.response=r,n.ok=!1,n}}catch(r){throw r instanceof TypeError?console.log("You may have encountered a CORS error"):r instanceof iw?console.log("You have encountered a HTTP error"):r instanceof SyntaxError&&console.log("There is an error parsing the response to requested data structure"),r}}function rT(i,t){t.loadJSON=async function(n,s,a){try{const{data:o}=await ai(n,"json");return s?s(o):o}catch(o){if(i._friendlyFileLoadError(5,n),a)return a(o);throw o}},t.loadStrings=async function(n,s,a){try{let{data:o}=await ai(n,"text");return o=o.split(/\r?\n/),s?s(o):o}catch(o){if(i._friendlyFileLoadError(3,n),a)return a(o);throw o}},t.loadTable=async function(n,s,a,o,l){typeof arguments[arguments.length-1]=="function"&&(typeof arguments[arguments.length-2]=="function"?(o=arguments[arguments.length-2],l=arguments[arguments.length-1]):o=arguments[arguments.length-1]),typeof s!="string"&&(s=","),typeof a=="function"&&(a=!1);try{let{data:d}=await ai(n,"text"),p=new i.Table;return d=bP(d,{separator:s}),a?p.columns=d.shift():p.columns=Array(d[0].length).fill(null),d.forEach(g=>{const y=new i.TableRow(g);p.addRow(y)}),o?o(p):p}catch(d){if(i._friendlyFileLoadError(2,n),l)return l(d);throw d}},t.loadXML=async function(n,s,a){try{const o=new DOMParser;let{data:l}=await ai(n,"text");const d=o.parseFromString(l,"application/xml");return l=new i.XML(d),s?s(l):l}catch(o){if(i._friendlyFileLoadError(1,n),a)return a(o);throw o}},t.loadBytes=async function(n,s,a){try{let{data:o}=await ai(n,"arrayBuffer");return o=new Uint8Array(o),s?s(o):o}catch(o){if(i._friendlyFileLoadError(6,n),a)return a(o);throw o}},t.loadBlob=async function(n,s,a){try{const{data:o}=await ai(n,"blob");return s?s(o):o}catch(o){if(a)return a(o);throw o}},t.httpGet=async function(n,s="text",a,o){return typeof s=="function"&&(o=a,a=s,s="text"),this.httpDo(n,"GET",s,a,o)},t.httpPost=async function(n,s,a="text",o,l){typeof s=="function"?(o=s,l=a,s=void 0,a="text"):typeof a=="function"&&(l=o,o=a,a="text");let d=s,p="text/plain";s instanceof i.XML?(d=s.serialize(),p="application/xml"):s instanceof i.Image?(d=await s.toBlob(),p="image/png"):typeof s=="object"&&(d=JSON.stringify(s),p="application/json");const g={method:"POST",body:d,headers:{"Content-Type":p}};d&&(g.body=d);const y=new Request(n,g);return this.httpDo(y,"POST",a,o,l)},t.httpDo=async function(n,s,a,o,l){if(typeof a=="function"&&(l=o,o=a,a=void 0),!a)switch(typeof n=="string"?n.split(".").pop():n.url.split(".").pop()){case"json":a="json";break;case"jpg":case"jpeg":case"png":case"webp":case"gif":a="blob";break;case"xml":case"txt":default:a="text"}const d=new Request(n,{method:s});try{const{data:p}=await ai(d,a);return o?o(p):p}catch(p){if(l)return l(p);throw p}},t._pWriters=[],t.createWriter=function(n,s){let a;for(const o in t._pWriters)if(t._pWriters[o].name===n)return a=new i.PrintWriter(n+this.millis(),s),t._pWriters.push(a),a;return a=new i.PrintWriter(n,s),t._pWriters.push(a),a},i.PrintWriter=function(n,s){let a=this;this.name=n,this.content="",this.write=function(o){this.content+=o},this.print=function(o){this.content+=`${o}
`},this.clear=function(){this.content=""},this.close=function(){const o=[];o.push(this.content),t.writeFile(o,n,s);for(const l in t._pWriters)t._pWriters[l].name===this.name&&t._pWriters.splice(l,1);a.clear(),a={}}},t.save=function(n,s,a){const o=arguments,l=this._curElement?this._curElement.elt:this.elt;if(o.length===0){t.saveCanvas(l);return}else if(o[0]instanceof _t||o[0]instanceof al){t.saveCanvas(o[0].canvas,o[1],o[2]);return}else if(o.length===1&&typeof o[0]=="string")t.saveCanvas(l,o[0]);else switch(Vd(o[1],o[2])[1]){case"json":t.saveJSON(o[0],o[1],o[2]);return;case"txt":t.saveStrings(o[0],o[1],o[2]);return;default:o[0]instanceof Array?t.saveStrings(o[0],o[1],o[2]):o[0]instanceof i.Table?t.saveTable(o[0],o[1],o[2]):o[0]instanceof i.Image?t.saveCanvas(o[0].canvas,o[1]):o[0]instanceof i.SoundFile&&t.saveSound(o[0],o[1],o[2],o[3])}},t.saveJSON=function(n,s,a){let o;a?o=JSON.stringify(n):o=JSON.stringify(n,void 0,2),this.saveStrings(o.split(`
`),s,"json")},t.saveStrings=function(n,s,a,o){const l=a||"txt",d=new i.PrintWriter(s,l);for(let p of n)o?d.write(p+`\r
`):d.write(p+`
`);d.close(),d.clear()};function r(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}t.saveTable=function(n,s,a){let o;a===void 0?(o=s.substring(s.lastIndexOf(".")+1,s.length),o===s&&(o="csv")):o=a;const l=this.createWriter(s,o),d=n.columns;let p=",";if(o==="tsv"&&(p="	"),o!=="html"){const g=n.toString(p);l.write(g)}else{l.print("<html>"),l.print("<head>");let g='  <meta http-equiv="content-type" content';if(g+='="text/html;charset=utf-8" />',l.print(g),l.print("</head>"),l.print("<body>"),l.print("  <table>"),d[0]!=="0"){l.print("    <tr>");for(let y=0;y<d.length;y++){const x=r(d[y]);l.print(`      <td>${x}`),l.print("      </td>")}l.print("    </tr>")}for(let y=0;y<n.rows.length;y++){l.print("    <tr>");for(let x=0;x<n.columns.length;x++){const S=n.rows[y].getString(x),_=r(S);l.print(`      <td>${_}`),l.print("      </td>")}l.print("    </tr>")}l.print("  </table>"),l.print("</body>"),l.print("</html>")}l.close(),l.clear()},t.writeFile=function(n,s,a){let o="application/octet-stream";t._isSafari()&&(o="text/plain");const l=new Blob(n,{type:o});t.downloadFile(l,s,a)},t.downloadFile=Qv,t._checkFileExtension=Vd,t._isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}typeof p5<"u"&&rT(p5,p5.prototype);function l1(i,t){t.loadImage=async function(p,g,y){try{let x=new i.Image(1,1,this);const S=new Request(p,{method:"GET",mode:"cors"}),{data:_,headers:w}=await ai(S,"bytes"),A=w.get("content-type");if(A===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),A&&A.includes("image/gif"))await s(_,x);else{const P=new Blob([_]),D=await createImageBitmap(P);x.width=x.canvas.width=D.width,x.height=x.canvas.height=D.height,x.drawingContext.drawImage(D,0,0)}return x.modified=!0,g?g(x):x}catch(x){if(i._friendlyFileLoadError(0,p),typeof y=="function")return y(x);throw x}},t.saveGif=async function(p,g,y={delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"}){if(typeof p!="string")throw TypeError("fileName parameter must be a string");if(typeof g!="number")throw TypeError("Duration parameter must be a number");const x=y&&y.delay||0,S=y&&y.units||"seconds",_=y&&y.silent||!1,w=y&&y.notificationDuration||0,A=y&&y.notificationID||"progressBar";if(typeof x!="number")throw TypeError("Delay parameter must be a number");if(S!=="seconds"&&S!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');if(typeof _!="boolean")throw TypeError("Silent parameter must be a boolean");if(typeof w!="number")throw TypeError("Notification duration parameter must be a number");if(typeof A!="string")throw TypeError("Notification ID parameter must be a string");this._recording=!0;let P=this._targetFrameRate;(P===1/0||P===void 0||P===0)&&(P=60);let D=1/P*1e3;D=D<20?20:D;const R=S==="seconds"?g*P:g,F=S==="seconds"?x*P:x,T=R+F;let U=F;this.frameCount=U;const k=this._renderer._pixelDensity;this.pixelDensity(1);let B=[];document.getElementById(A)!==null&&document.getElementById(A).remove();let L;_||(L=this.createP(""),L.id(A),L.style("font-size","16px"),L.style("font-family","Montserrat"),L.style("background-color","#ffffffa0"),L.style("padding","8px"),L.style("border-radius","10px"),L.position(0,0));let V,H;for(this._renderer instanceof i.RendererGL&&(H=this.drawingContext,V=new Uint8Array(H.drawingBufferWidth*H.drawingBufferHeight*4)),this.noLoop(),await Promise.resolve();U<T;){this.redraw();let oe;this._renderer instanceof i.RendererGL?(V=new Uint8Array(H.drawingBufferWidth*H.drawingBufferHeight*4),H.readPixels(0,0,H.drawingBufferWidth,H.drawingBufferHeight,H.RGBA,H.UNSIGNED_BYTE,V),oe=r(V,this.width,this.height)):oe=this.drawingContext.getImageData(0,0,this.width,this.height).data,B.push(oe),U++,_||L.html("Saved frame <b>"+B.length.toString()+"</b> out of "+R.toString()),await new Promise(ae=>setTimeout(ae,0))}_||L.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(k);const z=kP(),G=n(B),K={},le=oe=>{const ae=oe.length/4,ge=new Uint8Array(ae);for(let me=0;me<ae;me++){const Ae=oe[me*4]<<24|oe[me*4+1]<<16|oe[me*4+2]<<8|oe[me*4+3];K[Ae]===void 0&&(K[Ae]=MP(G,oe.slice(me*4,(me+1)*4))),ge[me]=K[Ae]}return ge},ne=G.length-1;let de=[];for(let oe=0;oe<B.length;oe++){const ae=le(B[oe]),ge=ae.slice();if(oe===0)z.writeFrame(ae,this.width,this.height,{palette:G,delay:D,dispose:1});else{for(let me=0;me<ae.length;me++)ae[me]===de[me]&&(ae[me]=ne);z.writeFrame(ae,this.width,this.height,{delay:D,transparent:!0,transparentIndex:ne,dispose:1})}de=ge,_||L.html("Rendered frame <b>"+oe.toString()+"</b> out of "+R.toString()),await new Promise(me=>setTimeout(me,0))}z.finish();const ve=z.bytesView(),xe="gif",Q=new Blob([ve],{type:"image/gif"});B=[],this._recording=!1,this.loop(),_||(L.html("Done. Downloading your gif!🌸"),w>0&&setTimeout(()=>L.remove(),w*1e3)),t.downloadFile(Q,p,xe)};function r(p,g,y){const x=parseInt(y/2),S=g*4,_=new Uint8Array(g*4);for(let w=0;w<x;++w){const A=w*S,P=(y-w-1)*S;_.set(p.subarray(A,A+S)),p.copyWithin(A,P,P+S),p.set(_,P)}return p}function n(p){let g=new Uint8Array(p.length*p[0].length);for(let x=0;x<p.length;x++)g.set(p[x],x*p[0].length);let y=OP(g,256,{format:"rgba4444",oneBitAlpha:!0});return y.length===256?y[y.length-1]=[Math.random()*255,Math.random()*255,Math.random()*255,0]:y.push([Math.random()*255,Math.random()*255,Math.random()*255,0]),y}async function s(p,g){const y=new UD.GifReader(p);g.width=g.canvas.width=y.width,g.height=g.canvas.height=y.height;const x=[],S=y.numFrames();let _=new Uint8ClampedArray(g.width*g.height*4);const w=(P,D)=>{try{D.decodeAndBlitFrameRGBA(P,_)}catch(R){throw i._friendlyFileLoadError(8,g.src),R}};for(let P=0;P<S;P++){const D=y.frameInfo(P),R=g.drawingContext.getImageData(0,0,g.width,g.height);_=R.data.slice(),w(P,y);const F=new ImageData(_,g.width,g.height);g.drawingContext.putImageData(F,0,0);let T=D.delay;T===0&&(T=10),x.push({image:g.drawingContext.getImageData(0,0,g.width,g.height),delay:T*10}),D.disposal===2?g.drawingContext.clearRect(D.x,D.y,D.width,D.height):D.disposal===3&&g.drawingContext.putImageData(R,0,0,D.x,D.y,D.width,D.height)}let A=y.loopCount();return A===null?A=1:A===0&&(A=null),g.drawingContext.putImageData(x[0].image,0,0),x.length>1&&(g.gifProperties={displayIndex:0,loopLimit:A,loopCount:0,frames:x,numFrames:S,playing:!0,timeDisplayed:0,lastChangeTime:0}),g}function a(p,g,y,x,S,_,w,A){const P=Math.max(w/S,A/_),[D,R]=[w/P,A/P];let F=y,T=x;return p===$n?F+=(S-D)/2:p===Od&&(F+=S-D),g===$n?T+=(_-R)/2:g===Ay&&(T+=_-R),{x:F,y:T,w:D,h:R}}function o(p,g,y,x,S,_,w,A){const P=Math.max(y/w,x/A),[D,R]=[y/P,x/P];let F=S,T=_;return p===$n?F+=(w-D)/2:p===Od&&(F+=w-D),g===$n?T+=(A-R)/2:g===Ay&&(T+=A-R),{x:F,y:T,w:D,h:R}}function l(p,g,y,x,S,_,w,A,P,D,R){if(p===WA){const{x:F,y:T,w:U,h:k}=o(g,y,_,w,A,P,D,R);A=F,P=T,D=U,R=k}if(p===$A){const{x:F,y:T,w:U,h:k}=a(g,y,x,S,_,w,D,R);x=F,S=T,_=U,w=k}return{sx:A,sy:P,sw:D,sh:R,dx:x,dy:S,dw:_,dh:w}}function d(p,g){return p>0&&p<g?p:g}t.image=function(p,g,y,x,S,_,w,A,P,D,R,F){let T=p.width,U=p.height;F=F||$n,R=R||$n,p.elt&&(T=T!==void 0?T:p.elt.width,U=U!==void 0?U:p.elt.height),p.elt&&p.elt.videoWidth&&!p.canvas&&(T=T!==void 0?T:p.elt.videoWidth,U=U!==void 0?U:p.elt.videoHeight);let k=g,B=y,L=x||T,V=S||U,H=_||0,z=w||0,G=A!==void 0?A:T,K=P!==void 0?P:U;G=d(G,T),K=d(K,U);let le=1;p.elt&&!p.canvas&&p.elt.style.width&&(p.elt.videoWidth&&!x?le=p.elt.videoWidth:le=p.elt.width,le/=parseInt(p.elt.style.width,10)),H*=le,z*=le,K*=le,G*=le;let ne=yd.modeAdjust(k,B,L,V,this._renderer.states.imageMode);ne=l(D,R,F,ne.x,ne.y,ne.w,ne.h,H,z,G,K),this._renderer.image(p,ne.sx,ne.sy,ne.sw,ne.sh,ne.dx,ne.dy,ne.dw,ne.dh)},t.tint=function(...p){const g=this.color(...p);this._renderer.states.setValue("tint",g._getRGBA([255,255,255,255]))},t.noTint=function(){this._renderer.states.setValue("tint",null)},t.imageMode=function(p){(p===ci||p===Zc||p===$n)&&this._renderer.states.setValue("imageMode",p)}}typeof p5<"u"&&l1(p5,p5.prototype);class Mo{constructor(t){this._renderer=t,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new qr(4),this.projMatrix=new qr(4),this.yScale=1}perspective(t,r,n,s){this.cameraType=arguments.length>0?"custom":"default",typeof t>"u"?(t=this.defaultCameraFOV,this.cameraFOV=t):this.cameraFOV=this._renderer._pInst._toRadians(t),typeof r>"u"&&(r=this.defaultAspectRatio),typeof n>"u"&&(n=this.defaultCameraNear),typeof s>"u"&&(s=this.defaultCameraFar),n<=1e-4&&(n=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),s<n&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=r,this.cameraNear=n,this.cameraFar=s,this.projMatrix=new qr(4);const a=1/Math.tan(this.cameraFOV/2),o=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(a/r,0,0,0,0,-a*this.yScale,0,0,0,0,(s+n)*o,-1,0,0,2*s*n*o,0),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix))}ortho(t,r,n,s,a,o){const l=this.fbo||this._renderer;t===void 0&&(t=-l.width/2),r===void 0&&(r=+l.width/2),n===void 0&&(n=-l.height/2),s===void 0&&(s=+l.height/2),a===void 0&&(a=0),o===void 0&&(o=Math.max(l.width,l.height)+800),this.cameraNear=a,this.cameraFar=o;const d=r-t,p=s-n,g=o-a,y=2/d,x=2/p*this.yScale,S=-2/g,_=-(r+t)/d,w=-(s+n)/p,A=-(o+a)/g;this.projMatrix=new qr(4),this.projMatrix.set(y,0,0,0,0,-x,0,0,0,0,S,0,_,w,A,1),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix)),this.cameraType="custom"}frustum(t,r,n,s,a,o){t===void 0&&(t=-this._renderer.width*.05),r===void 0&&(r=+this._renderer.width*.05),n===void 0&&(n=+this._renderer.height*.05),s===void 0&&(s=-this._renderer.height*.05),a===void 0&&(a=this.defaultCameraNear),o===void 0&&(o=this.defaultCameraFar),this.cameraNear=a,this.cameraFar=o;const l=r-t,d=s-n,p=o-a,g=+(2*a)/l,y=+(2*a)/d*this.yScale,x=-(2*o*a)/p,S=(r+t)/l,_=(s+n)/d,w=-(o+a)/p;this.projMatrix=new qr(4),this.projMatrix.set(g,0,0,0,0,-y,0,0,S,_,w,-1,0,0,x,0),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.set(this.projMatrix)),this.cameraType="custom"}_rotateView(t,r,n,s){let a=this.centerX,o=this.centerY,l=this.centerZ;a-=this.eyeX,o-=this.eyeY,l-=this.eyeZ;const d=new qr(4);d.rotate4x4(this._renderer._pInst._toRadians(t),r,n,s);const p=[a*d.mat4[0]+o*d.mat4[4]+l*d.mat4[8],a*d.mat4[1]+o*d.mat4[5]+l*d.mat4[9],a*d.mat4[2]+o*d.mat4[6]+l*d.mat4[10]];p[0]+=this.eyeX,p[1]+=this.eyeY,p[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,p[0],p[1],p[2],this.upX,this.upY,this.upZ)}roll(t){const r=this._getLocalAxes(),s=Yu.fromAxisAngle(this._renderer._pInst._toRadians(t),r.z[0],r.z[1],r.z[2]).rotateVector(new be(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,s.x,s.y,s.z)}pan(t){const r=this._getLocalAxes();this._rotateView(t,r.y[0],r.y[1],r.y[2])}tilt(t){const r=this._getLocalAxes();this._rotateView(t,r.x[0],r.x[1],r.x[2])}lookAt(t,r,n){this.camera(this.eyeX,this.eyeY,this.eyeZ,t,r,n,this.upX,this.upY,this.upZ)}camera(t,r,n,s,a,o,l,d,p){typeof t>"u"&&(t=this.defaultEyeX,r=this.defaultEyeY,n=this.defaultEyeZ,s=t,a=r,o=0,l=0,d=1,p=0),this.eyeX=t,this.eyeY=r,this.eyeZ=n,typeof s<"u"&&(this.centerX=s,this.centerY=a,this.centerZ=o),typeof l<"u"&&(this.upX=l,this.upY=d,this.upZ=p);const g=this._getLocalAxes();this.cameraMatrix.set(g.x[0],g.y[0],g.z[0],0,g.x[1],g.y[1],g.z[1],0,g.x[2],g.y[2],g.z[2],0,0,0,0,1);const y=-t,x=-r,S=-n;return this.cameraMatrix.translate([y,x,S]),this._isActive()&&(this._renderer.states.setValue("uViewMatrix",this._renderer.states.uViewMatrix.clone()),this._renderer.states.uViewMatrix.set(this.cameraMatrix)),this}move(t,r,n){const s=this._getLocalAxes(),a=[s.x[0]*t,s.x[1]*t,s.x[2]*t],o=[s.y[0]*r,s.y[1]*r,s.y[2]*r],l=[s.z[0]*n,s.z[1]*n,s.z[2]*n];this.camera(this.eyeX+a[0]+o[0]+l[0],this.eyeY+a[1]+o[1]+l[1],this.eyeZ+a[2]+o[2]+l[2],this.centerX+a[0]+o[0]+l[0],this.centerY+a[1]+o[1]+l[1],this.centerZ+a[2]+o[2]+l[2],this.upX,this.upY,this.upZ)}setPosition(t,r,n){const s=t-this.eyeX,a=r-this.eyeY,o=n-this.eyeZ;this.camera(t,r,n,this.centerX+s,this.centerY+a,this.centerZ+o,this.upX,this.upY,this.upZ)}set(t){const r=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];for(const n of r)this[n]=t[n];this.cameraMatrix=t.cameraMatrix.copy(),this.projMatrix=t.projMatrix.copy(),this._isActive()&&(this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.setValue("uViewMatrix",this._renderer.states.uViewMatrix.clone()),this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uModelMatrix.reset(),this._renderer.states.uViewMatrix.set(this.cameraMatrix),this._renderer.states.uPMatrix.set(this.projMatrix))}slerp(t,r,n){if(n===0){this.set(t);return}else if(n===1){this.set(r);return}this.projMatrix.mat4[15]!==0&&(this.projMatrix.setElement(0,t.projMatrix.mat4[0]*Math.pow(r.projMatrix.mat4[0]/t.projMatrix.mat4[0],n)),this.projMatrix.setElement(5,t.projMatrix.mat4[5]*Math.pow(r.projMatrix.mat4[5]/t.projMatrix.mat4[5],n)),this._isActive()&&(this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.mat4=this.projMatrix.mat4.slice()));const s=new be(t.eyeX,t.eyeY,t.eyeZ),a=new be(r.eyeX,r.eyeY,r.eyeZ),o=new be(t.centerX,t.centerY,t.centerZ),l=new be(r.centerX,r.centerY,r.centerZ),d=be.dist(s,o),p=be.dist(a,l),g=d*Math.pow(p/d,n),y=be.sub(s,a),x=s.copy().sub(a).sub(o).add(l),S=x.magSq();let _=1;S>1e-6&&(_=be.dot(y,x)/S,_=Math.max(0,Math.min(_,1)));const w=be.lerp(be.lerp(s,o,_),be.lerp(a,l,_),n),A=t.cameraMatrix.createSubMatrix3x3(),P=r.cameraMatrix.createSubMatrix3x3(),D=A.row(2),R=P.row(2),F=A.row(1),T=P.row(1),U=new be,k=new be,B=new be,L=new be,V=P.mult(A.copy().transpose()),H=V.diagonal();let z=.5*(H[0]+H[1]+H[2]-1);if(1-z<1e-7){U.set(be.lerp(D,R,n)).normalize(),B.set(U).mult(_*g).add(w),L.set(U).mult((_-1)*g).add(w),k.set(be.lerp(F,T,n)).normalize(),this.camera(B.x,B.y,B.z,L.x,L.y,L.z,k.x,k.y,k.z);return}let G,K,le,ne,de=1/(1-z);const ve=Math.max(H[0],H[1],H[2]),xe=V.mat3[1]+V.mat3[3],Q=V.mat3[2]+V.mat3[6],oe=V.mat3[5]+V.mat3[7];ve===H[0]?(G=Math.sqrt((H[0]-z)*de),de/=G,K=.5*xe*de,le=.5*Q*de,ne=.5*(V.mat3[7]-V.mat3[5])/G):ve===H[1]?(K=Math.sqrt((H[1]-z)*de),de/=K,le=.5*oe*de,G=.5*xe*de,ne=.5*(V.mat3[2]-V.mat3[6])/K):(le=Math.sqrt((H[2]-z)*de),de/=le,G=.5*Q*de,K=.5*oe*de,ne=.5*(V.mat3[3]-V.mat3[1])/le);const ae=n*Math.atan2(ne,z),ge=Math.cos(ae),me=Math.sin(ae),Ae=1-ge,Ce=G*K,$e=K*le,Ye=le*G,Le=new qr([ge+Ae*G*G,Ae*Ce+me*le,Ae*Ye-me*K,Ae*Ce-me*le,ge+Ae*K*K,Ae*$e+me*G,Ae*Ye+me*K,Ae*$e-me*G,ge+Ae*le*le]);Le.multiplyVec(D,U),B.set(U).mult(_*g).add(w),L.set(U).mult((_-1)*g).add(w),Le.multiplyVec(F,k),this.camera(B.x,B.y,B.z,L.x,L.y,L.z,k.x,k.y,k.z)}_computeCameraDefaultSettings(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=this.defaultEyeZ*.1,this.defaultCameraFar=this.defaultEyeZ*10}_setDefaultCamera(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}_resize(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}copy(){const t=new Mo(this._renderer);return t.cameraFOV=this.cameraFOV,t.aspectRatio=this.aspectRatio,t.eyeX=this.eyeX,t.eyeY=this.eyeY,t.eyeZ=this.eyeZ,t.centerX=this.centerX,t.centerY=this.centerY,t.centerZ=this.centerZ,t.upX=this.upX,t.upY=this.upY,t.upZ=this.upZ,t.cameraNear=this.cameraNear,t.cameraFar=this.cameraFar,t.cameraType=this.cameraType,t.useLinePerspective=this.useLinePerspective,t.cameraMatrix=this.cameraMatrix.copy(),t.projMatrix=this.projMatrix.copy(),t.yScale=this.yScale,t}clone(){return this.copy()}_getLocalAxes(){let t=this.eyeX-this.centerX,r=this.eyeY-this.centerY,n=this.eyeZ-this.centerZ;const s=Math.sqrt(t*t+r*r+n*n);s!==0&&(t/=s,r/=s,n/=s);let a=this.upX,o=this.upY,l=this.upZ,d=o*n-l*r,p=-a*n+l*t,g=a*r-o*t;a=r*g-n*p,o=-t*g+n*d,l=t*p-r*d;const y=Math.sqrt(d*d+p*p+g*g);y!==0&&(d/=y,p/=y,g/=y);const x=Math.sqrt(a*a+o*o+l*l);return x!==0&&(a/=x,o/=x,l/=x),{x:[d,p,g],y:[a,o,l],z:[t,r,n]}}_orbit(t,r,n){const s=this.eyeX-this.centerX,a=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ;let l=Math.hypot(s,a,o);const d=new be(s,a,o).normalize(),p=new be(this.upX,this.upY,this.upZ).normalize(),g=be.cross(p,d).normalize(),y=be.cross(g,p);l*=Math.pow(10,n),l<this.cameraNear&&(l=this.cameraNear),l>this.cameraFar&&(l=this.cameraFar);const x=Math.acos(Math.max(-1,Math.min(1,be.dot(d,p))))+r,S=t;(x<=0||x>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),p.mult(Math.cos(x)),y.mult(Math.cos(S)*Math.sin(x)),g.mult(Math.sin(S)*Math.sin(x)),d.set(p).add(y).add(g),this.eyeX=l*d.x+this.centerX,this.eyeY=l*d.y+this.centerY,this.eyeZ=l*d.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}_orbitFree(t,r,n){const s=this.eyeX-this.centerX,a=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ;let l=Math.hypot(s,a,o);const d=new be(s,a,o).normalize(),p=new be(this.upX,this.upY,this.upZ),g=be.cross(p,d).normalize(),y=be.cross(d,g),x=Math.atan2(r,t);y.mult(Math.sin(x)),g.mult(Math.cos(x)).add(y);const S=Math.sqrt(t*t+r*r),_=be.cross(d,g);l*=Math.pow(10,n),l<this.cameraNear&&(l=this.cameraNear),l>this.cameraFar&&(l=this.cameraFar);const w=Math.cos(S),A=Math.sin(S),P=p.dot(d),D=p.dot(g),R=P*w+D*A,F=-P*A+D*w,T=p.dot(_);p.x=R*d.x+F*g.x+T*_.x,p.y=R*d.y+F*g.y+T*_.y,p.z=R*d.z+F*g.z+T*_.z,g.mult(-A),d.mult(w).add(g).mult(l),this.camera(d.x+this.centerX,d.y+this.centerY,d.z+this.centerZ,this.centerX,this.centerY,this.centerZ,p.x,p.y,p.z)}_isActive(){return this===this._renderer.states.curCamera}}function nT(i,t){t.camera=function(...r){return this._assert3d("camera"),this._renderer.camera(...r),this},t.perspective=function(...r){return this._assert3d("perspective"),this._renderer.perspective(...r),this},t.linePerspective=function(r){if(!(this._renderer instanceof Tt))throw new Error("linePerspective() must be called in WebGL mode.");return this._renderer.linePerspective(r)},t.ortho=function(...r){return this._assert3d("ortho"),this._renderer.ortho(...r),this},t.frustum=function(...r){return this._assert3d("frustum"),this._renderer.frustum(...r),this},t.createCamera=function(){return this._assert3d("createCamera"),this._renderer.createCamera()},t.setCamera=function(r){this._renderer.setCamera(r)},i.Camera=Mo,Tt.prototype.camera=function(...r){this.states.curCamera.camera(...r)},Tt.prototype.perspective=function(...r){this.states.curCamera.perspective(...r)},Tt.prototype.linePerspective=function(r){if(r!==void 0)this.states.curCamera.useLinePerspective=r;else return this.states.curCamera.useLinePerspective},Tt.prototype.ortho=function(...r){this.states.curCamera.ortho(...r)},Tt.prototype.frustum=function(...r){this.states.curCamera.frustum(...r)},Tt.prototype.createCamera=function(){const r=new Mo(this);return r._computeCameraDefaultSettings(),r._setDefaultCamera(),r},Tt.prototype.setCamera=function(r){this.states.setValue("curCamera",r),this.states.setValue("uPMatrix",this.states.uPMatrix.clone()),this.states.uPMatrix.set(r.projMatrix),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(r.cameraMatrix)}}typeof p5<"u"&&nT(p5,p5.prototype);class bn{constructor(t,r,n,s={}){this._renderer=t,this._vertSrc=r,this._fragSrc=n,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:s.uniforms||{},declarations:s.declarations,helpers:s.helpers||{},vertex:s.vertex||{},fragment:s.fragment||{},modified:{vertex:s.modified&&s.modified.vertex||{},fragment:s.modified&&s.modified.fragment||{}}}}hookTypes(t){let r=this._vertSrc,n=this.hooks.vertex[t];if(n||(n=this.hooks.fragment[t],r=this._fragSrc),!n)throw new Error(`Can't find hook ${t}!`);const s=t.split(/\s+/g),a=s.pop(),o=s.pop(),l=[...s],d=/\(([^\)]*)\)/.exec(n);if(!d)throw new Error(`Couldn't find function parameters in hook body:
${n}`);const p=y=>{const x=new RegExp(`struct\\s+${y}\\s*{([^}]*)}`).exec(r);if(!x)return;const S=[];for(const _ of x[1].split(";")){const w=_.trim().split(/\s+|,/g),A=w.shift(),P=[...w],D=p(A);for(const R of P)S.push({name:R,type:{typeName:A,qualifiers:[],properties:D}})}return S},g=d[1].split(",").map(y=>{const x=y.trim().split(/\s+/g),S=x.pop(),_=x.pop(),w=[...x],A=p(_);return{name:S,type:{typeName:_,qualifiers:w,properties:A}}});return{name:a,returnType:{typeName:o,qualifiers:l,properties:p(o)},parameters:g}}shaderSrc(t,r){const n="void main";let[s,a]=t.split(n),o="",l="";for(const d in this.hooks.uniforms)o+=`uniform ${d};
`;this.hooks.declarations&&(o+=this.hooks.declarations+`
`),this.hooks[r].declarations&&(o+=this.hooks[r].declarations+`
`);for(const d in this.hooks.helpers)o+=`${d}${this.hooks.helpers[d]}
`;for(const d in this.hooks[r]){if(d==="declarations")continue;const[p,g]=d.split(" ");this.hooks.modified[r][d]&&(l+="#define AUGMENTED_HOOK_"+g+`
`),o+=p+" HOOK_"+g+this.hooks[r][d]+`
`}return s.indexOf("#define HOOK_DEFINES")!==-1&&(s=s.replace("#define HOOK_DEFINES",`
`+l+`
`),l=""),s+`
`+l+o+n+a}version(){const t=/#version (.+)$/.exec(this.vertSrc());return t?t[1]:"100 es"}vertSrc(){return this.shaderSrc(this._vertSrc,"vertex")}fragSrc(){return this.shaderSrc(this._fragSrc,"fragment")}inspectHooks(){console.log("==== Vertex shader hooks: ====");for(const t in this.hooks.vertex)console.log((this.hooks.modified.vertex[t]?"[MODIFIED] ":"")+t+this.hooks.vertex[t]);console.log(""),console.log("==== Fragment shader hooks: ====");for(const t in this.hooks.fragment)console.log((this.hooks.modified.fragment[t]?"[MODIFIED] ":"")+t+this.hooks.fragment[t]);console.log(""),console.log("==== Helper functions: ====");for(const t in this.hooks.helpers)console.log(t+this.hooks.helpers[t])}modify(t){const r={vertex:{},fragment:{},helpers:{}};for(const a in t)a!=="declarations"&&a!=="uniforms"&&(a==="vertexDeclarations"?r.vertex.declarations=(r.vertex.declarations||"")+`
`+t[a]:a==="fragmentDeclarations"?r.fragment.declarations=(r.fragment.declarations||"")+`
`+t[a]:this.hooks.vertex[a]?r.vertex[a]=t[a]:this.hooks.fragment[a]?r.fragment[a]=t[a]:r.helpers[a]=t[a]);const n=Object.assign({},this.hooks.modified.vertex),s=Object.assign({},this.hooks.modified.fragment);for(const a in r.vertex||{})a!=="declarations"&&(n[a]=!0);for(const a in r.fragment||{})a!=="declarations"&&(s[a]=!0);return new bn(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(t.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,t.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,r.fragment||{}),vertex:Object.assign({},this.hooks.vertex,r.vertex||{}),helpers:Object.assign({},this.hooks.helpers,r.helpers||{}),modified:{vertex:n,fragment:s}})}init(){if(this._glProgram===0){const t=this._renderer.GL;if(this._vertShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this._vertShader,this.vertSrc()),t.compileShader(this._vertShader),!t.getShaderParameter(this._vertShader,t.COMPILE_STATUS)){const r=t.getShaderInfoLog(this._vertShader);if(typeof IS_MINIFIED<"u")console.error(r);else throw r;return null}if(this._fragShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this._fragShader,this.fragSrc()),t.compileShader(this._fragShader),!t.getShaderParameter(this._fragShader,t.COMPILE_STATUS)){const r=t.getShaderInfoLog(this._fragShader);if(typeof IS_MINIFIED<"u")console.error(r);else throw r;return null}this._glProgram=t.createProgram(),t.attachShader(this._glProgram,this._vertShader),t.attachShader(this._glProgram,this._fragShader),t.linkProgram(this._glProgram),t.getProgramParameter(this._glProgram,t.LINK_STATUS)||p5._friendlyError(`Snap! Error linking shader program: ${t.getProgramInfoLog(this._glProgram)}`),this._loadAttributes(),this._loadUniforms()}return this}setDefaultUniforms(){for(const t in this.hooks.uniforms){const[,r]=t.split(" "),n=this.hooks.uniforms[t];let s;n instanceof Function?s=n():s=n,s!=null&&this.setUniform(r,s)}}copyToContext(t){const r=new bn(t._renderer,this._vertSrc,this._fragSrc);return r.ensureCompiledOnContext(t._renderer),r}ensureCompiledOnContext(t){var r,n;if(this._glProgram!==0&&this._renderer!==t)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=((n=(r=t==null?void 0:t._renderer)==null?void 0:r.filterRenderer)==null?void 0:n._renderer)||t,this.init())}_loadAttributes(){if(this._loadedAttributes)return;this.attributes={};const t=this._renderer.GL,r=t.getProgramParameter(this._glProgram,t.ACTIVE_ATTRIBUTES);for(let n=0;n<r;++n){const s=t.getActiveAttrib(this._glProgram,n),a=s.name,o=t.getAttribLocation(this._glProgram,a),l={};l.name=a,l.location=o,l.index=n,l.type=s.type,l.size=s.size,this.attributes[a]=l}this._loadedAttributes=!0}_loadUniforms(){if(this._loadedUniforms)return;const t=this._renderer.GL,r=t.getProgramParameter(this._glProgram,t.ACTIVE_UNIFORMS);let n=0;for(let s=0;s<r;++s){const a=t.getActiveUniform(this._glProgram,s),o={};o.location=t.getUniformLocation(this._glProgram,a.name),o.size=a.size;let l=a.name;a.size>1&&(l=l.substring(0,l.indexOf("[0]"))),o.name=l,o.type=a.type,o._cachedData=void 0,o.type===t.SAMPLER_2D&&(o.samplerIndex=n,n++,this.samplers.push(o)),o.isArray=a.size>1||o.type===t.FLOAT_MAT3||o.type===t.FLOAT_MAT4||o.type===t.FLOAT_VEC2||o.type===t.FLOAT_VEC3||o.type===t.FLOAT_VEC4||o.type===t.INT_VEC2||o.type===t.INT_VEC4||o.type===t.INT_VEC3,this.uniforms[l]=o}this._loadedUniforms=!0}compile(){}bindShader(){this.init(),this._bound||(this.useProgram(),this._bound=!0)}unbindShader(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}bindTextures(){const t=this._renderer.GL,r=this._renderer._getEmptyTexture();for(const n of this.samplers){let s=n.texture;s===void 0&&(n.texture=s=r),t.activeTexture(t.TEXTURE0+n.samplerIndex),s.bindTexture(),s.update(),t.uniform1i(n.location,n.samplerIndex)}}updateTextures(){for(const t of this.samplers){const r=t.texture;r&&r.update()}}unbindTextures(){var n;const t=this._renderer.GL,r=this._renderer._getEmptyTexture();for(const s of this.samplers)(n=s.texture)!=null&&n.isFramebufferTexture&&(t.activeTexture(t.TEXTURE0+s.samplerIndex),r.bindTexture(),t.uniform1i(s.location,s.samplerIndex))}useProgram(){const t=this._renderer.GL;return this._renderer._curShader!==this&&(t.useProgram(this._glProgram),this._renderer._curShader=this),this}setUniform(t,r){this.init();const n=this.uniforms[t];if(!n)return;const s=this._renderer.GL;if(n.isArray){if(n._cachedData&&this._renderer._arraysEqual(n._cachedData,r))return;n._cachedData=r.slice(0)}else{if(n._cachedData&&n._cachedData===r)return;Array.isArray(r)?n._cachedData=r.slice(0):n._cachedData=r}const a=n.location;switch(this.useProgram(),n.type){case s.BOOL:r===!0?s.uniform1i(a,1):s.uniform1i(a,0);break;case s.INT:n.size>1?r.length&&s.uniform1iv(a,r):s.uniform1i(a,r);break;case s.FLOAT:n.size>1?r.length&&s.uniform1fv(a,r):s.uniform1f(a,r);break;case s.FLOAT_MAT3:s.uniformMatrix3fv(a,!1,r);break;case s.FLOAT_MAT4:s.uniformMatrix4fv(a,!1,r);break;case s.FLOAT_VEC2:n.size>1?r.length&&s.uniform2fv(a,r):s.uniform2f(a,r[0],r[1]);break;case s.FLOAT_VEC3:n.size>1?r.length&&s.uniform3fv(a,r):s.uniform3f(a,r[0],r[1],r[2]);break;case s.FLOAT_VEC4:n.size>1?r.length&&s.uniform4fv(a,r):s.uniform4f(a,r[0],r[1],r[2],r[3]);break;case s.INT_VEC2:n.size>1?r.length&&s.uniform2iv(a,r):s.uniform2i(a,r[0],r[1]);break;case s.INT_VEC3:n.size>1?r.length&&s.uniform3iv(a,r):s.uniform3i(a,r[0],r[1],r[2]);break;case s.INT_VEC4:n.size>1?r.length&&s.uniform4iv(a,r):s.uniform4i(a,r[0],r[1],r[2],r[3]);break;case s.SAMPLER_2D:if(typeof r=="number"){if(r<s.TEXTURE0||r>s.TEXTURE31||r!==Math.ceil(r))return console.log("🌸 p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;s.activeTexture(r),s.uniform1i(a,r)}else s.activeTexture(s.TEXTURE0+n.samplerIndex),n.texture=r instanceof Gs?r:this._renderer.getTexture(r),s.uniform1i(a,n.samplerIndex),n.texture.src.gifProperties&&n.texture.src._animateGif(this._renderer._pInst);break;case s.SAMPLER_CUBE:case s.SAMPLER_3D:case s.SAMPLER_2D_SHADOW:case s.SAMPLER_2D_ARRAY:case s.SAMPLER_2D_ARRAY_SHADOW:case s.SAMPLER_CUBE_SHADOW:case s.INT_SAMPLER_2D:case s.INT_SAMPLER_3D:case s.INT_SAMPLER_CUBE:case s.INT_SAMPLER_2D_ARRAY:case s.UNSIGNED_INT_SAMPLER_2D:case s.UNSIGNED_INT_SAMPLER_3D:case s.UNSIGNED_INT_SAMPLER_CUBE:case s.UNSIGNED_INT_SAMPLER_2D_ARRAY:if(typeof r!="number")break;if(r<s.TEXTURE0||r>s.TEXTURE31||r!==Math.ceil(r)){console.log("🌸 p5.js says: You're trying to use a number as the data for a texture.Please use a texture.");break}s.activeTexture(r),s.uniform1i(a,r);break}return this}enableAttrib(t,r,n,s,a,o){if(t){typeof IS_MINIFIED>"u"&&this.attributes[t.name]!==t&&console.warn(`The attribute "${t.name}"passed to enableAttrib does not belong to this shader.`);const l=t.location;if(l!==-1){const d=this._renderer.GL;this._renderer.registerEnabled.has(l)||(d.enableVertexAttribArray(l),this._renderer.registerEnabled.add(l)),this._renderer.GL.vertexAttribPointer(l,r,n||d.FLOAT,s||!1,a||0,o||0)}}return this}disableRemainingAttributes(){for(const t of this._renderer.registerEnabled.values())Object.keys(this.attributes).some(r=>this.attributes[r].location===t)||(this._renderer.GL.disableVertexAttribArray(t),this._renderer.registerEnabled.delete(t))}}function c1(i,t){i.Shader=bn}typeof p5<"u"&&c1(p5,p5.prototype);var iT=`precision highp int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

IN vec3 aPosition;
IN vec2 aTexCoord;
OUT vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // project to 3D space
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,sw=`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,jy=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif

#ifdef FRAGMENT_SHADER
vec4 getTexture(in sampler2D content, vec2 coord) {
  vec4 color = TEXTURE(content, coord);
  color.rgb /= color.a;
  return color;
}
#endif
`,qP=`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

#define HOOK_DEFINES

#ifdef AUGMENTED_HOOK_getWorldInputs
uniform mat4 uModelMatrix;
uniform mat4 uViewMatrix;
uniform mat3 uModelNormalMatrix;
uniform mat3 uCameraNormalMatrix;
#else
uniform mat4 uModelViewMatrix;
uniform mat3 uNormalMatrix;
#endif
uniform mat4 uProjectionMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

struct Vertex {
  vec3 position;
  vec3 normal;
  vec2 texCoord;
  vec4 color;
};

void main(void) {
  HOOK_beforeVertex();

  Vertex inputs;
  inputs.position = aPosition;
  inputs.normal = aNormal;
  inputs.texCoord = aTexCoord;
  inputs.color = (uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor;
#ifdef AUGMENTED_HOOK_getObjectInputs
  inputs = HOOK_getObjectInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uModelNormalMatrix * inputs.normal;
  inputs = HOOK_getWorldInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  // Already multiplied by the model matrix, just apply view
  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uCameraNormalMatrix * inputs.normal;
#else
  // Apply both at once
  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uNormalMatrix * inputs.normal;
#endif
#ifdef AUGMENTED_HOOK_getCameraInputs
  inputs = HOOK_getCameraInputs(inputs);
#endif

  // Pass varyings to fragment shader
  vVertTexCoord = inputs.texCoord;
  vVertexNormal = normalize(inputs.normal);
  vColor = inputs.color;

  gl_Position = uProjectionMatrix * vec4(inputs.position, 1.);

  HOOK_afterVertex();
}
`,$P=`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,WP=`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,YP=`#define PI 3.141592

precision highp float;
  
uniform sampler2D uEnvMap;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    vec4 newTexColor = texture2D(uEnvMap, suv.xy);
    gl_FragColor = newTexColor;
}
`,XP=`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = ((uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor);
}
`,ZP=`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,KP=`precision highp int;

#define HOOK_DEFINES

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

#ifdef AUGMENTED_HOOK_getWorldInputs
uniform mat4 uModelMatrix;
uniform mat4 uViewMatrix;
uniform mat3 uModelNormalMatrix;
uniform mat3 uCameraNormalMatrix;
#else
uniform mat4 uModelViewMatrix;
uniform mat3 uNormalMatrix;
#endif
uniform mat4 uProjectionMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

struct Vertex {
  vec3 position;
  vec3 normal;
  vec2 texCoord;
  vec4 color;
};

void main(void) {
  HOOK_beforeVertex();

  Vertex inputs;
  inputs.position = aPosition;
  inputs.normal = aNormal;
  inputs.texCoord = aTexCoord;
  inputs.color = (uUseVertexColor && aVertexColor.x >= 0.0) ? aVertexColor : uMaterialColor;
#ifdef AUGMENTED_HOOK_getObjectInputs
  inputs = HOOK_getObjectInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uModelNormalMatrix * inputs.normal;
  inputs = HOOK_getWorldInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  // Already multiplied by the model matrix, just apply view
  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uCameraNormalMatrix * inputs.normal;
#else
  // Apply both at once
  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.normal = uNormalMatrix * inputs.normal;
#endif
#ifdef AUGMENTED_HOOK_getCameraInputs
  inputs = HOOK_getCameraInputs(inputs);
#endif

  // Pass varyings to fragment shader
  vViewPosition = inputs.position;
  vTexCoord = inputs.texCoord;
  vNormal = inputs.normal;
  vColor = inputs.color;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }

  gl_Position = uProjectionMatrix * vec4(inputs.position, 1.);
  HOOK_afterVertex();
}
`,QP=`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      ? TEXTURE(uSampler, vTexCoord) * (vec4(uTint.rgb/255., 1.) * uTint.a/255.)
      : vColor;
  if (isTexture && inputs.color.a > 0.0) {
    // Textures come in with premultiplied alpha. Temporarily unpremultiply it
    // so hooks users don't have to think about premultiplied alpha.
    inputs.color.rgb /= inputs.color.a;
  }
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  OUT_COLOR.rgb *= OUT_COLOR.a; // Premultiply alpha before rendering
  HOOK_afterFragment();
}
`,JP=`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5));
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,eL=`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,tL=`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

#define HOOK_DEFINES

precision highp int;
precision highp float;

#ifdef AUGMENTED_HOOK_getWorldInputs
uniform mat4 uModelMatrix;
uniform mat4 uViewMatrix;
#else
uniform mat4 uModelViewMatrix;
#endif

uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform bool uSimpleLines;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec3 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

struct StrokeVertex {
  vec3 position;
  vec3 tangentIn;
  vec3 tangentOut;
  vec4 color;
  float weight;
};

void main() {
  HOOK_beforeVertex();

  if (!uSimpleLines) {
      // Caps have one of either the in or out tangent set to 0
      vCap = (aTangentIn == vec3(0.)) != (aTangentOut == vec3(0.)) ? 1. : 0.;

      // Joins have two unique, defined tangents
      vJoin = (
          aTangentIn != vec3(0.) &&
          aTangentOut != vec3(0.) &&
          aTangentIn != aTangentOut
      ) ? 1. : 0.;
  }

  StrokeVertex inputs;
  inputs.position = aPosition.xyz;
  inputs.color = uUseLineColor ? aVertexColor : uMaterialColor;
  inputs.weight = uStrokeWeight;
  inputs.tangentIn = aTangentIn;
  inputs.tangentOut = aTangentOut;

#ifdef AUGMENTED_HOOK_getObjectInputs
  inputs = HOOK_getObjectInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  inputs.position = (uModelMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.tangentIn = (uModelMatrix * vec4(aTangentIn, 0.)).xyz;
  inputs.tangentOut = (uModelMatrix * vec4(aTangentOut, 0.)).xyz;
  inputs = HOOK_getWorldInputs(inputs);
#endif

#ifdef AUGMENTED_HOOK_getWorldInputs
  // Already multiplied by the model matrix, just apply view
  inputs.position = (uViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.tangentIn = (uViewMatrix * vec4(aTangentIn, 0.)).xyz;
  inputs.tangentOut = (uViewMatrix * vec4(aTangentOut, 0.)).xyz;
#else
  // Apply both at once
  inputs.position = (uModelViewMatrix * vec4(inputs.position, 1.)).xyz;
  inputs.tangentIn = (uModelViewMatrix * vec4(aTangentIn, 0.)).xyz;
  inputs.tangentOut = (uModelViewMatrix * vec4(aTangentOut, 0.)).xyz;
#endif
#ifdef AUGMENTED_HOOK_getCameraInputs
  inputs = hook_getCameraInputs(inputs);
#endif

  vec4 posp = vec4(inputs.position, 1.);
  vec4 posqIn = vec4(inputs.position + inputs.tangentIn, 1.);
  vec4 posqOut = vec4(inputs.position + inputs.tangentOut, 1.);
  vStrokeWeight = inputs.weight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(0., -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1. && !uSimpleLines) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * inputs.weight / 2.),
          tangentIn,
          c + (side * normalOut * inputs.weight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * inputs.weight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * inputs.weight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * inputs.weight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * inputs.weight / 2.));
    } else {
      vMaxDist = inputs.weight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      inputs.weight * 0.5;
    vMaxDist = inputs.weight / 2.;
  }

  vCenter = p.xy;
  vPosition = vCenter + offset;
  vColor = inputs.color;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  HOOK_afterVertex();
}
`,rL=`precision highp int;
precision highp float;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,nL=`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,iL=`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,sL=`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,aL=`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,oL=`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`,sT=`precision highp float;

uniform sampler2D tex0;
uniform vec2 canvasSize;
uniform vec2 texelSize;

IN vec2 vTexCoord;

struct FilterInputs {
  vec2 texCoord;
  vec2 canvasSize;
  vec2 texelSize;
};

void main(void) {
  FilterInputs inputs;
  inputs.texCoord = vTexCoord;
  inputs.canvasSize = canvasSize;
  inputs.texelSize = texelSize;
  OUT_COLOR = HOOK_getColor(inputs, tex0);
  OUT_COLOR.rgb *= outColor.a;
}
`,aT=`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`,oT=`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`,uT=`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`,lT=`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`,cT=`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`,hT=`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`,fT=`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`,dT=`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`,pT=`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`;const gT={},mT={};let zd="";const h1=function(i,t){zd+=`#define STROKE_CAP_${i} ${t}
`,gT[To[i]]=t},f1=function(i,t){zd+=`#define STROKE_JOIN_${i} ${t}
`,mT[To[i]]=t};h1("ROUND",0);h1("PROJECT",1);h1("SQUARE",2);f1("ROUND",0);f1("MITER",1);f1("BEVEL",2);const Rr={normalVert:qP,normalFrag:$P,basicFrag:WP,sphereMappingFrag:YP,lightVert:sw+XP,lightTextureFrag:ZP,phongVert:KP,phongFrag:sw+QP,fontVert:JP,fontFrag:eL,lineVert:zd+tL,lineFrag:zd+rL,pointVert:nL,pointFrag:iL,imageLightVert:sL,imageLightDiffusedFrag:aL,imageLightSpecularFrag:oL,filterBaseVert:iT,filterBaseFrag:sT};let uL=Rr.sphereMappingFrag;for(const i in Rr)Rr[i]=jy+Rr[i];const lL={[zv]:aT,[$v]:oT,[qv]:uT,[nl]:lT,[kp]:cT,[Gv]:hT,[Hv]:fT,[Mp]:dT};class Tt extends _t{constructor(t,r,n,s,a,o){super(t,r,n,s),this.canvas=this.elt=a||document.createElement("canvas"),this._setAttributeDefaults(t),this._initContext(),this.GL=this.drawingContext,this._isMainCanvas?(this._pInst._curElement=this,this._pInst.canvas=this.canvas):this.canvas.style.display="none",this.elt.id="defaultCanvas0",this.elt.classList.add("p5Canvas"),this.wrappedElt=new Xt(this.elt,this._pInst);for(const d of Object.getOwnPropertyNames(Xt.prototype))d!=="constructor"&&d[0]!=="_"&&Object.defineProperty(this,d,{get(){return this.wrappedElt[d]}});const l=this._adjustDimensions(r,n);if(r=l.adjustedWidth,n=l.adjustedHeight,this.width=r,this.height=n,this.elt.width=r*this._pixelDensity,this.elt.height=n*this._pixelDensity,this.elt.style.width=`${r}px`,this.elt.style.height=`${n}px`,this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._pInst._userNode)this._pInst._userNode.appendChild(this.elt);else{if(document.getElementsByTagName("main").length===0){let d=document.createElement("main");document.body.appendChild(d)}document.getElementsByTagName("main")[0].appendChild(this.elt)}this.isP3D=!0,this.geometryBuilder=void 0,this.states.uModelMatrix=new qr(4),this.states.uViewMatrix=new qr(4),this.states.uPMatrix=new qr(4),this.states.curCamera=new Mo(this),this.states.uPMatrix.set(this.states.curCamera.projMatrix),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this.states.enableLighting=!1,this.states.ambientLightColors=[],this.states.specularColors=[1,1,1],this.states.directionalLightDirections=[],this.states.directionalLightDiffuseColors=[],this.states.directionalLightSpecularColors=[],this.states.pointLightPositions=[],this.states.pointLightDiffuseColors=[],this.states.pointLightSpecularColors=[],this.states.spotLightPositions=[],this.states.spotLightDirections=[],this.states.spotLightDiffuseColors=[],this.states.spotLightSpecularColors=[],this.states.spotLightAngle=[],this.states.spotLightConc=[],this.states.activeImageLight=null,this.states.curFillColor=[1,1,1,1],this.states.curAmbientColor=[1,1,1,1],this.states.curSpecularColor=[0,0,0,0],this.states.curEmissiveColor=[0,0,0,0],this.states.curStrokeColor=[0,0,0,1],this.states.curBlendMode=Ln,this.states._hasSetAmbient=!1,this.states._useSpecularMaterial=!1,this.states._useEmissiveMaterial=!1,this.states._useNormalMaterial=!1,this.states._useShininess=1,this.states._useMetalness=0,this.states.tint=[255,255,255,255],this.states.constantAttenuation=1,this.states.linearAttenuation=0,this.states.quadraticAttenuation=0,this.states._currentNormal=new be(0,0,1),this.states.drawMode=Md,this.states._tex=null,this.states.textureMode=Pp,this.states.textureWrapX=Ny,this.states.textureWrapY=Ny,this._isErasing=!1,this._simpleLines=!1,this._clipDepths=[],this._isClipApplied=!1,this._stencilTestOn=!1,this.mixedAmbientLight=[],this.mixedSpecularColor=[],this.diffusedTextures=new Map,this.specularTextures=new Map,this.preEraseBlend=void 0,this._cachedBlendMode=void 0,this._cachedFillStyle=[1,1,1,1],this._cachedStrokeStyle=[0,0,0,1],this.webglVersion===rn?this.blendExt=this.GL:this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useLineColor=!1,this._useVertexColor=!1,this.registerEnabled=new Set,this.states.curCamera._computeCameraDefaultSettings(),this.states.curCamera._setDefaultCamera(),this.filterCamera=new Mo(this),this.filterCamera._computeCameraDefaultSettings(),this.filterCamera._setDefaultCamera(),this.prevTouches=[],this.zoomVelocity=0,this.rotateVelocity=new be(0,0),this.moveVelocity=new be(0,0),this.executeZoom=!1,this.executeRotateAndMove=!1,this._drawingFilter=!1,this._drawingImage=!1,this.specularShader=void 0,this.sphereMapping=void 0,this.diffusedShader=void 0,this._baseFilterShader=void 0,this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.states.userFillShader=void 0,this.states.userStrokeShader=void 0,this.states.userPointShader=void 0,this.states.userImageShader=void 0,this.states.curveDetail=1/4,this.shapeBuilder=new GP(this),this.buffers={fill:[new Mn(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new Mn(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new Mn(4,"vertexColors","colorBuffer","aVertexColor",this),new Mn(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new Mn(2,"uvs","uvBuffer","aTexCoord",this,d=>d.flat())],stroke:[new Mn(4,"lineVertexColors","lineColorBuffer","aVertexColor",this),new Mn(3,"lineVertices","lineVerticesBuffer","aPosition",this),new Mn(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",this),new Mn(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",this),new Mn(1,"lineSides","lineSidesBuffer","aSide",this)],text:[new Mn(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new Mn(2,"uvs","uvBuffer","aTexCoord",this,d=>d.flat())],point:this.GL.createBuffer(),user:[]},this.geometryBufferCache=new HP(this),this.curStrokeCap=Ra,this.curStrokeJoin=Ra,this.textures=new Map,this.framebuffers=new Set,this.activeFramebuffers=[],this.states.filterShader=void 0,this.filterLayer=void 0,this.filterLayerTemp=void 0,this.defaultFilterShaders={},this.fontInfos={},this._curShader=void 0,this.drawShapeCount=1,this.scratchMat3=new qr(3),this._userEnabledStencil=!1,this._internalEnable=this.drawingContext.enable,this._internalDisable=this.drawingContext.disable,this.drawingContext.enable=d=>(d===this.drawingContext.STENCIL_TEST&&(this._clipping||(this._userEnabledStencil=!0)),this._internalEnable.call(this.drawingContext,d)),this.drawingContext.disable=d=>(d===this.drawingContext.STENCIL_TEST&&(this._userEnabledStencil=!1),this._internalDisable.call(this.drawingContext,d))}remove(){this.wrappedElt.remove(),this.wrappedElt=null,this.canvas=null,this.elt=null}beginGeometry(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new uh(this),this.geometryBuilder.prevFillColor=this.states.fillColor,this.fill(new Nr([-1,-1,-1,-1]))}endGeometry(){if(!this.geometryBuilder)throw new Error("Make sure you call beginGeometry() before endGeometry()!");const t=this.geometryBuilder.finish();return this.fill(this.geometryBuilder.prevFillColor),this.geometryBuilder=void 0,t}buildGeometry(t){return this.beginGeometry(),t(),this.endGeometry()}beginShape(...t){super.beginShape(...t)}curveDetail(t){if(t===void 0)return this.states.curveDetail;this.states.setValue("curveDetail",t)}drawShape(t){const r=new LD({curveDetail:this.states.curveDetail});t.accept(r),this.shapeBuilder.constructFromContours(t,r.contours),this.geometryBuilder?this.geometryBuilder.addImmediate(this.shapeBuilder.geometry,this.shapeBuilder.shapeMode):(this.states.fillColor||this.states.strokeColor)&&(this.shapeBuilder.shapeMode===Fd?this._drawPoints(this.shapeBuilder.geometry.vertices,this.buffers.point):this._drawGeometry(this.shapeBuilder.geometry,{mode:this.shapeBuilder.shapeMode,count:this.drawShapeCount})),this.drawShapeCount=1}endShape(t,r){this.drawShapeCount=r,super.endShape(t,r)}vertexProperty(...t){this.currentShape.vertexProperty(...t)}normal(t,r,n){t instanceof be?this.states.setValue("_currentNormal",t):this.states.setValue("_currentNormal",new be(t,r,n)),this.updateShapeVertexProperties()}model(t,r=1){t.vertices.length>0&&(this.geometryBuilder?this.geometryBuilder.addRetained(t):(this.geometryInHash(t.gid)||(t._edgesToVertices(),this._getOrMakeCachedBuffers(t)),this._drawGeometry(t,{count:r})))}_drawGeometry(t,{mode:r=Vu,count:n=1}={}){for(const s in t.userVertexProperties){const a=t.userVertexProperties[s];this.buffers.user.push(new Mn(a.getDataSize(),a.getSrcName(),a.getDstName(),a.getName(),this))}this.states.fillColor&&t.vertices.length>=3&&![rl,Fd].includes(r)&&this._drawFills(t,{mode:r,count:n}),this.states.strokeColor&&t.lineVertices.length>=1&&this._drawStrokes(t,{count:n}),this.buffers.user=[]}_drawGeometryScaled(t,r,n,s){let a=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone());try{this.states.uModelMatrix.scale(r,n,s),this.geometryBuilder?this.geometryBuilder.addRetained(t):this._drawGeometry(t)}finally{this.states.setValue("uModelMatrix",a)}}_drawFills(t,{count:r,mode:n}={}){this._useVertexColor=t.vertexColors.length>0;const s=!this._drawingFilter&&this.states.userFillShader?this.states.userFillShader:this._getFillShader();s.bindShader(),this._setGlobalUniforms(s),this._setFillUniforms(s),s.bindTextures();for(const a of this.buffers.fill)a._prepareBuffer(t,s);this._prepareUserAttributes(t,s),s.disableRemainingAttributes(),this._applyColorBlend(this.states.curFillColor,t.hasFillTransparency()),this._drawBuffers(t,{mode:n,count:r}),s.unbindShader()}_drawStrokes(t,{count:r}={}){const n=this.GL;this._useLineColor=t.vertexStrokeColors.length>0;const s=this._getStrokeShader();s.bindShader(),this._setGlobalUniforms(s),this._setStrokeUniforms(s),s.bindTextures();for(const a of this.buffers.stroke)a._prepareBuffer(t,s);if(this._prepareUserAttributes(t,s),s.disableRemainingAttributes(),this._applyColorBlend(this.states.curStrokeColor,t.hasStrokeTransparency()),r===1)n.drawArrays(n.TRIANGLES,0,t.lineVertices.length/3);else try{n.drawArraysInstanced(n.TRIANGLES,0,t.lineVertices.length/3,r)}catch{console.log("🌸 p5.js says: Instancing is only supported in WebGL2 mode")}s.unbindShader()}_drawPoints(t,r){const n=this.GL,s=this._getPointShader();s.bindShader(),this._setGlobalUniforms(s),this._setPointUniforms(s),s.bindTextures(),this._bindBuffer(r,n.ARRAY_BUFFER,this._vToNArray(t),Float32Array,n.STATIC_DRAW),s.enableAttrib(s.attributes.aPosition,3),this._applyColorBlend(this.states.curStrokeColor),n.drawArrays(n.Points,0,t.length),s.unbindShader()}_prepareUserAttributes(t,r){for(const n of this.buffers.user){if(!this._pInst.constructor.disableFriendleErrors){const s=t.userVertexProperties[n.attr];if(s){const a=s.getSrcArray().length/s.getDataSize();a>t.vertices.length?this._pInst.constructor._friendlyError(`One of the geometries has a custom vertex property '${s.getName()}' with more values than vertices. This is probably caused by directly using the Geometry.vertexProperty() method.`,"vertexProperty()"):a<t.vertices.length&&this._pInst.constructor._friendlyError(`One of the geometries has a custom vertex property '${s.getName()}' with fewer values than vertices. This is probably caused by directly using the Geometry.vertexProperty() method.`,"vertexProperty()")}}n._prepareBuffer(t,r)}}_drawBuffers(t,{mode:r=this.GL.TRIANGLES,count:n}){const s=this.GL,a=this.geometryBufferCache.getCached(t);if(a)if(a.indexBuffer){if(this._bindBuffer(a.indexBuffer,s.ELEMENT_ARRAY_BUFFER),this._pInst.webglVersion!==rn&&a.indexBufferType===s.UNSIGNED_INT&&!s.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");if(n===1)s.drawElements(s.TRIANGLES,t.faces.length*3,a.indexBufferType,0);else try{s.drawElementsInstanced(s.TRIANGLES,t.faces.length*3,a.indexBufferType,0,n)}catch{console.log("🌸 p5.js says: Instancing is only supported in WebGL2 mode")}}else if(n===1)s.drawArrays(r,0,t.vertices.length);else try{s.drawArraysInstanced(r,0,t.vertices.length,n)}catch{console.log("🌸 p5.js says: Instancing is only supported in WebGL2 mode")}}_getOrMakeCachedBuffers(t){return this.geometryBufferCache.ensureCached(t)}_setAttributeDefaults(t){const n={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};t._glAttributes===null?t._glAttributes=n:t._glAttributes=Object.assign(n,t._glAttributes)}_initContext(){var t;if(((t=this._pInst._glAttributes)==null?void 0:t.version)!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?rn:Ba,this._pInst.webglVersion=this.webglVersion,this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");{const r=this.drawingContext;r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}}_getMaxTextureSize(){const t=this.drawingContext;return t.getParameter(t.MAX_TEXTURE_SIZE)}_adjustDimensions(t,r){this._maxTextureSize||(this._maxTextureSize=this._getMaxTextureSize());let n=this._maxTextureSize,s=Math.floor(n/this._pixelDensity),a=Math.min(t,s),o=Math.min(r,s);return(a!==t||o!==r)&&console.warn(`Warning: The requested width/height exceeds hardware limits. Adjusting dimensions to width: ${a}, height: ${o}.`),{adjustedWidth:a,adjustedHeight:o}}_resetContext(t,r){const n=this.width,s=this.height,a=this.canvas.id,o=this._pInst instanceof al,l={position:this.canvas.style.position,top:this.canvas.style.top,left:this.canvas.style.left};if(o){const p=this._pInst;p.canvas.parentNode.removeChild(p.canvas),p.canvas=document.createElement("canvas"),(p._pInst._userNode||document.body).appendChild(p.canvas),Xt.call(p,p.canvas,p._pInst),p.width=n,p.height=s}else{let p=this.canvas;p&&p.parentNode.removeChild(p),p=document.createElement("canvas"),p.id=a,this._pInst._userNode?this._pInst._userNode.appendChild(p):document.body.appendChild(p),this._pInst.canvas=p,this.canvas=p,this.canvas.style.position=l.position,this.canvas.style.top=l.top,this.canvas.style.left=l.left}const d=new Tt(this._pInst,n,s,!o,this._pInst.canvas);this._pInst._renderer=d,d._applyDefaults(),typeof r=="function"&&setTimeout(()=>{r.apply(window._renderer,t)},0)}_update(){this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.reset(),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this.states.setValue("ambientLightColors",[]),this.states.setValue("specularColors",[1,1,1]),this.states.setValue("directionalLightDirections",[]),this.states.setValue("directionalLightDiffuseColors",[]),this.states.setValue("directionalLightSpecularColors",[]),this.states.setValue("pointLightPositions",[]),this.states.setValue("pointLightDiffuseColors",[]),this.states.setValue("pointLightSpecularColors",[]),this.states.setValue("spotLightPositions",[]),this.states.setValue("spotLightDirections",[]),this.states.setValue("spotLightDiffuseColors",[]),this.states.setValue("spotLightSpecularColors",[]),this.states.setValue("spotLightAngle",[]),this.states.setValue("spotLightConc",[]),this.states.setValue("enableLighting",!1),this.states.setValue("tint",[255,255,255,255]),this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST)}background(...t){const r=this._pInst.color(...t);this.clear(...r._getRGBA())}get uModelMatrix(){return this.states.uModelMatrix}get uViewMatrix(){return this.states.uViewMatrix}get uPMatrix(){return this.states.uPMatrix}get uMVMatrix(){const t=this.uModelMatrix.copy();return t.mult(this.uViewMatrix),t}getWorldToScreenMatrix(){const t=this.states.uModelMatrix,r=this.states.uViewMatrix,n=this.states.uPMatrix,s=new qr(4);return s.scale(this.width,this.height,1),s.translate([.5,.5,.5]),s.scale(.5,-.5,.5),t.copy().mult(r).mult(n).mult(s)}fill(...t){super.fill(...t);const r=this.states.fillColor;this.states.setValue("curFillColor",r._array),this.states.setValue("drawMode",Md),this.states.setValue("_useNormalMaterial",!1),this.states.setValue("_tex",null)}stroke(...t){super.stroke(...t),this.states.setValue("curStrokeColor",this.states.strokeColor._array)}getCommonVertexProperties(){return{...super.getCommonVertexProperties(),stroke:this.states.strokeColor,fill:this.states.fillColor,normal:this.states._currentNormal}}getSupportedIndividualVertexProperties(){return{textureCoordinates:!0}}strokeCap(t){this.curStrokeCap=t}strokeJoin(t){this.curStrokeJoin=t}getFilterLayer(){return this.filterLayer||(this.filterLayer=new Ii(this)),this.filterLayer}getFilterLayerTemp(){return this.filterLayerTemp||(this.filterLayerTemp=new Ii(this)),this.filterLayerTemp}matchSize(t,r){(t.width!==r.width||t.height!==r.height)&&t.resize(r.width,r.height),t.pixelDensity()!==r.pixelDensity()&&t.pixelDensity(r.pixelDensity())}filter(...t){let r=this.getFilterLayer(),n,s;typeof t[0]=="string"?(s=t[0],n=s in jd&&t[1]===void 0?jd[s]:t[1],s in this.defaultFilterShaders||(this.defaultFilterShaders[s]=new bn(r.renderer,pT,lL[s])),this.states.setValue("filterShader",this.defaultFilterShaders[s])):this.states.setValue("filterShader",t[0]);const a=this.activeFramebuffer()||this;this.matchSize(r,a),r.draw(()=>this.clear());let o=[1/(a.width*a.pixelDensity()),1/(a.height*a.pixelDensity())];if(s===nl){const l=this.getFilterLayerTemp();this.matchSize(l,a),this.push(),this.states.setValue("strokeColor",null),this.blendMode(Ln),this.shader(this.states.filterShader),this.states.filterShader.setUniform("texelSize",o),this.states.filterShader.setUniform("canvasSize",[a.width,a.height]),this.states.filterShader.setUniform("radius",Math.max(1,n)),l.draw(()=>{this.states.filterShader.setUniform("direction",[1,0]),this.states.filterShader.setUniform("tex0",a),this.clear(),this.shader(this.states.filterShader),this.noLights(),this.plane(a.width,a.height)}),r.draw(()=>{this.states.filterShader.setUniform("direction",[0,1]),this.states.filterShader.setUniform("tex0",l),this.clear(),this.shader(this.states.filterShader),this.noLights(),this.plane(a.width,a.height)}),this.pop()}else r.draw(()=>{this.states.setValue("strokeColor",null),this.blendMode(Ln),this.shader(this.states.filterShader),this.states.filterShader.setUniform("tex0",a),this.states.filterShader.setUniform("texelSize",o),this.states.filterShader.setUniform("canvasSize",[a.width,a.height]),this.states.filterShader.setUniform("filterParameter",n),this.noLights(),this.plane(a.width,a.height)});this.push(),this.states.setValue("strokeColor",null),this.clear(),this.push(),this.states.setValue("imageMode",ci),this.blendMode(Ln),a.filterCamera._resize(),this.setCamera(a.filterCamera),this.resetMatrix(),this._drawingFilter=!0,this.image(r,0,0,this.width,this.height,-a.width/2,-a.height/2,a.width,a.height),this._drawingFilter=!1,this.clearDepth(),this.pop(),this.pop()}pixelDensity(t){return t?this._pInst.pixelDensity(t):this._pInst.pixelDensity()}blendMode(t){t===Ap||t===Dp||t===rh||t===Ln||t===Tp||t===Fp||t===Np||t===Rp||t===Op||t===Do?this.states.setValue("curBlendMode",t):(t===jv||t===Iv||t===Bv||t===Uv||t===Vv)&&console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}erase(t,r){this._isErasing||(this.preEraseBlend=this.states.curBlendMode,this._isErasing=!0,this.blendMode(Do),this._cachedFillStyle=this.states.curFillColor.slice(),this.states.setValue("curFillColor",[1,1,1,t/255]),this._cachedStrokeStyle=this.states.curStrokeColor.slice(),this.states.setValue("curStrokeColor",[1,1,1,r/255]))}noErase(){this._isErasing&&(this.states.setValue("curFillColor",this._cachedFillStyle.slice()),this.states.setValue("curStrokeColor",this._cachedStrokeStyle.slice()),this.states.setValue("curBlendMode",this.preEraseBlend),this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}drawTarget(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}beginClip(t={}){super.beginClip(t),this.drawTarget()._isClipApplied=!0;const r=this.GL;r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),this._internalEnable.call(r,r.STENCIL_TEST),this._stencilTestOn=!0,r.stencilFunc(r.ALWAYS,1,255),r.stencilOp(r.KEEP,r.KEEP,r.REPLACE),r.disable(r.DEPTH_TEST),this.push(),this.resetShader(),this.states.fillColor&&this.fill(0,0),this.states.strokeColor&&this.stroke(0,0)}endClip(){this.pop();const t=this.GL;t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.stencilFunc(this._clipInvert?t.EQUAL:t.NOTEQUAL,0,255),t.enable(t.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),super.endClip()}_clearClip(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),this._clipDepths.length>0&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}_getPixel(t,r){const n=this.GL;return vT(n,null,t,r,n.RGBA,n.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}loadPixels(){if(this._pInst._glAttributes.preserveDrawingBuffer!==!0){console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.");return}const t=this._pixelDensity,r=this.GL;this.pixels=zy(this.pixels,r,null,0,0,this.width*t,this.height*t,r.RGBA,r.UNSIGNED_BYTE,this.height*t)}updatePixels(){const t=this._getTempFramebuffer();t.pixels=this.pixels,t.updatePixels(),this.push(),this.resetMatrix(),this.clear(),this.states.setValue("imageMode",ci),this.image(t,0,0,t.width,t.height,-t.width/2,-t.height/2,t.width,t.height),this.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}_getTempFramebuffer(){return this._tempFramebuffer||(this._tempFramebuffer=new Ii(this,{format:Ea,useDepth:this._pInst._glAttributes.depth,depthFormat:Uc,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}geometryInHash(t){return this.geometryBufferCache.isCached(t)}viewport(t,r){this._viewport=[0,0,t,r],this.GL.viewport(0,0,t,r)}resize(t,r){super.resize(t,r);const n={};for(const a in this.drawingContext){const o=this.drawingContext[a];typeof o!="object"&&typeof o!="function"&&(n[a]=o)}const s=this._adjustDimensions(t,r);t=s.adjustedWidth,r=s.adjustedHeight,this.width=t,this.height=r,this.canvas.width=t*this._pixelDensity,this.canvas.height=r*this._pixelDensity,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${r}px`,this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this.states.curCamera._resize(),typeof this.pixels<"u"&&(this.pixels=new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4));for(const a of this.framebuffers)a._canvasSizeChanged();for(const a in n)try{this.drawingContext[a]=n[a]}catch{}}clear(...t){const r=t[0]||0,n=t[1]||0,s=t[2]||0;let a=t[3]||0;const o=this.activeFramebuffer();o&&o.format===Ea&&!o.antialias&&a===0&&(a=1e-10),this.GL.clearColor(r*a,n*a,s*a,a),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}clearDepth(t=1){this.GL.clearDepth(t),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}applyMatrix(t,r,n,s,a,o){this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),arguments.length===16?qr.prototype.apply.apply(this.states.uModelMatrix,arguments):this.states.uModelMatrix.apply([t,r,0,0,n,s,0,0,0,0,1,0,a,o,0,1])}translate(t,r,n){return t instanceof be&&(n=t.z,r=t.y,t=t.x),this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.translate([t,r,n]),this}scale(t,r,n){return this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.scale(t,r,n),this}rotate(t,r){return typeof r>"u"?this.rotateZ(t):(this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),qr.prototype.rotate4x4.apply(this.states.uModelMatrix,arguments),this)}rotateX(t){return this.rotate(t,1,0,0),this}rotateY(t){return this.rotate(t,0,1,0),this}rotateZ(t){return this.rotate(t,0,0,1),this}pop(...t){this._clipDepths.length>0&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&(this._clearClip(),this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST)),super.pop(...t),this._applyStencilTestIfClipping()}_applyStencilTestIfClipping(){const t=this.drawTarget();t._isClipApplied!==this._stencilTestOn&&(t._isClipApplied?(this._internalEnable.call(this.GL,this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this._userEnabledStencil||this._internalDisable.call(this.GL,this.GL.STENCIL_TEST),this._stencilTestOn=!1))}resetMatrix(){return this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone()),this.states.uModelMatrix.reset(),this.states.setValue("uViewMatrix",this.states.uViewMatrix.clone()),this.states.uViewMatrix.set(this.states.curCamera.cameraMatrix),this}_getStrokeShader(){const t=this.states.userStrokeShader;return t||this._getLineShader()}_getSphereMapping(t){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(uL)),this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),this.scratchMat3.invert(this.scratchMat3),this.sphereMapping.setUniform("uFovY",this.states.curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this.states.curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.scratchMat3.mat3),this.sphereMapping.setUniform("uEnvMap",t),this.sphereMapping}_getFillShader(){return this._drawingImage?this.states.userImageShader&&!this._drawingFilter?this.states.userImageShader:this._getLightShader():this.states.userFillShader?this.states.userFillShader:this.states._useNormalMaterial?this._getNormalShader():this.states.enableLighting||this.states._tex?this._getLightShader():this._getColorShader()}_getPointShader(){const t=this.states.userPointShader;return!t||!t.isPointShader()?this._getPointShader():t}baseMaterialShader(){if(!this._pInst._glAttributes.perPixelLighting)throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.");return this._getLightShader()}_getLightShader(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new bn(this,this._webGL2CompatibilityPrefix("vert","highp")+Rr.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+Rr.phongFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new bn(this,this._webGL2CompatibilityPrefix("vert","highp")+Rr.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+Rr.lightTextureFrag)),this._defaultLightShader}baseNormalShader(){return this._getNormalShader()}_getNormalShader(){return this._defaultNormalShader||(this._defaultNormalShader=new bn(this,this._webGL2CompatibilityPrefix("vert","mediump")+Rr.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Rr.normalFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}baseColorShader(){return this._getColorShader()}_getColorShader(){return this._defaultColorShader||(this._defaultColorShader=new bn(this,this._webGL2CompatibilityPrefix("vert","mediump")+Rr.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+Rr.basicFrag,{vertex:{"void beforeVertex":"() {}","Vertex getObjectInputs":"(Vertex inputs) { return inputs; }","Vertex getWorldInputs":"(Vertex inputs) { return inputs; }","Vertex getCameraInputs":"(Vertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}pointShader(){return this._getPointShader()}_getPointShader(){return this._defaultPointShader||(this._defaultPointShader=new bn(this,this._webGL2CompatibilityPrefix("vert","mediump")+Rr.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+Rr.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}baseStrokeShader(){return this._getLineShader()}_getLineShader(){return this._defaultLineShader||(this._defaultLineShader=new bn(this,this._webGL2CompatibilityPrefix("vert","mediump")+Rr.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+Rr.lineFrag,{vertex:{"void beforeVertex":"() {}","StrokeVertex getObjectInputs":"(StrokeVertex inputs) { return inputs; }","StrokeVertex getWorldInputs":"(StrokeVertex inputs) { return inputs; }","StrokeVertex getCameraInputs":"(StrokeVertex inputs) { return inputs; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}_getFontShader(){return this._defaultFontShader||(this.webglVersion===Ba&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new bn(this,this._webGL2CompatibilityPrefix("vert","highp")+Rr.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+Rr.fontFrag)),this._defaultFontShader}baseFilterShader(){return this._baseFilterShader||(this._baseFilterShader=new bn(this,this._webGL2CompatibilityPrefix("vert","highp")+Rr.filterBaseVert,this._webGL2CompatibilityPrefix("frag","highp")+Rr.filterBaseFrag,{vertex:{},fragment:{"vec4 getColor":`(FilterInputs inputs, in sampler2D canvasContent) {
                return getTexture(canvasContent, inputs.texCoord);
              }`}})),this._baseFilterShader}_webGL2CompatibilityPrefix(t,r){let n="";return this.webglVersion===rn&&(n+=`#version 300 es
#define WEBGL2
`),t==="vert"?n+=`#define VERTEX_SHADER
`:t==="frag"&&(n+=`#define FRAGMENT_SHADER
`),r&&(n+=`precision ${r} float;
`),n}_getEmptyTexture(){if(!this._emptyTexture){const t=new zi(1,1);t.set(0,0,255),this._emptyTexture=new Gs(this,t)}return this._emptyTexture}getTexture(t){let r=t;r instanceof Ii&&(r=r.color);const n=this.textures.get(r);if(n)return n;const s=new Gs(this,r);return this.textures.set(r,s),s}getDiffusedTexture(t){if(this.diffusedTextures.get(t)!=null)return this.diffusedTextures.get(t);let r,n=200,s=n,a=Math.floor(n*(t.height/t.width));return r=new Ii(this,{width:s,height:a,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(Rr.imageLightVert,Rr.imageLightDiffusedFrag)),r.draw(()=>{this.shader(this.diffusedShader),this.diffusedShader.setUniform("environmentMap",t),this.states.setValue("strokeColor",null),this.noLights(),this.plane(s,a)}),this.diffusedTextures.set(t,r),r}getSpecularTexture(t){if(this.specularTextures.get(t)!=null)return this.specularTextures.get(t);const r=512;let n;const s=[],a=new Ii(this,{width:r,height:r,density:1});let o=Math.log(r)/Math.log(2);this.specularShader||(this.specularShader=this._pInst.createShader(Rr.imageLightVert,Rr.imageLightSpecularFrag));for(let l=r;l>=1;l/=2){a.resize(l,l);let p=1-Math.log(l)/Math.log(2)/o;a.draw(()=>{this.shader(this.specularShader),this.clear(),this.specularShader.setUniform("environmentMap",t),this.specularShader.setUniform("roughness",p),this.states.setValue("strokeColor",null),this.noLights(),this.plane(l,l)}),s.push(a.get().drawingContext.getImageData(0,0,l,l))}return a.remove(),n=new xT(this,s,{}),this.specularTextures.set(t,n),n}activeFramebuffer(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}createFramebuffer(t){return new Ii(this,t)}_setGlobalUniforms(t){const r=this.states.uModelMatrix,n=this.states.uViewMatrix,s=this.states.uPMatrix,a=r.copy().mult(n);if(t.setUniform("uPerspective",this.states.curCamera.useLinePerspective?1:0),t.setUniform("uViewMatrix",n.mat4),t.setUniform("uProjectionMatrix",s.mat4),t.setUniform("uModelMatrix",r.mat4),t.setUniform("uModelViewMatrix",a.mat4),t.uniforms.uModelViewProjectionMatrix){const o=a.copy();o.mult(s),t.setUniform("uModelViewProjectionMatrix",o.mat4)}t.uniforms.uNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(a),t.setUniform("uNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uModelNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(this.states.uModelMatrix),t.setUniform("uModelNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uCameraNormalMatrix&&(this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),t.setUniform("uCameraNormalMatrix",this.scratchMat3.mat3)),t.uniforms.uCameraRotation&&(this.scratchMat3.inverseTranspose4x4(this.states.uViewMatrix),t.setUniform("uCameraRotation",this.scratchMat3.mat3)),t.setUniform("uViewport",this._viewport)}_setStrokeUniforms(t){t.setUniform("uSimpleLines",this._simpleLines),t.setUniform("uUseLineColor",this._useLineColor),t.setUniform("uMaterialColor",this.states.curStrokeColor),t.setUniform("uStrokeWeight",this.states.strokeWeight),t.setUniform("uStrokeCap",gT[this.curStrokeCap]),t.setUniform("uStrokeJoin",mT[this.curStrokeJoin])}_setFillUniforms(t){this.mixedSpecularColor=[...this.states.curSpecularColor];const r=this._getEmptyTexture();this.states._useMetalness>0&&(this.mixedSpecularColor=this.mixedSpecularColor.map((l,d)=>this.states.curFillColor[d]*this.states._useMetalness+l*(1-this.states._useMetalness))),t.setUniform("uUseVertexColor",this._useVertexColor),t.setUniform("uMaterialColor",this.states.curFillColor),t.setUniform("isTexture",!!this.states._tex),t.setUniform("uSampler",this.states._tex||r),t.setUniform("uTint",this.states.tint),t.setUniform("uHasSetAmbient",this.states._hasSetAmbient),t.setUniform("uAmbientMatColor",this.states.curAmbientColor),t.setUniform("uSpecularMatColor",this.mixedSpecularColor),t.setUniform("uEmissiveMatColor",this.states.curEmissiveColor),t.setUniform("uSpecular",this.states._useSpecularMaterial),t.setUniform("uEmissive",this.states._useEmissiveMaterial),t.setUniform("uShininess",this.states._useShininess),t.setUniform("uMetallic",this.states._useMetalness),this._setImageLightUniforms(t),t.setUniform("uUseLighting",this.states.enableLighting);const n=this.states.pointLightDiffuseColors.length/3;t.setUniform("uPointLightCount",n),t.setUniform("uPointLightLocation",this.states.pointLightPositions),t.setUniform("uPointLightDiffuseColors",this.states.pointLightDiffuseColors),t.setUniform("uPointLightSpecularColors",this.states.pointLightSpecularColors);const s=this.states.directionalLightDiffuseColors.length/3;t.setUniform("uDirectionalLightCount",s),t.setUniform("uLightingDirection",this.states.directionalLightDirections),t.setUniform("uDirectionalDiffuseColors",this.states.directionalLightDiffuseColors),t.setUniform("uDirectionalSpecularColors",this.states.directionalLightSpecularColors);const a=this.states.ambientLightColors.length/3;this.mixedAmbientLight=[...this.states.ambientLightColors],this.states._useMetalness>0&&(this.mixedAmbientLight=this.mixedAmbientLight.map(l=>{let d=l-this.states._useMetalness;return Math.max(0,d)})),t.setUniform("uAmbientLightCount",a),t.setUniform("uAmbientColor",this.mixedAmbientLight);const o=this.states.spotLightDiffuseColors.length/3;t.setUniform("uSpotLightCount",o),t.setUniform("uSpotLightAngle",this.states.spotLightAngle),t.setUniform("uSpotLightConc",this.states.spotLightConc),t.setUniform("uSpotLightDiffuseColors",this.states.spotLightDiffuseColors),t.setUniform("uSpotLightSpecularColors",this.states.spotLightSpecularColors),t.setUniform("uSpotLightLocation",this.states.spotLightPositions),t.setUniform("uSpotLightDirection",this.states.spotLightDirections),t.setUniform("uConstantAttenuation",this.states.constantAttenuation),t.setUniform("uLinearAttenuation",this.states.linearAttenuation),t.setUniform("uQuadraticAttenuation",this.states.quadraticAttenuation)}_setImageLightUniforms(t){if(t.setUniform("uUseImageLight",this.states.activeImageLight!=null),this.states.activeImageLight){let r=this.getDiffusedTexture(this.states.activeImageLight);t.setUniform("environmentMapDiffused",r);let n=this.getSpecularTexture(this.states.activeImageLight);t.setUniform("environmentMapSpecular",n)}}_setPointUniforms(t){t.setUniform("uMaterialColor",this.states.curStrokeColor),t.setUniform("uPointSize",this.states.strokeWeight*this._pixelDensity)}_bindBuffer(t,r,n,s,a){if(r||(r=this.GL.ARRAY_BUFFER),this.GL.bindBuffer(r,t),n!==void 0){let o=n;n instanceof vo?o=n.dataArray():o instanceof(s||Float32Array)||(o=new(s||Float32Array)(o)),this.GL.bufferData(r,o,a||this.GL.STATIC_DRAW)}}_arraysEqual(t,r){return t.length!==r.length?!1:t.every((s,a)=>s===r[a])}_isTypedArray(t){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(r=>t instanceof r)}_vToNArray(t){return t.flatMap(r=>[r.x,r.y,r.z])}}function yT(i,t){i.RendererGL=Tt,t.setAttributes=function(r,n){if(typeof this._glAttributes>"u"){console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");return}let s=!0;if(typeof n<"u"?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[r]!==n&&(this._glAttributes[r]=n,s=!1)):r instanceof Object&&this._glAttributes!==r&&(this._glAttributes=r,s=!1),!(!this._renderer.isP3D||s)){if(!this._setupDone&&this._renderer.geometryBufferCache.numCached()>0){i._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");return}this._renderer._resetContext(),this._renderer.states.curCamera&&(this._renderer.states.curCamera._renderer=this._renderer)}},t._assert3d=function(r){if(!this._renderer.isP3D)throw new Error(`${r}() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.`)},i.renderers[Ba]=i.RendererGL,i.renderers[rn]=i.RendererGL}function zy(i,t,r,n,s,a,o,l,d,p){const g=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,r);const y=l===t.RGBA?4:3,x=a*o*y,S=d===t.UNSIGNED_BYTE?Uint8Array:Float32Array;if((!(i instanceof S)||i.length!==x)&&(i=new S(x)),t.readPixels(n,p?p-s-o:s,a,o,l,d,i),t.bindFramebuffer(t.FRAMEBUFFER,g),p){const _=Math.floor(o/2),w=new S(a*y);for(let A=0;A<_;A++){const P=A*a*4,D=(o-A-1)*a*4;w.set(i.subarray(P,P+a*4)),i.copyWithin(P,D,D+a*4),i.set(w,D)}}return i}function vT(i,t,r,n,s,a,o){const l=i.getParameter(i.FRAMEBUFFER_BINDING);i.bindFramebuffer(i.FRAMEBUFFER,t);const d=s===i.RGBA?4:3,p=a===i.UNSIGNED_BYTE?Uint8Array:Float32Array,g=new p(d);return i.readPixels(r,o?o-n-1:n,1,1,s,a,g),i.bindFramebuffer(i.FRAMEBUFFER,l),Array.from(g)}typeof p5<"u"&&yT(p5,p5.prototype);function d1(i,t){t.strokeMode=function(n){if(n===void 0)return this._renderer._simpleLines?wy:Ey;if(n===wy)this._renderer._simpleLines=!0;else if(n===Ey)this._renderer._simpleLines=!1;else throw Error("no such parameter")},t.buildGeometry=function(n){return this._renderer.buildGeometry(n)},t.freeGeometry=function(n){this._renderer.geometryBufferCache.freeBuffers(n.gid)},t.plane=function(n=50,s=n,a=1,o=1){return this._assert3d("plane"),this._renderer.plane(n,s,a,o),this},t.box=function(n,s,a,o,l){return this._assert3d("box"),this._renderer.box(n,s,a,o,l),this},t.sphere=function(n=50,s=24,a=16){return this._assert3d("sphere"),this._renderer.sphere(n,s,a),this},t.cylinder=function(n=50,s=n,a=24,o=1,l=!0,d=!0){return this._assert3d("cylinder"),this._renderer.cylinder(n,s,a,o,l,d),this},t.cone=function(n=50,s=n,a=24,o=1,l=!0){return this._assert3d("cone"),this._renderer.cone(n,s,a,o,l),this},t.ellipsoid=function(n=50,s=n,a=n,o=24,l=16){return this._assert3d("ellipsoid"),this._renderer.ellipsoid(n,s,a,o,l),this},t.torus=function(n,s,a,o){return this._assert3d("torus"),this._renderer.torus(n,s,a,o),this},Tt.prototype.point=function(n,s,a=0){const o=[];return o.push(new be(n,s,a)),this._drawPoints(o,this.buffers.point),this},Tt.prototype.triangle=function(n){const s=n[0],a=n[1],o=n[2],l=n[3],d=n[4],p=n[5],g="tri";if(!this.geometryInHash(g)){const x=function(){const _=[];_.push(new be(0,0,0)),_.push(new be(1,0,0)),_.push(new be(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=_,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]},S=new vn(1,1,x,this);S._edgesToVertices(),S.computeNormals(),S.gid=g,this.geometryBufferCache.ensureCached(S)}const y=this.states.uModelMatrix.copy();try{const x=Math.sign(s*l-o*a+o*p-d*l+d*a-s*p),S=new qr([o-s,l-a,0,0,d-s,p-a,0,0,0,0,x,0,s,a,0,1]).mult(this.states.uModelMatrix);this.states.setValue("uModelMatrix",S),this._drawGeometry(this.geometryBufferCache.getGeometryByID(g))}finally{this.states.setValue("uModelMatrix",y)}return this},Tt.prototype.ellipse=function(n){this.arc(n[0],n[1],n[2],n[3],0,kn,Ao,n[4])},Tt.prototype.arc=function(...n){const s=n[0],a=n[1],o=n[2],l=n[3],d=n[4],p=n[5],g=n[6],y=n[7]||25;let x,S;if(Math.abs(p-d)>=kn?(x="ellipse",S=`${x}|${y}|`):(x="arc",S=`${x}|${d}|${p}|${g}|${y}|`),!this.geometryInHash(S)){const w=function(){if(d.toFixed(10)!==p.toFixed(10)){(g===th||typeof g>"u")&&(this.vertices.push(new be(.5,.5,0)),this.uvs.push([.5,.5]));for(let P=0;P<=y;P++){const D=P/y,R=(p-d)*D+d,F=.5+Math.cos(R)/2,T=.5+Math.sin(R)/2;this.vertices.push(new be(F,T,0)),this.uvs.push([F,T]),P<y-1&&(this.faces.push([0,P+1,P+2]),this.edges.push([P+1,P+2]))}switch(g){case th:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case Rd:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case Ao:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}},A=new vn(y,1,w,this);A.computeNormals(),y<=50?A._edgesToVertices(A):this.states.strokeColor&&console.log(`Cannot apply a stroke to an ${x} with more than 50 detail`),A.gid=S,this.geometryBufferCache.ensureCached(A)}const _=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.clone());try{this.states.uModelMatrix.translate([s,a,0]),this.states.uModelMatrix.scale(o,l,1),this._drawGeometry(this.geometryBufferCache.getGeometryByID(S))}finally{this.states.setValue("uModelMatrix",_)}return this},Tt.prototype.rect=function(n){const s=n[0],a=n[1],o=n[2],l=n[3];if(typeof n[4]>"u"){const d=this._pInst._glAttributes.perPixelLighting,p=n[4]||(d?1:24),g=n[5]||(d?1:16),y=`rect|${p}|${g}`;if(!this.geometryInHash(y)){const S=function(){for(let w=0;w<=this.detailY;w++){const A=w/this.detailY;for(let P=0;P<=this.detailX;P++){const D=P/this.detailX,R=new be(D,A,0);this.vertices.push(R),this.uvs.push(D,A)}}p>0&&g>0&&(this.edges=[[0,p],[p,(p+1)*(g+1)-1],[(p+1)*(g+1)-1,(p+1)*g],[(p+1)*g,0]])},_=new vn(p,g,S,this);_.computeFaces().computeNormals()._edgesToVertices(),_.gid=y,this.geometryBufferCache.ensureCached(_)}const x=this.states.uModelMatrix;this.states.setValue("uModelMatrix",this.states.uModelMatrix.copy());try{this.states.uModelMatrix.translate([s,a,0]),this.states.uModelMatrix.scale(o,l,1),this._drawGeometry(this.geometryBufferCache.getGeometryByID(y))}finally{this.states.setValue("uModelMatrix",x)}}else{let d=n[4],p=typeof n[5]>"u"?d:n[5],g=typeof n[6]>"u"?p:n[6],y=typeof n[7]>"u"?g:n[7],x=s,S=a,_=o,w=l;if(_+=x,w+=S,x>_){const B=x;x=_,_=B}if(S>w){const B=S;S=w,w=B}const A=Math.min((_-x)/2,(w-S)/2);d>A&&(d=A),p>A&&(p=A),g>A&&(g=A),y>A&&(y=A);let P=x,D=S,R=_,F=w;const T=this.states.textureMode;this.states.setValue("textureMode",rs);const U=this.bezierOrder();this.bezierOrder(2),this.beginShape();const k=(B,L)=>[B,L,(B-P)/o,(L-D)/l];p!==0?(this.vertex(...k(R-p,D)),this.bezierVertex(...k(R,D)),this.bezierVertex(...k(R,D+p))):this.vertex(...k(R,D)),g!==0?(this.vertex(...k(R,F-g)),this.bezierVertex(...k(R,F)),this.bezierVertex(...k(R-g,F))):this.vertex(...k(R,F)),y!==0?(this.vertex(...k(P+y,F)),this.bezierVertex(...k(P,F)),this.bezierVertex(...k(P,F-y))):this.vertex(...k(P,F)),d!==0?(this.vertex(...k(P,D+d)),this.bezierVertex(...k(P,D)),this.bezierVertex(...k(P+d,D))):this.vertex(...k(P,D)),this.endShape(eh),this.states.setValue("textureMode",T),this.bezierOrder(U)}return this},Tt.prototype.quad=function(n,s,a,o,l,d,p,g,y,x,S,_,w=2,A=2){const P=`quad|${n}|${s}|${a}|${o}|${l}|${d}|${p}|${g}|${y}|${x}|${S}|${_}|${w}|${A}`;if(!this.geometryInHash(P)){const D=new vn(w,A,function(){let F=1/(this.detailX-1),T=1/(this.detailY-1);for(let U=0;U<this.detailY;U++)for(let k=0;k<this.detailX;k++){let B=k*F,L=U*T,V=(1-L)*n+L*x,H=(1-L)*s+L*S,z=(1-L)*a+L*_,G=(1-L)*o+L*p,K=(1-L)*l+L*g,le=(1-L)*d+L*y,ne=(1-B)*V+B*G,de=(1-B)*H+B*K,ve=(1-B)*z+B*le;this.vertices.push(new be(ne,de,ve)),this.uvs.push([B,L])}},this);D.faces=[];for(let F=0;F<A-1;F++)for(let T=0;T<w-1;T++){let U=T+F*w,k=T+1+F*w,B=T+1+(F+1)*w,L=T+(F+1)*w;D.faces.push([U,k,B]),D.faces.push([U,B,L])}D.computeNormals(),D.edges.length=0;const R=[0,2,3,1];for(let F=0;F<R.length;F++){const T=R[F],U=R[(F+1)%R.length];D.edges.push([T,U])}D._edgesToVertices(),D.gid=P,this.geometryBufferCache.ensureCached(D)}return this._drawGeometry(this.geometryBufferCache.getGeometryByID(P)),this},Tt.prototype.bezier=function(n,s,a,o,l,d,p,g,y,x,S,_){arguments.length===8&&(S=g,x=p,g=d,p=l,l=o,o=a,a=d=y=_=0),this.bezierOrder(),this.bezierOrder(3),this.beginShape(),this.vertex(n,s,a),this.bezierVertex(o,l,d),this.bezierVertex(p,g,y),this.bezierVertex(x,S,_),this.endShape()},Tt.prototype.curve=function(n,s,a,o,l,d,p,g,y,x,S,_){arguments.length===8&&(x=p,S=g,p=l,g=o,o=a,l=o,a=d=y=_=0),this.beginShape(),this.splineVertex(n,s,a),this.splineVertex(o,l,d),this.splineVertex(p,g,y),this.splineVertex(x,S,_),this.endShape()},Tt.prototype.line=function(...n){return n.length===6?(this.beginShape(rl),this.vertex(n[0],n[1],n[2]),this.vertex(n[3],n[4],n[5]),this.endShape()):n.length===4&&(this.beginShape(rl),this.vertex(n[0],n[1],0),this.vertex(n[2],n[3],0),this.endShape()),this},Tt.prototype.image=function(n,s,a,o,l,d,p,g,y){this._isErasing&&this.blendMode(this._cachedBlendMode),this.push(),this.noLights(),this.states.setValue("strokeColor",null),this.texture(n),this.states.setValue("textureMode",rs);let x=0;s<=n.width&&(x=s/n.width);let S=1;s+o<=n.width&&(S=(s+o)/n.width);let _=0;a<=n.height&&(_=a/n.height);let w=1;a+l<=n.height&&(w=(a+l)/n.height),this._drawingImage=!0,this.beginShape(),this.vertex(d,p,0,x,_),this.vertex(d+g,p,0,S,_),this.vertex(d+g,p+y,0,S,w),this.vertex(d,p+y,0,x,w),this.endShape(eh),this._drawingImage=!1,this.pop(),this._isErasing&&this.blendMode(Do)};const r=function(n,s,a,o,l,d,p){n=n<=0?1:n,s=s<0?0:s,a=a<=0?n:a,o=o<3?3:o,l=l<1?1:l,d=d===void 0?!0:d,p=p===void 0?s!==0:p;const g=d?-2:0,y=l+(p?2:0),x=Math.atan2(n-s,a),S=Math.sin(x),_=Math.cos(x);let w,A,P;for(w=g;w<=y;++w){let R=w/l,F=a*R,T;for(w<0?(F=0,R=0,T=n):w>l?(F=a,R=1,T=s):T=n+(s-n)*R,(w===-2||w===l+2)&&(T=0),F-=a/2,A=0;A<o;++A){const U=A/(o-1),k=2*Math.PI*U,B=Math.sin(k),L=Math.cos(k);this.vertices.push(new be(B*T,F,L*T));let V;w<0?V=new be(0,-1,0):w>l&&s?V=new be(0,1,0):V=new be(B*_,S,L*_),this.vertexNormals.push(V),this.uvs.push(U,R)}}let D=0;if(d){for(P=0;P<o;++P){const R=(P+1)%o;this.faces.push([D+P,D+o+R,D+o+P])}D+=o*2}for(w=0;w<l;++w){for(A=0;A<o;++A){const R=(A+1)%o;this.faces.push([D+A,D+R,D+o+R]),this.faces.push([D+A,D+o+R,D+o+A])}D+=o}if(p)for(D+=o,A=0;A<o;++A)this.faces.push([D+A,D+(A+1)%o,D+o])};Tt.prototype.plane=function(n=50,s=n,a=1,o=1){const l=`plane|${a}|${o}`;if(!this.geometryInHash(l)){const d=function(){let g,y,x;for(let S=0;S<=this.detailY;S++){y=S/this.detailY;for(let _=0;_<=this.detailX;_++)g=_/this.detailX,x=new be(g-.5,y-.5,0),this.vertices.push(x),this.uvs.push(g,y)}},p=new vn(a,o,d,this);p.computeFaces().computeNormals(),a<=1&&o<=1?p._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),p.gid=l,this.geometryBufferCache.ensureCached(p)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(l),n,s,1)},Tt.prototype.box=function(n=50,s=n,a=s,o,l){const d=this.attributes&&this.attributes.perPixelLighting;typeof o>"u"&&(o=d?1:4),typeof l>"u"&&(l=d?1:4);const p=`box|${o}|${l}`;if(!this.geometryInHash(p)){const g=function(){const x=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],x.forEach((S,_)=>{const w=_*4;for(let A=0;A<4;A++){const P=S[A],D=new be(((P&1)*2-1)/2,((P&2)-1)/2,((P&4)/2-1)/2);this.vertices.push(D),this.uvs.push(A&1,(A&2)/2)}this.faces.push([w,w+1,w+2]),this.faces.push([w+2,w+1,w+3])})},y=new vn(o,l,g,this);y.computeNormals(),o<=4&&l<=4?y._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),y.gid=p,this.geometryBufferCache.ensureCached(y)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(p),n,s,a)},Tt.prototype.sphere=function(n=50,s=24,a=16){this.ellipsoid(n,n,n,s,a)},Tt.prototype.ellipsoid=function(n=50,s=n,a=n,o=24,l=16){const d=`ellipsoid|${o}|${l}`;if(!this.geometryInHash(d)){const p=function(){for(let y=0;y<=this.detailY;y++){const x=y/this.detailY,S=Math.PI*x-Math.PI/2,_=Math.cos(S),w=Math.sin(S);for(let A=0;A<=this.detailX;A++){const P=A/this.detailX,D=2*Math.PI*P,R=Math.cos(D),F=Math.sin(D),T=new i.Vector(_*F,w,_*R);this.vertices.push(T),this.vertexNormals.push(T),this.uvs.push(P,x)}}},g=new vn(o,l,p,this);g.computeFaces(),o<=24&&l<=24?g._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),g.gid=d,this.geometryBufferCache.ensureCached(g)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(d),n,s,a)},Tt.prototype.cylinder=function(n=50,s=n,a=24,o=1,l=!0,d=!0){const p=`cylinder|${a}|${o}|${l}|${d}`;if(!this.geometryInHash(p)){const g=new i.Geometry(a,o,function(){r.call(this,1,1,1,a,o,l,d)},this);a<=24&&o<=16?g._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),g.gid=p,this.geometryBufferCache.ensureCached(g)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(p),n,s,n)},Tt.prototype.cone=function(n=50,s=n,a=24,o=1,l=!0){const d=`cone|${a}|${o}|${l}`;if(!this.geometryInHash(d)){const p=new vn(a,o,function(){r.call(this,1,0,1,a,o,l,!1)},this);a<=24&&o<=16?p._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),p.gid=d,this.geometryBufferCache.ensureCached(p)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(d),n,s,n)},Tt.prototype.torus=function(n=50,s=10,a=24,o=16){if(n===0||s===0)return;const l=(s/n).toPrecision(4),d=`torus|${l}|${a}|${o}`;if(!this.geometryInHash(d)){const p=function(){for(let y=0;y<=this.detailY;y++){const x=y/this.detailY,S=2*Math.PI*x,_=Math.cos(S),w=Math.sin(S),A=1+l*_;for(let P=0;P<=this.detailX;P++){const D=P/this.detailX,R=2*Math.PI*D,F=Math.cos(R),T=Math.sin(R),U=new be(A*F,A*T,l*w),k=new be(_*F,_*T,w);this.vertices.push(U),this.vertexNormals.push(k),this.uvs.push(D,x)}}},g=new vn(a,o,p,this);g.computeFaces(),a<=24&&o<=16?g._makeTriangleEdges()._edgesToVertices():this.states.strokeColor&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),g.gid=d,this.geometryBufferCache.ensureCached(g)}this._drawGeometryScaled(this.geometryBufferCache.getGeometryByID(d),n,n,n)},t.curveDetail=function(n){if(!(this._renderer instanceof Tt))throw new Error("curveDetail() only works in WebGL mode. Did you mean to call createCanvas(width, height, WEBGL)?");return this._renderer.curveDetail(n)}}typeof p5<"u"&&d1(p5,p5.prototype);function p1(i,t){t.ambientLight=function(r,n,s,a){return this._assert3d("ambientLight"),this._renderer.ambientLight(...arguments),this},t.specularColor=function(r,n,s){return this._assert3d("specularColor"),this._renderer.specularColor(...arguments),this},t.directionalLight=function(r,n,s,a,o,l){return this._assert3d("directionalLight"),this._renderer.directionalLight(...arguments),this},t.pointLight=function(r,n,s,a,o,l){return this._assert3d("pointLight"),this._renderer.pointLight(...arguments),this},t.imageLight=function(r){this._renderer.imageLight(r)},t.panorama=function(r){this.filter(this._renderer._getSphereMapping(r))},t.lights=function(){return this._assert3d("lights"),this._renderer.lights(),this},t.lightFalloff=function(r,n,s){return this._assert3d("lightFalloff"),this._renderer.lightFalloff(r,n,s),this},t.spotLight=function(r,n,s,a,o,l,d,p,g,y,x){return this._assert3d("spotLight"),this._renderer.spotLight(...arguments),this},t.noLights=function(...r){return this._assert3d("noLights"),this._renderer.noLights(),this},Tt.prototype.ambientLight=function(r,n,s,a){const o=this._pInst.color(...arguments);this.states.setValue("ambientLightColors",[...this.states.ambientLightColors]),this.states.ambientLightColors.push(o._array[0],o._array[1],o._array[2]),this.states.setValue("enableLighting",!0)},Tt.prototype.specularColor=function(r,n,s){const a=this._pInst.color(...arguments);this.states.setValue("specularColors",[a._array[0],a._array[1],a._array[2]])},Tt.prototype.directionalLight=function(r,n,s,a,o,l){let d;r instanceof Nr?d=r:d=this._pInst.color(r,n,s);let p,g,y;const x=arguments[arguments.length-1];typeof x=="number"?(p=arguments[arguments.length-3],g=arguments[arguments.length-2],y=arguments[arguments.length-1]):(p=x.x,g=x.y,y=x.z);const S=Math.sqrt(p*p+g*g+y*y);this.states.setValue("directionalLightDirections",[...this.states.directionalLightDirections]),this.states.directionalLightDirections.push(p/S,g/S,y/S),this.states.setValue("directionalLightDiffuseColors",[...this.states.directionalLightDiffuseColors]),this.states.directionalLightDiffuseColors.push(d._array[0],d._array[1],d._array[2]),this.states.setValue("directionalLightSpecularColors",[...this.states.directionalLightSpecularColors]),Array.prototype.push.apply(this.states.directionalLightSpecularColors,this.states.specularColors),this.states.setValue("enableLighting",!0)},Tt.prototype.pointLight=function(r,n,s,a,o,l){let d;r instanceof Nr?d=r:d=this._pInst.color(r,n,s);let p,g,y;const x=arguments[arguments.length-1];typeof x=="number"?(p=arguments[arguments.length-3],g=arguments[arguments.length-2],y=arguments[arguments.length-1]):(p=x.x,g=x.y,y=x.z),this.states.setValue("pointLightPositions",[...this.states.pointLightPositions]),this.states.pointLightPositions.push(p,g,y),this.states.setValue("pointLightDiffuseColors",[...this.states.pointLightDiffuseColors]),this.states.pointLightDiffuseColors.push(d._array[0],d._array[1],d._array[2]),this.states.setValue("pointLightSpecularColors",[...this.states.pointLightSpecularColors]),Array.prototype.push.apply(this.states.pointLightSpecularColors,this.states.specularColors),this.states.setValue("enableLighting",!0)},Tt.prototype.imageLight=function(r){this.states.setValue("activeImageLight",r),this.states.setValue("enableLighting",!0)},Tt.prototype.lights=function(){const r=this._pInst.color("rgb(128,128,128)");this.ambientLight(r),this.directionalLight(r,0,0,-1)},Tt.prototype.lightFalloff=function(r,n,s){r<0&&(r=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),n<0&&(n=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),s<0&&(s=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),r===0&&n===0&&s===0&&(r=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this.states.setValue("constantAttenuation",r),this.states.setValue("linearAttenuation",n),this.states.setValue("quadraticAttenuation",s)},Tt.prototype.spotLight=function(r,n,s,a,o,l,d,p,g,y,x){let S,_,w;const A=arguments.length;switch(A){case 11:case 10:S=this._pInst.color(r,n,s),_=new be(a,o,l),w=new be(d,p,g);break;case 9:r instanceof Nr?(S=r,_=new be(n,s,a),w=new be(o,l,d),y=p,x=g):a instanceof be?(S=this._pInst.color(r,n,s),_=a,w=new be(o,l,d),y=p,x=g):d instanceof be?(S=this._pInst.color(r,n,s),_=new be(a,o,l),w=d,y=p,x=g):(S=this._pInst.color(r,n,s),_=new be(a,o,l),w=new be(d,p,g));break;case 8:r instanceof Nr?(S=r,_=new be(n,s,a),w=new be(o,l,d),y=p):a instanceof be?(S=this._pInst.color(r,n,s),_=a,w=new be(o,l,d),y=p):(S=this._pInst.color(r,n,s),_=new be(a,o,l),w=d,y=p);break;case 7:r instanceof Nr&&n instanceof be?(S=r,_=n,w=new be(s,a,o),y=l,x=d):r instanceof Nr&&o instanceof be?(S=r,_=new be(n,s,a),w=o,y=l,x=d):a instanceof be&&o instanceof be?(S=this._pInst.color(r,n,s),_=a,w=o,y=l,x=d):r instanceof Nr?(S=r,_=new be(n,s,a),w=new be(o,l,d)):a instanceof be?(S=this._pInst.color(r,n,s),_=a,w=new be(o,l,d)):(S=this._pInst.color(r,n,s),_=new be(a,o,l),w=d);break;case 6:a instanceof be&&o instanceof be?(S=this._pInst.color(r,n,s),_=a,w=o,y=l):r instanceof Nr&&o instanceof be?(S=r,_=new be(n,s,a),w=o,y=l):r instanceof Nr&&n instanceof be&&(S=r,_=n,w=new be(s,a,o),y=l);break;case 5:r instanceof Nr&&n instanceof be&&s instanceof be?(S=r,_=n,w=s,y=a,x=o):a instanceof be&&o instanceof be?(S=this._pInst.color(r,n,s),_=a,w=o):r instanceof Nr&&o instanceof be?(S=r,_=new be(n,s,a),w=o):r instanceof Nr&&n instanceof be&&(S=r,_=n,w=new be(s,a,o));break;case 4:S=r,_=n,w=s,y=a;break;case 3:S=r,_=n,w=s;break;default:console.warn(`Sorry, input for spotlight() is not in prescribed format. Too ${A<3?"few":"many"} arguments were provided`);return}this.states.setValue("spotLightDiffuseColors",[S._array[0],S._array[1],S._array[2]]),this.states.setValue("spotLightSpecularColors",[...this.states.specularColors]),this.states.setValue("spotLightPositions",[_.x,_.y,_.z]),w.normalize(),this.states.setValue("spotLightDirections",[w.x,w.y,w.z]),y===void 0&&(y=Math.PI/3),x!==void 0&&x<1?(x=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):x===void 0&&(x=100),y=this._pInst._toRadians(y),this.states.setValue("spotLightAngle",[Math.cos(y)]),this.states.setValue("spotLightConc",[x]),this.states.setValue("enableLighting",!0)},Tt.prototype.noLights=function(){this.states.setValue("activeImageLight",null),this.states.setValue("enableLighting",!1),this.states.setValue("ambientLightColors",[]),this.states.setValue("specularColors",[1,1,1]),this.states.setValue("directionalLightDirections",[]),this.states.setValue("directionalLightDiffuseColors",[]),this.states.setValue("directionalLightSpecularColors",[]),this.states.setValue("pointLightPositions",[]),this.states.setValue("pointLightDiffuseColors",[]),this.states.setValue("pointLightSpecularColors",[]),this.states.setValue("spotLightPositions",[]),this.states.setValue("spotLightDirections",[]),this.states.setValue("spotLightDiffuseColors",[]),this.states.setValue("spotLightSpecularColors",[]),this.states.setValue("spotLightAngle",[]),this.states.setValue("spotLightConc",[]),this.states.setValue("constantAttenuation",1),this.states.setValue("linearAttenuation",0),this.states.setValue("quadraticAttenuation",0),this.states.setValue("_useShininess",1),this.states.setValue("_useMetalness",0)}}typeof p5<"u"&&p1(p5,p5.prototype);function bT(i,t){t.loadShader=async function(r,n,s,a){const o=new bn;try{return o._vertSrc=(await ai(r,"text")).data,o._fragSrc=(await ai(n,"text")).data,s?s(o):o}catch(l){if(a)return a(l);throw l}},t.createShader=function(r,n,s){return new bn(this._renderer,r,n,s)},t.loadFilterShader=async function(r,n,s){try{const o=await(await this.loadStrings(r)).join(`
`),l=this.createFilterShader(o,!0);return n&&n(l),l}catch(a){s?s(a):console.error(a)}},t.createFilterShader=function(r,n=!1){let o=r.includes("#version 300 es")?`#version 300 es
      uniform mat4 uModelViewMatrix;
      uniform mat4 uProjectionMatrix;

      in vec3 aPosition;
      in vec2 aTexCoord;
      out vec2 vTexCoord;

      void main() {
        // transferring texcoords for the frag shader
        vTexCoord = aTexCoord;

        // copy position with a fourth coordinate for projection (1.0 is normal)
        vec4 positionVec4 = vec4(aPosition, 1.0);

        // project to 3D space
        gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
      }
    `:`
      uniform mat4 uModelViewMatrix;
      uniform mat4 uProjectionMatrix;

      attribute vec3 aPosition;
      // texcoords only come from p5 to vertex shader
      // so pass texcoords on to the fragment shader in a varying variable
      attribute vec2 aTexCoord;
      varying vec2 vTexCoord;

      void main() {
        // transferring texcoords for the frag shader
        vTexCoord = aTexCoord;

        // copy position with a fourth coordinate for projection (1.0 is normal)
        vec4 positionVec4 = vec4(aPosition, 1.0);

        // project to 3D space
        gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
      }
    `;const l=new bn(this._renderer,o,r);return n||(this._renderer.GL?l.ensureCompiledOnContext(this._renderer):l.ensureCompiledOnContext(this)),l},t.shader=function(r){return this._assert3d("shader"),this._renderer.shader(r),this},t.strokeShader=function(r){return this._assert3d("strokeShader"),this._renderer.strokeShader(r),this},t.imageShader=function(r){return this._assert3d("imageShader"),this._renderer.imageShader(r),this},t.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},t.baseFilterShader=function(){return(this._renderer.filterRenderer||this._renderer).baseFilterShader()},t.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},t.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},t.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},t.resetShader=function(){return this._renderer.resetShader(),this},t.texture=function(r){return this._assert3d("texture"),r.gifProperties&&r._animateGif(this),this._renderer.texture(r),this},t.textureMode=function(r){r!==Pp&&r!==rs?console.warn(`You tried to set ${r} textureMode only supports IMAGE & NORMAL `):this._renderer.states.setValue("textureMode",r)},t.textureWrap=function(r,n=r){this._renderer.states.setValue("textureWrapX",r),this._renderer.states.setValue("textureWrapY",n);for(const s of this._renderer.textures.values())s.setWrapMode(r,n)},t.normalMaterial=function(...r){return this._assert3d("normalMaterial"),this._renderer.normalMaterial(...r),this},t.ambientMaterial=function(r,n,s){this._assert3d("ambientMaterial");const a=t.color.apply(this,arguments);return this._renderer.states.setValue("_hasSetAmbient",!0),this._renderer.states.setValue("curAmbientColor",a._array),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this._renderer.states.fillColor||this._renderer.states.setValue("fillColor",new Nr([1,1,1])),this},t.emissiveMaterial=function(r,n,s,a){this._assert3d("emissiveMaterial");const o=t.color.apply(this,arguments);return this._renderer.states.setValue("curEmissiveColor",o._array),this._renderer.states.setValue("_useEmissiveMaterial",!0),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this},t.specularMaterial=function(r,n,s,a){this._assert3d("specularMaterial");const o=t.color.apply(this,arguments);return this._renderer.states.setValue("curSpecularColor",o._array),this._renderer.states.setValue("_useSpecularMaterial",!0),this._renderer.states.setValue("_useNormalMaterial",!1),this._renderer.states.setValue("enableLighting",!0),this},t.shininess=function(r){return this._assert3d("shininess"),this._renderer.shininess(r),this},t.metalness=function(r){return this._assert3d("metalness"),this._renderer.metalness(r),this},Tt.prototype._applyColorBlend=function(r,n){const s=this.GL,a=this.states.drawMode===kd,o=n||this.states.userFillShader||this.states.userStrokeShader||this.states.userPointShader||a||this.states.curBlendMode!==Ln||r[r.length-1]<1||this._isErasing;return o!==this._isBlending&&(o||this.states.curBlendMode!==Ln&&this.states.curBlendMode!==rh?s.enable(s.BLEND):s.disable(s.BLEND),s.depthMask(!0),this._isBlending=o),this._applyBlendMode(),r},Tt.prototype._applyBlendMode=function(){if(this._cachedBlendMode===this.states.curBlendMode)return;const r=this.GL;switch(this.states.curBlendMode){case Ln:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case rh:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE);break;case Do:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ZERO,r.ONE_MINUS_SRC_ALPHA);break;case Op:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA);break;case Fp:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_COLOR);break;case Np:r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD),r.blendFuncSeparate(r.ONE_MINUS_DST_COLOR,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE);break;case Rp:r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO);break;case Tp:r.blendEquationSeparate(r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case Ap:this.blendExt?(r.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case Dp:this.blendExt?(r.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,r.FUNC_ADD),r.blendFuncSeparate(r.ONE,r.ONE,r.ONE,r.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.");break}this._cachedBlendMode=this.states.curBlendMode},Tt.prototype.shader=function(r){this.states.setValue("userFillShader",r),this.states.setValue("_useNormalMaterial",!1),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Tt.prototype.strokeShader=function(r){this.states.setValue("userStrokeShader",r),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Tt.prototype.imageShader=function(r){this.states.setValue("userImageShader",r),r.ensureCompiledOnContext(this),r.setDefaultUniforms()},Tt.prototype.resetShader=function(){this.states.setValue("userFillShader",null),this.states.setValue("userStrokeShader",null),this.states.setValue("userImageShader",null)},Tt.prototype.texture=function(r){this.states.setValue("drawMode",kd),this.states.setValue("_useNormalMaterial",!1),this.states.setValue("_tex",r),this.states.setValue("fillColor",new Nr([1,1,1]))},Tt.prototype.normalMaterial=function(...r){this.states.setValue("drawMode",Md),this.states.setValue("_useSpecularMaterial",!1),this.states.setValue("_useEmissiveMaterial",!1),this.states.setValue("_useNormalMaterial",!0),this.states.setValue("curFillColor",[1,1,1,1]),this.states.setValue("fillColor",new Nr([1,1,1])),this.states.setValue("strokeColor",null)},Tt.prototype.shininess=function(r){r<1&&(r=1),this.states.setValue("_useShininess",r)},Tt.prototype.metalness=function(r){const n=1-Math.exp(-r/100);this.states.setValue("_useMetalness",n)}}typeof p5<"u"&&loading(p5,p5.prototype);class al{constructor(t,r,n,s,a){const o=n||Co;return this._pInst=s,this._renderer=new xd[o](this._pInst,t,r,!1,a),this._initializeInstanceVariables(this),this._renderer._applyDefaults(),this}get deltaTime(){return this._pInst.deltaTime}get canvas(){var t;return(t=this._renderer)==null?void 0:t.canvas}get drawingContext(){return this._renderer.drawingContext}get width(){var t;return(t=this._renderer)==null?void 0:t.width}get height(){var t;return(t=this._renderer)==null?void 0:t.height}get pixels(){var t;return(t=this._renderer)==null?void 0:t.pixels}pixelDensity(t){let r;return typeof t=="number"?(t!==this._renderer._pixelDensity&&(this._renderer._pixelDensity=t),r=this,this.resizeCanvas(this.width,this.height,!0)):r=this._renderer._pixelDensity,r}resizeCanvas(t,r){this._renderer.resize(t,r)}reset(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}remove(){this._renderer.remove(),this._renderer=void 0}createFramebuffer(t){return new Ii(this._renderer,t)}_assert3d(t){if(!this._renderer.isP3D)throw new Error(`${t}() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.`)}_initializeInstanceVariables(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._downKeys={}}}function cL(i,t){i.Graphics=al,e1(i,i.Graphics.prototype),t1(i,i.Graphics.prototype),r1(i,i.Graphics.prototype),n1(i,i.Graphics.prototype),Kv(i,i.Graphics.prototype),i1(i,i.Graphics.prototype),l1(i,i.Graphics.prototype),u1(i,i.Graphics.prototype),a1(i,i.Graphics.prototype),Wv(i,i.Graphics.prototype),d1(i,i.Graphics.prototype),p1(i,i.Graphics.prototype),bT(i,i.Graphics.prototype),Zv(i,i.Graphics.prototype),o1(i,i.Graphics.prototype)}class Gs{constructor(t,r,n){this._renderer=t;const s=this._renderer.GL;n=n||{},this.src=r,this.glTex=void 0,this.glTarget=s.TEXTURE_2D,this.glFormat=n.format||s.RGBA,this.mipmaps=!1,this.glMinFilter=n.minFilter||s.LINEAR,this.glMagFilter=n.magFilter||s.LINEAR,this.glWrapS=n.wrapS||s.CLAMP_TO_EDGE,this.glWrapT=n.wrapT||s.CLAMP_TO_EDGE,this.glDataType=n.dataType||s.UNSIGNED_BYTE;const a=_T(t);this.glFormat===s.HALF_FLOAT&&!a.halfFloat&&(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=s.FLOAT),this.glFormat===s.HALF_FLOAT&&(this.glMinFilter===s.LINEAR||this.glMagFilter===s.LINEAR)&&!a.halfFloatLinear&&(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===s.LINEAR&&(this.glMinFilter=s.NEAREST),this.glMagFilter===s.LINEAR&&(this.glMagFilter=s.NEAREST)),this.glFormat===s.FLOAT&&!a.float&&(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=s.UNSIGNED_BYTE),this.glFormat===s.FLOAT&&(this.glMinFilter===s.LINEAR||this.glMagFilter===s.LINEAR)&&!a.floatLinear&&(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===s.LINEAR&&(this.glMinFilter=s.NEAREST),this.glMagFilter===s.LINEAR&&(this.glMagFilter=s.NEAREST)),this.isSrcMediaElement=!1,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=typeof Xt<"u"&&r instanceof Xt&&!(r instanceof al)&&!(r instanceof _t),this.isSrcP5Image=r instanceof zi,this.isSrcP5Graphics=r instanceof al,this.isSrcP5Renderer=r instanceof _t,this.isImageData=typeof ImageData<"u"&&r instanceof ImageData,this.isFramebufferTexture=r instanceof Gd;const o=this._getTextureDataFromSource();return this.width=o.width,this.height=o.height,this.init(o),this}remove(){this.glTex&&(this._renderer.GL.deleteTexture(this.glTex),this.glTex=void 0)}_getTextureDataFromSource(){let t;return this.isFramebufferTexture?t=this.src.rawTexture():this.isSrcP5Image?t=this.src.canvas:this.isSrcMediaElement||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),t=this.src.elt):this.isSrcP5Graphics||this.isSrcP5Renderer?t=this.src.canvas:this.isImageData&&(t=this.src),t}init(t){const r=this._renderer.GL;if(this.isFramebufferTexture||(this.glTex=r.createTexture()),this.glWrapS=this._renderer.states.textureWrapX,this.glWrapT=this._renderer.states.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),!this.isFramebufferTexture)if(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata){const n=new Uint8Array([1,1,1,1]);r.texImage2D(this.glTarget,0,r.RGBA,1,1,0,this.glFormat,this.glDataType,n)}else r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,t)}update(){const t=this.src;if(t.width===0||t.height===0)return!1;if(this.isFramebufferTexture)return this.src.update(),!1;const r=this._getTextureDataFromSource();let n=!1;const s=this._renderer.GL;return r.width!==this.width||r.height!==this.height?(n=!0,this.width=r.width||t.width,this.height=r.height||t.height,this.isSrcP5Image?t.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&t.setModified&&t.setModified(!0)):this.isSrcP5Image?t.isModified()&&(n=!0,t.setModified(!1)):this.isSrcMediaElement?t.isModified()?(n=!0,t.setModified(!1)):t.loadedmetadata&&this._videoPrevUpdateTime!==t.time()&&(this._videoPrevUpdateTime=t.time(),n=!0):this.isImageData?t._dirty&&(t._dirty=!1,n=!0):n=!0,n&&(this.bindTexture(),s.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,r)),n}bindTexture(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}unbindTexture(){this._renderer.GL.bindTexture(this.glTarget,null)}getTexture(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}setInterpolation(t,r){const n=this._renderer.GL;this.glMinFilter=this.glFilter(t),this.glMagFilter=this.glFilter(r),this.bindTexture(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.glMinFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}glFilter(t){const r=this._renderer.GL;return t===UA?r.NEAREST:r.LINEAR}setWrapMode(t,r){const n=this._renderer.GL,s=g=>(g&g-1)===0,a=this._getTextureDataFromSource();let o,l;a.naturalWidth&&a.naturalHeight?(o=a.naturalWidth,l=a.naturalHeight):(o=this.width,l=this.height);const d=s(o),p=s(l);t===Ty?this._renderer.webglVersion===rn||d&&p?this.glWrapS=n.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=n.CLAMP_TO_EDGE):t===Oy?this._renderer.webglVersion===rn||d&&p?this.glWrapS=n.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=n.CLAMP_TO_EDGE):this.glWrapS=n.CLAMP_TO_EDGE,r===Ty?this._renderer.webglVersion===rn||d&&p?this.glWrapT=n.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=n.CLAMP_TO_EDGE):r===Oy?this._renderer.webglVersion===rn||d&&p?this.glWrapT=n.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=n.CLAMP_TO_EDGE):this.glWrapT=n.CLAMP_TO_EDGE,this.bindTexture(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.glWrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}class xT extends Gs{constructor(t,r,n){super(t,r,n);const s=this._renderer.GL;this.glMinFilter===s.LINEAR&&(this.glMinFilter=s.LINEAR_MIPMAP_LINEAR)}glFilter(t){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}_getTextureDataFromSource(){return this.src}init(t){const r=this._renderer.GL;this.glTex=r.createTexture(),this.bindTexture();for(let n=0;n<t.length;n++)r.texImage2D(this.glTarget,n,this.glFormat,this.glFormat,this.glDataType,t[n]);this.glMinFilter=r.LINEAR_MIPMAP_LINEAR,r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}update(){}}function g1(i,t){i.Texture=Gs,i.MipmapTexture=xT}function _T({GL:i,webglVersion:t}){const r=i,n=t===rn?r.getExtension("EXT_color_buffer_float")&&r.getExtension("EXT_float_blend"):r.getExtension("OES_texture_float"),s=n&&r.getExtension("OES_texture_float_linear"),a=t===rn?r.getExtension("EXT_color_buffer_float"):r.getExtension("OES_texture_half_float"),o=a&&r.getExtension("OES_texture_half_float_linear");return{float:n,floatLinear:s,halfFloat:a,halfFloatLinear:o}}typeof p5<"u"&&g1(p5,p5.prototype);const Tu=(i,t,r)=>Math.max(Math.min(i,r),t);class ST extends Mo{constructor(t){super(t.renderer),this.fbo=t,this.yScale=-1}_computeCameraDefaultSettings(){super._computeCameraDefaultSettings(),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}class Gd{constructor(t,r){this.framebuffer=t,this.property=r}get width(){return this.framebuffer.width*this.framebuffer.density}get height(){return this.framebuffer.height*this.framebuffer.density}update(){this.framebuffer._update(this.property)}rawTexture(){return this.framebuffer[this.property]}}class Ii{constructor(t,r={}){this.renderer=t,this.renderer.framebuffers.add(this),this._isClipApplied=!1,this.dirty={colorTexture:!1,depthTexture:!1},this.pixels=[],this.format=r.format||Ea,this.channels=r.channels||(this.renderer._pInst._glAttributes.alpha?pd:Tr),this.useDepth=r.depth===void 0?!0:r.depth,this.depthFormat=r.depthFormat||Gn,this.textureFiltering=r.textureFiltering||Dy,r.antialias===void 0?this.antialiasSamples=this.renderer._pInst._glAttributes.antialias?2:0:typeof r.antialias=="number"?this.antialiasSamples=r.antialias:this.antialiasSamples=r.antialias?2:0,this.antialias=this.antialiasSamples>0,this.antialias&&this.renderer.webglVersion!==rn&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=r.density||this.renderer._pixelDensity;const n=this.renderer.GL;if(this.gl=n,r.width&&r.height){const a=this.renderer._adjustDimensions(r.width,r.height);this.width=a.adjustedWidth,this.height=a.adjustedHeight,this._autoSized=!1}else r.width===void 0!=(r.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=this.renderer.width,this.height=this.renderer.height,this._autoSized=!0;if(this._checkIfFormatsAvailable(),r.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(r.stencil===void 0?!0:r.stencil),this.framebuffer=n.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=n.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();const s=this.renderer.states.curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.renderer.states.setValue("curCamera",s),this.draw(()=>this.renderer.clear())}resize(t,r){this._autoSized=!1;const n=this.renderer._adjustDimensions(t,r);t=n.adjustedWidth,r=n.adjustedHeight,this.width=t,this.height=r,this._handleResize()}pixelDensity(t){if(t)this._autoSized=!1,this.density=t,this._handleResize();else return this.density}autoSized(t){if(t===void 0)return this._autoSized;this._autoSized=t,this._handleResize()}_checkIfFormatsAvailable(){const t=this.gl;this.useDepth&&this.renderer.webglVersion===Ba&&!t.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.renderer.webglVersion===Ba&&this.depthFormat===Gn&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=Uc),[Ea,Gn,ku].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=Ea),this.useDepth&&![Uc,Gn].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=Gn);const r=_T(this.renderer);!r.float&&this.format===Gn&&(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=Ea),this.useDepth&&!r.float&&this.depthFormat===Gn&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=Uc),!r.halfFloat&&this.format===ku&&(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=Ea),this.channels===Tr&&[Gn,ku].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=pd)}_recreateTextures(){const t=this.gl;this._updateSize();const r=t.getParameter(t.TEXTURE_BINDING_2D),n=t.getParameter(t.FRAMEBUFFER_BINDING),s=t.createTexture();if(!s)throw new Error("Unable to create color texture");t.bindTexture(t.TEXTURE_2D,s);const a=this._glColorFormat();if(t.texImage2D(t.TEXTURE_2D,0,a.internalFormat,this.width*this.density,this.height*this.density,0,a.format,a.type,null),this.colorTexture=s,t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0),this.useDepth){const l=t.createTexture();if(!l)throw new Error("Unable to create depth texture");const d=this._glDepthFormat();t.bindTexture(t.TEXTURE_2D,l),t.texImage2D(t.TEXTURE_2D,0,d.internalFormat,this.width*this.density,this.height*this.density,0,d.format,d.type,null),t.framebufferTexture2D(t.FRAMEBUFFER,this.useStencil?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,t.TEXTURE_2D,l,0),this.depthTexture=l}if(this.antialias){if(this.colorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.colorRenderbuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,t.getParameter(t.MAX_SAMPLES))),a.internalFormat,this.width*this.density,this.height*this.density),this.useDepth){const l=this._glDepthFormat();this.depthRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.depthRenderbuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,t.getParameter(t.MAX_SAMPLES))),l.internalFormat,this.width*this.density,this.height*this.density)}t.bindFramebuffer(t.FRAMEBUFFER,this.aaFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&t.framebufferRenderbuffer(t.FRAMEBUFFER,this.useStencil?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,t.RENDERBUFFER,this.depthRenderbuffer)}if(this.useDepth){this.depth=new Gd(this,"depthTexture");const l=t.NEAREST;this.depthP5Texture=new Gs(this.renderer,this.depth,{minFilter:l,magFilter:l}),this.renderer.textures.set(this.depth,this.depthP5Texture)}this.color=new Gd(this,"colorTexture");const o=this.textureFiltering===Dy?t.LINEAR:t.NEAREST;this.colorP5Texture=new Gs(this.renderer,this.color,{minFilter:o,magFilter:o}),this.renderer.textures.set(this.color,this.colorP5Texture),t.bindTexture(t.TEXTURE_2D,r),t.bindFramebuffer(t.FRAMEBUFFER,n)}_glColorFormat(){let t,r,n;const s=this.gl;return this.format===Gn?t=s.FLOAT:this.format===ku?t=this.renderer.webglVersion===rn?s.HALF_FLOAT:s.getExtension("OES_texture_half_float").HALF_FLOAT_OES:t=s.UNSIGNED_BYTE,this.channels===pd?r=s.RGBA:r=s.RGB,this.renderer.webglVersion===rn?n={[s.FLOAT]:{[s.RGBA]:s.RGBA32F},[s.HALF_FLOAT]:{[s.RGBA]:s.RGBA16F},[s.UNSIGNED_BYTE]:{[s.RGBA]:s.RGBA8,[s.RGB]:s.RGB8}}[t][r]:this.format===ku?n=s.RGBA:n=r,{internalFormat:n,format:r,type:t}}_glDepthFormat(){let t,r,n;const s=this.gl;return this.useStencil?this.depthFormat===Gn?t=s.FLOAT_32_UNSIGNED_INT_24_8_REV:this.renderer.webglVersion===rn?t=s.UNSIGNED_INT_24_8:t=s.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===Gn?t=s.FLOAT:t=s.UNSIGNED_INT,this.useStencil?r=s.DEPTH_STENCIL:r=s.DEPTH_COMPONENT,this.useStencil?this.depthFormat===Gn?n=s.DEPTH32F_STENCIL8:this.renderer.webglVersion===rn?n=s.DEPTH24_STENCIL8:n=s.DEPTH_STENCIL:this.renderer.webglVersion===rn?this.depthFormat===Gn?n=s.DEPTH_COMPONENT32F:n=s.DEPTH_COMPONENT24:n=s.DEPTH_COMPONENT,{internalFormat:n,format:r,type:t}}_updateSize(){this._autoSized&&(this.width=this.renderer.width,this.height=this.renderer.height,this.density=this.renderer._pixelDensity)}_canvasSizeChanged(){this._autoSized&&this._handleResize()}_handleResize(){const t=this.color,r=this.depth,n=this.colorRenderbuffer,s=this.depthRenderbuffer;this._deleteTexture(t),r&&this._deleteTexture(r);const a=this.gl;n&&a.deleteRenderbuffer(n),s&&a.deleteRenderbuffer(s),this._recreateTextures(),this.defaultCamera._resize()}createCamera(){const t=new ST(this);return t._computeCameraDefaultSettings(),t._setDefaultCamera(),t}_deleteTexture(t){this.gl.deleteTexture(t.rawTexture()),this.renderer.textures.delete(t)}remove(){const t=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),t.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&t.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&t.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&t.deleteRenderbuffer(this.colorRenderbuffer),this.renderer.framebuffers.delete(this)}begin(){this.prevFramebuffer=this.renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.renderer.activeFramebuffers.push(this),this._beforeBegin(),this.renderer.push(),this.renderer.states.setValue("curCamera",this.defaultCamera),this.renderer.states.setValue("uPMatrix",this.renderer.states.uPMatrix.clone()),this.renderer.states.uPMatrix.set(this.defaultCamera.projMatrix),this.renderer.states.setValue("uViewMatrix",this.renderer.states.uViewMatrix.clone()),this.renderer.states.uViewMatrix.set(this.defaultCamera.cameraMatrix),this.renderer.resetMatrix(),this.renderer.states.uViewMatrix.set(this.renderer.states.curCamera.cameraMatrix),this.renderer.states.uModelMatrix.reset(),this.renderer._applyStencilTestIfClipping()}_framebufferToBind(){return this.antialias?this.aaFramebuffer:this.framebuffer}_update(t){if(this.dirty[t]&&this.antialias){const r=this.gl;r.bindFramebuffer(r.READ_FRAMEBUFFER,this.aaFramebuffer),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,this.framebuffer);const n={colorTexture:[r.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]};this.useDepth&&(n.depthTexture=[r.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);const[s,a]=n[t];r.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,s,a),this.dirty[t]=!1;const o=this.renderer.activeFramebuffer();o?r.bindFramebuffer(r.FRAMEBUFFER,o._framebufferToBind()):r.bindFramebuffer(r.FRAMEBUFFER,null)}}_beforeBegin(){const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebufferToBind()),this.renderer.viewport(this.width*this.density,this.height*this.density)}_beforeEnd(){this.antialias&&(this.dirty={colorTexture:!0,depthTexture:!0})}end(){const t=this.gl;if(this.renderer.pop(),this.renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(t.bindFramebuffer(t.FRAMEBUFFER,null),this.renderer.viewport(this.renderer._origViewport.width,this.renderer._origViewport.height)),this.renderer._applyStencilTestIfClipping()}draw(t){this.begin(),t(),this.end()}loadPixels(){this._update("colorTexture");const t=this.gl,r=this.renderer.activeFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer);const n=this._glColorFormat();this.pixels=zy(this.pixels,t,this.framebuffer,0,0,this.width*this.density,this.height*this.density,n.format,n.type),r?t.bindFramebuffer(t.FRAMEBUFFER,r._framebufferToBind()):t.bindFramebuffer(t.FRAMEBUFFER,null)}get(t,r,n,s){this._update("colorTexture");const a=this._glColorFormat();if(t===void 0&&r===void 0)t=0,r=0,n=this.width,s=this.height;else if(n===void 0&&s===void 0)return(t<0||r<0||t>=this.width||r>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),t=Tu(t,0,this.width-1),r=Tu(r,0,this.height-1)),vT(this.gl,this.framebuffer,t*this.density,r*this.density,a.format,a.type);t=Tu(t,0,this.width-1),r=Tu(r,0,this.height-1),n=Tu(n,1,this.width-t),s=Tu(s,1,this.height-r);const o=zy(void 0,this.gl,this.framebuffer,t*this.density,r*this.density,n*this.density,s*this.density,a.format,a.type),l=new Uint8ClampedArray(n*s*this.density*this.density*4);l.fill(255);const d=a.type===this.gl.RGB?3:4;for(let g=0;g<s*this.density;g++)for(let y=0;y<n*this.density;y++)for(let x=0;x<4;x++){const S=(g*n*this.density+y)*4+x;if(x<d){const _=d===4?S:(g*n*this.density+y)*d+x;l[S]=o[_]}}const p=new zi(n*this.density,s*this.density);return p.imageData=p.canvas.getContext("2d").createImageData(p.width,p.height),p.imageData.data.set(l),p.pixels=p.imageData.data,p.updatePixels(),this.density!==1&&p.resize(n,s),p}updatePixels(){const t=this.gl;this.colorP5Texture.bindTexture();const r=this._glColorFormat(),n=r.format===t.RGBA?4:3,s=this.width*this.height*this.density*this.density*n,a=r.type===t.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof a)||this.pixels.length!==s)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");t.texImage2D(t.TEXTURE_2D,0,r.internalFormat,this.width*this.density,this.height*this.density,0,r.format,r.type,this.pixels),this.colorP5Texture.unbindTexture(),this.dirty.colorTexture=!1;const o=this.renderer.activeFramebuffer();this.antialias?(this.begin(),this.renderer.push(),this.renderer.states.setValue("imageMode",ci),this.renderer.setCamera(this.filterCamera),this.renderer.resetMatrix(),this.renderer.states.setValue("strokeColor",null),this.renderer.clear(),this.renderer._drawingFilter=!0,this.renderer.image(this,0,0,this.width,this.height,-this.renderer.width/2,-this.renderer.height/2,this.renderer.width,this.renderer.height),this.renderer._drawingFilter=!1,this.renderer.pop(),this.useDepth&&(t.clearDepth(1),t.clear(t.DEPTH_BUFFER_BIT)),this.end()):(t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer),this.useDepth&&(t.clearDepth(1),t.clear(t.DEPTH_BUFFER_BIT)),o?t.bindFramebuffer(t.FRAMEBUFFER,o._framebufferToBind()):t.bindFramebuffer(t.FRAMEBUFFER,null))}}function wT(i,t){i.FramebufferCamera=ST,i.FramebufferTexture=Gd,i.Framebuffer=Ii}typeof p5<"u"&&wT(p5,p5.prototype);let xd;function ET(i,t){xd=i.renderers={},t.createCanvas=function(r,n,s,...a){let o=Co;return Reflect.ownKeys(xd).includes(s)?o=s:a.unshift(s),this._renderer&&this._renderer.remove(),this._renderer=new xd[o](this,r,n,!0,...a),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer),this._renderer._applyDefaults(),Object.hasOwn(this,"pixels")||Object.defineProperty(this,"pixels",{get(){var l;return(l=this._renderer)==null?void 0:l.pixels}}),this._renderer},t.resizeCanvas=function(r,n,s){this._renderer&&(this._renderer.resize(r,n),s||this.redraw()),this._addAccsOutput()&&this._updateAccsOutput()},t.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},t.createGraphics=function(r,n,...s){return s[0]instanceof HTMLCanvasElement&&(s[1]=s[0],s[0]=Co),new i.Graphics(r,n,s[0],this,s[1])},t.createFramebuffer=function(r){return new Ii(this._renderer,r)},t.clearDepth=function(r){this._assert3d("clearDepth"),this._renderer.clearDepth(r)}}typeof p5<"u"&&ET(p5,p5.prototype);class hL{constructor(t){this.pInst=t,this.canvas=document.createElement("canvas"),this.canvas.width=t.width,this.canvas.height=t.height;let r=rn;if(this.gl=this.canvas.getContext("webgl2"),this.gl||(r=Ba,this.gl=this.canvas.getContext("webgl")),!this.gl){console.error("WebGL not supported, cannot apply filter.");return}this._renderer={GL:this.gl,registerEnabled:new Set,_curShader:null,_emptyTexture:null,webglVersion:r,states:{textureWrapX:this.gl.CLAMP_TO_EDGE,textureWrapY:this.gl.CLAMP_TO_EDGE},_arraysEqual:(n,s)=>JSON.stringify(n)===JSON.stringify(s),_getEmptyTexture:()=>{if(!this._emptyTexture){const n=new zi(1,1);n.set(0,0,255),this._emptyTexture=new Gs(this._renderer,n)}return this._emptyTexture}},this._baseFilterShader=void 0,this.filterShaderSources={[nl]:lT,[Hv]:fT,[Mp]:dT,[$v]:oT,[zv]:aT,[qv]:uT,[kp]:cT,[Gv]:hT},this.filterShaders={},this.operation=null,this.filterParameter=1,this.customShader=null,this._shader=null,this.vertexBuffer=this.gl.createBuffer(),this.texcoordBuffer=this.gl.createBuffer(),this.vertices=new Float32Array([-1,-1,1,-1,-1,1,1,1]),this.texcoords=new Float32Array([0,1,1,1,0,0,1,0]),this._bindBufferData(this.vertexBuffer,this.gl.ARRAY_BUFFER,this.vertices),this._bindBufferData(this.texcoordBuffer,this.gl.ARRAY_BUFFER,this.texcoords)}_webGL2CompatibilityPrefix(t,r){let n="";return this._renderer.webglVersion===rn&&(n+=`#version 300 es
#define WEBGL2
`),t==="vert"?n+=`#define VERTEX_SHADER
`:t==="frag"&&(n+=`#define FRAGMENT_SHADER
`),r&&(n+=`precision ${r} float;
`),n}baseFilterShader(){return this._baseFilterShader||(this._baseFilterShader=new bn(this._renderer,this._webGL2CompatibilityPrefix("vert","highp")+jy+iT,this._webGL2CompatibilityPrefix("frag","highp")+jy+sT,{vertex:{},fragment:{"vec4 getColor":`(FilterInputs inputs, in sampler2D canvasContent) {
                return getTexture(canvasContent, inputs.texCoord);
              }`}})),this._baseFilterShader}setOperation(t,r,n=null){this.operation=t,this.filterParameter=r,t in jd&&r===void 0&&(this.filterParameter=jd[t]),this.customShader=n,this._initializeShader()}_initializeShader(){if(this.customShader){this._shader=this.customShader;return}if(!this.operation){console.error("No operation set for FilterRenderer2D, cannot initialize shader.");return}if(this.filterShaders[this.operation]){this._shader=this.filterShaders[this.operation];return}const t=this.filterShaderSources[this.operation];if(!t){console.error("No shader available for this operation:",this.operation);return}const r=new bn(this._renderer,pT,t);this.filterShaders[this.operation]=r,this._shader=r}_bindBufferData(t,r,n){const s=this.gl;s.bindBuffer(r,t),s.bufferData(r,n,s.STATIC_DRAW)}get canvasTexture(){return this._canvasTexture||(this._canvasTexture=new Gs(this._renderer,this.pInst.wrappedElt)),this._canvasTexture}_renderPass(){const t=this.gl;this._shader.bindShader();const r=this.pInst.pixelDensity?this.pInst.pixelDensity():1,n=[1/(this.pInst.width*r),1/(this.pInst.height*r)],s=this.canvasTexture;this._shader.setUniform("tex0",s),this._shader.setUniform("texelSize",n),this._shader.setUniform("canvasSize",[this.pInst.width,this.pInst.height]),this._shader.setUniform("radius",Math.max(1,this.filterParameter)),this._shader.setUniform("filterParameter",this.filterParameter),this._shader.setDefaultUniforms(),this.pInst.states.setValue("rectMode",ci),this.pInst.states.setValue("imageMode",ci),this.pInst.blendMode(Ln),this.pInst.resetMatrix();const a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];this._shader.setUniform("uModelViewMatrix",a),this._shader.setUniform("uProjectionMatrix",a),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this._shader.enableAttrib(this._shader.attributes.aPosition,2),t.bindBuffer(t.ARRAY_BUFFER,this.texcoordBuffer),this._shader.enableAttrib(this._shader.attributes.aTexCoord,2),this._shader.bindTextures(),this._shader.disableRemainingAttributes(),t.drawArrays(t.TRIANGLE_STRIP,0,4),this._shader.unbindShader()}applyFilter(){if(!this._shader){console.error("Cannot apply filter: shader not initialized.");return}this.pInst.push(),this.pInst.resetMatrix(),this.operation===nl&&!this.customShader?(this._shader.setUniform("direction",[1,0]),this._renderPass(),this.pInst.clear(),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height),this._shader.setUniform("direction",[0,1]),this._renderPass(),this.pInst.clear(),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height)):(this._renderPass(),this.pInst.clear(),this.pInst.blendMode(Ln),this.pInst.drawingContext.drawImage(this.canvas,0,0,this.pInst.width,this.pInst.height)),this.pInst.pop()}}const Ki="rgba(0,0,0,0)";class Cm extends _t{constructor(t,r,n,s,a,o={}){super(t,r,n,s),this.canvas=this.elt=a||document.createElement("canvas"),s?(this._pInst._curElement=this,this._pInst.canvas=this.canvas):this.canvas.style.display="none",this.elt.id="defaultCanvas0",this.elt.classList.add("p5Canvas");for(const l of Object.getOwnPropertyNames(Xt.prototype))l!=="constructor"&&l[0]!=="_"&&Object.defineProperty(this,l,{get(){return this.wrappedElt[l]}});if(this.elt.width=r*this._pixelDensity,this.elt.height=n*this._pixelDensity,this.elt.style.width=`${r}px`,this.elt.style.height=`${n}px`,this._pInst._userNode)this._pInst._userNode.appendChild(this.elt);else{if(document.getElementsByTagName("main").length===0){let l=document.createElement("main");document.body.appendChild(l)}document.getElementsByTagName("main")[0].appendChild(this.elt)}this.drawingContext=this.canvas.getContext("2d",o),o.colorSpace==="display-p3"&&(this.states.colorMode=Pn),this.scale(this._pixelDensity,this._pixelDensity),this.filterRenderer||(this.filterRenderer=new hL(this)),this.wrappedElt=new Xt(this.elt,this._pInst),this.clipPath=null}remove(){this.wrappedElt.remove(),this.wrappedElt=null,this.canvas=null,this.elt=null}getFilterGraphicsLayer(){if(!this.filterGraphicsLayer){const t=this._pInst;this.filterGraphicsLayer=new al(this.width,this.height,Ba,t)}return(this.filterGraphicsLayer.width!==this.width||this.filterGraphicsLayer.height!==this.height)&&this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}_applyDefaults(){this.states.setValue("_cachedFillStyle",void 0),this.states.setValue("_cachedStrokeStyle",void 0),this._cachedBlendMode=Ln,this._setFill(GA),this._setStroke(zA),this.drawingContext.lineCap=Ra,this.drawingContext.font="normal 12px sans-serif"}resize(t,r){super.resize(t,r);const n={};for(const s in this.drawingContext){const a=this.drawingContext[s];typeof a!="object"&&typeof a!="function"&&(n[s]=a)}this.canvas.width=t*this._pixelDensity,this.canvas.height=r*this._pixelDensity,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${r}px`,this.drawingContext.scale(this._pixelDensity,this._pixelDensity);for(const s in n)try{this.drawingContext[s]=n[s]}catch{}}background(...t){if(this.push(),this.resetMatrix(),t[0]instanceof zi)if(t[1]>=0){const r=t[0];this.drawingContext.globalAlpha=t[1]/255,this._pInst.image(r,0,0,this.width,this.height)}else this._pInst.image(t[0],0,0,this.width,this.height);else{const r=this._pInst.color(...t);this._pInst._addAccsOutput()&&this._pInst._accsBackground(r._getRGBA([255,255,255,255]));const n=r.toString();this._setFill(n),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._isErasing&&this._pInst.erase()}this.pop()}clear(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}fill(...t){super.fill(...t);const r=this.states.fillColor;this._setFill(r.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",r._getRGBA([255,255,255,255]))}stroke(...t){super.stroke(...t);const r=this.states.strokeColor;this._setStroke(r.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",r._getRGBA([255,255,255,255]))}erase(t,r){if(!this._isErasing){this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle);const n=this._pInst.color(255,t).toString();this.drawingContext.fillStyle=n,this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle);const s=this._pInst.color(255,r).toString();this.drawingContext.strokeStyle=s;const a=this._cachedBlendMode;this.blendMode(Do),this._cachedBlendMode=a,this._isErasing=!0}}noErase(){this._isErasing&&(this.drawingContext.fillStyle=this.states._cachedFillStyle,this.drawingContext.strokeStyle=this.states._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}drawShape(t){const r=new PD({strokeWeight:this.states.strokeWeight});t.accept(r),this._clipping?(this.clipPath.addPath(r.path),this.clipPath.closePath()):(this.states.fillColor&&this.drawingContext.fill(r.path),this.states.strokeColor&&this.drawingContext.stroke(r.path))}beginClip(t={}){super.beginClip(t),this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle);const r=this._pInst.color(255,0).toString();this.drawingContext.fillStyle=r,this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle);const n=this._pInst.color(255,0).toString();this.drawingContext.strokeStyle=n;const s=this._cachedBlendMode;this.blendMode(Ln),this._cachedBlendMode=s,this.clipPath=new Path2D,this._clipInvert&&(this.clipPath.moveTo(-2*this.width,-2*this.height),this.clipPath.lineTo(-2*this.width,2*this.height),this.clipPath.lineTo(2*this.width,2*this.height),this.clipPath.lineTo(2*this.width,-2*this.height),this.clipPath.closePath())}endClip(){this.drawingContext.clip(this.clipPath),this.clipPath=null,super.endClip(),this.drawingContext.fillStyle=this.states._cachedFillStyle,this.drawingContext.strokeStyle=this.states._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}image(t,r,n,s,a,o,l,d,p){let g;t.gifProperties&&t._animateGif(this._pInst);try{t instanceof oh&&t._ensureCanvas(),this.states.tint&&t.canvas&&(g=this._getTintedImageCanvas(t)),g||(g=t.canvas||t.elt);let y=1;t.width&&t.width>0&&(y=g.width/t.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(g,y*r,y*n,y*s,y*a,o,l,d,p),this._isErasing&&this._pInst.erase()}catch(y){if(y.name!=="NS_ERROR_NOT_AVAILABLE")throw y}}_getTintedImageCanvas(t){if(!t.canvas)return t;t.tintCanvas||(t.tintCanvas=document.createElement("canvas")),t.tintCanvas.width!==t.canvas.width&&(t.tintCanvas.width=t.canvas.width),t.tintCanvas.height!==t.canvas.height&&(t.tintCanvas.height=t.canvas.height);const r=t.tintCanvas.getContext("2d");return r.save(),r.clearRect(0,0,t.canvas.width,t.canvas.height),this.states.tint[0]<255||this.states.tint[1]<255||this.states.tint[2]<255?(r.drawImage(t.canvas,0,0),r.globalCompositeOperation="luminosity",r.drawImage(t.canvas,0,0),r.globalCompositeOperation="color",r.drawImage(t.canvas,0,0),r.globalCompositeOperation="multiply",r.fillStyle=`rgb(${this.states.tint.slice(0,3).join(", ")})`,r.fillRect(0,0,t.canvas.width,t.canvas.height),r.globalCompositeOperation="destination-in",r.globalAlpha=this.states.tint[3]/255,r.drawImage(t.canvas,0,0)):(r.globalAlpha=this.states.tint[3]/255,r.drawImage(t.canvas,0,0)),r.restore(),t.tintCanvas}blendMode(t){if(t===Tp)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else if(t===Ln||t===Do||t===Ap||t===Dp||t===IA||t===Op||t===Np||t===Fp||t===Rp||t===Iv||t===Bv||t===Uv||t===Vv||t===jv||t===rh)this._cachedBlendMode=t,this.drawingContext.globalCompositeOperation=t;else throw new Error(`Mode ${t} not recognized.`)}blend(...t){const r=this.drawingContext.globalCompositeOperation,n=t[t.length-1],s=Array.prototype.slice.call(t,0,t.length-1);this.drawingContext.globalCompositeOperation=n,gr.prototype.copy.apply(this,s),this.drawingContext.globalCompositeOperation=r}_getPixel(t,r){let n,s;return n=this.drawingContext.getImageData(t,r,1,1).data,s=0,[n[s+0],n[s+1],n[s+2],n[s+3]]}loadPixels(){const t=this._pixelDensity,r=this.width*t,n=this.height*t,s=this.drawingContext.getImageData(0,0,r,n);this.imageData=s,this.pixels=s.data}set(t,r,n){if(t=Math.floor(t),r=Math.floor(r),n instanceof zi)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this.drawingContext.clearRect(t,r,n.width,n.height),this.drawingContext.drawImage(n.canvas,t,r),this.drawingContext.restore();else{let s=0,a=0,o=0,l=0,d=4*(r*this._pixelDensity*(this.width*this._pixelDensity)+t*this._pixelDensity);if(this.imageData||this.loadPixels(),typeof n=="number")d<this.pixels.length&&(s=n,a=n,o=n,l=255);else if(Array.isArray(n)){if(n.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");d<this.pixels.length&&(s=n[0],a=n[1],o=n[2],l=n[3])}else n instanceof gr.Color&&d<this.pixels.length&&([s,a,o,l]=n._getRGBA([255,255,255,255]));for(let p=0;p<this._pixelDensity;p++)for(let g=0;g<this._pixelDensity;g++)d=4*((r*this._pixelDensity+g)*this.width*this._pixelDensity+(t*this._pixelDensity+p)),this.pixels[d]=s,this.pixels[d+1]=a,this.pixels[d+2]=o,this.pixels[d+3]=l}}updatePixels(t,r,n,s){const a=this._pixelDensity;t===void 0&&r===void 0&&n===void 0&&s===void 0&&(t=0,r=0,n=this.width,s=this.height),t*=a,r*=a,n*=a,s*=a,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=this.imageData),this.drawingContext.putImageData(this.imageData,0,0,t,r,n,s)}arc(t,r,n,s,a,o,l){const d=this.clipPa||this.drawingContext,p=t+n/2,g=r+s/2,y=n/2,x=s/2,S=!(l===Rd||l===Ao||(o-a)%kn===0);return this.states.fillColor&&(this._clipping||d.beginPath(),d.ellipse(p,g,y,x,0,a,o),S&&d.lineTo(p,g),d.closePath(),this._clipping||d.fill()),this.states.strokeColor&&(this._clipping||d.beginPath(),d.ellipse(p,g,y,x,0,a,o),l===th&&S&&d.lineTo(p,g),(l===th||l===Rd)&&d.closePath(),this._clipping||d.stroke()),this}ellipse(t){const r=this.clipPath||this.drawingContext,n=!!this.states.fillColor,s=this.states.strokeColor,a=parseFloat(t[0]),o=parseFloat(t[1]),l=parseFloat(t[2]),d=parseFloat(t[3]);if(n&&!s){if(this._getFill()===Ki)return this}else if(!n&&s&&this._getStroke()===Ki)return this;const p=a+l/2,g=o+d/2,y=l/2,x=d/2;this._clipping||r.beginPath(),r.ellipse(p,g,y,x,0,0,2*Math.PI),r.closePath(),!this._clipping&&n&&r.fill(),!this._clipping&&s&&r.stroke()}line(t,r,n,s){const a=this.clipPath||this.drawingContext;if(this.states.strokeColor){if(this._getStroke()===Ki)return this}else return this;return this._clipping||a.beginPath(),a.moveTo(t,r),a.lineTo(n,s),a.stroke(),this}point(t,r){const n=this.clipPath||this.drawingContext;if(this.states.strokeColor){if(this._getStroke()===Ki)return this}else return this;const s=this._getStroke(),a=this._getFill();this._clipping||this._setFill(s),this._clipping||n.beginPath(),n.arc(t,r,n.lineWidth/2,0,kn,!1),this._clipping||(n.fill(),this._setFill(a))}quad(t,r,n,s,a,o,l,d){const p=this.clipPath||this.drawingContext,g=!!this.states.fillColor,y=this.states.strokeColor;if(g&&!y){if(this._getFill()===Ki)return this}else if(!g&&y&&this._getStroke()===Ki)return this;return this._clipping||p.beginPath(),p.moveTo(t,r),p.lineTo(n,s),p.lineTo(a,o),p.lineTo(l,d),p.closePath(),!this._clipping&&g&&p.fill(),!this._clipping&&y&&p.stroke(),this}rect(t){const r=t[0],n=t[1],s=t[2],a=t[3];let o=t[4],l=t[5],d=t[6],p=t[7];const g=this.clipPath||this.drawingContext,y=!!this.states.fillColor,x=this.states.strokeColor;if(y&&!x){if(this._getFill()===Ki)return this}else if(!y&&x&&this._getStroke()===Ki)return this;if(this._clipping||g.beginPath(),typeof o>"u")g.rect(r,n,s,a);else{typeof l>"u"&&(l=o),typeof d>"u"&&(d=l),typeof p>"u"&&(p=d);const S=Math.abs(s),_=Math.abs(a),w=S/2,A=_/2;S<2*o&&(o=w),_<2*o&&(o=A),S<2*l&&(l=w),_<2*l&&(l=A),S<2*d&&(d=w),_<2*d&&(d=A),S<2*p&&(p=w),_<2*p&&(p=A),g.roundRect(r,n,s,a,[o,l,d,p])}return!this._clipping&&this.states.fillColor&&g.fill(),!this._clipping&&this.states.strokeColor&&g.stroke(),this}triangle(t){const r=this.clipPath||this.drawingContext,n=!!this.states.fillColor,s=this.states.strokeColor,a=t[0],o=t[1],l=t[2],d=t[3],p=t[4],g=t[5];if(n&&!s){if(this._getFill()===Ki)return this}else if(!n&&s&&this._getStroke()===Ki)return this;this._clipping||r.beginPath(),r.moveTo(a,o),r.lineTo(l,d),r.lineTo(p,g),r.closePath(),!this._clipping&&n&&r.fill(),!this._clipping&&s&&r.stroke()}strokeCap(t){return(t===Ra||t===kv||t===Mv)&&(this.drawingContext.lineCap=t),this}strokeJoin(t){return(t===Ra||t===Pv||t===Lv)&&(this.drawingContext.lineJoin=t),this}strokeWeight(t){return super.strokeWeight(t),typeof t>"u"||t===0?this.drawingContext.lineWidth=1e-4:this.drawingContext.lineWidth=t,this}_getFill(){return this.states._cachedFillStyle||this.states.setValue("_cachedFillStyle",this.drawingContext.fillStyle),this.states._cachedFillStyle}_setFill(t){t!==this.states._cachedFillStyle&&(this.drawingContext.fillStyle=t,this.states.setValue("_cachedFillStyle",t))}_getStroke(){return this.states._cachedStrokeStyle||this.states.setValue("_cachedStrokeStyle",this.drawingContext.strokeStyle),this.states._cachedStrokeStyle}_setStroke(t){t!==this.states._cachedStrokeStyle&&(this.drawingContext.strokeStyle=t,this.states.setValue("_cachedStrokeStyle",t))}applyMatrix(t,r,n,s,a,o){this.drawingContext.transform(t,r,n,s,a,o)}getWorldToScreenMatrix(){let t=new DOMMatrix().scale(1/this._pixelDensity).multiply(this.drawingContext.getTransform());return new qr(t.toFloat32Array())}resetMatrix(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pixelDensity,this._pixelDensity),this}rotate(t){this.drawingContext.rotate(t)}scale(t,r){return this.drawingContext.scale(t,r),this}translate(t,r){return t instanceof gr.Vector&&(r=t.y,t=t.x),this.drawingContext.translate(t,r),this}push(){return this.drawingContext.save(),super.push()}pop(t){this.drawingContext.restore(),super.pop(t)}}function fL(i,t){i.Renderer2D=Cm,i.renderers[Co]=Cm,i.renderers["p2d-hdr"]=new Proxy(Cm,{construct(r,[n,s,a,o,l]){return new r(n,s,a,o,l,{colorSpace:"display-p3"})}})}var Br,Lo,Gy,CT;let gr=(Br=class{constructor(t,r){_r(this,Lo);this.hitCriticalError=!1,this._setupDone=!1,this._userNode=r,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._events={pointerdown:null,pointerup:null,pointermove:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,wheel:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._updateWindowSize();const n=o=>{Object.defineProperty(window,o,{configurable:!0,enumerable:!0,get:()=>typeof this[o]=="function"?this[o].bind(this):this[o],set:l=>{Object.defineProperty(window,o,{configurable:!0,enumerable:!0,value:l,writable:!0}),Br.disableFriendlyErrors||console.log(`You just changed the value of "${o}", which was a p5 global value. This could cause problems later if you're not careful.`)}})};if(t)t(this),Br._checkForUserDefinedFunctions(this);else{if(this._isGlobal=!0,window.hitCriticalError)return;Br.instance=this;for(const l of Object.getOwnPropertyNames(Br.prototype))l[0]!=="_"&&n(l);const o=["constructor","length"];for(const l in this)if(this.hasOwnProperty(l)){if(l[0]==="_"||o.includes(l))continue;n(l)}}for(const o in this._events){const l=this[`_on${o}`];if(l){const d=l.bind(this);window.addEventListener(o,d,{passive:!1}),this._events[o]=d}}const s=()=>{this.focused=!0},a=()=>{this.focused=!1};window.addEventListener("focus",s),window.addEventListener("blur",a),Br.lifecycleHooks.remove.push(function(){window.removeEventListener("focus",s),window.removeEventListener("blur",a)}),document.readyState==="complete"?Zr(this,Lo,Gy).call(this):(this._startListener=Zr(this,Lo,Gy).bind(this),window.addEventListener("load",this._startListener,!1))}get pixels(){return this._renderer.pixels}get drawingContext(){return this._renderer.drawingContext}static registerAddon(t){const r={};t(Br,Br.prototype,r);const n=Object.keys(Br.lifecycleHooks);for(const s of n)typeof r[s]=="function"&&Br.lifecycleHooks[s].push(r[s])}async _draw(t){if(this.hitCriticalError)return;const r=t||window.performance.now(),n=r-this._lastTargetFrameTime,s=1e3/this._targetFrameRate;(!this._loop||n>=s-5)&&(this.deltaTime=r-this._lastRealFrameTime,this._frameRate=1e3/this.deltaTime,await this.redraw(),this._lastTargetFrameTime=Math.max(this._lastTargetFrameTime+s,r),this._lastRealFrameTime=r,typeof this._updateMouseCoords<"u"&&(this._updateMouseCoords(),this.movedX=0,this.movedY=0)),this._loop&&(this._requestAnimId=window.requestAnimationFrame(this._draw.bind(this)))}async remove(){if(this._startListener&&window.removeEventListener("load",this._startListener,!1),this._curElement){this._loop=!1,this._requestAnimId&&window.cancelAnimationFrame(this._requestAnimId);for(const t in this._events)window.removeEventListener(t,this._events[t]);for(const t of this._elements){t.elt&&t.elt.parentNode&&t.elt.parentNode.removeChild(t.elt);for(const r in t._events)t.elt.removeEventListener(r,t._events[r])}await this._runLifecycleHook("remove")}if(this._isGlobal){for(const t in Br.prototype)try{delete window[t]}catch{window[t]=void 0}for(const t in this)if(this.hasOwnProperty(t))try{delete window[t]}catch{window[t]=void 0}Br.instance=null}}async _runLifecycleHook(t){for(const r of Br.lifecycleHooks[t])await r.call(this)}_initializeInstanceVariables(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._downKeys={},this._downKeyCodes={}}},Lo=new WeakSet,Gy=async function(){this.hitCriticalError||(this._userNode&&typeof this._userNode=="string"&&(this._userNode=document.getElementById(this._userNode)),await Zr(this,Lo,CT).call(this),!this.hitCriticalError&&(this._recording||this._draw()))},CT=async function(){if(await this._runLifecycleHook("presetup"),this.hitCriticalError)return;this.createCanvas(100,100,Co),this._millisStart=window.performance.now();const t=this._isGlobal?window:this;if(typeof t.setup=="function"&&await t.setup(),this.hitCriticalError)return;const r=document.getElementsByTagName("canvas");if(Object.keys(this._events).some(n=>n.startsWith("pointer")))for(const n of r)n.style.touchAction="none";for(const n of r)n.dataset.hidden==="true"&&(n.style.visibility="",delete n.dataset.hidden);this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),this._setupDone=!0,(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),await this._runLifecycleHook("postsetup")},tr(Br,"VERSION",DA),tr(Br,"instance",null),tr(Br,"lifecycleHooks",{presetup:[],postsetup:[],predraw:[],postdraw:[],remove:[]}),tr(Br,"_checkForUserDefinedFunctions",()=>{}),tr(Br,"_friendlyFileLoadError",()=>{}),Br);for(const i in To)gr.prototype[i]=To[i];gr.disableFriendlyErrors=!1;gr.registerAddon(Wv);gr.registerAddon(YA);gr.registerAddon(ZA);gr.registerAddon(ET);gr.registerAddon(gP);gr.registerAddon(fL);gr.registerAddon(cL);function dL(i){i.registerAddon(e1),i.registerAddon(t1),i.registerAddon(r1),i.registerAddon(n1),i.registerAddon(Kv)}function AT(i,t){const r="_Description",n="_fallbackDesc",s="_fallbackTable",a="_fte_",o="_Label",l="_labelDesc",d="_labelTable",p="_lte_";t.describe=function(x,S){if(typeof x!="string")return;const _=this.canvas.id;x=g(x),this.dummyDOM||(this.dummyDOM=document.getElementById(_).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==x&&(this.descriptions.fallback.innerHTML=x):this._describeHTML("fallback",x),S===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==x&&(this.descriptions.label.innerHTML=x):this._describeHTML("label",x))},t.describeElement=function(x,S,_){if(typeof S!="string"||typeof x!="string")return;const w=this.canvas.id;S=g(S);let A=y(x);x=x.replace(/[^a-zA-Z0-9]/g,"");let P=`<th scope="row">${A}</th><td>${S}</td>`;this.dummyDOM||(this.dummyDOM=document.getElementById(w).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[x]?this.descriptions.fallbackElements[x].innerHTML!==P&&(this.descriptions.fallbackElements[x].innerHTML=P):this._describeElementHTML("fallback",x,P),_===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[x]?this.descriptions.labelElements[x].innerHTML!==P&&(this.descriptions.labelElements[x].innerHTML=P):this._describeElementHTML("label",x,P))};function g(x){if(x==="label"||x==="fallback")throw new Error("description should not be LABEL or FALLBACK");return!x.endsWith(".")&&!x.endsWith(";")&&!x.endsWith(",")&&!x.endsWith("?")&&!x.endsWith("!")&&(x=x+"."),x}t._describeHTML=function(x,S){const _=this.canvas.id;if(x==="fallback"){if(this.dummyDOM.querySelector(`#${_+r}`))this.dummyDOM.querySelector("#"+_+s).insertAdjacentHTML("beforebegin",`<p id="${_+n}"></p>`);else{let w=`<div id="${_}${r}" role="region" aria-label="Canvas Description"><p id="${_}${n}"></p></div>`;this.dummyDOM.querySelector(`#${_}accessibleOutput`)?this.dummyDOM.querySelector(`#${_}accessibleOutput`).insertAdjacentHTML("beforebegin",w):this.dummyDOM.querySelector(`#${_}`).innerHTML=w}this.descriptions.fallback=this.dummyDOM.querySelector(`#${_}${n}`),this.descriptions.fallback.innerHTML=S;return}else if(x==="label"){if(this.dummyDOM.querySelector(`#${_+o}`))this.dummyDOM.querySelector(`#${_+d}`)&&this.dummyDOM.querySelector(`#${_+d}`).insertAdjacentHTML("beforebegin",`<p id="${_}${l}"></p>`);else{let w=`<div id="${_}${o}" class="p5Label"><p id="${_}${l}"></p></div>`;this.dummyDOM.querySelector(`#${_}accessibleOutputLabel`)?this.dummyDOM.querySelector(`#${_}accessibleOutputLabel`).insertAdjacentHTML("beforebegin",w):this.dummyDOM.querySelector("#"+_).insertAdjacentHTML("afterend",w)}this.descriptions.label=this.dummyDOM.querySelector("#"+_+l),this.descriptions.label.innerHTML=S;return}};function y(x){if(x==="label"||x==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return x.endsWith(".")||x.endsWith(";")||x.endsWith(",")?x=x.replace(/.$/,":"):x.endsWith(":")||(x=x+":"),x}t._describeElementHTML=function(x,S,_){const w=this.canvas.id;if(x==="fallback"){if(this.dummyDOM.querySelector(`#${w+r}`))this.dummyDOM.querySelector("#"+w+s)||this.dummyDOM.querySelector("#"+w+n).insertAdjacentHTML("afterend",`<table id="${w}${s}"><caption>Canvas elements and their descriptions</caption></table>`);else{let P=`<div id="${w}${r}" role="region" aria-label="Canvas Description"><table id="${w}${s}"><caption>Canvas elements and their descriptions</caption></table></div>`;this.dummyDOM.querySelector(`#${w}accessibleOutput`)?this.dummyDOM.querySelector(`#${w}accessibleOutput`).insertAdjacentHTML("beforebegin",P):this.dummyDOM.querySelector("#"+w).innerHTML=P}let A=document.createElement("tr");A.id=w+a+S,this.dummyDOM.querySelector("#"+w+s).appendChild(A),this.descriptions.fallbackElements[S]=this.dummyDOM.querySelector(`#${w}${a}${S}`),this.descriptions.fallbackElements[S].innerHTML=_;return}else if(x==="label"){if(this.dummyDOM.querySelector(`#${w+o}`))this.dummyDOM.querySelector(`#${w+d}`)||this.dummyDOM.querySelector("#"+w+l).insertAdjacentHTML("afterend",`<table id="${w+d}"></table>`);else{let P=`<div id="${w}${o}" class="p5Label"><table id="${w}${d}"></table></div>`;this.dummyDOM.querySelector(`#${w}accessibleOutputLabel`)?this.dummyDOM.querySelector(`#${w}accessibleOutputLabel`).insertAdjacentHTML("beforebegin",P):this.dummyDOM.querySelector("#"+w).insertAdjacentHTML("afterend",P)}let A=document.createElement("tr");A.id=w+p+S,this.dummyDOM.querySelector("#"+w+d).appendChild(A),this.descriptions.labelElements[S]=this.dummyDOM.querySelector(`#${w}${p}${S}`),this.descriptions.labelElements[S].innerHTML=_}}}typeof p5<"u"&&AT(p5,p5.prototype);function DT(i,t){t._updateGridOutput=function(a){if(!this.dummyDOM.querySelector(`#${a}_summary`))return;let o=this._accessibleOutputs[a],l=s(a,this.ingredients.shapes),d=n(l.numShapes,this.ingredients.colors.background,this.width,this.height),p=r(a,this.ingredients.shapes);d!==o.summary.innerHTML&&(o.summary.innerHTML=d),p!==o.map.innerHTML&&(o.map.innerHTML=p),l.details!==o.shapeDetails.innerHTML&&(o.shapeDetails.innerHTML=l.details),this._accessibleOutputs[a]=o};function r(a,o){let l=0,d="",p=Array.from(Array(10),()=>Array(10));for(let g in o)for(let y in o[g]){let x;g!=="line"?x=`<a href="#${a}shape${l}">${o[g][y].color} ${g}</a>`:x=`<a href="#${a}shape${l}">${o[g][y].color} ${g} midpoint</a>`,o[g][y].loc.locY<p.length&&o[g][y].loc.locX<p[o[g][y].loc.locY].length&&(p[o[g][y].loc.locY][o[g][y].loc.locX]?p[o[g][y].loc.locY][o[g][y].loc.locX]=p[o[g][y].loc.locY][o[g][y].loc.locX]+"  "+x:p[o[g][y].loc.locY][o[g][y].loc.locX]=x,l++)}for(let g in p){let y="<tr>";for(let x in p[g])y=y+"<td>",p[g][x]!==void 0&&(y=y+p[g][x]),y=y+"</td>";d=d+y+"</tr>"}return d}function n(a,o,l,d){let p=`${o} canvas, ${l} by ${d} pixels, contains ${a[0]}`;return a[0]===1?p=`${p} shape: ${a[1]}`:p=`${p} shapes: ${a[1]}`,p}function s(a,o){let l="",d="",p=0;for(let g in o){let y=0;for(let x in o[g]){let S=`<li id="${a}shape${p}">${o[g][x].color} ${g},`;g==="line"?S=S+` location = ${o[g][x].pos}, length = ${o[g][x].length} pixels`:(S=S+` location = ${o[g][x].pos}`,g!=="point"&&(S=S+`, area = ${o[g][x].area} %`),S=S+"</li>"),l=l+S,y++,p++}y>1?d=`${d} ${y} ${g}s`:d=`${d} ${y} ${g}`}return{numShapes:[p,d],details:l}}}typeof p5<"u"&&DT(p5,p5.prototype);function TT(i,t){t._updateTextOutput=function(a){if(!this.dummyDOM.querySelector(`#${a}_summary`))return;let o=this._accessibleOutputs[a],l=s(a,this.ingredients.shapes),d=r(l.numShapes,this.ingredients.colors.background,this.width,this.height),p=n(a,this.ingredients.shapes);d!==o.summary.innerHTML&&(o.summary.innerHTML=d),l.listShapes!==o.list.innerHTML&&(o.list.innerHTML=l.listShapes),p!==o.shapeDetails.innerHTML&&(o.shapeDetails.innerHTML=p),this._accessibleOutputs[a]=o};function r(a,o,l,d){let p=`Your output is a, ${l} by ${d} pixels, ${o} canvas containing the following`;return a===1?p=`${p} shape:`:p=`${p} ${a} shapes:`,p}function n(a,o){let l="",d=0;for(let p in o)for(let g in o[p]){let y=`<tr id="${a}shape${d}"><th>${o[p][g].color} ${p}</th>`;p==="line"?y=y+`<td>location = ${o[p][g].pos}</td><td>length = ${o[p][g].length} pixels</td></tr>`:(y=y+`<td>location = ${o[p][g].pos}</td>`,p!=="point"&&(y=y+`<td> area = ${o[p][g].area}%</td>`),y=y+"</tr>"),l=l+y,d++}return l}function s(a,o){let l="",d=0;for(let p in o)for(let g in o[p]){let y=`<li><a href="#${a}shape${d}">${o[p][g].color} ${p}</a>`;p==="line"?y=y+`, ${o[p][g].pos}, ${o[p][g].length} pixels long.</li>`:(y=y+`, at ${o[p][g].pos}`,p!=="point"&&(y=y+`, covering ${o[p][g].area}% of the canvas`),y=y+".</li>"),l=l+y,d++}return{numShapes:d,listShapes:l}}}typeof p5<"u"&&TT(p5,p5.prototype);function NT(i,t){t.textOutput=function(s){this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),s===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},t.gridOutput=function(s){this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),s===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},t._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},t._createOutput=function(s,a){let o=this.canvas.id;this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(o).parentNode);let l,d,p,g="";a==="Fallback"?(l=o+s,d=o+"accessibleOutput",this.dummyDOM.querySelector(`#${d}`)||(this.dummyDOM.querySelector(`#${o}_Description`)?this.dummyDOM.querySelector(`#${o}_Description`).insertAdjacentHTML("afterend",`<div id="${d}" role="region" aria-label="Canvas Outputs"></div>`):this.dummyDOM.querySelector(`#${o}`).innerHTML=`<div id="${d}" role="region" aria-label="Canvas Outputs"></div>`)):a==="Label"&&(g=a,l=o+s+a,d=o+"accessibleOutput"+a,this.dummyDOM.querySelector(`#${d}`)||(this.dummyDOM.querySelector(`#${o}_Label`)?this.dummyDOM.querySelector(`#${o}_Label`).insertAdjacentHTML("afterend",`<div id="${d}"></div>`):this.dummyDOM.querySelector(`#${o}`).insertAdjacentHTML("afterend",`<div id="${d}"></div>`))),this._accessibleOutputs[l]={},s==="textOutput"?(g=`#${o}gridOutput${g}`,p=`<div id="${l}">Text Output<div id="${l}Summary" aria-label="text output summary"><p id="${l}_summary"></p><ul id="${l}_list"></ul></div><table id="${l}_shapeDetails" summary="text output shape details"></table></div>`,this.dummyDOM.querySelector(g)?this.dummyDOM.querySelector(g).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector(`#${d}`).innerHTML=p,this._accessibleOutputs[l].list=this.dummyDOM.querySelector(`#${l}_list`)):s==="gridOutput"&&(g=`#${o}textOutput${g}`,p=`<div id="${l}">Grid Output<p id="${l}_summary" aria-label="grid output summary"><table id="${l}_map" summary="grid output content"></table><ul id="${l}_shapeDetails" aria-label="grid output shape details"></ul></div>`,this.dummyDOM.querySelector(g)?this.dummyDOM.querySelector(g).insertAdjacentHTML("afterend",p):this.dummyDOM.querySelector(`#${d}`).innerHTML=p,this._accessibleOutputs[l].map=this.dummyDOM.querySelector(`#${l}_map`)),this._accessibleOutputs[l].shapeDetails=this.dummyDOM.querySelector(`#${l}_shapeDetails`),this._accessibleOutputs[l].summary=this.dummyDOM.querySelector(`#${l}_summary`)},t._updateAccsOutput=function(){let s=this.canvas.id;(JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes||this.ingredients.colors.background!==this.ingredients.pBackground)&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(s+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(s+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(s+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(s+"gridOutputLabel"))},t._accsBackground=function(s){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==s&&(this.ingredients.colors.backgroundRGBA=s,this.ingredients.colors.background=this._rgbColorName(s))},t._accsCanvasColors=function(s,a){s==="fill"?this.ingredients.colors.fillRGBA!==a&&(this.ingredients.colors.fillRGBA=a,this.ingredients.colors.fill=this._rgbColorName(a)):s==="stroke"&&this.ingredients.colors.strokeRGBA!==a&&(this.ingredients.colors.strokeRGBA=a,this.ingredients.colors.stroke=this._rgbColorName(a))},t._accsOutput=function(s,a){s==="ellipse"&&a[2]===a[3]?s="circle":s==="rectangle"&&a[2]===a[3]&&(s="square");let o={},l=!0,d=r(s,a);if(s==="line"){o.color=this.ingredients.colors.stroke,o.length=Math.round(Math.hypot(a[2]-a[0],a[3]-a[1]));let p=this._getPos(a[0],[1]),g=this._getPos(a[2],[3]);o.loc=n(d,this.width,this.height),p===g?o.pos=`at ${p}`:o.pos=`from ${p} to ${g}`}else s==="point"?o.color=this.ingredients.colors.stroke:(o.color=this.ingredients.colors.fill,o.area=this._getArea(s,a)),o.pos=this._getPos(...d),o.loc=n(d,this.width,this.height);if(!this.ingredients.shapes[s])this.ingredients.shapes[s]=[o];else if(this.ingredients.shapes[s]!==[o]){for(let p in this.ingredients.shapes[s])JSON.stringify(this.ingredients.shapes[s][p])===JSON.stringify(o)&&(l=!1);l===!0&&this.ingredients.shapes[s].push(o)}};function r(s,a){let o,l;return s==="rectangle"||s==="ellipse"||s==="arc"||s==="circle"||s==="square"?(o=Math.round(a[0]+a[2]/2),l=Math.round(a[1]+a[3]/2)):s==="triangle"?(o=(a[0]+a[2]+a[4])/3,l=(a[1]+a[3]+a[5])/3):s==="quadrilateral"?(o=(a[0]+a[2]+a[4]+a[6])/4,l=(a[1]+a[3]+a[5]+a[7])/4):s==="line"?(o=(a[0]+a[2])/2,l=(a[1]+a[3])/2):(o=a[0],l=a[1]),[o,l]}t._getPos=function(s,a){const{x:o,y:l}=this.worldToScreen(new i.Vector(s,a)),d=this.width,p=this.height;return o<.4*d?l<.4*p?"top left":l>.6*p?"bottom left":"mid left":o>.6*d?l<.4*p?"top right":l>.6*p?"bottom right":"mid right":l<.4*p?"top middle":l>.6*p?"bottom middle":"middle"};function n(s,a,o){let p=Math.floor(s[0]/a*10),g=Math.floor(s[1]/o*10);return p===10&&(p=p-1),g===10&&(g=g-1),{locX:p,locY:g}}t._getArea=function(s,a){let o=0;if(s==="arc"){const w=((a[5]-a[4])%(Math.PI*2)+Math.PI*2)%(Math.PI*2);if(o=w*a[2]*a[3]/8,a[6]==="open"||a[6]==="chord"){const A=a[0],P=a[1],D=a[0]+a[2]/2*Math.cos(a[4]).toFixed(2),R=a[1]+a[3]/2*Math.sin(a[4]).toFixed(2),F=a[0]+a[2]/2*Math.cos(a[5]).toFixed(2),T=a[1]+a[3]/2*Math.sin(a[5]).toFixed(2),U=Math.abs(A*(R-T)+D*(T-P)+F*(P-R))/2;w>Math.PI?o=o+U:o=o-U}}else s==="ellipse"||s==="circle"?o=3.14*a[2]/2*a[3]/2:s==="line"||s==="point"?o=0:s==="quadrilateral"?o=Math.abs((a[6]+a[0])*(a[7]-a[1])+(a[0]+a[2])*(a[1]-a[3])+(a[2]+a[4])*(a[3]-a[5])+(a[4]+a[6])*(a[5]-a[7]))/2:s==="rectangle"||s==="square"?o=a[2]*a[3]:s==="triangle"&&(o=Math.abs(a[0]*(a[3]-a[5])+a[2]*(a[5]-a[1])+a[4]*(a[1]-a[3]))/2);const l=this.width*this._renderer._pixelDensity,d=this.height*this._renderer._pixelDensity,p=[new DOMPoint(0,0),new DOMPoint(l,0),new DOMPoint(l,d),new DOMPoint(0,d)],y=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),x=p.map(w=>w.matrixTransform(y)),S=Math.abs((x[3].x+x[0].x)*(x[3].y-x[0].y)+(x[0].x+x[1].x)*(x[0].y-x[1].y)+(x[1].x+x[2].x)*(x[1].y-x[2].y)+(x[2].x+x[3].x)*(x[2].y-x[3].y))/2;return Math.round(o*100/S)}}typeof p5<"u"&&NT(p5,p5.prototype);gr.ColorConversion={_hsbaToHSLA(i){const t=i[0];let r=i[1];const n=i[2],s=(2-r)*n/2;return s!==0&&(s===1?r=0:s<.5?r=r/(2-r):r=r*n/(2-s*2)),[t,r,s,i[3]]},_hsbaToRGBA(i){const t=i[0]*6,r=i[1],n=i[2];let s=[];if(r===0)s=[n,n,n,i[3]];else{const a=Math.floor(t),o=n*(1-r),l=n*(1-r*(t-a)),d=n*(1-r*(1+a-t));let p,g,y;a===1?(p=l,g=n,y=o):a===2?(p=o,g=n,y=d):a===3?(p=o,g=l,y=n):a===4?(p=d,g=o,y=n):a===5?(p=n,g=o,y=l):(p=n,g=d,y=o),s=[p,g,y,i[3]]}return s},_hslaToHSBA(i){const t=i[0];let r=i[1];const n=i[2];let s;return n<.5?s=(1+r)*n:s=n+r-n*r,r=2*(s-n)/s,[t,r,s,i[3]]},_hslaToRGBA(i){const t=i[0]*6,r=i[1],n=i[2];let s=[];if(r===0)s=[n,n,n,i[3]];else{let a;n<.5?a=(1+r)*n:a=n+r-n*r;const o=2*n-a,l=(d,p,g)=>(d<0?d+=6:d>=6&&(d-=6),d<1?p+(g-p)*d:d<3?g:d<4?p+(g-p)*(4-d):p);s=[l(t+2,o,a),l(t,o,a),l(t-2,o,a),i[3]]}return s},_rgbaToHSBA(i){const t=i[0],r=i[1],n=i[2],s=Math.max(t,r,n),a=s-Math.min(t,r,n);let o,l;return a===0?(o=0,l=0):(l=a/s,t===s?o=(r-n)/a:r===s?o=2+(n-t)/a:n===s&&(o=4+(t-r)/a),o<0?o+=6:o>=6&&(o-=6)),[o/6,l,s,i[3]]},_rgbaToHSLA(i){const t=i[0],r=i[1],n=i[2],s=Math.max(t,r,n),a=Math.min(t,r,n),o=s+a,l=s-a;let d,p;return l===0?(d=0,p=0):(o<1?p=l/o:p=l/(2-o),t===s?d=(r-n)/l:r===s?d=2+(n-t)/l:n===s&&(d=4+(t-r)/l),d<0?d+=6:d>=6&&(d-=6)),[d/6,p,o/2,i[3]]}};var pL=gr.ColorConversion;function OT(i,t){let r;const n=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],s=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];function a(o){let l;if(o[0]!==0){o[0]=Math.round(o[0]*100);let d=o[0].toString().split("");const p=d.length-1;d[p]=parseInt(d[p]),d[p]<2.5?d[p]=0:d[p]>=2.5&&d[p]<7.5&&(d[p]=5),d.length===2?(d[0]=parseInt(d[0]),d[p]>=7.5&&(d[p]=0,d[0]=d[0]+1),o[0]=d[0]*10+d[1]):d[p]>=7.5?o[0]=10:o[0]=d[p]}o[2]=o[2]/255;for(let d=o.length-1;d>=1;d--)o[d]<=.25?o[d]=0:o[d]>.25&&o[d]<.75?o[d]=.5:o[d]=1;if(o[0]===0&&o[1]===0&&o[2]===1){for(let d=2;d>=0;d--)r[d]=Math.round(r[d]*1e4)/1e4;for(let d=0;d<n.length;d++)if(n[d].h===r[0]&&n[d].s===r[1]&&n[d].b===r[2]){l=n[d].name;break}else l="white"}else for(let d=0;d<s.length;d++)if(s[d].h===o[0]&&s[d].s===o[1]&&s[d].b===o[2]){l=s[d].name;break}return l}t._rgbColorName=function(o){let l=pL._rgbaToHSBA(o);return r=l,a([l[0],l[1],l[2]])}}typeof p5<"u"&&OT(p5,p5.prototype);function gL(i){i.registerAddon(AT),i.registerAddon(DT),i.registerAddon(TT),i.registerAddon(NT),i.registerAddon(OT)}function mL(i){i.registerAddon(Zv),i.registerAddon(gD),i.registerAddon(i1)}function ji(i){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(i)}function yL(i,t){if(ji(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var n=r.call(i,t);if(ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function FT(i){var t=yL(i,"string");return ji(t)=="symbol"?t:t+""}function vL(i,t,r){return(t=FT(t))in i?Object.defineProperty(i,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[t]=r,i}function Nn(i){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&n.push.apply(n,Object.getOwnPropertySymbols(r).filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),n.forEach(function(s){vL(i,s,r[s])})}return i}function os(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function aw(i,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,FT(n.key),n)}}function us(i,t,r){return t&&aw(i.prototype,t),r&&aw(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}function ko(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function lh(i,t){if(t&&(ji(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ko(i)}function ol(i){return ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ol(i)}function Hy(i,t){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Hy(i,t)}function Ip(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),t&&Hy(i,t)}var bL={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,r){console&&console[t]&&console[t].apply(console,r)}},xL=function(){function i(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};os(this,i),this.init(t,r)}return us(i,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||bL,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,s,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(s).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new i(this.logger,Nn({},{prefix:"".concat(this.prefix,":").concat(r,":")},this.options))}}]),i}(),Is=new xL,Ua=function(){function i(){os(this,i),this.observers={}}return us(i,[{key:"on",value:function(r,n){var s=this;return r.split(" ").forEach(function(a){s.observers[a]=s.observers[a]||[],s.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(s){return s!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];if(this.observers[r]){var o=[].concat(this.observers[r]);o.forEach(function(d){d.apply(void 0,s)})}if(this.observers["*"]){var l=[].concat(this.observers["*"]);l.forEach(function(d){d.apply(d,[r].concat(s))})}}}]),i}();function Ac(){var i,t,r=new Promise(function(n,s){i=n,t=s});return r.resolve=i,r.reject=t,r}function ow(i){return i==null?"":""+i}function _L(i,t,r){i.forEach(function(n){t[n]&&(r[n]=t[n])})}function m1(i,t,r){function n(l){return l&&l.indexOf("###")>-1?l.replace(/###/g,"."):l}function s(){return!i||typeof i=="string"}for(var a=typeof t!="string"?[].concat(t):t.split(".");a.length>1;){if(s())return{};var o=n(a.shift());!i[o]&&r&&(i[o]=new r),Object.prototype.hasOwnProperty.call(i,o)?i=i[o]:i={}}return s()?{}:{obj:i,k:n(a.shift())}}function uw(i,t,r){var n=m1(i,t,Object),s=n.obj,a=n.k;s[a]=r}function SL(i,t,r,n){var s=m1(i,t,Object),a=s.obj,o=s.k;a[o]=a[o]||[],a[o].push(r)}function Hd(i,t){var r=m1(i,t),n=r.obj,s=r.k;if(n)return n[s]}function lw(i,t,r){var n=Hd(i,r);return n!==void 0?n:Hd(t,r)}function RT(i,t,r){for(var n in t)n!=="__proto__"&&n!=="constructor"&&(n in i?typeof i[n]=="string"||i[n]instanceof String||typeof t[n]=="string"||t[n]instanceof String?r&&(i[n]=t[n]):RT(i[n],t[n],r):i[n]=t[n]);return i}function Nu(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var wL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function EL(i){return typeof i=="string"?i.replace(/[&<>"'\/]/g,function(t){return wL[t]}):i}var Bp=typeof window<"u"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,CL=function(i){Ip(t,i);function t(r){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return os(this,t),n=lh(this,ol(t).call(this)),Bp&&Ua.call(ko(n)),n.data=r||{},n.options=s,n.options.keySeparator===void 0&&(n.options.keySeparator="."),n}return us(t,[{key:"addNamespaces",value:function(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}},{key:"removeNamespaces",value:function(n){var s=this.options.ns.indexOf(n);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(n,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,d=[n,s];return a&&typeof a!="string"&&(d=d.concat(a)),a&&typeof a=="string"&&(d=d.concat(l?a.split(l):a)),n.indexOf(".")>-1&&(d=n.split(".")),Hd(this.data,d)}},{key:"addResource",value:function(n,s,a,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},d=this.options.keySeparator;d===void 0&&(d=".");var p=[n,s];a&&(p=p.concat(d?a.split(d):a)),n.indexOf(".")>-1&&(p=n.split("."),o=s,s=p[1]),this.addNamespaces(s),uw(this.data,p,o),l.silent||this.emit("added",n,s,a,o)}},{key:"addResources",value:function(n,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in a)(typeof a[l]=="string"||Object.prototype.toString.apply(a[l])==="[object Array]")&&this.addResource(n,s,l,a[l],{silent:!0});o.silent||this.emit("added",n,s,a)}},{key:"addResourceBundle",value:function(n,s,a,o,l){var d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},p=[n,s];n.indexOf(".")>-1&&(p=n.split("."),o=a,a=s,s=p[1]),this.addNamespaces(s);var g=Hd(this.data,p)||{};o?RT(g,a,l):g=Nn({},g,a),uw(this.data,p,g),d.silent||this.emit("added",n,s,a)}},{key:"removeResourceBundle",value:function(n,s){this.hasResourceBundle(n,s)&&delete this.data[n][s],this.removeNamespaces(s),this.emit("removed",n,s)}},{key:"hasResourceBundle",value:function(n,s){return this.getResource(n,s)!==void 0}},{key:"getResourceBundle",value:function(n,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Nn({},{},this.getResource(n,s)):this.getResource(n,s)}},{key:"getDataByLanguage",value:function(n){return this.data[n]}},{key:"toJSON",value:function(){return this.data}}]),t}(Ua),MT={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,r,n,s,a){var o=this;return t.forEach(function(l){o.processors[l]&&(r=o.processors[l].process(r,n,s,a))}),r}},cw={},hw=function(i){Ip(t,i);function t(r){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return os(this,t),n=lh(this,ol(t).call(this)),Bp&&Ua.call(ko(n)),_L(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,ko(n)),n.options=s,n.options.keySeparator===void 0&&(n.options.keySeparator="."),n.logger=Is.create("translator"),n}return us(t,[{key:"changeLanguage",value:function(n){n&&(this.language=n)}},{key:"exists",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},a=this.resolve(n,s);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(n,s){var a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ns||this.options.defaultNS;if(a&&n.indexOf(a)>-1){var d=n.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:n,namespaces:l};var p=n.split(a);(a!==o||a===o&&this.options.ns.indexOf(p[0])>-1)&&(l=p.shift()),n=p.join(o)}return typeof l=="string"&&(l=[l]),{key:n,namespaces:l}}},{key:"translate",value:function(n,s,a){var o=this;if(ji(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),s||(s={}),n==null)return"";Array.isArray(n)||(n=[String(n)]);var l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,d=this.extractFromKey(n[n.length-1],s),p=d.key,g=d.namespaces,y=g[g.length-1],x=s.lng||this.language,S=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(x&&x.toLowerCase()==="cimode"){if(S){var _=s.nsSeparator||this.options.nsSeparator;return y+_+p}return p}var w=this.resolve(n,s),A=w&&w.res,P=w&&w.usedKey||p,D=w&&w.exactUsedKey||p,R=Object.prototype.toString.apply(A),F=["[object Number]","[object Function]","[object RegExp]"],T=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,U=!this.i18nFormat||this.i18nFormat.handleAsObject,k=typeof A!="string"&&typeof A!="boolean"&&typeof A!="number";if(U&&A&&k&&F.indexOf(R)<0&&!(typeof T=="string"&&R==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(P,A,s):"key '".concat(p," (").concat(this.language,")' returned an object instead of string.");if(l){var B=R==="[object Array]",L=B?[]:{},V=B?D:P;for(var H in A)if(Object.prototype.hasOwnProperty.call(A,H)){var z="".concat(V).concat(l).concat(H);L[H]=this.translate(z,Nn({},s,{joinArrays:!1,ns:g})),L[H]===z&&(L[H]=A[H])}A=L}}else if(U&&typeof T=="string"&&R==="[object Array]")A=A.join(T),A&&(A=this.extendTranslation(A,n,s,a));else{var G=!1,K=!1,le=s.count!==void 0&&typeof s.count!="string",ne=t.hasDefaultValue(s),de=le?this.pluralResolver.getSuffix(x,s.count):"",ve=s["defaultValue".concat(de)]||s.defaultValue;!this.isValidLookup(A)&&ne&&(G=!0,A=ve),this.isValidLookup(A)||(K=!0,A=p);var xe=ne&&ve!==A&&this.options.updateMissing;if(K||G||xe){if(this.logger.log(xe?"updateKey":"missingKey",x,y,p,xe?ve:A),l){var Q=this.resolve(p,Nn({},s,{keySeparator:!1}));Q&&Q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var oe=[],ae=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ae&&ae[0])for(var ge=0;ge<ae.length;ge++)oe.push(ae[ge]);else this.options.saveMissingTo==="all"?oe=this.languageUtils.toResolveHierarchy(s.lng||this.language):oe.push(s.lng||this.language);var me=function(Ce,$e,Ye){o.options.missingKeyHandler?o.options.missingKeyHandler(Ce,y,$e,xe?Ye:A,xe,s):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(Ce,y,$e,xe?Ye:A,xe,s),o.emit("missingKey",Ce,y,$e,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&le?oe.forEach(function(Ae){o.pluralResolver.getSuffixes(Ae).forEach(function(Ce){me([Ae],p+Ce,s["defaultValue".concat(Ce)]||ve)})}):me(oe,p,ve))}A=this.extendTranslation(A,n,s,w,a),K&&A===p&&this.options.appendNamespaceToMissingKey&&(A="".concat(y,":").concat(p)),K&&this.options.parseMissingKeyHandler&&(A=this.options.parseMissingKeyHandler(A))}return A}},{key:"extendTranslation",value:function(n,s,a,o,l){var d=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,a,o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(Nn({},a,{interpolation:Nn({},this.options.interpolation,a.interpolation)}));var p=a.interpolation&&a.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,g;if(p){var y=n.match(this.interpolator.nestingRegexp);g=y&&y.length}var x=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(x=Nn({},this.options.interpolation.defaultVariables,x)),n=this.interpolator.interpolate(n,x,a.lng||this.language,a),p){var S=n.match(this.interpolator.nestingRegexp),_=S&&S.length;g<_&&(a.nest=!1)}a.nest!==!1&&(n=this.interpolator.nest(n,function(){for(var P=arguments.length,D=new Array(P),R=0;R<P;R++)D[R]=arguments[R];return l&&l[0]===D[0]&&!a.context?(d.logger.warn("It seems you are nesting recursively key: ".concat(D[0]," in key: ").concat(s[0])),null):d.translate.apply(d,D.concat([s]))},a)),a.interpolation&&this.interpolator.reset()}var w=a.postProcess||this.options.postProcess,A=typeof w=="string"?[w]:w;return n!=null&&A&&A.length&&a.applyPostProcessor!==!1&&(n=MT.handle(A,n,s,this.options&&this.options.postProcessPassResolved?Nn({i18nResolved:o},a):a,this)),n}},{key:"resolve",value:function(n){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,l,d,p,g;return typeof n=="string"&&(n=[n]),n.forEach(function(y){if(!s.isValidLookup(o)){var x=s.extractFromKey(y,a),S=x.key;l=S;var _=x.namespaces;s.options.fallbackNS&&(_=_.concat(s.options.fallbackNS));var w=a.count!==void 0&&typeof a.count!="string",A=a.context!==void 0&&typeof a.context=="string"&&a.context!=="",P=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);_.forEach(function(D){s.isValidLookup(o)||(g=D,!cw["".concat(P[0],"-").concat(D)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(g)&&(cw["".concat(P[0],"-").concat(D)]=!0,s.logger.warn('key "'.concat(l,'" for languages "').concat(P.join(", "),`" won't get resolved as namespace "`).concat(g,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),P.forEach(function(R){if(!s.isValidLookup(o)){p=R;var F=S,T=[F];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(T,S,R,D,a);else{var U;w&&(U=s.pluralResolver.getSuffix(R,a.count)),w&&A&&T.push(F+U),A&&T.push(F+="".concat(s.options.contextSeparator).concat(a.context)),w&&T.push(F+=U)}for(var k;k=T.pop();)s.isValidLookup(o)||(d=k,o=s.getResource(R,D,k,a))}}))})}}),{res:o,usedKey:l,exactUsedKey:d,usedLng:p,usedNS:g}}},{key:"isValidLookup",value:function(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}},{key:"getResource",value:function(n,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(n,s,a,o):this.resourceStore.getResource(n,s,a,o)}}],[{key:"hasDefaultValue",value:function(n){var s="defaultValue";for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)&&s===a.substring(0,s.length)&&n[a]!==void 0)return!0;return!1}}]),t}(Ua);function Am(i){return i.charAt(0).toUpperCase()+i.slice(1)}var AL=function(){function i(t){os(this,i),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Is.create("languageUtils")}return us(i,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],s=r.split("-");return this.options.lowerCaseLng?s=s.map(function(a){return a.toLowerCase()}):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),n.indexOf(s[1].toLowerCase())>-1&&(s[1]=Am(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),n.indexOf(s[1].toLowerCase())>-1&&(s[1]=Am(s[1].toLowerCase())),n.indexOf(s[2].toLowerCase())>-1&&(s[2]=Am(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isWhitelisted",value:function(r){return this.logger.deprecate("languageUtils.isWhitelisted",`function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it's usage asap.`),this.isSupportedCode(r)}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var s;return r.forEach(function(a){if(!s){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(s=o)}}),!s&&this.options.supportedLngs&&r.forEach(function(a){if(!s){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return s=o;s=n.options.supportedLngs.find(function(l){if(l.indexOf(o)===0)return l})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var s=r[n];return s||(s=r[this.getScriptPartFromCode(n)]),s||(s=r[this.formatLanguageCode(n)]),s||(s=r[this.getLanguagePartFromCode(n)]),s||(s=r.default),s||[]}},{key:"toResolveHierarchy",value:function(r,n){var s=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),o=[],l=function(p){p&&(s.isSupportedCode(p)?o.push(p):s.logger.warn("rejecting language code not found in supportedLngs: ".concat(p)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(r))):typeof r=="string"&&l(this.formatLanguageCode(r)),a.forEach(function(d){o.indexOf(d)<0&&l(s.formatLanguageCode(d))}),o}}]),i}(),DL=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],TL={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};function NL(){var i={};return DL.forEach(function(t){t.lngs.forEach(function(r){i[r]={numbers:t.nr,plurals:TL[t.fc]}})}),i}var OL=function(){function i(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};os(this,i),this.languageUtils=t,this.options=r,this.logger=Is.create("pluralResolver"),this.rules=NL()}return us(i,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=this.getRule(r);return n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){return this.getSuffixes(r).map(function(s){return n+s})}},{key:"getSuffixes",value:function(r){var n=this,s=this.getRule(r);return s?s.numbers.map(function(a){return n.getSuffix(r,a)}):[]}},{key:"getSuffix",value:function(r,n){var s=this,a=this.getRule(r);if(a){var o=a.noAbs?a.plurals(n):a.plurals(Math.abs(n)),l=a.numbers[o];this.options.simplifyPluralSuffix&&a.numbers.length===2&&a.numbers[0]===1&&(l===2?l="plural":l===1&&(l=""));var d=function(){return s.options.prepend&&l.toString()?s.options.prepend+l.toString():l.toString()};return this.options.compatibilityJSON==="v1"?l===1?"":typeof l=="number"?"_plural_".concat(l.toString()):d():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&a.numbers.length===2&&a.numbers[0]===1?d():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}return this.logger.warn("no plural rule found for: ".concat(r)),""}}]),i}(),FL=function(){function i(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};os(this,i),this.logger=Is.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(r){return r},this.init(t)}return us(i,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:EL,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Nu(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Nu(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Nu(n.nestingPrefix):n.nestingPrefixEscaped||Nu("$t("),this.nestingSuffix=n.nestingSuffix?Nu(n.nestingSuffix):n.nestingSuffixEscaped||Nu(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var s="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(s,"g")}},{key:"interpolate",value:function(r,n,s,a){var o=this,l,d,p,g=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function y(A){return A.replace(/\$/g,"$$$$")}var x=function(P){if(P.indexOf(o.formatSeparator)<0){var D=lw(n,g,P);return o.alwaysFormat?o.format(D,void 0,s):D}var R=P.split(o.formatSeparator),F=R.shift().trim(),T=R.join(o.formatSeparator).trim();return o.format(lw(n,g,F),T,s,a)};this.resetRegExp();var S=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,_=a&&a.interpolation&&a.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,w=[{regex:this.regexpUnescape,safeValue:function(P){return y(P)}},{regex:this.regexp,safeValue:function(P){return o.escapeValue?y(o.escape(P)):y(P)}}];return w.forEach(function(A){for(p=0;l=A.regex.exec(r);){if(d=x(l[1].trim()),d===void 0)if(typeof S=="function"){var P=S(r,l,a);d=typeof P=="string"?P:""}else if(_){d=l[0];continue}else o.logger.warn("missed to pass in variable ".concat(l[1]," for interpolating ").concat(r)),d="";else typeof d!="string"&&!o.useRawValueToEscape&&(d=ow(d));if(r=r.replace(l[0],A.safeValue(d)),A.regex.lastIndex=0,p++,p>=o.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var s=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,l,d=Nn({},a);d.applyPostProcessor=!1,delete d.defaultValue;function p(S,_){var w=this.nestingOptionsSeparator;if(S.indexOf(w)<0)return S;var A=S.split(new RegExp("".concat(w,"[ ]*{"))),P="{".concat(A[1]);S=A[0],P=this.interpolate(P,d),P=P.replace(/'/g,'"');try{d=JSON.parse(P),_&&(d=Nn({},_,d))}catch(D){return this.logger.warn("failed parsing options string in nesting for key ".concat(S),D),"".concat(S).concat(w).concat(P)}return delete d.defaultValue,S}for(;o=this.nestingRegexp.exec(r);){var g=[],y=!1;if(o[0].includes(this.formatSeparator)&&!/{.*}/.test(o[1])){var x=o[1].split(this.formatSeparator).map(function(S){return S.trim()});o[1]=x.shift(),g=x,y=!0}if(l=n(p.call(this,o[1].trim(),d),d),l&&o[0]===r&&typeof l!="string")return l;typeof l!="string"&&(l=ow(l)),l||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(r)),l=""),y&&(l=g.reduce(function(S,_){return s.format(S,_,a.lng,a)},l.trim())),r=r.replace(o[0],l),this.regexp.lastIndex=0}return r}}]),i}();function RL(i,t){for(var r=i.indexOf(t);r!==-1;)i.splice(r,1),r=i.indexOf(t)}var ML=function(i){Ip(t,i);function t(r,n,s){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return os(this,t),a=lh(this,ol(t).call(this)),Bp&&Ua.call(ko(a)),a.backend=r,a.store=n,a.services=s,a.languageUtils=s.languageUtils,a.options=o,a.logger=Is.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(s,o.backend,o),a}return us(t,[{key:"queueLoad",value:function(n,s,a,o){var l=this,d=[],p=[],g=[],y=[];return n.forEach(function(x){var S=!0;s.forEach(function(_){var w="".concat(x,"|").concat(_);!a.reload&&l.store.hasResourceBundle(x,_)?l.state[w]=2:l.state[w]<0||(l.state[w]===1?p.indexOf(w)<0&&p.push(w):(l.state[w]=1,S=!1,p.indexOf(w)<0&&p.push(w),d.indexOf(w)<0&&d.push(w),y.indexOf(_)<0&&y.push(_)))}),S||g.push(x)}),(d.length||p.length)&&this.queue.push({pending:p,loaded:{},errors:[],callback:o}),{toLoad:d,pending:p,toLoadLanguages:g,toLoadNamespaces:y}}},{key:"loaded",value:function(n,s,a){var o=n.split("|"),l=o[0],d=o[1];s&&this.emit("failedLoading",l,d,s),a&&this.store.addResourceBundle(l,d,a),this.state[n]=s?-1:2;var p={};this.queue.forEach(function(g){SL(g.loaded,[l],d),RL(g.pending,n),s&&g.errors.push(s),g.pending.length===0&&!g.done&&(Object.keys(g.loaded).forEach(function(y){p[y]||(p[y]=[]),g.loaded[y].length&&g.loaded[y].forEach(function(x){p[y].indexOf(x)<0&&p[y].push(x)})}),g.done=!0,g.errors.length?g.callback(g.errors):g.callback())}),this.emit("loaded",p),this.queue=this.queue.filter(function(g){return!g.done})}},{key:"read",value:function(n,s,a){var o=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:350,p=arguments.length>5?arguments[5]:void 0;return n.length?this.backend[a](n,s,function(g,y){if(g&&y&&l<5){setTimeout(function(){o.read.call(o,n,s,a,l+1,d*2,p)},d);return}p(g,y)}):p(null,{})}},{key:"prepareLoading",value:function(n,s){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof n=="string"&&(n=this.languageUtils.toResolveHierarchy(n)),typeof s=="string"&&(s=[s]);var d=this.queueLoad(n,s,o,l);if(!d.toLoad.length)return d.pending.length||l(),null;d.toLoad.forEach(function(p){a.loadOne(p)})}},{key:"load",value:function(n,s,a){this.prepareLoading(n,s,{},a)}},{key:"reload",value:function(n,s,a){this.prepareLoading(n,s,{reload:!0},a)}},{key:"loadOne",value:function(n){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=n.split("|"),l=o[0],d=o[1];this.read(l,d,"read",void 0,void 0,function(p,g){p&&s.logger.warn("".concat(a,"loading namespace ").concat(d," for language ").concat(l," failed"),p),!p&&g&&s.logger.log("".concat(a,"loaded namespace ").concat(d," for language ").concat(l),g),s.loaded(n,p,g)})}},{key:"saveMissing",value:function(n,s,a,o,l){var d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}a==null||a===""||(this.backend&&this.backend.create&&this.backend.create(n,s,a,o,null,Nn({},d,{isUpdate:l})),!(!n||!n[0])&&this.store.addResource(n[0],s,a,o))}}]),t}(Ua);function kL(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var r={};if(ji(t[1])==="object"&&(r=t[1]),typeof t[1]=="string"&&(r.defaultValue=t[1]),typeof t[2]=="string"&&(r.tDescription=t[2]),ji(t[2])==="object"||ji(t[3])==="object"){var n=t[3]||t[2];Object.keys(n).forEach(function(s){r[s]=n[s]})}return r},interpolation:{escapeValue:!0,format:function(t,r,n,s){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function fw(i){return typeof i.ns=="string"&&(i.ns=[i.ns]),typeof i.fallbackLng=="string"&&(i.fallbackLng=[i.fallbackLng]),typeof i.fallbackNS=="string"&&(i.fallbackNS=[i.fallbackNS]),i.whitelist&&(i.whitelist&&i.whitelist.indexOf("cimode")<0&&(i.whitelist=i.whitelist.concat(["cimode"])),i.supportedLngs=i.whitelist),i.nonExplicitWhitelist&&(i.nonExplicitSupportedLngs=i.nonExplicitWhitelist),i.supportedLngs&&i.supportedLngs.indexOf("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),i}function td(){}var PL=function(i){Ip(t,i);function t(){var r,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(os(this,t),r=lh(this,ol(t).call(this)),Bp&&Ua.call(ko(r)),r.options=fw(n),r.services={},r.logger=Is,r.modules={external:[]},s&&!r.isInitialized&&!n.isClone){if(!r.options.initImmediate)return r.init(n,s),lh(r,ko(r));setTimeout(function(){r.init(n,s)},0)}return r}return us(t,[{key:"init",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(a=s,s={}),s.whitelist&&!s.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),s.nonExplicitWhitelist&&!s.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=Nn({},kL(),this.options,fw(s)),this.format=this.options.interpolation.format,a||(a=td);function o(_){return _?typeof _=="function"?new _:_:null}if(!this.options.isClone){this.modules.logger?Is.init(o(this.modules.logger),this.options):Is.init(null,this.options);var l=new AL(this.options);this.store=new CL(this.options.resources,this.options);var d=this.services;d.logger=Is,d.resourceStore=this.store,d.languageUtils=l,d.pluralResolver=new OL(l,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d.interpolator=new FL(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new ML(o(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(_){for(var w=arguments.length,A=new Array(w>1?w-1:0),P=1;P<w;P++)A[P-1]=arguments[P];n.emit.apply(n,[_].concat(A))}),this.modules.languageDetector&&(d.languageDetector=o(this.modules.languageDetector),d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=o(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new hw(this.services,this.options),this.translator.on("*",function(_){for(var w=arguments.length,A=new Array(w>1?w-1:0),P=1;P<w;P++)A[P-1]=arguments[P];n.emit.apply(n,[_].concat(A))}),this.modules.external.forEach(function(_){_.init&&_.init(n)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var g=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];g.forEach(function(_){n[_]=function(){var w;return(w=n.store)[_].apply(w,arguments)}});var y=["addResource","addResources","addResourceBundle","removeResourceBundle"];y.forEach(function(_){n[_]=function(){var w;return(w=n.store)[_].apply(w,arguments),n}});var x=Ac(),S=function(){var w=function(P,D){n.isInitialized&&n.logger.warn("init: i18next is already initialized. You should call init just once!"),n.isInitialized=!0,n.options.isClone||n.logger.log("initialized",n.options),n.emit("initialized",n.options),x.resolve(D),a(P,D)};if(n.languages&&n.options.compatibilityAPI!=="v1"&&!n.isInitialized)return w(null,n.t.bind(n));n.changeLanguage(n.options.lng,w)};return this.options.resources||!this.options.initImmediate?S():setTimeout(S,0),x}},{key:"loadResources",value:function(n){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:td,o=a,l=typeof n=="string"?n:this.language;if(typeof n=="function"&&(o=n),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return o();var d=[],p=function(x){if(x){var S=s.services.languageUtils.toResolveHierarchy(x);S.forEach(function(_){d.indexOf(_)<0&&d.push(_)})}};if(l)p(l);else{var g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.forEach(function(y){return p(y)})}this.options.preload&&this.options.preload.forEach(function(y){return p(y)}),this.services.backendConnector.load(d,this.options.ns,o)}else o(null)}},{key:"reloadResources",value:function(n,s,a){var o=Ac();return n||(n=this.languages),s||(s=this.options.ns),a||(a=td),this.services.backendConnector.reload(n,s,function(l){o.resolve(),a(l)}),o}},{key:"use",value:function(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&MT.addPostProcessor(n),n.type==="3rdParty"&&this.modules.external.push(n),this}},{key:"changeLanguage",value:function(n,s){var a=this;this.isLanguageChangingTo=n;var o=Ac();this.emit("languageChanging",n);var l=function(g,y){y?(a.language=y,a.languages=a.services.languageUtils.toResolveHierarchy(y),a.translator.changeLanguage(y),a.isLanguageChangingTo=void 0,a.emit("languageChanged",y),a.logger.log("languageChanged",y)):a.isLanguageChangingTo=void 0,o.resolve(function(){return a.t.apply(a,arguments)}),s&&s(g,function(){return a.t.apply(a,arguments)})},d=function(g){var y=typeof g=="string"?g:a.services.languageUtils.getBestMatchFromCodes(g);y&&(a.language||(a.language=y,a.languages=a.services.languageUtils.toResolveHierarchy(y)),a.translator.language||a.translator.changeLanguage(y),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage(y)),a.loadResources(y,function(x){l(x,y)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(d):d(n),o}},{key:"getFixedT",value:function(n,s){var a=this,o=function l(d,p){var g;if(ji(p)!=="object"){for(var y=arguments.length,x=new Array(y>2?y-2:0),S=2;S<y;S++)x[S-2]=arguments[S];g=a.options.overloadTranslationOptionHandler([d,p].concat(x))}else g=Nn({},p);return g.lng=g.lng||l.lng,g.lngs=g.lngs||l.lngs,g.ns=g.ns||l.ns,a.t(d,g)};return typeof n=="string"?o.lng=n:o.lngs=n,o.ns=s,o}},{key:"t",value:function(){var n;return this.translator&&(n=this.translator).translate.apply(n,arguments)}},{key:"exists",value:function(){var n;return this.translator&&(n=this.translator).exists.apply(n,arguments)}},{key:"setDefaultNamespace",value:function(n){this.options.defaultNS=n}},{key:"hasLoadedNamespace",value:function(n){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.languages[0],l=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;var p=function(x,S){var _=s.services.backendConnector.state["".concat(x,"|").concat(S)];return _===-1||_===2};if(a.precheck){var g=a.precheck(this,p);if(g!==void 0)return g}return!!(this.hasResourceBundle(o,n)||!this.services.backendConnector.backend||p(o,n)&&(!l||p(d,n)))}},{key:"loadNamespaces",value:function(n,s){var a=this,o=Ac();return this.options.ns?(typeof n=="string"&&(n=[n]),n.forEach(function(l){a.options.ns.indexOf(l)<0&&a.options.ns.push(l)}),this.loadResources(function(l){o.resolve(),s&&s(l)}),o):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(n,s){var a=Ac();typeof n=="string"&&(n=[n]);var o=this.options.preload||[],l=n.filter(function(d){return o.indexOf(d)<0});return l.length?(this.options.preload=o.concat(l),this.loadResources(function(d){a.resolve(),s&&s(d)}),a):(s&&s(),Promise.resolve())}},{key:"dir",value:function(n){if(n||(n=this.languages&&this.languages.length>0?this.languages[0]:this.language),!n)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return s.indexOf(this.services.languageUtils.getLanguagePartFromCode(n))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new t(n,s)}},{key:"cloneInstance",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:td,o=Nn({},this.options,s,{isClone:!0}),l=new t(o),d=["store","services","language"];return d.forEach(function(p){l[p]=n[p]}),l.services=Nn({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new hw(l.services,l.options),l.translator.on("*",function(p){for(var g=arguments.length,y=new Array(g>1?g-1:0),x=1;x<g;x++)y[x-1]=arguments[x];l.emit.apply(l,[p].concat(y))}),l.init(o,a),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}}]),t}(Ua),kT=new PL,PT=[],LL=PT.forEach,IL=PT.slice;function BL(i){return LL.call(IL.call(arguments,1),function(t){if(t)for(var r in t)i[r]===void 0&&(i[r]=t[r])}),i}var dw={create:function(t,r,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/"},o;if(n){var l=new Date;l.setTime(l.getTime()+n*60*1e3),o="; expires="+l.toUTCString()}else o="";s=s?"domain="+s+";":"",a=Object.keys(a).reduce(function(d,p){return d+";"+p.replace(/([A-Z])/g,function(g){return"-"+g.toLowerCase()})+"="+a[p]},""),document.cookie=t+"="+encodeURIComponent(r)+o+";"+s+a},read:function(t){for(var r=t+"=",n=document.cookie.split(";"),s=0;s<n.length;s++){for(var a=n[s];a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(r)===0)return a.substring(r.length,a.length)}return null},remove:function(t){this.create(t,"",-1)}},UL={name:"cookie",lookup:function(t){var r;if(t.lookupCookie&&typeof document<"u"){var n=dw.read(t.lookupCookie);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupCookie&&typeof document<"u"&&dw.create(r.lookupCookie,t,r.cookieMinutes,r.cookieDomain,r.cookieOptions)}},VL={name:"querystring",lookup:function(t){var r;if(typeof window<"u")for(var n=window.location.search.substring(1),s=n.split("&"),a=0;a<s.length;a++){var o=s[a].indexOf("=");if(o>0){var l=s[a].substring(0,o);l===t.lookupQuerystring&&(r=s[a].substring(o+1))}}return r}},qd;try{qd=window!=="undefined"&&window.localStorage!==null;var pw="i18next.translate.boo";window.localStorage.setItem(pw,"foo"),window.localStorage.removeItem(pw)}catch{qd=!1}var jL={name:"localStorage",lookup:function(t){var r;if(t.lookupLocalStorage&&qd){var n=window.localStorage.getItem(t.lookupLocalStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupLocalStorage&&qd&&window.localStorage.setItem(r.lookupLocalStorage,t)}},$d;try{$d=window!=="undefined"&&window.sessionStorage!==null;var gw="i18next.translate.boo";window.sessionStorage.setItem(gw,"foo"),window.sessionStorage.removeItem(gw)}catch{$d=!1}var zL={name:"sessionStorage",lookup:function(t){var r;if(t.lookupsessionStorage&&$d){var n=window.sessionStorage.getItem(t.lookupsessionStorage);n&&(r=n)}return r},cacheUserLanguage:function(t,r){r.lookupsessionStorage&&$d&&window.sessionStorage.setItem(r.lookupsessionStorage,t)}},GL={name:"navigator",lookup:function(t){var r=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)r.push(navigator.languages[n]);navigator.userLanguage&&r.push(navigator.userLanguage),navigator.language&&r.push(navigator.language)}return r.length>0?r:void 0}},HL={name:"htmlTag",lookup:function(t){var r,n=t.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},qL={name:"path",lookup:function(t){var r;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof n[t.lookupFromPathIndex]!="string")return;r=n[t.lookupFromPathIndex].replace("/","")}else r=n[0].replace("/","")}return r}},$L={name:"subdomain",lookup:function(t){var r;if(typeof window<"u"){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(typeof t.lookupFromSubdomainIndex=="number"?r=n[t.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):r=n[0].replace("http://","").replace("https://","").replace(".",""))}return r}};function WL(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],checkWhitelist:!0,checkForSimilarInWhitelist:!1}}var LT=function(){function i(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};os(this,i),this.type="languageDetector",this.detectors={},this.init(t,r)}return us(i,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=BL(n,this.options||{},WL()),this.options.checkForSimilarInWhitelist&&(this.options.checkWhitelist=!0),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(UL),this.addDetector(VL),this.addDetector(jL),this.addDetector(zL),this.addDetector(GL),this.addDetector(HL),this.addDetector(qL),this.addDetector($L)}},{key:"addDetector",value:function(r){this.detectors[r.name]=r}},{key:"detect",value:function(r){var n=this;r||(r=this.options.order);var s=[];r.forEach(function(l){if(n.detectors[l]){var d=n.detectors[l].lookup(n.options);d&&typeof d=="string"&&(d=[d]),d&&(s=s.concat(d))}});var a;if(s.forEach(function(l){if(!a){var d=n.services.languageUtils.formatLanguageCode(l);(!n.options.checkWhitelist||n.services.languageUtils.isWhitelisted(d))&&(a=d),!a&&n.options.checkForSimilarInWhitelist&&(a=n.getSimilarInWhitelist(d))}}),!a){var o=this.i18nOptions.fallbackLng;typeof o=="string"&&(o=[o]),o||(o=[]),Object.prototype.toString.apply(o)==="[object Array]"?a=o[0]:a=o[0]||o.default&&o.default[0]}return a}},{key:"cacheUserLanguage",value:function(r,n){var s=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(r)>-1||n.forEach(function(a){s.detectors[a]&&s.detectors[a].cacheUserLanguage(r,s.options)}))}},{key:"getSimilarInWhitelist",value:function(r){var n=this;if(this.i18nOptions.whitelist){if(r.includes("-")){var s=r.split("-")[0],a=this.services.languageUtils.formatLanguageCode(s);if(this.services.languageUtils.isWhitelisted(a))return a;r=a}var o=this.i18nOptions.whitelist.find(function(l){var d=n.services.languageUtils.formatLanguageCode(l);if(d.startsWith(r))return d});if(o)return o}}}]),i}();LT.type="languageDetector";var YL={autoplay:`The media that tried to play (with '{{src}}') wasn't allowed to by this browser, most likely due to the browser's autoplay policy.

+ More info: {{url}}`,checkUserDefinedFns:"It seems that you may have accidentally written {{name}} instead of {{actualName}}. Please correct it if it's not intentional.",fileLoadError:{bytes:"It looks like there was a problem loading your file. {{suggestion}}",font:"It looks like there was a problem loading your font. {{suggestion}}",gif:"There was some trouble loading your GIF. Make sure that your GIF is using 87a or 89a encoding.",image:"It looks like there was a problem loading your image. {{suggestion}}",json:"It looks like there was a problem loading your JSON file. {{suggestion}}",large:"If your large file isn't fetched successfully, we recommend splitting the file into smaller segments and fetching those.",strings:"It looks like there was a problem loading your text file. {{suggestion}}",suggestion:`Try checking if the file path ({{filePath}}) is correct, hosting the file online, or running a local server.

+ More info: {{url}}`,table:"It looks like there was a problem loading your table file. {{suggestion}}",xml:"It looks like there was a problem loading your XML file. {{suggestion}}"},friendlyParamError:{type_EMPTY_VAR:`{{location}} {{func}}() was expecting {{formatType}} for the {{position}} parameter, received an empty variable instead. If not intentional, this is often a problem with scope.

+ More info: {{url}}`,type_TOO_FEW_ARGUMENTS:"{{location}} {{func}}() was expecting at least {{minParams}} arguments, but received only {{argCount}}.",type_TOO_MANY_ARGUMENTS:"{{location}} {{func}}() was expecting no more than {{maxParams}} arguments, but received {{argCount}}.",type_WRONG_TYPE:"{{location}} {{func}}() was expecting {{formatType}} for the {{position}} parameter, received {{argType}} instead."},globalErrors:{reference:{cannotAccess:`
{{location}} "{{symbol}}" is used before declaration. Make sure you have declared the variable before using it.

+ More info: {{url}}`,notDefined:`
{{location}} "{{symbol}}" is not defined in the current scope. If you have defined it in your code, you should check its scope, spelling, and letter-casing (JavaScript is case-sensitive).

+ More info: {{url}}`},stackSubseq:`└[{{location}}] 
	 Called from line {{line}} in {{func}}()
`,stackTop:`┌[{{location}}] 
	 Error at line {{line}} in {{func}}()
`,syntax:{badReturnOrYield:`
Syntax Error - return lies outside of a function. Make sure you’re not missing any brackets, so that return lies inside a function.

+ More info: {{url}}`,invalidToken:`
Syntax Error - Found a symbol that JavaScript doesn't recognize or didn't expect at it's place.

+ More info: {{url}}`,missingInitializer:`
Syntax Error - A const variable is declared but not initialized. In JavaScript, an initializer for a const is required. A value must be specified in the same statement in which the variable is declared. Check the line number in the error and assign the const variable a value.

+ More info: {{url}}`,redeclaredVariable:`
Syntax Error - "{{symbol}}" is being redeclared. JavaScript doesn't allow declaring a variable more than once. Check the line number in error for redeclaration of the variable.

+ More info: {{url}}`,unexpectedToken:`
Syntax Error - Symbol present at a place that wasn't expected.
Usually this is due to a typo. Check the line number in the error for anything missing/extra.

+ More info: {{url}}`},type:{constAssign:`
{{location}} A const variable is being re-assigned. In javascript, re-assigning a value to a constant is not allowed. If you want to re-assign new values to a variable, make sure it is declared as var or let.

+ More info: {{url}}`,notfunc:`
{{location}} "{{symbol}}" could not be called as a function.
Check the spelling, letter-casing (JavaScript is case-sensitive) and its type.

+ More info: {{url}}`,notfuncObj:`
{{location}} "{{symbol}}" could not be called as a function.
Verify whether "{{obj}}" has "{{symbol}}" in it and check the spelling, letter-casing (JavaScript is case-sensitive) and its type.

+ More info: {{url}}`,readFromNull:`
{{location}} The property of null can't be read. In javascript the value null indicates that an object has no value.

+ More info: {{url}}`,readFromUndefined:`
{{location}} Cannot read property of undefined. Check the line number in error and make sure the variable which is being operated is not undefined.

 + More info: {{url}}`}},libraryError:'{{location}} An error with message "{{error}}" occurred inside the p5js library when {{func}} was called. If not stated otherwise, it might be an issue with the arguments passed to {{func}}.',location:"[{{file}}, line {{line}}]",misspelling:'{{location}} It seems that you may have accidentally written "{{name}}" instead of "{{actualName}}". Please correct it to {{actualName}} if you wish to use the {{type}} from p5.js.',misspelling_plural:`{{location}} It seems that you may have accidentally written "{{name}}".
You may have meant one of the following: 
{{suggestions}}`,misusedTopLevel:`Did you just try to use p5.js's {{symbolName}} {{symbolType}}? If so, you may want to move it into your sketch's setup() function.

+ More info: {{url}}`,preloadDisabled:"The preload() function has been removed in p5.js 2.0. Please load assets in setup() using async / await keywords or callbacks instead. See https://dev.to/limzykenneth/asynchronous-p5js-20-458f for more information.",positions:{p_1:"first",p_10:"tenth",p_11:"eleventh",p_12:"twelfth",p_2:"second",p_3:"third",p_4:"fourth",p_5:"fifth",p_6:"sixth",p_7:"seventh",p_8:"eighth",p_9:"ninth"},pre:`
🌸 p5.js says: {{message}}`,sketchReaderErrors:{reservedConst:`you have used a p5.js reserved variable "{{symbol}}" make sure you change the variable name to something else.

+ More info: {{url}}`,reservedFunc:`you have used a p5.js reserved function "{{symbol}}" make sure you change the function name to something else.

+ More info: {{url}}`},welcome:"Welcome! This is your friendly debugger. To turn me off, switch to using p5.min.js.",wrongPreload:'{{location}} An error with message "{{error}}" occurred inside the p5js library when "{{func}}" was called. If not stated otherwise, it might be due to "{{func}}" being called from preload. Nothing besides load calls (loadImage, loadJSON, loadFont, loadStrings, etc.) should be inside the preload function.'},XL={fes:YL},jc={en:{translation:XL}};const ZL=["en","es","ko","zh","hi","ja"];if(typeof IS_MINIFIED>"u"&&typeof P5_DEV_BUILD<"u"){let i=require("../../translations/dev");for(const t of Object.keys(i)){const r=t.split("_"),n=r.slice(0,r.length-1).join("-"),s=r[r.length-1];jc[n]=jc[n]||{},jc[n][s]=i[t]}}class IT{constructor(t,r){this.init(t,r)}fetchWithTimeout(t,r,n=2e3){return Promise.race([fetch(t,r),new Promise((s,a)=>setTimeout(()=>a(new Error("timeout")),n))])}init(t,r={}){this.services=t,this.options=r}read(t,r,n){const s=this.options.loadPath;if(t===this.options.fallback)n(null,jc[t][r]);else if(ZL.includes(t)){const a=this.services.interpolator.interpolate(s,{lng:t,ns:r});this.loadUrl(a,n)}else n("Not found",!1)}loadUrl(t,r){this.fetchWithTimeout(t).then(n=>{if(!n.ok)throw new Error(`failed loading ${t}`);return n.json()},()=>{throw new Error(`failed loading ${t}`)}).then(n=>r(null,n)).catch(r)}}IT.type="backend";let kt=(i,t)=>{console.debug("p5.js translator called before translations were loaded"),kT.t(i,t)};const KL=()=>kT.use(LT).use(IT).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:jc}).then(t=>{kt=t},t=>console.debug(`Translations failed to load (${t})`)),QL={ReferenceError:[{msg:"{{}} is not defined",type:"NOTDEFINED",browser:"all"},{msg:"Can't find variable: {{}}",type:"NOTDEFINED",browser:"Safari"},{msg:"Cannot access '{{.}}' before initialization",type:"CANNOTACCESS",browser:"Chrome"},{msg:"can't access lexical declaration '{{.}}' before initialization",type:"CANNOTACCESS",browser:"Firefox"}],SyntaxError:[{msg:"illegal character",type:"INVALIDTOKEN",browser:"Firefox"},{msg:"Invalid character",type:"INVALIDTOKEN",browser:"Safari"},{msg:"Invalid or unexpected token",type:"INVALIDTOKEN",browser:"Chrome"},{msg:"Unexpected token '{{.}}'",type:"UNEXPECTEDTOKEN",browser:"Chrome"},{msg:"expected {{.}}, got '{{.}}'",type:"UNEXPECTEDTOKEN",browser:"Chrome"},{msg:"Identifier '{{.}}' has already been declared",type:"REDECLAREDVARIABLE",browser:"Chrome"},{msg:"redeclaration of {} {{.}}",type:"REDECLAREDVARIABLE",browser:"Firefox"},{msg:"Missing initializer in const declaration",type:"MISSINGINITIALIZER",browser:"Chrome"},{msg:"missing = in const declaration",type:"MISSINGINITIALIZER",browser:"Firefox"},{msg:"Illegal return statement",type:"BADRETURNORYIELD",browser:"Chrome"},{msg:"return not in function",type:"BADRETURNORYIELD",browser:"Firefox"}],TypeError:[{msg:"{{.}} is not a function",type:"NOTFUNC",browser:"all"},{msg:"Cannot read {{.}} null",type:"READNULL",browser:"Chrome"},{msg:"{{.}} is null",type:"READNULL",browser:"Firefox"},{msg:"Cannot read {{.}} undefined",type:"READUDEFINED",browser:"Chrome"},{msg:"{{.}} is undefined",type:"READUDEFINED",browser:"Firefox"},{msg:"Assignment to constant variable",type:"CONSTASSIGN",browser:"Chrome"},{msg:"invalid assignment to const '{{.}}'",type:"CONSTASSIGN",browser:"Firefox"}]};function BT(i,t){const r=["#2D7BB6","#EE9900","#4DB200","#C83C00"];let n=null,s=null;const a=2;class o extends Error{}if(typeof IS_MINIFIED<"u")i._friendlyError=i._checkForUserDefinedFunctions=i._fesErrorMonitor=()=>{};else{const p={},g=p.toString,y=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"];for(let T=0;T<y.length;T++)p[`[object ${y[T]}]`]=y[T].toLowerCase();const x=T=>T==null?`${T}`:typeof T=="object"||typeof T=="function"?p[g.call(T)]||"object":typeof T,S=["setup","draw","deviceMoved","deviceTurned","deviceShaken","doubleClicked","mousePressed","mouseReleased","mouseMoved","mouseDragged","mouseClicked","mouseWheel","touchStarted","touchMoved","touchEnded","keyPressed","keyReleased","keyTyped","windowResized"],_=(T,U)=>{let k="";if(U==null||U.substring(0,4)==="load")k=T;else{const B=U.split("."),L=B.length>1?`${B[0]}.${B[1]}`:"p5",V=B.length===1?U:B.slice(2).join("/");V.startsWith("p5.")?k=`${T} (https://p5js.org/reference/${L}.${V})`:k=`${T} (https://p5js.org/reference/${L}/${V})`}return k};i._report=(T,U,k)=>{const B=i._fesLogger==null?console.log.bind(console):i._fesLogger;x(k)==="undefined"?k="#B40033":x(k)==="number"&&(k=r[k]),T=_(T,U);const L=kt("fes.pre",{message:T});B(L)},i._error=(T,U,k)=>{throw i._report(U,k),T.hitCriticalError=!0,new o("Stopping sketch to prevent more errors")},i._friendlyError=function(T,U,k){i._report(T,U,k)},i._friendlyAutoplayError=function(T){const U=kt("fes.autoplay",{src:T,url:"https://developer.mozilla.org/docs/Web/Media/Autoplay_guide"});console.log(kt("fes.pre",{message:U}))};const w=(T,U)=>{const k=T.length,B=U.length;if(k===0)return U;if(B===0)return T;let L=[],V=[];for(let H=0;H<B+1;H++)V[H]=H;L=V;for(let H=1;H<k+1;H++){V=[];for(let z=0;z<B+1;z++)if(z===0)V[z]=H;else{let G=T[H-1],K=U[z-1],le=999999,ne=G.toLowerCase()===K.toLowerCase()?0:1;le=le>ne+L[z-1]?ne+L[z-1]:le,le=le>1+V[z-1]?1+V[z-1]:le,le=le>1+L[z]?1+L[z]:le,V[z]=le}L=V}return V[B]};i.isPreloadSupported=function(){return!1};const A=T=>{if(i.disableFriendlyErrors)return;T=T instanceof i?T:window;const k=S;T.preload&&!i.isPreloadSupported()&&i._error(T,kt("fes.preloadDisabled"));const B={};k.forEach(L=>{B[L.toLowerCase()]=L});for(const L of Object.keys(T)){const V=L.toLowerCase();if(B.hasOwnProperty(V)&&!T[B[V]]&&typeof T[L]=="function"){const H=kt("fes.checkUserDefinedFns",{name:L,actualName:B[V]});i._friendlyError(H,B[V])}}},P=(T,U)=>{n||s();const k={};let B=999999;if(n.forEach(V=>{let H=w(T,V.name);k[H]?k[H].push(V):k[H]=[V],H<B&&(B=H)}),B>Math.min(a,T.length))return!1;const L=k[B].filter(V=>V.name!==T);if(L.length!==0){const V=i._getErrorStackParser().parse(U);let H;V&&V[0]&&V[0].fileName&&V[0].lineNumber&&V[0].columnNumber&&(H={location:`${V[0].fileName}:${V[0].lineNumber}:${V[0].columnNumber}`,file:V[0].fileName.split("/").slice(-1),line:V[0].lineNumber});let z;if(L.length===1)z=kt("fes.misspelling",{name:T,actualName:L[0].name,type:L[0].type,location:H?kt("fes.location",H):"",count:L.length});else{const G=L.map(K=>{const le="▶️ "+K.name+(K.type==="function"?"()":"");return _(le,K.name)}).join(`
`);z=kt("fes.misspelling",{name:T,suggestions:G,location:H?kt("fes.location",H):"",count:L.length})}return i._friendlyError(z,L.length===1?L[0].name:void 0),!0}return!1},D=T=>{const U=i._fesLogger&&typeof i._fesLogger=="function"?i._fesLogger:console.log.bind(console);if(T.length>1){let k="";T.forEach((B,L)=>{const V=`${B.fileName}:${B.lineNumber}:${B.columnNumber}`;let H,z={func:B.functionName,line:B.lineNumber,location:V,file:B.fileName.split("/").slice(-1)};L===0?H=kt("fes.globalErrors.stackTop",z):H=kt("fes.globalErrors.stackSubseq",z),k+=H}),U(k)}},R=(T,U)=>{if(!U)return[!1,null];U.forEach(H=>{H.functionName=H.functionName||""});let k=!1,B,L,V;try{throw new Error}catch(H){B=i._getErrorStackParser().parse(H)[0].fileName}for(let H=U.length-1;H>=0;H--){let z=U[H].functionName.split(".");if(S.includes(z[z.length-1])){if(L=U.slice(0,H+1),V=z[z.length-1],U[0].fileName===B){k=!0;break}break}}if(L||(L=U),k){if(L=L.map((G,K)=>(G.frameIndex=K,G)).filter(G=>G.fileName!==B),L.length===0)return[!0,null];const H=U[L[0].frameIndex-2].functionName.split(".").slice(-1)[0];let z;if(L[0].fileName&&L[0].lineNumber&&L[0].columnNumber&&(z={location:`${L[0].fileName}:${L[0].lineNumber}:${L[0].columnNumber}`,file:L[0].fileName.split("/").slice(-1),line:L[0].lineNumber},i._fesLogCache[z.location]))return[!0,null];V==="preload"&&t._preloadMethods[H]==null?i._friendlyError(kt("fes.wrongPreload",{func:H,location:z?kt("fes.location",z):"",error:T.message}),"preload"):i._friendlyError(kt("fes.libraryError",{func:H,location:z?kt("fes.location",z):"",error:T.message}),H),L&&L.length&&D(L)}return[k,L]},F=T=>{if(i.disableFriendlyErrors||T&&(T instanceof o||T.reason instanceof o))return;let U;if(T instanceof Error)U=T;else if(T instanceof ErrorEvent)U=T.error;else if(T instanceof PromiseRejectionEvent&&(U=T.reason,!(U instanceof Error)))return;if(!U)return;let k=i._getErrorStackParser().parse(U),[B,L]=R(U,k);if(B)return;const V=QL[U.name];if(!V)return;let H;for(const G of V){let K=G.msg;K=K.replace(new RegExp("{{}}","g"),"([a-zA-Z0-9_]+)"),K=K.replace(new RegExp("{{.}}","g"),"(.+)"),K=K.replace(new RegExp("{}","g"),"(?:[a-zA-Z0-9_]+)");let le=U.message.match(K);if(le){H=Object.assign({},G),H.match=le;break}}if(!H)return;let z;switch(k&&k[0].fileName&&k[0].lineNumber&&k[0].columnNumber&&(z={location:`${k[0].fileName}:${k[0].lineNumber}:${k[0].columnNumber}`,file:k[0].fileName.split("/").slice(-1),line:L[0].lineNumber}),U.name){case"SyntaxError":{switch(H.type){case"INVALIDTOKEN":{i._friendlyError(kt("fes.globalErrors.syntax.invalidToken",{url:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Illegal_character#What_went_wrong"}));break}case"UNEXPECTEDTOKEN":{i._friendlyError(kt("fes.globalErrors.syntax.unexpectedToken",{url:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Unexpected_token#What_went_wrong"}));break}case"REDECLAREDVARIABLE":{let G=H.match[1];i._friendlyError(kt("fes.globalErrors.syntax.redeclaredVariable",{symbol:G,url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Redeclared_parameter#what_went_wrong"}));break}case"MISSINGINITIALIZER":{i._friendlyError(kt("fes.globalErrors.syntax.missingInitializer",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Missing_initializer_in_const#what_went_wrong"}));break}case"BADRETURNORYIELD":{i._friendlyError(kt("fes.globalErrors.syntax.badReturnOrYield",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Bad_return_or_yield#what_went_wrong"}));break}}break}case"ReferenceError":{switch(H.type){case"NOTDEFINED":{let G=H.match[1];if(G&&P(G,U))break;i._friendlyError(kt("fes.globalErrors.reference.notDefined",{url:"https://p5js.org/examples/data-variable-scope.html",symbol:G,location:z?kt("fes.location",z):""})),L&&D(L);break}case"CANNOTACCESS":{let G=H.match[1];i._friendlyError(kt("fes.globalErrors.reference.cannotAccess",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_lexical_declaration_before_init#what_went_wrong",symbol:G,location:z?kt("fes.location",z):""})),L&&D(L);break}}break}case"TypeError":switch(H.type){case"NOTFUNC":{let K=H.match[1].split("."),ne={url:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Not_a_function#What_went_wrong",symbol:K[K.length-1],obj:K.slice(0,K.length-1).join("."),location:z?kt("fes.location",z):""};K.length>1?i._friendlyError(kt("fes.globalErrors.type.notfuncObj",ne)):i._friendlyError(kt("fes.globalErrors.type.notfunc",ne)),L&&D(L);break}case"READNULL":{let G=H.match[1];i._friendlyError(kt("fes.globalErrors.type.readFromNull",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_property#what_went_wrong",symbol:G,location:z?kt("fes.location",z):""})),L&&D(L);break}case"READUDEFINED":{let G=H.match[1];i._friendlyError(kt("fes.globalErrors.type.readFromUndefined",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_property#what_went_wrong",symbol:G,location:z?kt("fes.location",z):""})),L&&D(L);break}case"CONSTASSIGN":{i._friendlyError(kt("fes.globalErrors.type.constAssign",{url:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_const_assignment#what_went_wrong",location:z?kt("fes.location",z):""})),L&&D(L);break}}}};i._fesErrorMonitor=F,i._checkForUserDefinedFunctions=A,i._fesLogger=null,i._fesLogCache={},window.addEventListener("load",A,!1),window.addEventListener("error",i._fesErrorMonitor,!1),window.addEventListener("unhandledrejection",i._fesErrorMonitor,!1)}n=null;const l="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";s=()=>{const p={},g=y=>Object.getOwnPropertyNames(y).filter(x=>x[0]==="_"||x in p?!1:(p[x]=!0,!0)).map(x=>{let S;return typeof y[x]=="function"?S="function":x===x.toUpperCase()?S="constant":S="variable",{name:x,type:S}});n=[].concat(g(t),g(To)),n.sort((y,x)=>x.name.length-y.name.length)};const d=(p,g)=>{g||(g=console.log.bind(console)),n||s(),n.some(y=>{if(p.message&&p.message.match(`\\W?${y.name}\\W`)!==null){const x=y.type==="function"?`${y.name}()`:y.name;return g(typeof IS_MINIFIED<"u"?`Did you just try to use p5.js's ${x} ${y.type}? If so, you may want to move it into your sketch's setup() function.

For more details, see: ${l}`:kt("fes.misusedTopLevel",{symbolName:x,symbolType:y.type,url:l})),!0}})};t._helpForMisusedAtTopLevelCode=d,document.readyState!=="complete"&&(window.addEventListener("error",d,!1),window.addEventListener("load",()=>{window.removeEventListener("error",d,!1)}))}typeof p5<"u"&&BT(p5,p5.prototype);function JL(){let i=/(^|@)\S+:\d+/,t=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(s){if(typeof s.stacktrace<"u"||typeof s["opera#sourceloc"]<"u")return this.parseOpera(s);if(s.stack&&s.stack.match(t))return this.parseV8OrIE(s);if(s.stack)return this.parseFFOrSafari(s)},extractLocation:function(s){if(s.indexOf(":")===-1)return[s];let o=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(s.replace(/[()]/g,""));return[o[1],o[2]||void 0,o[3]||void 0]},parseV8OrIE:function(s){return s.stack.split(`
`).filter(function(o){return!!o.match(t)},this).map(function(o){o.indexOf("(eval ")>-1&&(o=o.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));let l=o.replace(/^\s+/,"").replace(/\(eval code/g,"("),d=l.match(/ (\((.+):(\d+):(\d+)\)$)/);l=d?l.replace(d[0],""):l;let p=l.split(/\s+/).slice(1),g=this.extractLocation(d?d[1]:p.pop()),y=p.join(" ")||void 0,x=["eval","<anonymous>"].indexOf(g[0])>-1?void 0:g[0];return{functionName:y,fileName:x,lineNumber:g[1],columnNumber:g[2],source:o}},this)},parseFFOrSafari:function(s){return s.stack.split(`
`).filter(function(o){return!o.match(r)},this).map(function(o){if(o.indexOf(" > eval")>-1&&(o=o.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),o.indexOf("@")===-1&&o.indexOf(":")===-1)return{functionName:o};{let l=/((.*".+"[^@]*)?[^@]*)(?:@)/,d=o.match(l),p=d&&d[1]?d[1]:void 0,g=this.extractLocation(o.replace(l,""));return{functionName:p,fileName:g[0],lineNumber:g[1],columnNumber:g[2],source:o}}},this)},parseOpera:function(s){return!s.stacktrace||s.message.indexOf(`
`)>-1&&s.message.split(`
`).length>s.stacktrace.split(`
`).length?this.parseOpera9(s):s.stack?this.parseOpera11(s):this.parseOpera10(s)},parseOpera9:function(s){let a=/Line (\d+).*script (?:in )?(\S+)/i,o=s.message.split(`
`),l=[];for(let d=2,p=o.length;d<p;d+=2){let g=a.exec(o[d]);g&&l.push({fileName:g[2],lineNumber:g[1],source:o[d]})}return l},parseOpera10:function(s){let a=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,o=s.stacktrace.split(`
`),l=[];for(let d=0,p=o.length;d<p;d+=2){let g=a.exec(o[d]);g&&l.push({functionName:g[3]||void 0,fileName:g[2],lineNumber:g[1],source:o[d]})}return l},parseOpera11:function(s){return s.stack.split(`
`).filter(function(o){return!!o.match(i)&&!o.match(/^Error created at/)},this).map(function(o){let l=o.split("@"),d=this.extractLocation(l.pop()),p=l.shift()||"",g=p.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,y;p.match(/\(([^)]*)\)/)&&(y=p.replace(/^[^(]+\(([^)]*)\)$/,"$1"));let x=y===void 0||y==="[arguments not available]"?void 0:y.split(",");return{functionName:g,args:x,fileName:d[0],lineNumber:d[1],columnNumber:d[2],source:o}},this)}}}function UT(i,t){i._getErrorStackParser=function(){return new JL}}typeof p5<"u"&&UT(p5,p5.prototype);var cr;(function(i){i.assertEqual=s=>{};function t(s){}i.assertIs=t;function r(s){throw new Error}i.assertNever=r,i.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},i.getValidEnumValues=s=>{const a=i.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return i.objectValues(o)},i.objectValues=s=>i.objectKeys(s).map(function(a){return s[a]}),i.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},i.find=(s,a)=>{for(const o of s)if(a(o))return o},i.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}i.joinValues=n,i.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(cr||(cr={}));var mw;(function(i){i.mergeShapes=(t,r)=>({...t,...r})})(mw||(mw={}));const ft=cr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_a=i=>{switch(typeof i){case"undefined":return ft.undefined;case"string":return ft.string;case"number":return Number.isNaN(i)?ft.nan:ft.number;case"boolean":return ft.boolean;case"function":return ft.function;case"bigint":return ft.bigint;case"symbol":return ft.symbol;case"object":return Array.isArray(i)?ft.array:i===null?ft.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?ft.promise:typeof Map<"u"&&i instanceof Map?ft.map:typeof Set<"u"&&i instanceof Set?ft.set:typeof Date<"u"&&i instanceof Date?ft.date:ft.object;default:return ft.unknown}},Je=cr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ai extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,d=0;for(;d<o.path.length;){const p=o.path[d];d===o.path.length-1?(l[p]=l[p]||{_errors:[]},l[p]._errors.push(r(o))):l[p]=l[p]||{_errors:[]},l=l[p],d++}}};return s(this),n}static assert(t){if(!(t instanceof Ai))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,cr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ai.create=i=>new Ai(i);const ch=(i,t)=>{let r;switch(i.code){case Je.invalid_type:i.received===ft.undefined?r="Required":r=`Expected ${i.expected}, received ${i.received}`;break;case Je.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(i.expected,cr.jsonStringifyReplacer)}`;break;case Je.unrecognized_keys:r=`Unrecognized key(s) in object: ${cr.joinValues(i.keys,", ")}`;break;case Je.invalid_union:r="Invalid input";break;case Je.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${cr.joinValues(i.options)}`;break;case Je.invalid_enum_value:r=`Invalid enum value. Expected ${cr.joinValues(i.options)}, received '${i.received}'`;break;case Je.invalid_arguments:r="Invalid function arguments";break;case Je.invalid_return_type:r="Invalid function return type";break;case Je.invalid_date:r="Invalid date";break;case Je.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(r=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?r=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?r=`Invalid input: must end with "${i.validation.endsWith}"`:cr.assertNever(i.validation):i.validation!=="regex"?r=`Invalid ${i.validation}`:r="Invalid";break;case Je.too_small:i.type==="array"?r=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?r=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?r=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?r=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:r="Invalid input";break;case Je.too_big:i.type==="array"?r=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?r=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?r=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?r=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?r=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:r="Invalid input";break;case Je.custom:r="Invalid input";break;case Je.invalid_intersection_types:r="Intersection results could not be merged";break;case Je.not_multiple_of:r=`Number must be a multiple of ${i.multipleOf}`;break;case Je.not_finite:r="Number must be finite";break;default:r=t.defaultError,cr.assertNever(i)}return{message:r}};let eI=ch;function qy(){return eI}const $y=i=>{const{data:t,path:r,errorMaps:n,issueData:s}=i,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const d=n.filter(p=>!!p).slice().reverse();for(const p of d)l=p(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function ot(i,t){const r=qy(),n=$y({issueData:t,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,r,r===ch?void 0:ch].filter(s=>!!s)});i.common.issues.push(n)}class hi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Pt;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return hi.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Pt;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const Pt=Object.freeze({status:"aborted"}),Rc=i=>({status:"dirty",value:i}),Kn=i=>({status:"valid",value:i}),yw=i=>i.status==="aborted",vw=i=>i.status==="dirty",ul=i=>i.status==="valid",Wd=i=>typeof Promise<"u"&&i instanceof Promise;var gt;(function(i){i.errToObj=t=>typeof t=="string"?{message:t}:t||{},i.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(gt||(gt={}));class Va{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const bw=(i,t)=>{if(ul(t))return{success:!0,data:t.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ai(i.common.issues);return this._error=r,this._error}}};function $t(i){if(!i)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=i;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:d}=i;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:d??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:d??r??l.defaultError}},description:s}}class ar{get description(){return this._def.description}_getType(t){return _a(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:_a(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new hi,ctx:{common:t.parent.common,data:t.data,parsedType:_a(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Wd(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_a(t)},s=this._parseSync({data:t,path:n.path,parent:n});return bw(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_a(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return ul(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>ul(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_a(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(Wd(s)?s:Promise.resolve(s));return bw(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:Je.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new hl({schema:this,typeName:Lt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ka.create(this,this._def)}nullable(){return fl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return is.create(this)}promise(){return gh.create(this,this._def)}or(t){return dh.create([this,t],this._def)}and(t){return Xd.create(this,t,this._def)}transform(t){return new hl({...$t(this._def),schema:this,typeName:Lt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Zy({...$t(this._def),innerType:this,defaultValue:r,typeName:Lt.ZodDefault})}brand(){return new wI({typeName:Lt.ZodBranded,type:this,...$t(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Ky({...$t(this._def),innerType:this,catchValue:r,typeName:Lt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return y1.create(this,t)}readonly(){return Qy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tI=/^c[^\s-]{8,}$/i,rI=/^[0-9a-z]+$/,nI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,iI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sI=/^[a-z0-9_-]{21}$/i,aI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,oI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,lI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Dm;const cI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,dI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pI=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,gI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,VT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mI=new RegExp(`^${VT}$`);function jT(i){let t="[0-5]\\d";i.precision?t=`${t}\\.\\d{${i.precision}}`:i.precision==null&&(t=`${t}(\\.\\d+)?`);const r=i.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function yI(i){return new RegExp(`^${jT(i)}$`)}function vI(i){let t=`${VT}T${jT(i)}`;const r=[];return r.push(i.local?"Z?":"Z"),i.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function bI(i,t){return!!((t==="v4"||!t)&&cI.test(i)||(t==="v6"||!t)&&fI.test(i))}function xI(i,t){if(!aI.test(i))return!1;try{const[r]=i.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function _I(i,t){return!!((t==="v4"||!t)&&hI.test(i)||(t==="v6"||!t)&&dI.test(i))}class Na extends ar{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ft.string){const a=this._getOrReturnCtx(t);return ot(a,{code:Je.invalid_type,expected:ft.string,received:a.parsedType}),Pt}const n=new hi;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),ot(s,{code:Je.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),ot(s,{code:Je.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?ot(s,{code:Je.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&ot(s,{code:Je.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")uI.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"email",code:Je.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Dm||(Dm=new RegExp(lI,"u")),Dm.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"emoji",code:Je.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")iI.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"uuid",code:Je.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")sI.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"nanoid",code:Je.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")tI.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"cuid",code:Je.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")rI.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"cuid2",code:Je.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")nI.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"ulid",code:Je.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ot(s,{validation:"url",code:Je.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"regex",code:Je.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),ot(s,{code:Je.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),ot(s,{code:Je.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),ot(s,{code:Je.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?vI(a).test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{code:Je.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?mI.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{code:Je.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?yI(a).test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{code:Je.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?oI.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"duration",code:Je.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?bI(t.data,a.version)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"ip",code:Je.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?xI(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"jwt",code:Je.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?_I(t.data,a.version)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"cidr",code:Je.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?pI.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"base64",code:Je.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?gI.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"base64url",code:Je.invalid_string,message:a.message}),n.dirty()):cr.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:Je.invalid_string,...gt.errToObj(n)})}_addCheck(t){return new Na({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...gt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...gt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...gt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...gt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...gt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...gt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...gt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...gt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...gt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...gt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...gt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...gt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...gt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...gt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...gt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...gt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...gt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...gt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...gt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...gt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...gt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...gt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...gt.errToObj(r)})}nonempty(t){return this.min(1,gt.errToObj(t))}trim(){return new Na({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Na({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Na({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Na.create=i=>new Na({checks:[],typeName:Lt.ZodString,coerce:(i==null?void 0:i.coerce)??!1,...$t(i)});function SI(i,t){const r=(i.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(i.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return a%o/10**s}class ll extends ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ft.number){const a=this._getOrReturnCtx(t);return ot(a,{code:Je.invalid_type,expected:ft.number,received:a.parsedType}),Pt}let n;const s=new hi;for(const a of this._def.checks)a.kind==="int"?cr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?SI(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.not_finite,message:a.message}),s.dirty()):cr.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,gt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,gt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,gt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,gt.toString(r))}setLimit(t,r,n,s){return new ll({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:gt.toString(s)}]})}_addCheck(t){return new ll({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:gt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:gt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:gt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:gt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:gt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:gt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&cr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ll.create=i=>new ll({checks:[],typeName:Lt.ZodNumber,coerce:(i==null?void 0:i.coerce)||!1,...$t(i)});class hh extends ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ft.bigint)return this._getInvalidInput(t);let n;const s=new hi;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:Je.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):cr.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ot(r,{code:Je.invalid_type,expected:ft.bigint,received:r.parsedType}),Pt}gte(t,r){return this.setLimit("min",t,!0,gt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,gt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,gt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,gt.toString(r))}setLimit(t,r,n,s){return new hh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:gt.toString(s)}]})}_addCheck(t){return new hh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:gt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:gt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}hh.create=i=>new hh({checks:[],typeName:Lt.ZodBigInt,coerce:(i==null?void 0:i.coerce)??!1,...$t(i)});class Wy extends ar{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ft.boolean){const n=this._getOrReturnCtx(t);return ot(n,{code:Je.invalid_type,expected:ft.boolean,received:n.parsedType}),Pt}return Kn(t.data)}}Wy.create=i=>new Wy({typeName:Lt.ZodBoolean,coerce:(i==null?void 0:i.coerce)||!1,...$t(i)});class Yd extends ar{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ft.date){const a=this._getOrReturnCtx(t);return ot(a,{code:Je.invalid_type,expected:ft.date,received:a.parsedType}),Pt}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return ot(a,{code:Je.invalid_date}),Pt}const n=new hi;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),ot(s,{code:Je.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),ot(s,{code:Je.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):cr.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Yd({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:gt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:gt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Yd.create=i=>new Yd({checks:[],coerce:(i==null?void 0:i.coerce)||!1,typeName:Lt.ZodDate,...$t(i)});class xw extends ar{_parse(t){if(this._getType(t)!==ft.symbol){const n=this._getOrReturnCtx(t);return ot(n,{code:Je.invalid_type,expected:ft.symbol,received:n.parsedType}),Pt}return Kn(t.data)}}xw.create=i=>new xw({typeName:Lt.ZodSymbol,...$t(i)});class _w extends ar{_parse(t){if(this._getType(t)!==ft.undefined){const n=this._getOrReturnCtx(t);return ot(n,{code:Je.invalid_type,expected:ft.undefined,received:n.parsedType}),Pt}return Kn(t.data)}}_w.create=i=>new _w({typeName:Lt.ZodUndefined,...$t(i)});class Sw extends ar{_parse(t){if(this._getType(t)!==ft.null){const n=this._getOrReturnCtx(t);return ot(n,{code:Je.invalid_type,expected:ft.null,received:n.parsedType}),Pt}return Kn(t.data)}}Sw.create=i=>new Sw({typeName:Lt.ZodNull,...$t(i)});class fh extends ar{constructor(){super(...arguments),this._any=!0}_parse(t){return Kn(t.data)}}fh.create=i=>new fh({typeName:Lt.ZodAny,...$t(i)});class Xu extends ar{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Kn(t.data)}}Xu.create=i=>new Xu({typeName:Lt.ZodUnknown,...$t(i)});class ja extends ar{_parse(t){const r=this._getOrReturnCtx(t);return ot(r,{code:Je.invalid_type,expected:ft.never,received:r.parsedType}),Pt}}ja.create=i=>new ja({typeName:Lt.ZodNever,...$t(i)});class ww extends ar{_parse(t){if(this._getType(t)!==ft.undefined){const n=this._getOrReturnCtx(t);return ot(n,{code:Je.invalid_type,expected:ft.void,received:n.parsedType}),Pt}return Kn(t.data)}}ww.create=i=>new ww({typeName:Lt.ZodVoid,...$t(i)});class is extends ar{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ft.array)return ot(r,{code:Je.invalid_type,expected:ft.array,received:r.parsedType}),Pt;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(ot(r,{code:o?Je.too_big:Je.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ot(r,{code:Je.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ot(r,{code:Je.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Va(r,o,r.path,l)))).then(o=>hi.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new Va(r,o,r.path,l)));return hi.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new is({...this._def,minLength:{value:t,message:gt.toString(r)}})}max(t,r){return new is({...this._def,maxLength:{value:t,message:gt.toString(r)}})}length(t,r){return new is({...this._def,exactLength:{value:t,message:gt.toString(r)}})}nonempty(t){return this.min(1,t)}}is.create=(i,t)=>new is({type:i,minLength:null,maxLength:null,exactLength:null,typeName:Lt.ZodArray,...$t(t)});function Pu(i){if(i instanceof en){const t={};for(const r in i.shape){const n=i.shape[r];t[r]=ka.create(Pu(n))}return new en({...i._def,shape:()=>t})}else return i instanceof is?new is({...i._def,type:Pu(i.element)}):i instanceof ka?ka.create(Pu(i.unwrap())):i instanceof fl?fl.create(Pu(i.unwrap())):i instanceof as?as.create(i.items.map(t=>Pu(t))):i}class en extends ar{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=cr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ft.object){const p=this._getOrReturnCtx(t);return ot(p,{code:Je.invalid_type,expected:ft.object,received:p.parsedType}),Pt}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ja&&this._def.unknownKeys==="strip"))for(const p in s.data)o.includes(p)||l.push(p);const d=[];for(const p of o){const g=a[p],y=s.data[p];d.push({key:{status:"valid",value:p},value:g._parse(new Va(s,y,s.path,p)),alwaysSet:p in s.data})}if(this._def.catchall instanceof ja){const p=this._def.unknownKeys;if(p==="passthrough")for(const g of l)d.push({key:{status:"valid",value:g},value:{status:"valid",value:s.data[g]}});else if(p==="strict")l.length>0&&(ot(s,{code:Je.unrecognized_keys,keys:l}),n.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const g of l){const y=s.data[g];d.push({key:{status:"valid",value:g},value:p._parse(new Va(s,y,s.path,g)),alwaysSet:g in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const p=[];for(const g of d){const y=await g.key,x=await g.value;p.push({key:y,value:x,alwaysSet:g.alwaysSet})}return p}).then(p=>hi.mergeObjectSync(n,p)):hi.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(t){return gt.errToObj,new en({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:gt.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new en({...this._def,unknownKeys:"strip"})}passthrough(){return new en({...this._def,unknownKeys:"passthrough"})}extend(t){return new en({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new en({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Lt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new en({...this._def,catchall:t})}pick(t){const r={};for(const n of cr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new en({...this._def,shape:()=>r})}omit(t){const r={};for(const n of cr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new en({...this._def,shape:()=>r})}deepPartial(){return Pu(this)}partial(t){const r={};for(const n of cr.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new en({...this._def,shape:()=>r})}required(t){const r={};for(const n of cr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ka;)a=a._def.innerType;r[n]=a}return new en({...this._def,shape:()=>r})}keyof(){return zT(cr.objectKeys(this.shape))}}en.create=(i,t)=>new en({shape:()=>i,unknownKeys:"strip",catchall:ja.create(),typeName:Lt.ZodObject,...$t(t)});en.strictCreate=(i,t)=>new en({shape:()=>i,unknownKeys:"strict",catchall:ja.create(),typeName:Lt.ZodObject,...$t(t)});en.lazycreate=(i,t)=>new en({shape:i,unknownKeys:"strip",catchall:ja.create(),typeName:Lt.ZodObject,...$t(t)});class dh extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Ai(l.ctx.common.issues));return ot(r,{code:Je.invalid_union,unionErrors:o}),Pt}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const d of n){const p={...r,common:{...r.common,issues:[]},parent:null},g=d._parseSync({data:r.data,path:r.path,parent:p});if(g.status==="valid")return g;g.status==="dirty"&&!a&&(a={result:g,ctx:p}),p.common.issues.length&&o.push(p.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(d=>new Ai(d));return ot(r,{code:Je.invalid_union,unionErrors:l}),Pt}}get options(){return this._def.options}}dh.create=(i,t)=>new dh({options:i,typeName:Lt.ZodUnion,...$t(t)});function Yy(i,t){const r=_a(i),n=_a(t);if(i===t)return{valid:!0,data:i};if(r===ft.object&&n===ft.object){const s=cr.objectKeys(t),a=cr.objectKeys(i).filter(l=>s.indexOf(l)!==-1),o={...i,...t};for(const l of a){const d=Yy(i[l],t[l]);if(!d.valid)return{valid:!1};o[l]=d.data}return{valid:!0,data:o}}else if(r===ft.array&&n===ft.array){if(i.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<i.length;a++){const o=i[a],l=t[a],d=Yy(o,l);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return r===ft.date&&n===ft.date&&+i==+t?{valid:!0,data:i}:{valid:!1}}class Xd extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,o)=>{if(yw(a)||yw(o))return Pt;const l=Yy(a.value,o.value);return l.valid?((vw(a)||vw(o))&&r.dirty(),{status:r.value,value:l.data}):(ot(n,{code:Je.invalid_intersection_types}),Pt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Xd.create=(i,t,r)=>new Xd({left:i,right:t,typeName:Lt.ZodIntersection,...$t(r)});class as extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.array)return ot(n,{code:Je.invalid_type,expected:ft.array,received:n.parsedType}),Pt;if(n.data.length<this._def.items.length)return ot(n,{code:Je.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pt;!this._def.rest&&n.data.length>this._def.items.length&&(ot(n,{code:Je.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const d=this._def.items[l]||this._def.rest;return d?d._parse(new Va(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>hi.mergeArray(r,o)):hi.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new as({...this._def,rest:t})}}as.create=(i,t)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new as({items:i,typeName:Lt.ZodTuple,rest:null,...$t(t)})};class Ew extends ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.map)return ot(n,{code:Je.invalid_type,expected:ft.map,received:n.parsedType}),Pt;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,d],p)=>({key:s._parse(new Va(n,l,n.path,[p,"key"])),value:a._parse(new Va(n,d,n.path,[p,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const d of o){const p=await d.key,g=await d.value;if(p.status==="aborted"||g.status==="aborted")return Pt;(p.status==="dirty"||g.status==="dirty")&&r.dirty(),l.set(p.value,g.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const d of o){const p=d.key,g=d.value;if(p.status==="aborted"||g.status==="aborted")return Pt;(p.status==="dirty"||g.status==="dirty")&&r.dirty(),l.set(p.value,g.value)}return{status:r.value,value:l}}}}Ew.create=(i,t,r)=>new Ew({valueType:t,keyType:i,typeName:Lt.ZodMap,...$t(r)});class ph extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.set)return ot(n,{code:Je.invalid_type,expected:ft.set,received:n.parsedType}),Pt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ot(n,{code:Je.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ot(n,{code:Je.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(d){const p=new Set;for(const g of d){if(g.status==="aborted")return Pt;g.status==="dirty"&&r.dirty(),p.add(g.value)}return{status:r.value,value:p}}const l=[...n.data.values()].map((d,p)=>a._parse(new Va(n,d,n.path,p)));return n.common.async?Promise.all(l).then(d=>o(d)):o(l)}min(t,r){return new ph({...this._def,minSize:{value:t,message:gt.toString(r)}})}max(t,r){return new ph({...this._def,maxSize:{value:t,message:gt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ph.create=(i,t)=>new ph({valueType:i,minSize:null,maxSize:null,typeName:Lt.ZodSet,...$t(t)});class zc extends ar{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ft.function)return ot(r,{code:Je.invalid_type,expected:ft.function,received:r.parsedType}),Pt;function n(l,d){return $y({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,qy(),ch].filter(p=>!!p),issueData:{code:Je.invalid_arguments,argumentsError:d}})}function s(l,d){return $y({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,qy(),ch].filter(p=>!!p),issueData:{code:Je.invalid_return_type,returnTypeError:d}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof gh){const l=this;return Kn(async function(...d){const p=new Ai([]),g=await l._def.args.parseAsync(d,a).catch(S=>{throw p.addIssue(n(d,S)),p}),y=await Reflect.apply(o,this,g);return await l._def.returns._def.type.parseAsync(y,a).catch(S=>{throw p.addIssue(s(y,S)),p})})}else{const l=this;return Kn(function(...d){const p=l._def.args.safeParse(d,a);if(!p.success)throw new Ai([n(d,p.error)]);const g=Reflect.apply(o,this,p.data),y=l._def.returns.safeParse(g,a);if(!y.success)throw new Ai([s(g,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new zc({...this._def,args:as.create(t).rest(Xu.create())})}returns(t){return new zc({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new zc({args:t||as.create([]).rest(Xu.create()),returns:r||Xu.create(),typeName:Lt.ZodFunction,...$t(n)})}}class Cw extends ar{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Cw.create=(i,t)=>new Cw({getter:i,typeName:Lt.ZodLazy,...$t(t)});class Xy extends ar{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ot(r,{received:r.data,code:Je.invalid_literal,expected:this._def.value}),Pt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Xy.create=(i,t)=>new Xy({value:i,typeName:Lt.ZodLiteral,...$t(t)});function zT(i,t){return new cl({values:i,typeName:Lt.ZodEnum,...$t(t)})}class cl extends ar{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ot(r,{expected:cr.joinValues(n),received:r.parsedType,code:Je.invalid_type}),Pt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ot(r,{received:r.data,code:Je.invalid_enum_value,options:n}),Pt}return Kn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return cl.create(t,{...this._def,...r})}exclude(t,r=this._def){return cl.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}cl.create=zT;class Aw extends ar{_parse(t){const r=cr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ft.string&&n.parsedType!==ft.number){const s=cr.objectValues(r);return ot(n,{expected:cr.joinValues(s),received:n.parsedType,code:Je.invalid_type}),Pt}if(this._cache||(this._cache=new Set(cr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=cr.objectValues(r);return ot(n,{received:n.data,code:Je.invalid_enum_value,options:s}),Pt}return Kn(t.data)}get enum(){return this._def.values}}Aw.create=(i,t)=>new Aw({values:i,typeName:Lt.ZodNativeEnum,...$t(t)});class gh extends ar{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ft.promise&&r.common.async===!1)return ot(r,{code:Je.invalid_type,expected:ft.promise,received:r.parsedType}),Pt;const n=r.parsedType===ft.promise?r.data:Promise.resolve(r.data);return Kn(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}gh.create=(i,t)=>new gh({type:i,typeName:Lt.ZodPromise,...$t(t)});class hl extends ar{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Lt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{ot(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Pt;const d=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return d.status==="aborted"?Pt:d.status==="dirty"||r.value==="dirty"?Rc(d.value):d});{if(r.value==="aborted")return Pt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Pt:l.status==="dirty"||r.value==="dirty"?Rc(l.value):l}}if(s.type==="refinement"){const o=l=>{const d=s.refinement(l,a);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Pt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Pt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ul(o))return Pt;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ul(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):Pt);cr.assertNever(s)}}hl.create=(i,t,r)=>new hl({schema:i,typeName:Lt.ZodEffects,effect:t,...$t(r)});hl.createWithPreprocess=(i,t,r)=>new hl({schema:t,effect:{type:"preprocess",transform:i},typeName:Lt.ZodEffects,...$t(r)});class ka extends ar{_parse(t){return this._getType(t)===ft.undefined?Kn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ka.create=(i,t)=>new ka({innerType:i,typeName:Lt.ZodOptional,...$t(t)});class fl extends ar{_parse(t){return this._getType(t)===ft.null?Kn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}fl.create=(i,t)=>new fl({innerType:i,typeName:Lt.ZodNullable,...$t(t)});class Zy extends ar{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ft.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Zy.create=(i,t)=>new Zy({innerType:i,typeName:Lt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...$t(t)});class Ky extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Wd(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ai(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ai(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ky.create=(i,t)=>new Ky({innerType:i,typeName:Lt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...$t(t)});class Dw extends ar{_parse(t){if(this._getType(t)!==ft.nan){const n=this._getOrReturnCtx(t);return ot(n,{code:Je.invalid_type,expected:ft.nan,received:n.parsedType}),Pt}return{status:"valid",value:t.data}}}Dw.create=i=>new Dw({typeName:Lt.ZodNaN,...$t(i)});class wI extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class y1 extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Pt:a.status==="dirty"?(r.dirty(),Rc(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Pt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new y1({in:t,out:r,typeName:Lt.ZodPipeline})}}class Qy extends ar{_parse(t){const r=this._def.innerType._parse(t),n=s=>(ul(s)&&(s.value=Object.freeze(s.value)),s);return Wd(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Qy.create=(i,t)=>new Qy({innerType:i,typeName:Lt.ZodReadonly,...$t(t)});function Tw(i,t){const r=typeof i=="function"?i(t):typeof i=="string"?{message:i}:i;return typeof r=="string"?{message:r}:r}function GT(i,t={},r){return i?fh.create().superRefine((n,s)=>{const a=i(n);if(a instanceof Promise)return a.then(o=>{if(!o){const l=Tw(t,n),d=l.fatal??r??!0;s.addIssue({code:"custom",...l,fatal:d})}});if(!a){const o=Tw(t,n),l=o.fatal??r??!0;s.addIssue({code:"custom",...o,fatal:l})}}):fh.create()}var Lt;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(Lt||(Lt={}));const Nw=(i,t={message:`Input not instance of ${i.name}`})=>GT(r=>r instanceof i,t),EI=Na.create,Ow=ll.create,CI=Wy.create,Tm=fh.create;Xu.create;ja.create;const Fw=is.create,AI=en.create,Rw=dh.create;Xd.create;const Mw=as.create,kw=zc.create,Pw=Xy.create;cl.create;gh.create;ka.create;fl.create;var DI={describe:{overloads:[["String","FALLBACK|LABEL?"]]},describeElement:{overloads:[["String","String","FALLBACK|LABEL?"]]},textOutput:{overloads:[["FALLBACK|LABEL?"]]},gridOutput:{overloads:[["FALLBACK|LABEL?"]]},p5:{overloads:[["Object","String|HTMLElement"]]},color:{overloads:[["Number","Number?"],["Number","Number","Number","Number?"],["String"],["Number[]"],["p5.Color"]]},red:{overloads:[["p5.Color|Number[]|String"]]},green:{overloads:[["p5.Color|Number[]|String"]]},blue:{overloads:[["p5.Color|Number[]|String"]]},alpha:{overloads:[["p5.Color|Number[]|String"]]},hue:{overloads:[["p5.Color|Number[]|String"]]},saturation:{overloads:[["p5.Color|Number[]|String"]]},brightness:{overloads:[["p5.Color|Number[]|String"]]},lightness:{overloads:[["p5.Color|Number[]|String"]]},lerpColor:{overloads:[["p5.Color","p5.Color","Number"]]},paletteLerp:{overloads:[["[p5.Color|String|Number|Number[], Number][]","Number"]]},beginClip:{overloads:[["Object?"]]},endClip:{overloads:[[]]},clip:{overloads:[["Function","Object?"]]},background:{overloads:[["p5.Color"],["String","Number?"],["Number","Number?"],["Number","Number","Number","Number?"],["Number[]"],["p5.Image","Number?"]]},clear:{overloads:[["Number?","Number?","Number?","Number?"],[]]},colorMode:{overloads:[["RGB|HSB|HSL|RGBHDR|HWB|LAB|LCH|OKLAB|OKLCH","Number?"],["RGB|HSB|HSL|RGBHDR|HWB|LAB|LCH|OKLAB|OKLCH","Number","Number","Number","Number?"]]},fill:{overloads:[["Number","Number","Number","Number?"],["String"],["Number","Number?"],["Number[]"],["p5.Color"]]},noFill:{overloads:[[]]},noStroke:{overloads:[[]]},stroke:{overloads:[["Number","Number","Number","Number?"],["String"],["Number","Number?"],["Number[]"],["p5.Color"]]},erase:{overloads:[["Number?","Number?"]]},noErase:{overloads:[[]]},blendMode:{overloads:[["BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|REMOVE|SUBTRACT"]]},print:{overloads:[["Any"],["String|Number|Array"]]},cursor:{overloads:[["ARROW|CROSS|HAND|MOVE|TEXT|WAIT|String","Number?","Number?"]]},frameRate:{overloads:[["Number"],[]]},getTargetFrameRate:{overloads:[[]]},noCursor:{overloads:[[]]},windowResized:{overloads:[["UIEvent?"]]},fullscreen:{overloads:[["Boolean?"]]},pixelDensity:{overloads:[["Number?"],[]]},displayDensity:{overloads:[[]]},getURL:{overloads:[[]]},getURLPath:{overloads:[[]]},getURLParams:{overloads:[[]]},worldToScreen:{overloads:[["Number|p5.Vector","Number","Number?"]]},screenToWorld:{overloads:[["Number|p5.Vector","Number","Number?"]]},setup:{overloads:[[]]},draw:{overloads:[[]]},createCanvas:{overloads:[["Number?","Number?","P2D|WEBGL|P2DHDR?","HTMLCanvasElement?"],["Number?","Number?","HTMLCanvasElement?"]]},resizeCanvas:{overloads:[["Number","Number","Boolean?"]]},noCanvas:{overloads:[[]]},createGraphics:{overloads:[["Number","Number","P2D|WEBGL?","HTMLCanvasElement?"],["Number","Number","HTMLCanvasElement?"]]},createFramebuffer:{overloads:[["Object?"]]},clearDepth:{overloads:[["Number?"]]},noLoop:{overloads:[[]]},loop:{overloads:[[]]},isLooping:{overloads:[[]]},redraw:{overloads:[["Integer?"]]},applyMatrix:{overloads:[["Array"],["Number","Number","Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number"]]},resetMatrix:{overloads:[[]]},rotate:{overloads:[["Number","p5.Vector|Number[]?"]]},rotateX:{overloads:[["Number"]]},rotateY:{overloads:[["Number"]]},rotateZ:{overloads:[["Number"]]},scale:{overloads:[["Number|p5.Vector|Number[]","Number?","Number?"],["p5.Vector|Number[]"]]},shearX:{overloads:[["Number"]]},shearY:{overloads:[["Number"]]},translate:{overloads:[["Number","Number","Number?"],["p5.Vector"]]},push:{overloads:[[]]},pop:{overloads:[[]]},storeItem:{overloads:[["String","String|Number|Boolean|Object|Array"]]},getItem:{overloads:[["String"]]},clearStorage:{overloads:[[]]},removeItem:{overloads:[["String"]]},select:{overloads:[["String","String|p5.Element|HTMLElement?"]]},selectAll:{overloads:[["String","String|p5.Element|HTMLElement?"]]},createElement:{overloads:[["String","String?"]]},removeElements:{overloads:[[]]},addElement:{overloads:[[]]},createDiv:{overloads:[["String?"]]},createP:{overloads:[["String?"]]},createSpan:{overloads:[["String?"]]},createImg:{overloads:[["String","String"],["String","String","String?","Function?"]]},createA:{overloads:[["String","String","String?"]]},createSlider:{overloads:[["Number","Number","Number?","Number?"]]},createButton:{overloads:[["String","String?"]]},createCheckbox:{overloads:[["String?","Boolean?"]]},createSelect:{overloads:[["Boolean?"],["Object"]]},createRadio:{overloads:[["Object?"],["String?"],[]]},createColorPicker:{overloads:[["String|p5.Color?"]]},createInput:{overloads:[["String?","String?"],["String?"]]},createFileInput:{overloads:[["Function","Boolean?"]]},setMoveThreshold:{overloads:[["Number"]]},setShakeThreshold:{overloads:[["Number"]]},deviceMoved:{overloads:[[]]},deviceTurned:{overloads:[[]]},deviceShaken:{overloads:[[]]},keyPressed:{overloads:[["KeyboardEvent?"]]},keyReleased:{overloads:[["KeyboardEvent?"]]},keyTyped:{overloads:[["KeyboardEvent?"]]},keyIsDown:{overloads:[["Number|String"]]},mouseMoved:{overloads:[["MouseEvent?"]]},mouseDragged:{overloads:[["MouseEvent?"]]},mousePressed:{overloads:[["MouseEvent?"]]},mouseReleased:{overloads:[["MouseEvent?"]]},mouseClicked:{overloads:[["MouseEvent?"]]},doubleClicked:{overloads:[["MouseEvent?"]]},mouseWheel:{overloads:[["WheelEvent?"]]},requestPointerLock:{overloads:[[]]},exitPointerLock:{overloads:[[]]},createImage:{overloads:[["Integer","Integer"]]},saveCanvas:{overloads:[["p5.Framebuffer|p5.Element|HTMLCanvasElement","String?","String?"],["String?","String?"]]},saveFrames:{overloads:[["String","String","Number","Number","function(Array)?"]]},loadImage:{overloads:[["String|Request","function(p5.Image)?","function(Event)?"]]},saveGif:{overloads:[["String","Number","Object?"]]},image:{overloads:[["p5.Image|p5.Element|p5.Texture|p5.Framebuffer|p5.FramebufferTexture|p5.Renderer|p5.Graphics","Number","Number","Number?","Number?"],["p5.Image|p5.Element|p5.Texture|p5.Framebuffer|p5.FramebufferTexture","Number","Number","Number","Number","Number","Number","Number?","Number?","CONTAIN|COVER?","LEFT|RIGHT|CENTER?","TOP|BOTTOM|CENTER?"]]},tint:{overloads:[["Number","Number","Number","Number?"],["String"],["Number","Number?"],["Number[]"],["p5.Color"]]},noTint:{overloads:[[]]},imageMode:{overloads:[["CORNER|CORNERS|CENTER"]]},blend:{overloads:[["p5.Image","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"]]},copy:{overloads:[["p5.Image|p5.Element","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"]]},filter:{overloads:[["THRESHOLD|GRAY|OPAQUE|INVERT|POSTERIZE|BLUR|ERODE|DILATE|BLUR","Number?","Boolean?"],["p5.Shader"]]},get:{overloads:[["Number","Number","Number","Number"],[],["Number","Number"]]},loadPixels:{overloads:[[]]},set:{overloads:[["Number","Number","Number|Number[]|Object"]]},updatePixels:{overloads:[["Number?","Number?","Number?","Number?"],[]]},loadJSON:{overloads:[["String|Request","Function?","Function?"]]},loadStrings:{overloads:[["String|Request","Function?","Function?"]]},loadTable:{overloads:[["String|Request","String?","String?","Function?","Function?"]]},loadXML:{overloads:[["String|Request","Function?","Function?"]]},loadBytes:{overloads:[["String|Request","Function?","Function?"]]},loadBlob:{overloads:[["String|Request","Function?","Function?"]]},httpGet:{overloads:[["String|Request","String?","Function?","Function?"],["String|Request","Function","Function?"]]},httpPost:{overloads:[["String|Request","Object|Boolean?","String?","Function?","Function?"],["String|Request","Object|Boolean","Function?","Function?"],["String|Request","Function?","Function?"]]},httpDo:{overloads:[["String|Request","String?","String?","Object?","Function?","Function?"],["String|Request","Function?","Function?"]]},createWriter:{overloads:[["String","String?"]]},write:{overloads:[["String|Number|Array"]]},close:{overloads:[[]]},save:{overloads:[["Object|String?","String?","Boolean|String?"]]},saveJSON:{overloads:[["Array|Object","String","Boolean?"]]},saveStrings:{overloads:[["String[]","String","String?","Boolean?"]]},saveTable:{overloads:[["p5.Table","String","String?"]]},abs:{overloads:[["Number"]]},ceil:{overloads:[["Number"]]},constrain:{overloads:[["Number","Number","Number"]]},dist:{overloads:[["Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number"],["p5.Vector"]]},exp:{overloads:[["Number"]]},floor:{overloads:[["Number"]]},lerp:{overloads:[["Number","Number","Number"]]},log:{overloads:[["Number"]]},mag:{overloads:[["Number","Number"]]},map:{overloads:[["Number","Number","Number","Number","Number","Boolean?"]]},max:{overloads:[["Number","Number"],["Number[]"]]},min:{overloads:[["Number","Number"],["Number[]"]]},norm:{overloads:[["Number","Number","Number"]]},pow:{overloads:[["Number","Number"]]},round:{overloads:[["Number","Number?"]]},sq:{overloads:[["Number"]]},sqrt:{overloads:[["Number"]]},fract:{overloads:[["Number"]]},createVector:{overloads:[["...Number[]"]]},noise:{overloads:[["Number","Number?","Number?"]]},noiseDetail:{overloads:[["Number","Number"]]},noiseSeed:{overloads:[["Number"]]},randomSeed:{overloads:[["Number"]]},random:{overloads:[["Number?","Number?"],["Array"]]},randomGaussian:{overloads:[["Number?","Number?"]]},acos:{overloads:[["Number"]]},asin:{overloads:[["Number"]]},atan:{overloads:[["Number"]]},atan2:{overloads:[["Number","Number"]]},cos:{overloads:[["Number"]]},sin:{overloads:[["Number"]]},tan:{overloads:[["Number"]]},degrees:{overloads:[["Number"]]},radians:{overloads:[["Number"]]},angleMode:{overloads:[["RADIANS|DEGREES"],[]]},arc:{overloads:[["Number","Number","Number","Number","Number","Number","CHORD|PIE|OPEN?","Integer?"]]},ellipse:{overloads:[["Number","Number","Number","Number?"],["Number","Number","Number","Number","Integer?"]]},circle:{overloads:[["Number","Number","Number"]]},line:{overloads:[["Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number"]]},point:{overloads:[["Number","Number","Number?"],["p5.Vector"]]},quad:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number","Integer?","Integer?"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Integer?","Integer?"]]},rect:{overloads:[["Number","Number","Number","Number?","Number?","Number?","Number?","Number?"],["Number","Number","Number","Number","Integer?","Integer?"]]},square:{overloads:[["Number","Number","Number","Number?","Number?","Number?","Number?"]]},triangle:{overloads:[["Number","Number","Number","Number","Number","Number"]]},ellipseMode:{overloads:[["CENTER|RADIUS|CORNER|CORNERS"]]},noSmooth:{overloads:[[]]},rectMode:{overloads:[["CENTER|RADIUS|CORNER|CORNERS"]]},smooth:{overloads:[[]]},strokeCap:{overloads:[["ROUND|SQUARE|PROJECT"]]},strokeJoin:{overloads:[["MITER|BEVEL|ROUND"]]},strokeWeight:{overloads:[["Number"]]},bezier:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number"]]},bezierPoint:{overloads:[["Number","Number","Number","Number","Number"]]},bezierTangent:{overloads:[["Number","Number","Number","Number","Number"]]},spline:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number"],["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number","Number"]]},splinePoint:{overloads:[["Number","Number","Number","Number","Number"]]},splineTangent:{overloads:[["Number","Number","Number","Number","Number"]]},bezierOrder:{overloads:[["Number"],[]]},splineVertex:{overloads:[["Number","Number"],["Number","Number","Number?"],["Number","Number","Number?","Number?"],["Number","Number","Number","Number?","Number?"]]},splineProperty:{overloads:[["String",null],["String"]]},splineProperties:{overloads:[["Object"],[]]},vertex:{overloads:[["Number","Number"],["Number","Number","Number?","Number?"],["Number","Number","Number","Number?","Number?"]]},beginContour:{overloads:[[]]},endContour:{overloads:[["OPEN|CLOSE?"]]},beginShape:{overloads:[["POINTS|LINES|TRIANGLES|TRIANGLE_FAN|TRIANGLE_STRIP|QUADS|QUAD_STRIP|PATH?"]]},bezierVertex:{overloads:[["Number","Number","Number?","Number?"],["Number","Number","Number","Number?","Number?"]]},endShape:{overloads:[["CLOSE?","Integer?"]]},normal:{overloads:[["p5.Vector"],["Number","Number","Number"]]},vertexProperty:{overloads:[["String","Number|Number[]"]]},loadFont:{overloads:[["String","String?","Object?","Function?","Function?"],["String","Function?","Function?"]]},text:{overloads:[["String|Object|Array|Number|Boolean","Number","Number","Number?","Number?"]]},textAlign:{overloads:[["LEFT|CENTER|RIGHT","TOP|BOTTOM|CENTER|BASELINE?"]]},textAscent:{overloads:[["String?"]]},textDescent:{overloads:[["String?"]]},textLeading:{overloads:[["Number"]]},textFont:{overloads:[["p5.Font|String|Object","Number?"]]},textSize:{overloads:[["Number"],[]]},textStyle:{overloads:[["NORMAL|ITALIC|BOLD|BOLDITALIC"],[]]},textWidth:{overloads:[["String"]]},textWrap:{overloads:[["WORD|CHAR"],[]]},textBounds:{overloads:[["String","Number","Number","Number?","Number?"]]},textDirection:{overloads:[["String"],[]]},textProperty:{overloads:[["String",null],["String"]]},textProperties:{overloads:[["Object"],[]]},fontBounds:{overloads:[["String","Number","Number","Number?","Number?"]]},fontWidth:{overloads:[["String"]]},fontAscent:{overloads:[[]]},fontDescent:{overloads:[[]]},textWeight:{overloads:[["Number"],[]]},float:{overloads:[["String"],["String[]"]]},int:{overloads:[["String|Boolean|Number"],["Array"]]},str:{overloads:[["String|Boolean|Number"]]},boolean:{overloads:[["String|Boolean|Number"],["Array"]]},byte:{overloads:[["String|Boolean|Number"],["Array"]]},char:{overloads:[["String|Number"],["Array"]]},unchar:{overloads:[["String"],["String[]"]]},hex:{overloads:[["Number","Number?"],["Number[]","Number?"]]},unhex:{overloads:[["String"],["String[]"]]},day:{overloads:[[]]},hour:{overloads:[[]]},minute:{overloads:[[]]},millis:{overloads:[[]]},month:{overloads:[[]]},second:{overloads:[[]]},year:{overloads:[[]]},nf:{overloads:[["Number|String","Integer|String?","Integer|String?"],["Number[]","Integer|String?","Integer|String?"]]},nfc:{overloads:[["Number|String","Integer|String?"],["Number[]","Integer|String?"]]},nfp:{overloads:[["Number","Integer?","Integer?"],["Number[]","Integer?","Integer?"]]},nfs:{overloads:[["Number","Integer?","Integer?"],["Array","Integer?","Integer?"]]},splitTokens:{overloads:[["String","String?"]]},shuffle:{overloads:[["Array","Boolean?"]]},strokeMode:{overloads:[["String"]]},buildGeometry:{overloads:[["Function"]]},freeGeometry:{overloads:[["p5.Geometry"]]},plane:{overloads:[["Number?","Number?","Integer?","Integer?"]]},box:{overloads:[["Number?","Number?","Number?","Integer?","Integer?"]]},sphere:{overloads:[["Number?","Integer?","Integer?"]]},cylinder:{overloads:[["Number?","Number?","Integer?","Integer?","Boolean?","Boolean?"]]},cone:{overloads:[["Number?","Number?","Integer?","Integer?","Boolean?"]]},ellipsoid:{overloads:[["Number?","Number?","Number?","Integer?","Integer?"]]},torus:{overloads:[["Number?","Number?","Integer?","Integer?"]]},curveDetail:{overloads:[["Number"]]},orbitControl:{overloads:[["Number?","Number?","Number?","Object?"]]},debugMode:{overloads:[[],["GRID|AXES"],["GRID|AXES","Number?","Number?","Number?","Number?","Number?"],["GRID|AXES","Number?","Number?","Number?","Number?"],["Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?"]]},noDebugMode:{overloads:[[]]},ambientLight:{overloads:[["Number","Number","Number","Number?"],["Number","Number?"],["String"],["Number[]"],["p5.Color"]]},specularColor:{overloads:[["Number","Number","Number"],["Number"],["String"],["Number[]"],["p5.Color"]]},directionalLight:{overloads:[["Number","Number","Number","Number","Number","Number"],["Number","Number","Number","p5.Vector"],["p5.Color|Number[]|String","Number","Number","Number"],["p5.Color|Number[]|String","p5.Vector"]]},pointLight:{overloads:[["Number","Number","Number","Number","Number","Number"],["Number","Number","Number","p5.Vector"],["p5.Color|Number[]|String","Number","Number","Number"],["p5.Color|Number[]|String","p5.Vector"]]},imageLight:{overloads:[["p5.image"]]},panorama:{overloads:[["p5.Image"]]},lights:{overloads:[[]]},lightFalloff:{overloads:[["Number","Number","Number"]]},spotLight:{overloads:[["Number","Number","Number","Number","Number","Number","Number","Number","Number","Number?","Number?"],["p5.Color|Number[]|String","p5.Vector","p5.Vector","Number?","Number?"],["Number","Number","Number","p5.Vector","p5.Vector","Number?","Number?"],["p5.Color|Number[]|String","Number","Number","Number","p5.Vector","Number?","Number?"],["p5.Color|Number[]|String","p5.Vector","Number","Number","Number","Number?","Number?"],["Number","Number","Number","Number","Number","Number","p5.Vector","Number?","Number?"],["Number","Number","Number","p5.Vector","Number","Number","Number","Number?","Number?"],["p5.Color|Number[]|String","Number","Number","Number","Number","Number","Number","Number?","Number?"]]},noLights:{overloads:[[]]},loadModel:{overloads:[["String|Request","String?","Boolean","function(p5.Geometry)?","function(Event)?"],["String|Request","String?","function(p5.Geometry)?","function(Event)?"],["String|Request","Object?"]]},model:{overloads:[["p5.Geometry","Number?"]]},createModel:{overloads:[["String","String?","Boolean","function(p5.Geometry)?","function(Event)?"],["String","String?","function(p5.Geometry)?","function(Event)?"],["String","String?","Object?"]]},loadShader:{overloads:[["String|Request","String|Request","Function?","Function?"]]},createShader:{overloads:[["String","String","Object?"]]},loadFilterShader:{overloads:[["String","Function?","Function?"]]},createFilterShader:{overloads:[["String"]]},shader:{overloads:[["p5.Shader"]]},strokeShader:{overloads:[["p5.Shader"]]},imageShader:{overloads:[["p5.Shader"]]},baseMaterialShader:{overloads:[[]]},baseFilterShader:{overloads:[[]]},baseNormalShader:{overloads:[[]]},baseColorShader:{overloads:[[]]},baseStrokeShader:{overloads:[[]]},resetShader:{overloads:[[]]},texture:{overloads:[["p5.Image|p5.MediaElement|p5.Graphics|p5.Texture|p5.Framebuffer|p5.FramebufferTexture"]]},textureMode:{overloads:[["IMAGE|NORMAL"]]},textureWrap:{overloads:[["CLAMP|REPEAT|MIRROR","CLAMP|REPEAT|MIRROR?"]]},normalMaterial:{overloads:[[]]},ambientMaterial:{overloads:[["Number","Number","Number"],["Number"],["p5.Color|Number[]|String"]]},emissiveMaterial:{overloads:[["Number","Number","Number","Number?"],["Number"],["p5.Color|Number[]|String"]]},specularMaterial:{overloads:[["Number","Number?"],["Number","Number","Number","Number?"],["p5.Color|Number[]|String"]]},shininess:{overloads:[["Number"]]},metalness:{overloads:[["Number"]]},camera:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?"]]},perspective:{overloads:[["Number?","Number?","Number?","Number?"]]},linePerspective:{overloads:[["Boolean"],[]]},ortho:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},frustum:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},createCamera:{overloads:[[]]},setCamera:{overloads:[["p5.Camera"]]},saveObj:{overloads:[["String?"]]},saveStl:{overloads:[["String?","Object?"]]},setAttributes:{overloads:[["String","Boolean"],["Object"]]},remove:{overloads:[[]]},createVideo:{overloads:[["String|String[]","Function?"]]},createAudio:{overloads:[[],["String|String[]?","Function?"]]},createCapture:{overloads:[["AUDIO|VIDEO|Object?","Object?","Function?"]]}},TI={p5:DI,"p5.Geometry":{flipV:{overloads:[[]]},calculateBoundingBox:{overloads:[[]]},clearColors:{overloads:[[]]},flipU:{overloads:[[]]},computeFaces:{overloads:[[]]},computeNormals:{overloads:[["FLAT|SMOOTH?","Object?"]]},makeEdgesFromFaces:{overloads:[[]]},normalize:{overloads:[[]]},vertexProperty:{overloads:[["String","Number|Number[]","Number?"]]}},"p5.Color":{toString:{overloads:[["String?"]]},setRed:{overloads:[["Number"]]},setGreen:{overloads:[["Number"]]},setBlue:{overloads:[["Number"]]},setAlpha:{overloads:[["Number"]]}},"p5.Graphics":{reset:{overloads:[[]]},remove:{overloads:[[]]},createFramebuffer:{overloads:[["Object?"]]}},"p5.Element":{remove:{overloads:[[]]},parent:{overloads:[["String|p5.Element|Object"],[]]},child:{overloads:[[],["String|p5.Element?"]]},html:{overloads:[[],["String?","Boolean?"]]},id:{overloads:[["String"],[]]},class:{overloads:[["String"],[]]},addClass:{overloads:[["String"]]},removeClass:{overloads:[["String"]]},hasClass:{overloads:[[null]]},toggleClass:{overloads:[[null]]},center:{overloads:[["String?"]]},position:{overloads:[[],["Number?","Number?","String?"]]},show:{overloads:[[]]},hide:{overloads:[[]]},size:{overloads:[[],["Number|AUTO?","Number|AUTO?"]]},style:{overloads:[["String"],["String","String|p5.Color"]]},attribute:{overloads:[[],["String","String"]]},removeAttribute:{overloads:[["String"]]},value:{overloads:[[],["String|Number"]]},mousePressed:{overloads:[["Function|Boolean"]]},doubleClicked:{overloads:[["Function|Boolean"]]},mouseWheel:{overloads:[["Function|Boolean"]]},mouseReleased:{overloads:[["Function|Boolean"]]},mouseClicked:{overloads:[["Function|Boolean"]]},mouseMoved:{overloads:[["Function|Boolean"]]},mouseOver:{overloads:[["Function|Boolean"]]},mouseOut:{overloads:[["Function|Boolean"]]},dragOver:{overloads:[["Function|Boolean"]]},dragLeave:{overloads:[["Function|Boolean"]]},changed:{overloads:[["Function|Boolean"]]},input:{overloads:[["Function|Boolean"]]},drop:{overloads:[["Function","Function?"]]},draggable:{overloads:[["p5.Element?"]]}},"p5.MediaElement":{play:{overloads:[[]]},stop:{overloads:[[]]},pause:{overloads:[[]]},loop:{overloads:[[]]},noLoop:{overloads:[[]]},autoplay:{overloads:[["Boolean?"]]},volume:{overloads:[[],["Number"]]},speed:{overloads:[[],["Number"]]},time:{overloads:[[],["Number"]]},duration:{overloads:[[]]},onended:{overloads:[["Function"]]},connect:{overloads:[["AudioNode|Object"]]},disconnect:{overloads:[[]]},showControls:{overloads:[[]]},hideControls:{overloads:[[]]},addCue:{overloads:[["Number","Function","Object?"]]},removeCue:{overloads:[["Number"]]},clearCues:{overloads:[[]]}},"p5.Image":{pixelDensity:{overloads:[["Number?"]]},loadPixels:{overloads:[[]]},updatePixels:{overloads:[["Integer","Integer","Integer","Integer"]]},get:{overloads:[["Number","Number","Number","Number"],[],["Number","Number"]]},set:{overloads:[["Number","Number","Number|Number[]|Object"]]},resize:{overloads:[["Number","Number"]]},copy:{overloads:[["p5.Image|p5.Element","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer"]]},mask:{overloads:[["p5.Image"]]},filter:{overloads:[["THRESHOLD|GRAY|OPAQUE|INVERT|POSTERIZE|ERODE|DILATE|BLUR","Number?"]]},blend:{overloads:[["p5.Image","Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"],["Integer","Integer","Integer","Integer","Integer","Integer","Integer","Integer","BLEND|DARKEST|LIGHTEST|DIFFERENCE|MULTIPLY|EXCLUSION|SCREEN|REPLACE|OVERLAY|HARD_LIGHT|SOFT_LIGHT|DODGE|BURN|ADD|NORMAL"]]},save:{overloads:[["String","String?"]]},reset:{overloads:[[]]},getCurrentFrame:{overloads:[[]]},setFrame:{overloads:[["Number"]]},numFrames:{overloads:[[]]},play:{overloads:[[]]},pause:{overloads:[[]]},delay:{overloads:[["Number","Number?"]]}},"p5.Table":{addRow:{overloads:[["p5.TableRow?"]]},removeRow:{overloads:[["Integer"]]},getRow:{overloads:[["Integer"]]},getRows:{overloads:[[]]},findRow:{overloads:[["String","Integer|String"]]},findRows:{overloads:[["String","Integer|String"]]},matchRow:{overloads:[["String|RegExp","String|Integer"]]},matchRows:{overloads:[["String","String|Integer?"]]},getColumn:{overloads:[["String|Number"]]},clearRows:{overloads:[[]]},addColumn:{overloads:[["String?"]]},getColumnCount:{overloads:[[]]},getRowCount:{overloads:[[]]},removeTokens:{overloads:[["String","String|Integer?"]]},trim:{overloads:[["String|Integer?"]]},removeColumn:{overloads:[["String|Integer"]]},set:{overloads:[["Integer","String|Integer","String|Number"]]},setNum:{overloads:[["Integer","String|Integer","Number"]]},setString:{overloads:[["Integer","String|Integer","String"]]},get:{overloads:[["Integer","String|Integer"]]},getNum:{overloads:[["Integer","String|Integer"]]},getString:{overloads:[["Integer","String|Integer"]]},getObject:{overloads:[["String?"]]},getArray:{overloads:[[]]}},"p5.TableRow":{set:{overloads:[["String|Integer","String|Number"]]},setNum:{overloads:[["String|Integer","Number|String"]]},setString:{overloads:[["String|Integer","String|Number|Boolean|Object"]]},get:{overloads:[["String|Integer"]]},getNum:{overloads:[["String|Integer"]]},getString:{overloads:[["String|Integer"]]}},"p5.XML":{getParent:{overloads:[[]]},getName:{overloads:[[]]},setName:{overloads:[["String"]]},hasChildren:{overloads:[[]]},listChildren:{overloads:[[]]},getChildren:{overloads:[["String?"]]},getChild:{overloads:[["String|Integer"]]},addChild:{overloads:[["p5.XML"]]},removeChild:{overloads:[["String|Integer"]]},getAttributeCount:{overloads:[[]]},listAttributes:{overloads:[[]]},hasAttribute:{overloads:[["String"]]},getNum:{overloads:[["String","Number?"]]},getString:{overloads:[["String","Number?"]]},setAttribute:{overloads:[["String","Number|String|Boolean"]]},getContent:{overloads:[["String?"]]},serialize:{overloads:[[]]}},"p5.Vector":{getValue:{overloads:[["Number"]]},setValue:{overloads:[["Number","Number"]]},set:{overloads:[["Number?","Number?","Number?"],["p5.Vector|Number[]"]]},copy:{overloads:[[],["p5.Vector"]]},add:{overloads:[["Number|Array","Number?","Number?"],["p5.Vector|Number[]"],["p5.Vector","p5.Vector","p5.Vector?"]]},rem:{overloads:[["Number","Number","Number"],["p5.Vector|Number[]"],["p5.Vector","p5.Vector"]]},sub:{overloads:[["Number","Number?","Number?"],["p5.Vector|Number[]"],["p5.Vector","p5.Vector","p5.Vector?"]]},mult:{overloads:[["Number","Number","Number?"],["Number[]"],["p5.Vector"],[],["p5.Vector","Number","p5.Vector?"],["p5.Vector","p5.Vector","p5.Vector?"],["p5.Vector","Number[]","p5.Vector?"]]},div:{overloads:[["Number"],["Number","Number","Number?"],["Number[]"],["p5.Vector"],[],["p5.Vector","Number","p5.Vector?"],["p5.Vector","p5.Vector","p5.Vector?"],["p5.Vector","Number[]","p5.Vector?"]]},mag:{overloads:[[],["p5.Vector"]]},magSq:{overloads:[[],["p5.Vector"]]},dot:{overloads:[["Number","Number?","Number?"],["p5.Vector"],[],["p5.Vector","p5.Vector"]]},cross:{overloads:[["p5.Vector"],[],["p5.Vector","p5.Vector"]]},normalize:{overloads:[[],["p5.Vector","p5.Vector?"]]},limit:{overloads:[["Number"],[],["p5.Vector","Number","p5.Vector?"]]},setMag:{overloads:[["Number"],[],["p5.Vector","Number","p5.Vector?"]]},heading:{overloads:[[],["p5.Vector"]]},setHeading:{overloads:[["Number"]]},rotate:{overloads:[["Number"],[],["p5.Vector","Number","p5.Vector?"]]},angleBetween:{overloads:[["p5.Vector"],[],["p5.Vector","p5.Vector"]]},lerp:{overloads:[["Number","Number","Number","Number"],["p5.Vector","Number"],[],["p5.Vector","p5.Vector","Number","p5.Vector?"]]},slerp:{overloads:[["p5.Vector","Number"],[],["p5.Vector","p5.Vector","Number","p5.Vector?"]]},reflect:{overloads:[["p5.Vector"],[],["p5.Vector","p5.Vector","p5.Vector?"]]},array:{overloads:[[],["p5.Vector"]]},equals:{overloads:[["Number?","Number?","Number?"],["p5.Vector|Array"],[],["p5.Vector|Array","p5.Vector|Array"]]},fromAngle:{overloads:[["Number","Number?"]]},fromAngles:{overloads:[["Number","Number","Number?"]]},random2D:{overloads:[[]]},random3D:{overloads:[[]]},dist:{overloads:[[],["p5.Vector","p5.Vector"]]}},"p5.Font":{textToPaths:{overloads:[["String","Number","Number","Number?","Number?","Object?"]]},textToPoints:{overloads:[["String","Number","Number","Object?"]]},textToContours:{overloads:[["String","Number","Number","Object?"]]},textToModel:{overloads:[["String","Number","Number","Number","Number","Object?"]]}},"p5.Camera":{perspective:{overloads:[["Number?","Number?","Number?","Number?"]]},ortho:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},frustum:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?"]]},pan:{overloads:[["Number"]]},tilt:{overloads:[["Number"]]},lookAt:{overloads:[["Number","Number","Number"]]},camera:{overloads:[["Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?","Number?"]]},move:{overloads:[["Number","Number","Number"]]},setPosition:{overloads:[["Number","Number","Number"]]},set:{overloads:[["p5.Camera"]]},slerp:{overloads:[["p5.Camera","p5.Camera","Number"]]}},"p5.Framebuffer":{resize:{overloads:[["Number","Number"]]},pixelDensity:{overloads:[["Number?"]]},autoSized:{overloads:[["Boolean?"]]},createCamera:{overloads:[[]]},remove:{overloads:[[]]},begin:{overloads:[[]]},end:{overloads:[[]]},draw:{overloads:[["Function"]]},get:{overloads:[["Number","Number","Number","Number"],[],["Number","Number"]]}},"p5.Shader":{version:{overloads:[[]]},inspectHooks:{overloads:[[]]},modify:{overloads:[["Object?"]]},copyToContext:{overloads:[["p5|p5.Graphics"]]},setUniform:{overloads:[["String","Boolean|Number|Number[]|p5.Image|p5.Graphics|p5.MediaElement|p5.Texture"]]}}};function HT(i,t,r){let n=new Map;const s=Object.keys(i).reduce((_,w)=>(w.match(/^[A-Z]/)&&!w.match(/^[A-Z][A-Z0-9]*$/)&&i[w]instanceof Function&&(_[w]=i[w]),_),{});function a(){for(let _ of Object.keys(i))typeof i[_]=="function"&&_[0]!==_[0].toLowerCase()&&(s[_]=i[_])}const o={};for(const[_,w]of Object.entries(To))o[_]=w;const l={Any:Tm(),Array:Fw(Tm()),Boolean:CI(),Function:kw(),Integer:Ow().int(),Number:Ow(),Object:AI({}),String:EI()},d=["AudioNode","HTMLCanvasElement","HTMLElement","KeyboardEvent","MouseEvent","RegExp","TouchEvent","UIEvent","WheelEvent"];function p(_){return _.reduce((w,A)=>(w[A]=GT(P=>P instanceof globalThis[A],{message:`Expected a ${A}`}),w),{})}const g=p(d);Object.assign(l,g);const y=["first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth"];function x(_){const w=_.lastIndexOf("."),A=_.slice(w+1),P=_.slice(0,w!==-1?w:0)||"p5";return{funcName:A,funcClass:P}}function S(_){let w=0;for(let A=0;A<_.length;A++)if(_[A]==="[")w++;else if(_[A]==="]"&&(w--,w<0))return!1;return w===0}t.generateZodSchemasForFunc=function(_){const{funcName:w,funcClass:A}=x(_);let P=TI[A][w];if(!P)return;let D=[];P.hasOwnProperty("overloads")&&(D=P.overloads);const R=k=>{if(!k)return Tm();let B;if(k in o)B=Pw(o[k]);else if(k.match(/^[A-Z][A-Z0-9]*$/)&&k in t)B=Pw(t[k]);else if(k.startsWith("function"))B=kw();else if(/^p5\.[a-zA-Z0-9]+$/.exec(k)||k==="p5"){const L=k.substring(k.indexOf(".")+1);B=Nw(s[L])}else if(l[k])B=l[k];else if(k.startsWith("[")&&k.endsWith("]")&&S(k.slice(1,-1)))B=Mw(k.slice(1,-1).split(/, */g).map(L=>R(L)));else if(k.match(/^[A-Z]/)&&k in window)B=Nw(window[k]);else if(k.includes("|")&&k.split("|").every(L=>S(L))){const L=k.split("|");B=Rw(L.map(V=>R(V)).filter(V=>V!==void 0))}else if(k.endsWith("[]"))B=Fw(R(k.slice(0,-2)));else throw new Error(`Unsupported type '${k}' in parameter validation. Please report this issue.`);return B},F=k=>{const B=k==null?void 0:k.endsWith("?");k=k==null?void 0:k.replace(/\?$/,"");const L=(k==null?void 0:k.startsWith("..."))&&(k==null?void 0:k.endsWith("[]"));k=k==null?void 0:k.replace(/^\.\.\.(.+)\[\]$/,"$1");let V=R(k);return B&&(V=V.optional()),{schema:V,rest:L}},T=k=>{if(!k.some(V=>V==null?void 0:V.endsWith("?")))return[k];const B=k.filter(V=>V===null||!V.endsWith("?")).length,L=[];for(let V=B;V<=k.length;V++)L.push(k.slice(0,V));return L},U=D.flatMap(k=>T(k).map(L=>{var G;const V=L.map(K=>F(K)).filter(K=>K.schema!==void 0);let H;(G=V.at(-1))!=null&&G.rest&&(H=V.pop());let z=Mw(V.map(K=>K.schema));return H&&(z=z.rest(H.schema)),z}));return U.length===1?U[0]:Rw(U)},t.findClosestSchema=function(_,w){if(!(_ instanceof dh))return _;const A=F=>{let T=1/0;if(!(F instanceof as))return console.warn("Schema below is not a tuple: "),printZodSchema(F),T;const U=w.length,k=F.items,B=k.length,L=k.filter(V=>!V.isOptional()).length;U>=L&&U<=B?T=0:T=Math.abs(U<L?L-U:U-B)*4;for(let V=0;V<Math.min(k.length,w.length);V++){const H=k[V],z=w[V];H.safeParse(z).success||T++}return T};let P=_._def.options[0],D=1/0;return _._def.options.forEach(F=>{const T=A(F);T<D&&(P=F,D=T)}),P},t.friendlyParamError=function(_,w,A){let P="🌸 p5.js says: ",D=!1,R=_.errors[0];const F=(k,B,L)=>{const V=L?`at the ${y[L]} parameter`:"",H=k?`, but received ${k}`:"";return`Expected ${B} ${V}${H}`},T=k=>{var V;const B=new Set;let L;if(k.unionErrors.forEach(H=>{const z=H.issues[0];if(z){if(L||(L=z.received),z.code==="invalid_type")B.add(z.expected);else if(z.code==="invalid_literal")B.add("constant (please refer to documentation for allowed values)");else if(z.code==="custom"){const G=z.message.match(/Input not instance of (\w+)/);G&&B.add(G[1])}}}),B.size>0){((V=k.path)==null?void 0:V.length)>0&&A[k.path[0]]instanceof Promise&&(P+="Did you mean to put `await` before a loading function? An unexpected Promise was found. ",D=!0);const H=Array.from(B).join(" or "),z=k.path.join(".");P+=F(L,H,z)}return P};switch(R.code){case"invalid_union":{T(R);break}case"too_small":{const k=R.minimum;P+=`Expected at least ${k} argument${k>1?"s":""}, but received fewer`;break}case"invalid_type":{P+=F(R.received,R.expected,R.path.join("."));break}case"too_big":{const k=R.maximum;P+=`Expected at most ${k} argument${k>1?"s":""}, but received more`;break}default:console.log("Zod error object",R)}P+=` in ${w}().`;const U=k=>{const{funcName:B,funcClass:L}=x(k);return`https://p5js.org/reference/${L}/${B}`};if(R.code==="too_big"||R.code==="too_small"){const k=U(w);P+=` For more information, see ${k}.`}return D?i._error(this,P):console.log(P),P},t.validate=function(_,w){if(i.disableFriendlyErrors)return;if(Array.isArray(w)||(w=Array.from(w)),Array.isArray(w)&&w.length>0&&w.every(P=>P===void 0))return{success:!1,error:`🌸 p5.js says: All arguments for ${_}() are undefined. There is likely an error in the code.`};let A=n.get(_);if(!A){if(A=t.generateZodSchemasForFunc(_),!A)return;n.set(_,A)}try{return{success:!0,data:A.parse(w)}}catch{const R=t.findClosestSchema(A,w).safeParse(w).error;return{success:!1,error:t.friendlyParamError(R,_,w)}}},r.presetup=function(){a();const _=["validate"];for(const w in this)if(!_.includes(w)&&!w.startsWith("_")&&typeof this[w]=="function"){const A=this[w];this[w]=function(...P){return this.validate(w,P),A.call(this,...P)}}}}typeof p5<"u"&&HT(p5,p5.prototype);var NI=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],qT=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],OI="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･",$T="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Nm={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Om="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",FI={5:Om,"5module":Om+" export import",6:Om+" const class extends export import super"},RI=/^in(stanceof)?$/,MI=new RegExp("["+$T+"]"),kI=new RegExp("["+$T+OI+"]");function Jy(i,t){for(var r=65536,n=0;n<t.length;n+=2){if(r+=t[n],r>i)return!1;if(r+=t[n+1],r>=i)return!0}return!1}function Hs(i,t){return i<65?i===36:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&MI.test(String.fromCharCode(i)):t===!1?!1:Jy(i,qT)}function dl(i,t){return i<48?i===36:i<58?!0:i<65?!1:i<91?!0:i<97?i===95:i<123?!0:i<=65535?i>=170&&kI.test(String.fromCharCode(i)):t===!1?!1:Jy(i,qT)||Jy(i,NI)}var or=function(t,r){r===void 0&&(r={}),this.label=t,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function _i(i,t){return new or(i,{beforeExpr:!0,binop:t})}var Si={beforeExpr:!0},zn={startsExpr:!0},v1={};function rr(i,t){return t===void 0&&(t={}),t.keyword=i,v1[i]=new or(i,t)}var ee={num:new or("num",zn),regexp:new or("regexp",zn),string:new or("string",zn),name:new or("name",zn),privateId:new or("privateId",zn),eof:new or("eof"),bracketL:new or("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new or("]"),braceL:new or("{",{beforeExpr:!0,startsExpr:!0}),braceR:new or("}"),parenL:new or("(",{beforeExpr:!0,startsExpr:!0}),parenR:new or(")"),comma:new or(",",Si),semi:new or(";",Si),colon:new or(":",Si),dot:new or("."),question:new or("?",Si),questionDot:new or("?."),arrow:new or("=>",Si),template:new or("template"),invalidTemplate:new or("invalidTemplate"),ellipsis:new or("...",Si),backQuote:new or("`",zn),dollarBraceL:new or("${",{beforeExpr:!0,startsExpr:!0}),eq:new or("=",{beforeExpr:!0,isAssign:!0}),assign:new or("_=",{beforeExpr:!0,isAssign:!0}),incDec:new or("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new or("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:_i("||",1),logicalAND:_i("&&",2),bitwiseOR:_i("|",3),bitwiseXOR:_i("^",4),bitwiseAND:_i("&",5),equality:_i("==/!=/===/!==",6),relational:_i("</>/<=/>=",7),bitShift:_i("<</>>/>>>",8),plusMin:new or("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:_i("%",10),star:_i("*",10),slash:_i("/",10),starstar:new or("**",{beforeExpr:!0}),coalesce:_i("??",1),_break:rr("break"),_case:rr("case",Si),_catch:rr("catch"),_continue:rr("continue"),_debugger:rr("debugger"),_default:rr("default",Si),_do:rr("do",{isLoop:!0,beforeExpr:!0}),_else:rr("else",Si),_finally:rr("finally"),_for:rr("for",{isLoop:!0}),_function:rr("function",zn),_if:rr("if"),_return:rr("return",Si),_switch:rr("switch"),_throw:rr("throw",Si),_try:rr("try"),_var:rr("var"),_const:rr("const"),_while:rr("while",{isLoop:!0}),_with:rr("with"),_new:rr("new",{beforeExpr:!0,startsExpr:!0}),_this:rr("this",zn),_super:rr("super",zn),_class:rr("class",zn),_extends:rr("extends",Si),_export:rr("export"),_import:rr("import",zn),_null:rr("null",zn),_true:rr("true",zn),_false:rr("false",zn),_in:rr("in",{beforeExpr:!0,binop:7}),_instanceof:rr("instanceof",{beforeExpr:!0,binop:7}),_typeof:rr("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:rr("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:rr("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Ni=/\r\n?|\n|\u2028|\u2029/,PI=new RegExp(Ni.source,"g");function _l(i){return i===10||i===13||i===8232||i===8233}function WT(i,t,r){r===void 0&&(r=i.length);for(var n=t;n<r;n++){var s=i.charCodeAt(n);if(_l(s))return n<r-1&&s===13&&i.charCodeAt(n+1)===10?n+2:n+1}return-1}var YT=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,wi=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,XT=Object.prototype,LI=XT.hasOwnProperty,II=XT.toString,Sl=Object.hasOwn||function(i,t){return LI.call(i,t)},Lw=Array.isArray||function(i){return II.call(i)==="[object Array]"},Iw=Object.create(null);function Oa(i){return Iw[i]||(Iw[i]=new RegExp("^(?:"+i.replace(/ /g,"|")+")$"))}function qs(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode((i>>10)+55296,(i&1023)+56320))}var BI=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,mh=function(t,r){this.line=t,this.column=r};mh.prototype.offset=function(t){return new mh(this.line,this.column+t)};var Up=function(t,r,n){this.start=r,this.end=n,t.sourceFile!==null&&(this.source=t.sourceFile)};function ZT(i,t){for(var r=1,n=0;;){var s=WT(i,n,t);if(s<0)return new mh(r,t-n);++r,n=s}}var ev={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Bw=!1;function UI(i){var t={};for(var r in ev)t[r]=i&&Sl(i,r)?i[r]:ev[r];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!Bw&&typeof console=="object"&&console.warn&&(Bw=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!i||i.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),Lw(t.onToken)){var n=t.onToken;t.onToken=function(s){return n.push(s)}}return Lw(t.onComment)&&(t.onComment=VI(t,t.onComment)),t}function VI(i,t){return function(r,n,s,a,o,l){var d={type:r?"Block":"Line",value:n,start:s,end:a};i.locations&&(d.loc=new Up(this,o,l)),i.ranges&&(d.range=[s,a]),t.push(d)}}var yh=1,wl=2,b1=4,KT=8,x1=16,QT=32,Vp=64,JT=128,Uo=256,Oh=512,jp=yh|wl|Uo;function _1(i,t){return wl|(i?b1:0)|(t?KT:0)}var Zd=0,S1=1,Ys=2,e5=3,t5=4,r5=5,cn=function(t,r,n){this.options=t=UI(t),this.sourceFile=t.sourceFile,this.keywords=Oa(FI[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var s="";t.allowReserved!==!0&&(s=Nm[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(s+=" await")),this.reservedWords=Oa(s);var a=(s?s+" ":"")+Nm.strict;this.reservedWordsStrict=Oa(a),this.reservedWordsStrictBind=Oa(a+" "+Nm.strictBind),this.input=String(r),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Ni).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=ee.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(yh),this.regexpState=null,this.privateNameStack=[]},ls={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};cn.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};ls.inFunction.get=function(){return(this.currentVarScope().flags&wl)>0};ls.inGenerator.get=function(){return(this.currentVarScope().flags&KT)>0};ls.inAsync.get=function(){return(this.currentVarScope().flags&b1)>0};ls.canAwait.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var t=this.scopeStack[i],r=t.flags;if(r&(Uo|Oh))return!1;if(r&wl)return(r&b1)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};ls.allowSuper.get=function(){var i=this.currentThisScope(),t=i.flags;return(t&Vp)>0||this.options.allowSuperOutsideMethod};ls.allowDirectSuper.get=function(){return(this.currentThisScope().flags&JT)>0};ls.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};ls.allowNewDotTarget.get=function(){for(var i=this.scopeStack.length-1;i>=0;i--){var t=this.scopeStack[i],r=t.flags;if(r&(Uo|Oh)||r&wl&&!(r&x1))return!0}return!1};ls.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Uo)>0};cn.extend=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];for(var n=this,s=0;s<t.length;s++)n=t[s](n);return n};cn.parse=function(t,r){return new this(r,t).parse()};cn.parseExpressionAt=function(t,r,n){var s=new this(n,t,r);return s.nextToken(),s.parseExpression()};cn.tokenizer=function(t,r){return new this(r,t)};Object.defineProperties(cn.prototype,ls);var In=cn.prototype,jI=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;In.strictDirective=function(i){if(this.options.ecmaVersion<5)return!1;for(;;){wi.lastIndex=i,i+=wi.exec(this.input)[0].length;var t=jI.exec(this.input.slice(i));if(!t)return!1;if((t[1]||t[2])==="use strict"){wi.lastIndex=i+t[0].length;var r=wi.exec(this.input),n=r.index+r[0].length,s=this.input.charAt(n);return s===";"||s==="}"||Ni.test(r[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||s==="!"&&this.input.charAt(n+1)==="=")}i+=t[0].length,wi.lastIndex=i,i+=wi.exec(this.input)[0].length,this.input[i]===";"&&i++}};In.eat=function(i){return this.type===i?(this.next(),!0):!1};In.isContextual=function(i){return this.type===ee.name&&this.value===i&&!this.containsEsc};In.eatContextual=function(i){return this.isContextual(i)?(this.next(),!0):!1};In.expectContextual=function(i){this.eatContextual(i)||this.unexpected()};In.canInsertSemicolon=function(){return this.type===ee.eof||this.type===ee.braceR||Ni.test(this.input.slice(this.lastTokEnd,this.start))};In.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};In.semicolon=function(){!this.eat(ee.semi)&&!this.insertSemicolon()&&this.unexpected()};In.afterTrailingComma=function(i,t){if(this.type===i)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};In.expect=function(i){this.eat(i)||this.unexpected()};In.unexpected=function(i){this.raise(i??this.start,"Unexpected token")};var zp=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};In.checkPatternErrors=function(i,t){if(i){i.trailingComma>-1&&this.raiseRecoverable(i.trailingComma,"Comma is not permitted after the rest element");var r=t?i.parenthesizedAssign:i.parenthesizedBind;r>-1&&this.raiseRecoverable(r,t?"Assigning to rvalue":"Parenthesized pattern")}};In.checkExpressionErrors=function(i,t){if(!i)return!1;var r=i.shorthandAssign,n=i.doubleProto;if(!t)return r>=0||n>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")};In.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};In.isSimpleAssignTarget=function(i){return i.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(i.expression):i.type==="Identifier"||i.type==="MemberExpression"};var yt=cn.prototype;yt.parseTopLevel=function(i){var t=Object.create(null);for(i.body||(i.body=[]);this.type!==ee.eof;){var r=this.parseStatement(null,!0,t);i.body.push(r)}if(this.inModule)for(var n=0,s=Object.keys(this.undefinedExports);n<s.length;n+=1){var a=s[n];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(i.body),this.next(),i.sourceType=this.options.sourceType,this.finishNode(i,"Program")};var w1={kind:"loop"},zI={kind:"switch"};yt.isLet=function(i){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;wi.lastIndex=this.pos;var t=wi.exec(this.input),r=this.pos+t[0].length,n=this.input.charCodeAt(r);if(n===91||n===92)return!0;if(i)return!1;if(n===123||n>55295&&n<56320)return!0;if(Hs(n,!0)){for(var s=r+1;dl(n=this.input.charCodeAt(s),!0);)++s;if(n===92||n>55295&&n<56320)return!0;var a=this.input.slice(r,s);if(!RI.test(a))return!0}return!1};yt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;wi.lastIndex=this.pos;var i=wi.exec(this.input),t=this.pos+i[0].length,r;return!Ni.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(dl(r=this.input.charCodeAt(t+8))||r>55295&&r<56320))};yt.parseStatement=function(i,t,r){var n=this.type,s=this.startNode(),a;switch(this.isLet(i)&&(n=ee._var,a="let"),n){case ee._break:case ee._continue:return this.parseBreakContinueStatement(s,n.keyword);case ee._debugger:return this.parseDebuggerStatement(s);case ee._do:return this.parseDoStatement(s);case ee._for:return this.parseForStatement(s);case ee._function:return i&&(this.strict||i!=="if"&&i!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!i);case ee._class:return i&&this.unexpected(),this.parseClass(s,!0);case ee._if:return this.parseIfStatement(s);case ee._return:return this.parseReturnStatement(s);case ee._switch:return this.parseSwitchStatement(s);case ee._throw:return this.parseThrowStatement(s);case ee._try:return this.parseTryStatement(s);case ee._const:case ee._var:return a=a||this.value,i&&a!=="var"&&this.unexpected(),this.parseVarStatement(s,a);case ee._while:return this.parseWhileStatement(s);case ee._with:return this.parseWithStatement(s);case ee.braceL:return this.parseBlock(!0,s);case ee.semi:return this.parseEmptyStatement(s);case ee._export:case ee._import:if(this.options.ecmaVersion>10&&n===ee._import){wi.lastIndex=this.pos;var o=wi.exec(this.input),l=this.pos+o[0].length,d=this.input.charCodeAt(l);if(d===40||d===46)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===ee._import?this.parseImport(s):this.parseExport(s,r);default:if(this.isAsyncFunction())return i&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!i);var p=this.value,g=this.parseExpression();return n===ee.name&&g.type==="Identifier"&&this.eat(ee.colon)?this.parseLabeledStatement(s,p,g,i):this.parseExpressionStatement(s,g)}};yt.parseBreakContinueStatement=function(i,t){var r=t==="break";this.next(),this.eat(ee.semi)||this.insertSemicolon()?i.label=null:this.type!==ee.name?this.unexpected():(i.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var s=this.labels[n];if((i.label==null||s.name===i.label.name)&&(s.kind!=null&&(r||s.kind==="loop")||i.label&&r))break}return n===this.labels.length&&this.raise(i.start,"Unsyntactic "+t),this.finishNode(i,r?"BreakStatement":"ContinueStatement")};yt.parseDebuggerStatement=function(i){return this.next(),this.semicolon(),this.finishNode(i,"DebuggerStatement")};yt.parseDoStatement=function(i){return this.next(),this.labels.push(w1),i.body=this.parseStatement("do"),this.labels.pop(),this.expect(ee._while),i.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(ee.semi):this.semicolon(),this.finishNode(i,"DoWhileStatement")};yt.parseForStatement=function(i){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(w1),this.enterScope(0),this.expect(ee.parenL),this.type===ee.semi)return t>-1&&this.unexpected(t),this.parseFor(i,null);var r=this.isLet();if(this.type===ee._var||this.type===ee._const||r){var n=this.startNode(),s=r?"let":this.value;return this.next(),this.parseVar(n,!0,s),this.finishNode(n,"VariableDeclaration"),(this.type===ee._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&n.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===ee._in?t>-1&&this.unexpected(t):i.await=t>-1),this.parseForIn(i,n)):(t>-1&&this.unexpected(t),this.parseFor(i,n))}var a=this.isContextual("let"),o=!1,l=this.containsEsc,d=new zp,p=this.start,g=t>-1?this.parseExprSubscripts(d,"await"):this.parseExpression(!0,d);return this.type===ee._in||(o=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===ee._in&&this.unexpected(t),i.await=!0):o&&this.options.ecmaVersion>=8&&(g.start===p&&!l&&g.type==="Identifier"&&g.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(i.await=!1)),a&&o&&this.raise(g.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(g,!1,d),this.checkLValPattern(g),this.parseForIn(i,g)):(this.checkExpressionErrors(d,!0),t>-1&&this.unexpected(t),this.parseFor(i,g))};yt.parseFunctionStatement=function(i,t,r){return this.next(),this.parseFunction(i,Gc|(r?0:tv),!1,t)};yt.parseIfStatement=function(i){return this.next(),i.test=this.parseParenExpression(),i.consequent=this.parseStatement("if"),i.alternate=this.eat(ee._else)?this.parseStatement("if"):null,this.finishNode(i,"IfStatement")};yt.parseReturnStatement=function(i){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(ee.semi)||this.insertSemicolon()?i.argument=null:(i.argument=this.parseExpression(),this.semicolon()),this.finishNode(i,"ReturnStatement")};yt.parseSwitchStatement=function(i){this.next(),i.discriminant=this.parseParenExpression(),i.cases=[],this.expect(ee.braceL),this.labels.push(zI),this.enterScope(0);for(var t,r=!1;this.type!==ee.braceR;)if(this.type===ee._case||this.type===ee._default){var n=this.type===ee._case;t&&this.finishNode(t,"SwitchCase"),i.cases.push(t=this.startNode()),t.consequent=[],this.next(),n?t.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,t.test=null),this.expect(ee.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(i,"SwitchStatement")};yt.parseThrowStatement=function(i){return this.next(),Ni.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),i.argument=this.parseExpression(),this.semicolon(),this.finishNode(i,"ThrowStatement")};var GI=[];yt.parseCatchClauseParam=function(){var i=this.parseBindingAtom(),t=i.type==="Identifier";return this.enterScope(t?QT:0),this.checkLValPattern(i,t?t5:Ys),this.expect(ee.parenR),i};yt.parseTryStatement=function(i){if(this.next(),i.block=this.parseBlock(),i.handler=null,this.type===ee._catch){var t=this.startNode();this.next(),this.eat(ee.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),i.handler=this.finishNode(t,"CatchClause")}return i.finalizer=this.eat(ee._finally)?this.parseBlock():null,!i.handler&&!i.finalizer&&this.raise(i.start,"Missing catch or finally clause"),this.finishNode(i,"TryStatement")};yt.parseVarStatement=function(i,t,r){return this.next(),this.parseVar(i,!1,t,r),this.semicolon(),this.finishNode(i,"VariableDeclaration")};yt.parseWhileStatement=function(i){return this.next(),i.test=this.parseParenExpression(),this.labels.push(w1),i.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(i,"WhileStatement")};yt.parseWithStatement=function(i){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),i.object=this.parseParenExpression(),i.body=this.parseStatement("with"),this.finishNode(i,"WithStatement")};yt.parseEmptyStatement=function(i){return this.next(),this.finishNode(i,"EmptyStatement")};yt.parseLabeledStatement=function(i,t,r,n){for(var s=0,a=this.labels;s<a.length;s+=1){var o=a[s];o.name===t&&this.raise(r.start,"Label '"+t+"' is already declared")}for(var l=this.type.isLoop?"loop":this.type===ee._switch?"switch":null,d=this.labels.length-1;d>=0;d--){var p=this.labels[d];if(p.statementStart===i.start)p.statementStart=this.start,p.kind=l;else break}return this.labels.push({name:t,kind:l,statementStart:this.start}),i.body=this.parseStatement(n?n.indexOf("label")===-1?n+"label":n:"label"),this.labels.pop(),i.label=r,this.finishNode(i,"LabeledStatement")};yt.parseExpressionStatement=function(i,t){return i.expression=t,this.semicolon(),this.finishNode(i,"ExpressionStatement")};yt.parseBlock=function(i,t,r){for(i===void 0&&(i=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(ee.braceL),i&&this.enterScope(0);this.type!==ee.braceR;){var n=this.parseStatement(null);t.body.push(n)}return r&&(this.strict=!1),this.next(),i&&this.exitScope(),this.finishNode(t,"BlockStatement")};yt.parseFor=function(i,t){return i.init=t,this.expect(ee.semi),i.test=this.type===ee.semi?null:this.parseExpression(),this.expect(ee.semi),i.update=this.type===ee.parenR?null:this.parseExpression(),this.expect(ee.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,"ForStatement")};yt.parseForIn=function(i,t){var r=this.type===ee._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!r||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"),i.left=t,i.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(ee.parenR),i.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(i,r?"ForInStatement":"ForOfStatement")};yt.parseVar=function(i,t,r,n){for(i.declarations=[],i.kind=r;;){var s=this.startNode();if(this.parseVarId(s,r),this.eat(ee.eq)?s.init=this.parseMaybeAssign(t):!n&&r==="const"&&!(this.type===ee._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!n&&s.id.type!=="Identifier"&&!(t&&(this.type===ee._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):s.init=null,i.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(ee.comma))break}return i};yt.parseVarId=function(i,t){i.id=this.parseBindingAtom(),this.checkLValPattern(i.id,t==="var"?S1:Ys,!1)};var Gc=1,tv=2,n5=4;yt.parseFunction=function(i,t,r,n,s){this.initFunction(i),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===ee.star&&t&tv&&this.unexpected(),i.generator=this.eat(ee.star)),this.options.ecmaVersion>=8&&(i.async=!!n),t&Gc&&(i.id=t&n5&&this.type!==ee.name?null:this.parseIdent(),i.id&&!(t&tv)&&this.checkLValSimple(i.id,this.strict||i.generator||i.async?this.treatFunctionsAsVar?S1:Ys:e5));var a=this.yieldPos,o=this.awaitPos,l=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(_1(i.async,i.generator)),t&Gc||(i.id=this.type===ee.name?this.parseIdent():null),this.parseFunctionParams(i),this.parseFunctionBody(i,r,!1,s),this.yieldPos=a,this.awaitPos=o,this.awaitIdentPos=l,this.finishNode(i,t&Gc?"FunctionDeclaration":"FunctionExpression")};yt.parseFunctionParams=function(i){this.expect(ee.parenL),i.params=this.parseBindingList(ee.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};yt.parseClass=function(i,t){this.next();var r=this.strict;this.strict=!0,this.parseClassId(i,t),this.parseClassSuper(i);var n=this.enterClassBody(),s=this.startNode(),a=!1;for(s.body=[],this.expect(ee.braceL);this.type!==ee.braceR;){var o=this.parseClassElement(i.superClass!==null);o&&(s.body.push(o),o.type==="MethodDefinition"&&o.kind==="constructor"?(a&&this.raiseRecoverable(o.start,"Duplicate constructor in the same class"),a=!0):o.key&&o.key.type==="PrivateIdentifier"&&HI(n,o)&&this.raiseRecoverable(o.key.start,"Identifier '#"+o.key.name+"' has already been declared"))}return this.strict=r,this.next(),i.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(i,t?"ClassDeclaration":"ClassExpression")};yt.parseClassElement=function(i){if(this.eat(ee.semi))return null;var t=this.options.ecmaVersion,r=this.startNode(),n="",s=!1,a=!1,o="method",l=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(ee.braceL))return this.parseClassStaticBlock(r),r;this.isClassElementNameStart()||this.type===ee.star?l=!0:n="static"}if(r.static=l,!n&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===ee.star)&&!this.canInsertSemicolon()?a=!0:n="async"),!n&&(t>=9||!a)&&this.eat(ee.star)&&(s=!0),!n&&!a&&!s){var d=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?o=d:n=d)}if(n?(r.computed=!1,r.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),r.key.name=n,this.finishNode(r.key,"Identifier")):this.parseClassElementName(r),t<13||this.type===ee.parenL||o!=="method"||s||a){var p=!r.static&&Kd(r,"constructor"),g=p&&i;p&&o!=="method"&&this.raise(r.key.start,"Constructor can't have get/set modifier"),r.kind=p?"constructor":o,this.parseClassMethod(r,s,a,g)}else this.parseClassField(r);return r};yt.isClassElementNameStart=function(){return this.type===ee.name||this.type===ee.privateId||this.type===ee.num||this.type===ee.string||this.type===ee.bracketL||this.type.keyword};yt.parseClassElementName=function(i){this.type===ee.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),i.computed=!1,i.key=this.parsePrivateIdent()):this.parsePropertyName(i)};yt.parseClassMethod=function(i,t,r,n){var s=i.key;i.kind==="constructor"?(t&&this.raise(s.start,"Constructor can't be a generator"),r&&this.raise(s.start,"Constructor can't be an async method")):i.static&&Kd(i,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var a=i.value=this.parseMethod(t,r,n);return i.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),i.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),i.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(i,"MethodDefinition")};yt.parseClassField=function(i){return Kd(i,"constructor")?this.raise(i.key.start,"Classes can't have a field named 'constructor'"):i.static&&Kd(i,"prototype")&&this.raise(i.key.start,"Classes can't have a static field named 'prototype'"),this.eat(ee.eq)?(this.enterScope(Oh|Vp),i.value=this.parseMaybeAssign(),this.exitScope()):i.value=null,this.semicolon(),this.finishNode(i,"PropertyDefinition")};yt.parseClassStaticBlock=function(i){i.body=[];var t=this.labels;for(this.labels=[],this.enterScope(Uo|Vp);this.type!==ee.braceR;){var r=this.parseStatement(null);i.body.push(r)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(i,"StaticBlock")};yt.parseClassId=function(i,t){this.type===ee.name?(i.id=this.parseIdent(),t&&this.checkLValSimple(i.id,Ys,!1)):(t===!0&&this.unexpected(),i.id=null)};yt.parseClassSuper=function(i){i.superClass=this.eat(ee._extends)?this.parseExprSubscripts(null,!1):null};yt.enterClassBody=function(){var i={declared:Object.create(null),used:[]};return this.privateNameStack.push(i),i.declared};yt.exitClassBody=function(){var i=this.privateNameStack.pop(),t=i.declared,r=i.used;if(this.options.checkPrivateFields)for(var n=this.privateNameStack.length,s=n===0?null:this.privateNameStack[n-1],a=0;a<r.length;++a){var o=r[a];Sl(t,o.name)||(s?s.used.push(o):this.raiseRecoverable(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"))}};function HI(i,t){var r=t.key.name,n=i[r],s="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(s=(t.static?"s":"i")+t.kind),n==="iget"&&s==="iset"||n==="iset"&&s==="iget"||n==="sget"&&s==="sset"||n==="sset"&&s==="sget"?(i[r]="true",!1):n?!0:(i[r]=s,!1)}function Kd(i,t){var r=i.computed,n=i.key;return!r&&(n.type==="Identifier"&&n.name===t||n.type==="Literal"&&n.value===t)}yt.parseExportAllDeclaration=function(i,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(i.exported=this.parseModuleExportName(),this.checkExport(t,i.exported,this.lastTokStart)):i.exported=null),this.expectContextual("from"),this.type!==ee.string&&this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,"ExportAllDeclaration")};yt.parseExport=function(i,t){if(this.next(),this.eat(ee.star))return this.parseExportAllDeclaration(i,t);if(this.eat(ee._default))return this.checkExport(t,"default",this.lastTokStart),i.declaration=this.parseExportDefaultDeclaration(),this.finishNode(i,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())i.declaration=this.parseExportDeclaration(i),i.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,i.declaration.declarations):this.checkExport(t,i.declaration.id,i.declaration.id.start),i.specifiers=[],i.source=null,this.options.ecmaVersion>=16&&(i.attributes=[]);else{if(i.declaration=null,i.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==ee.string&&this.unexpected(),i.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause());else{for(var r=0,n=i.specifiers;r<n.length;r+=1){var s=n[r];this.checkUnreserved(s.local),this.checkLocalExport(s.local),s.local.type==="Literal"&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}i.source=null,this.options.ecmaVersion>=16&&(i.attributes=[])}this.semicolon()}return this.finishNode(i,"ExportNamedDeclaration")};yt.parseExportDeclaration=function(i){return this.parseStatement(null)};yt.parseExportDefaultDeclaration=function(){var i;if(this.type===ee._function||(i=this.isAsyncFunction())){var t=this.startNode();return this.next(),i&&this.next(),this.parseFunction(t,Gc|n5,!1,i)}else if(this.type===ee._class){var r=this.startNode();return this.parseClass(r,"nullableID")}else{var n=this.parseMaybeAssign();return this.semicolon(),n}};yt.checkExport=function(i,t,r){i&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),Sl(i,t)&&this.raiseRecoverable(r,"Duplicate export '"+t+"'"),i[t]=!0)};yt.checkPatternExport=function(i,t){var r=t.type;if(r==="Identifier")this.checkExport(i,t,t.start);else if(r==="ObjectPattern")for(var n=0,s=t.properties;n<s.length;n+=1){var a=s[n];this.checkPatternExport(i,a)}else if(r==="ArrayPattern")for(var o=0,l=t.elements;o<l.length;o+=1){var d=l[o];d&&this.checkPatternExport(i,d)}else r==="Property"?this.checkPatternExport(i,t.value):r==="AssignmentPattern"?this.checkPatternExport(i,t.left):r==="RestElement"&&this.checkPatternExport(i,t.argument)};yt.checkVariableExport=function(i,t){if(i)for(var r=0,n=t;r<n.length;r+=1){var s=n[r];this.checkPatternExport(i,s.id)}};yt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};yt.parseExportSpecifier=function(i){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(i,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};yt.parseExportSpecifiers=function(i){var t=[],r=!0;for(this.expect(ee.braceL);!this.eat(ee.braceR);){if(r)r=!1;else if(this.expect(ee.comma),this.afterTrailingComma(ee.braceR))break;t.push(this.parseExportSpecifier(i))}return t};yt.parseImport=function(i){return this.next(),this.type===ee.string?(i.specifiers=GI,i.source=this.parseExprAtom()):(i.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),i.source=this.type===ee.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(i.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(i,"ImportDeclaration")};yt.parseImportSpecifier=function(){var i=this.startNode();return i.imported=this.parseModuleExportName(),this.eatContextual("as")?i.local=this.parseIdent():(this.checkUnreserved(i.imported),i.local=i.imported),this.checkLValSimple(i.local,Ys),this.finishNode(i,"ImportSpecifier")};yt.parseImportDefaultSpecifier=function(){var i=this.startNode();return i.local=this.parseIdent(),this.checkLValSimple(i.local,Ys),this.finishNode(i,"ImportDefaultSpecifier")};yt.parseImportNamespaceSpecifier=function(){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLValSimple(i.local,Ys),this.finishNode(i,"ImportNamespaceSpecifier")};yt.parseImportSpecifiers=function(){var i=[],t=!0;if(this.type===ee.name&&(i.push(this.parseImportDefaultSpecifier()),!this.eat(ee.comma)))return i;if(this.type===ee.star)return i.push(this.parseImportNamespaceSpecifier()),i;for(this.expect(ee.braceL);!this.eat(ee.braceR);){if(t)t=!1;else if(this.expect(ee.comma),this.afterTrailingComma(ee.braceR))break;i.push(this.parseImportSpecifier())}return i};yt.parseWithClause=function(){var i=[];if(!this.eat(ee._with))return i;this.expect(ee.braceL);for(var t={},r=!0;!this.eat(ee.braceR);){if(r)r=!1;else if(this.expect(ee.comma),this.afterTrailingComma(ee.braceR))break;var n=this.parseImportAttribute(),s=n.key.type==="Identifier"?n.key.name:n.key.value;Sl(t,s)&&this.raiseRecoverable(n.key.start,"Duplicate attribute key '"+s+"'"),t[s]=!0,i.push(n)}return i};yt.parseImportAttribute=function(){var i=this.startNode();return i.key=this.type===ee.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(ee.colon),this.type!==ee.string&&this.unexpected(),i.value=this.parseExprAtom(),this.finishNode(i,"ImportAttribute")};yt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===ee.string){var i=this.parseLiteral(this.value);return BI.test(i.value)&&this.raise(i.start,"An export name cannot include a lone surrogate."),i}return this.parseIdent(!0)};yt.adaptDirectivePrologue=function(i){for(var t=0;t<i.length&&this.isDirectiveCandidate(i[t]);++t)i[t].directive=i[t].expression.raw.slice(1,-1)};yt.isDirectiveCandidate=function(i){return this.options.ecmaVersion>=5&&i.type==="ExpressionStatement"&&i.expression.type==="Literal"&&typeof i.expression.value=="string"&&(this.input[i.start]==='"'||this.input[i.start]==="'")};var Oi=cn.prototype;Oi.toAssignable=function(i,t,r){if(this.options.ecmaVersion>=6&&i)switch(i.type){case"Identifier":this.inAsync&&i.name==="await"&&this.raise(i.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":i.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var n=0,s=i.properties;n<s.length;n+=1){var a=s[n];this.toAssignable(a,t),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":i.kind!=="init"&&this.raise(i.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(i.value,t);break;case"ArrayExpression":i.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(i.elements,t);break;case"SpreadElement":i.type="RestElement",this.toAssignable(i.argument,t),i.argument.type==="AssignmentPattern"&&this.raise(i.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":i.operator!=="="&&this.raise(i.left.end,"Only '=' operator can be used for specifying default value."),i.type="AssignmentPattern",delete i.operator,this.toAssignable(i.left,t);break;case"ParenthesizedExpression":this.toAssignable(i.expression,t,r);break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(i.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return i};Oi.toAssignableList=function(i,t){for(var r=i.length,n=0;n<r;n++){var s=i[n];s&&this.toAssignable(s,t)}if(r){var a=i[r-1];this.options.ecmaVersion===6&&t&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return i};Oi.parseSpread=function(i){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,i),this.finishNode(t,"SpreadElement")};Oi.parseRestBinding=function(){var i=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==ee.name&&this.unexpected(),i.argument=this.parseBindingAtom(),this.finishNode(i,"RestElement")};Oi.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case ee.bracketL:var i=this.startNode();return this.next(),i.elements=this.parseBindingList(ee.bracketR,!0,!0),this.finishNode(i,"ArrayPattern");case ee.braceL:return this.parseObj(!0)}return this.parseIdent()};Oi.parseBindingList=function(i,t,r,n){for(var s=[],a=!0;!this.eat(i);)if(a?a=!1:this.expect(ee.comma),t&&this.type===ee.comma)s.push(null);else{if(r&&this.afterTrailingComma(i))break;if(this.type===ee.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),s.push(o),this.type===ee.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(i);break}else s.push(this.parseAssignableListItem(n))}return s};Oi.parseAssignableListItem=function(i){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};Oi.parseBindingListItem=function(i){return i};Oi.parseMaybeDefault=function(i,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(ee.eq))return r;var n=this.startNodeAt(i,t);return n.left=r,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")};Oi.checkLValSimple=function(i,t,r){t===void 0&&(t=Zd);var n=t!==Zd;switch(i.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(i.name)&&this.raiseRecoverable(i.start,(n?"Binding ":"Assigning to ")+i.name+" in strict mode"),n&&(t===Ys&&i.name==="let"&&this.raiseRecoverable(i.start,"let is disallowed as a lexically bound name"),r&&(Sl(r,i.name)&&this.raiseRecoverable(i.start,"Argument name clash"),r[i.name]=!0),t!==r5&&this.declareName(i.name,t,i.start));break;case"ChainExpression":this.raiseRecoverable(i.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(i.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(i.start,"Binding parenthesized expression"),this.checkLValSimple(i.expression,t,r);default:this.raise(i.start,(n?"Binding":"Assigning to")+" rvalue")}};Oi.checkLValPattern=function(i,t,r){switch(t===void 0&&(t=Zd),i.type){case"ObjectPattern":for(var n=0,s=i.properties;n<s.length;n+=1){var a=s[n];this.checkLValInnerPattern(a,t,r)}break;case"ArrayPattern":for(var o=0,l=i.elements;o<l.length;o+=1){var d=l[o];d&&this.checkLValInnerPattern(d,t,r)}break;default:this.checkLValSimple(i,t,r)}};Oi.checkLValInnerPattern=function(i,t,r){switch(t===void 0&&(t=Zd),i.type){case"Property":this.checkLValInnerPattern(i.value,t,r);break;case"AssignmentPattern":this.checkLValPattern(i.left,t,r);break;case"RestElement":this.checkLValPattern(i.argument,t,r);break;default:this.checkLValPattern(i,t,r)}};var ki=function(t,r,n,s,a){this.token=t,this.isExpr=!!r,this.preserveSpace=!!n,this.override=s,this.generator=!!a},Mr={b_stat:new ki("{",!1),b_expr:new ki("{",!0),b_tmpl:new ki("${",!1),p_stat:new ki("(",!1),p_expr:new ki("(",!0),q_tmpl:new ki("`",!0,!0,function(i){return i.tryReadTemplateToken()}),f_stat:new ki("function",!1),f_expr:new ki("function",!0),f_expr_gen:new ki("function",!0,!1,null,!0),f_gen:new ki("function",!1,!1,null,!0)},El=cn.prototype;El.initialContext=function(){return[Mr.b_stat]};El.curContext=function(){return this.context[this.context.length-1]};El.braceIsBlock=function(i){var t=this.curContext();return t===Mr.f_expr||t===Mr.f_stat?!0:i===ee.colon&&(t===Mr.b_stat||t===Mr.b_expr)?!t.isExpr:i===ee._return||i===ee.name&&this.exprAllowed?Ni.test(this.input.slice(this.lastTokEnd,this.start)):i===ee._else||i===ee.semi||i===ee.eof||i===ee.parenR||i===ee.arrow?!0:i===ee.braceL?t===Mr.b_stat:i===ee._var||i===ee._const||i===ee.name?!1:!this.exprAllowed};El.inGeneratorContext=function(){for(var i=this.context.length-1;i>=1;i--){var t=this.context[i];if(t.token==="function")return t.generator}return!1};El.updateContext=function(i){var t,r=this.type;r.keyword&&i===ee.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,i):this.exprAllowed=r.beforeExpr};El.overrideContext=function(i){this.curContext()!==i&&(this.context[this.context.length-1]=i)};ee.parenR.updateContext=ee.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var i=this.context.pop();i===Mr.b_stat&&this.curContext().token==="function"&&(i=this.context.pop()),this.exprAllowed=!i.isExpr};ee.braceL.updateContext=function(i){this.context.push(this.braceIsBlock(i)?Mr.b_stat:Mr.b_expr),this.exprAllowed=!0};ee.dollarBraceL.updateContext=function(){this.context.push(Mr.b_tmpl),this.exprAllowed=!0};ee.parenL.updateContext=function(i){var t=i===ee._if||i===ee._for||i===ee._with||i===ee._while;this.context.push(t?Mr.p_stat:Mr.p_expr),this.exprAllowed=!0};ee.incDec.updateContext=function(){};ee._function.updateContext=ee._class.updateContext=function(i){i.beforeExpr&&i!==ee._else&&!(i===ee.semi&&this.curContext()!==Mr.p_stat)&&!(i===ee._return&&Ni.test(this.input.slice(this.lastTokEnd,this.start)))&&!((i===ee.colon||i===ee.braceL)&&this.curContext()===Mr.b_stat)?this.context.push(Mr.f_expr):this.context.push(Mr.f_stat),this.exprAllowed=!1};ee.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};ee.backQuote.updateContext=function(){this.curContext()===Mr.q_tmpl?this.context.pop():this.context.push(Mr.q_tmpl),this.exprAllowed=!1};ee.star.updateContext=function(i){if(i===ee._function){var t=this.context.length-1;this.context[t]===Mr.f_expr?this.context[t]=Mr.f_expr_gen:this.context[t]=Mr.f_gen}this.exprAllowed=!0};ee.name.updateContext=function(i){var t=!1;this.options.ecmaVersion>=6&&i!==ee.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Rt=cn.prototype;Rt.checkPropClash=function(i,t,r){if(!(this.options.ecmaVersion>=9&&i.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(i.computed||i.method||i.shorthand))){var n=i.key,s;switch(n.type){case"Identifier":s=n.name;break;case"Literal":s=String(n.value);break;default:return}var a=i.kind;if(this.options.ecmaVersion>=6){s==="__proto__"&&a==="init"&&(t.proto&&(r?r.doubleProto<0&&(r.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),t.proto=!0);return}s="$"+s;var o=t[s];if(o){var l;a==="init"?l=this.strict&&o.init||o.get||o.set:l=o.init||o[a],l&&this.raiseRecoverable(n.start,"Redefinition of property")}else o=t[s]={init:!1,get:!1,set:!1};o[a]=!0}};Rt.parseExpression=function(i,t){var r=this.start,n=this.startLoc,s=this.parseMaybeAssign(i,t);if(this.type===ee.comma){var a=this.startNodeAt(r,n);for(a.expressions=[s];this.eat(ee.comma);)a.expressions.push(this.parseMaybeAssign(i,t));return this.finishNode(a,"SequenceExpression")}return s};Rt.parseMaybeAssign=function(i,t,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(i);this.exprAllowed=!1}var n=!1,s=-1,a=-1,o=-1;t?(s=t.parenthesizedAssign,a=t.trailingComma,o=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new zp,n=!0);var l=this.start,d=this.startLoc;(this.type===ee.parenL||this.type===ee.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=i==="await");var p=this.parseMaybeConditional(i,t);if(r&&(p=r.call(this,p,l,d)),this.type.isAssign){var g=this.startNodeAt(l,d);return g.operator=this.value,this.type===ee.eq&&(p=this.toAssignable(p,!1,t)),n||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=p.start&&(t.shorthandAssign=-1),this.type===ee.eq?this.checkLValPattern(p):this.checkLValSimple(p),g.left=p,this.next(),g.right=this.parseMaybeAssign(i),o>-1&&(t.doubleProto=o),this.finishNode(g,"AssignmentExpression")}else n&&this.checkExpressionErrors(t,!0);return s>-1&&(t.parenthesizedAssign=s),a>-1&&(t.trailingComma=a),p};Rt.parseMaybeConditional=function(i,t){var r=this.start,n=this.startLoc,s=this.parseExprOps(i,t);if(this.checkExpressionErrors(t))return s;if(this.eat(ee.question)){var a=this.startNodeAt(r,n);return a.test=s,a.consequent=this.parseMaybeAssign(),this.expect(ee.colon),a.alternate=this.parseMaybeAssign(i),this.finishNode(a,"ConditionalExpression")}return s};Rt.parseExprOps=function(i,t){var r=this.start,n=this.startLoc,s=this.parseMaybeUnary(t,!1,!1,i);return this.checkExpressionErrors(t)||s.start===r&&s.type==="ArrowFunctionExpression"?s:this.parseExprOp(s,r,n,-1,i)};Rt.parseExprOp=function(i,t,r,n,s){var a=this.type.binop;if(a!=null&&(!s||this.type!==ee._in)&&a>n){var o=this.type===ee.logicalOR||this.type===ee.logicalAND,l=this.type===ee.coalesce;l&&(a=ee.logicalAND.binop);var d=this.value;this.next();var p=this.start,g=this.startLoc,y=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),p,g,a,s),x=this.buildBinary(t,r,i,y,d,o||l);return(o&&this.type===ee.coalesce||l&&(this.type===ee.logicalOR||this.type===ee.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(x,t,r,n,s)}return i};Rt.buildBinary=function(i,t,r,n,s,a){n.type==="PrivateIdentifier"&&this.raise(n.start,"Private identifier can only be left side of binary expression");var o=this.startNodeAt(i,t);return o.left=r,o.operator=s,o.right=n,this.finishNode(o,a?"LogicalExpression":"BinaryExpression")};Rt.parseMaybeUnary=function(i,t,r,n){var s=this.start,a=this.startLoc,o;if(this.isContextual("await")&&this.canAwait)o=this.parseAwait(n),t=!0;else if(this.type.prefix){var l=this.startNode(),d=this.type===ee.incDec;l.operator=this.value,l.prefix=!0,this.next(),l.argument=this.parseMaybeUnary(null,!0,d,n),this.checkExpressionErrors(i,!0),d?this.checkLValSimple(l.argument):this.strict&&l.operator==="delete"&&i5(l.argument)?this.raiseRecoverable(l.start,"Deleting local variable in strict mode"):l.operator==="delete"&&rv(l.argument)?this.raiseRecoverable(l.start,"Private fields can not be deleted"):t=!0,o=this.finishNode(l,d?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===ee.privateId)(n||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),o=this.parsePrivateIdent(),this.type!==ee._in&&this.unexpected();else{if(o=this.parseExprSubscripts(i,n),this.checkExpressionErrors(i))return o;for(;this.type.postfix&&!this.canInsertSemicolon();){var p=this.startNodeAt(s,a);p.operator=this.value,p.prefix=!1,p.argument=o,this.checkLValSimple(o),this.next(),o=this.finishNode(p,"UpdateExpression")}}if(!r&&this.eat(ee.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(s,a,o,this.parseMaybeUnary(null,!1,!1,n),"**",!1);else return o};function i5(i){return i.type==="Identifier"||i.type==="ParenthesizedExpression"&&i5(i.expression)}function rv(i){return i.type==="MemberExpression"&&i.property.type==="PrivateIdentifier"||i.type==="ChainExpression"&&rv(i.expression)||i.type==="ParenthesizedExpression"&&rv(i.expression)}Rt.parseExprSubscripts=function(i,t){var r=this.start,n=this.startLoc,s=this.parseExprAtom(i,t);if(s.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return s;var a=this.parseSubscripts(s,r,n,!1,t);return i&&a.type==="MemberExpression"&&(i.parenthesizedAssign>=a.start&&(i.parenthesizedAssign=-1),i.parenthesizedBind>=a.start&&(i.parenthesizedBind=-1),i.trailingComma>=a.start&&(i.trailingComma=-1)),a};Rt.parseSubscripts=function(i,t,r,n,s){for(var a=this.options.ecmaVersion>=8&&i.type==="Identifier"&&i.name==="async"&&this.lastTokEnd===i.end&&!this.canInsertSemicolon()&&i.end-i.start===5&&this.potentialArrowAt===i.start,o=!1;;){var l=this.parseSubscript(i,t,r,n,a,o,s);if(l.optional&&(o=!0),l===i||l.type==="ArrowFunctionExpression"){if(o){var d=this.startNodeAt(t,r);d.expression=l,l=this.finishNode(d,"ChainExpression")}return l}i=l}};Rt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(ee.arrow)};Rt.parseSubscriptAsyncArrow=function(i,t,r,n){return this.parseArrowExpression(this.startNodeAt(i,t),r,!0,n)};Rt.parseSubscript=function(i,t,r,n,s,a,o){var l=this.options.ecmaVersion>=11,d=l&&this.eat(ee.questionDot);n&&d&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var p=this.eat(ee.bracketL);if(p||d&&this.type!==ee.parenL&&this.type!==ee.backQuote||this.eat(ee.dot)){var g=this.startNodeAt(t,r);g.object=i,p?(g.property=this.parseExpression(),this.expect(ee.bracketR)):this.type===ee.privateId&&i.type!=="Super"?g.property=this.parsePrivateIdent():g.property=this.parseIdent(this.options.allowReserved!=="never"),g.computed=!!p,l&&(g.optional=d),i=this.finishNode(g,"MemberExpression")}else if(!n&&this.eat(ee.parenL)){var y=new zp,x=this.yieldPos,S=this.awaitPos,_=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var w=this.parseExprList(ee.parenR,this.options.ecmaVersion>=8,!1,y);if(s&&!d&&this.shouldParseAsyncArrow())return this.checkPatternErrors(y,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=x,this.awaitPos=S,this.awaitIdentPos=_,this.parseSubscriptAsyncArrow(t,r,w,o);this.checkExpressionErrors(y,!0),this.yieldPos=x||this.yieldPos,this.awaitPos=S||this.awaitPos,this.awaitIdentPos=_||this.awaitIdentPos;var A=this.startNodeAt(t,r);A.callee=i,A.arguments=w,l&&(A.optional=d),i=this.finishNode(A,"CallExpression")}else if(this.type===ee.backQuote){(d||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var P=this.startNodeAt(t,r);P.tag=i,P.quasi=this.parseTemplate({isTagged:!0}),i=this.finishNode(P,"TaggedTemplateExpression")}return i};Rt.parseExprAtom=function(i,t,r){this.type===ee.slash&&this.readRegexp();var n,s=this.potentialArrowAt===this.start;switch(this.type){case ee._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type===ee.parenL&&!this.allowDirectSuper&&this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==ee.dot&&this.type!==ee.bracketL&&this.type!==ee.parenL&&this.unexpected(),this.finishNode(n,"Super");case ee._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case ee.name:var a=this.start,o=this.startLoc,l=this.containsEsc,d=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!l&&d.name==="async"&&!this.canInsertSemicolon()&&this.eat(ee._function))return this.overrideContext(Mr.f_expr),this.parseFunction(this.startNodeAt(a,o),0,!1,!0,t);if(s&&!this.canInsertSemicolon()){if(this.eat(ee.arrow))return this.parseArrowExpression(this.startNodeAt(a,o),[d],!1,t);if(this.options.ecmaVersion>=8&&d.name==="async"&&this.type===ee.name&&!l&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return d=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(ee.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,o),[d],!0,t)}return d;case ee.regexp:var p=this.value;return n=this.parseLiteral(p.value),n.regex={pattern:p.pattern,flags:p.flags},n;case ee.num:case ee.string:return this.parseLiteral(this.value);case ee._null:case ee._true:case ee._false:return n=this.startNode(),n.value=this.type===ee._null?null:this.type===ee._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case ee.parenL:var g=this.start,y=this.parseParenAndDistinguishExpression(s,t);return i&&(i.parenthesizedAssign<0&&!this.isSimpleAssignTarget(y)&&(i.parenthesizedAssign=g),i.parenthesizedBind<0&&(i.parenthesizedBind=g)),y;case ee.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(ee.bracketR,!0,!0,i),this.finishNode(n,"ArrayExpression");case ee.braceL:return this.overrideContext(Mr.b_expr),this.parseObj(!1,i);case ee._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case ee._class:return this.parseClass(this.startNode(),!1);case ee._new:return this.parseNew();case ee.backQuote:return this.parseTemplate();case ee._import:return this.options.ecmaVersion>=11?this.parseExprImport(r):this.unexpected();default:return this.parseExprAtomDefault()}};Rt.parseExprAtomDefault=function(){this.unexpected()};Rt.parseExprImport=function(i){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===ee.parenL&&!i)return this.parseDynamicImport(t);if(this.type===ee.dot){var r=this.startNodeAt(t.start,t.loc&&t.loc.start);return r.name="import",t.meta=this.finishNode(r,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};Rt.parseDynamicImport=function(i){if(this.next(),i.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(ee.parenR)?i.options=null:(this.expect(ee.comma),this.afterTrailingComma(ee.parenR)?i.options=null:(i.options=this.parseMaybeAssign(),this.eat(ee.parenR)||(this.expect(ee.comma),this.afterTrailingComma(ee.parenR)||this.unexpected())));else if(!this.eat(ee.parenR)){var t=this.start;this.eat(ee.comma)&&this.eat(ee.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(i,"ImportExpression")};Rt.parseImportMeta=function(i){this.next();var t=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="meta"&&this.raiseRecoverable(i.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(i.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(i.start,"Cannot use 'import.meta' outside a module"),this.finishNode(i,"MetaProperty")};Rt.parseLiteral=function(i){var t=this.startNode();return t.value=i,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};Rt.parseParenExpression=function(){this.expect(ee.parenL);var i=this.parseExpression();return this.expect(ee.parenR),i};Rt.shouldParseArrow=function(i){return!this.canInsertSemicolon()};Rt.parseParenAndDistinguishExpression=function(i,t){var r=this.start,n=this.startLoc,s,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o=this.start,l=this.startLoc,d=[],p=!0,g=!1,y=new zp,x=this.yieldPos,S=this.awaitPos,_;for(this.yieldPos=0,this.awaitPos=0;this.type!==ee.parenR;)if(p?p=!1:this.expect(ee.comma),a&&this.afterTrailingComma(ee.parenR,!0)){g=!0;break}else if(this.type===ee.ellipsis){_=this.start,d.push(this.parseParenItem(this.parseRestBinding())),this.type===ee.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else d.push(this.parseMaybeAssign(!1,y,this.parseParenItem));var w=this.lastTokEnd,A=this.lastTokEndLoc;if(this.expect(ee.parenR),i&&this.shouldParseArrow(d)&&this.eat(ee.arrow))return this.checkPatternErrors(y,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=x,this.awaitPos=S,this.parseParenArrowList(r,n,d,t);(!d.length||g)&&this.unexpected(this.lastTokStart),_&&this.unexpected(_),this.checkExpressionErrors(y,!0),this.yieldPos=x||this.yieldPos,this.awaitPos=S||this.awaitPos,d.length>1?(s=this.startNodeAt(o,l),s.expressions=d,this.finishNodeAt(s,"SequenceExpression",w,A)):s=d[0]}else s=this.parseParenExpression();if(this.options.preserveParens){var P=this.startNodeAt(r,n);return P.expression=s,this.finishNode(P,"ParenthesizedExpression")}else return s};Rt.parseParenItem=function(i){return i};Rt.parseParenArrowList=function(i,t,r,n){return this.parseArrowExpression(this.startNodeAt(i,t),r,!1,n)};var qI=[];Rt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var i=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===ee.dot){var t=this.startNodeAt(i.start,i.loc&&i.loc.start);t.name="new",i.meta=this.finishNode(t,"Identifier"),this.next();var r=this.containsEsc;return i.property=this.parseIdent(!0),i.property.name!=="target"&&this.raiseRecoverable(i.property.start,"The only valid meta property for new is 'new.target'"),r&&this.raiseRecoverable(i.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(i.start,"'new.target' can only be used in functions and class static block"),this.finishNode(i,"MetaProperty")}var n=this.start,s=this.startLoc;return i.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),n,s,!0,!1),this.eat(ee.parenL)?i.arguments=this.parseExprList(ee.parenR,this.options.ecmaVersion>=8,!1):i.arguments=qI,this.finishNode(i,"NewExpression")};Rt.parseTemplateElement=function(i){var t=i.isTagged,r=this.startNode();return this.type===ee.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),r.tail=this.type===ee.backQuote,this.finishNode(r,"TemplateElement")};Rt.parseTemplate=function(i){i===void 0&&(i={});var t=i.isTagged;t===void 0&&(t=!1);var r=this.startNode();this.next(),r.expressions=[];var n=this.parseTemplateElement({isTagged:t});for(r.quasis=[n];!n.tail;)this.type===ee.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(ee.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(ee.braceR),r.quasis.push(n=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(r,"TemplateLiteral")};Rt.isAsyncProp=function(i){return!i.computed&&i.key.type==="Identifier"&&i.key.name==="async"&&(this.type===ee.name||this.type===ee.num||this.type===ee.string||this.type===ee.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===ee.star)&&!Ni.test(this.input.slice(this.lastTokEnd,this.start))};Rt.parseObj=function(i,t){var r=this.startNode(),n=!0,s={};for(r.properties=[],this.next();!this.eat(ee.braceR);){if(n)n=!1;else if(this.expect(ee.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(ee.braceR))break;var a=this.parseProperty(i,t);i||this.checkPropClash(a,s,t),r.properties.push(a)}return this.finishNode(r,i?"ObjectPattern":"ObjectExpression")};Rt.parseProperty=function(i,t){var r=this.startNode(),n,s,a,o;if(this.options.ecmaVersion>=9&&this.eat(ee.ellipsis))return i?(r.argument=this.parseIdent(!1),this.type===ee.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(r,"RestElement")):(r.argument=this.parseMaybeAssign(!1,t),this.type===ee.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(r,"SpreadElement"));this.options.ecmaVersion>=6&&(r.method=!1,r.shorthand=!1,(i||t)&&(a=this.start,o=this.startLoc),i||(n=this.eat(ee.star)));var l=this.containsEsc;return this.parsePropertyName(r),!i&&!l&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(r)?(s=!0,n=this.options.ecmaVersion>=9&&this.eat(ee.star),this.parsePropertyName(r)):s=!1,this.parsePropertyValue(r,i,n,s,a,o,t,l),this.finishNode(r,"Property")};Rt.parseGetterSetter=function(i){var t=i.key.name;this.parsePropertyName(i),i.value=this.parseMethod(!1),i.kind=t;var r=i.kind==="get"?0:1;if(i.value.params.length!==r){var n=i.value.start;i.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else i.kind==="set"&&i.value.params[0].type==="RestElement"&&this.raiseRecoverable(i.value.params[0].start,"Setter cannot use rest params")};Rt.parsePropertyValue=function(i,t,r,n,s,a,o,l){(r||n)&&this.type===ee.colon&&this.unexpected(),this.eat(ee.colon)?(i.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,o),i.kind="init"):this.options.ecmaVersion>=6&&this.type===ee.parenL?(t&&this.unexpected(),i.method=!0,i.value=this.parseMethod(r,n),i.kind="init"):!t&&!l&&this.options.ecmaVersion>=5&&!i.computed&&i.key.type==="Identifier"&&(i.key.name==="get"||i.key.name==="set")&&this.type!==ee.comma&&this.type!==ee.braceR&&this.type!==ee.eq?((r||n)&&this.unexpected(),this.parseGetterSetter(i)):this.options.ecmaVersion>=6&&!i.computed&&i.key.type==="Identifier"?((r||n)&&this.unexpected(),this.checkUnreserved(i.key),i.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=s),t?i.value=this.parseMaybeDefault(s,a,this.copyNode(i.key)):this.type===ee.eq&&o?(o.shorthandAssign<0&&(o.shorthandAssign=this.start),i.value=this.parseMaybeDefault(s,a,this.copyNode(i.key))):i.value=this.copyNode(i.key),i.kind="init",i.shorthand=!0):this.unexpected()};Rt.parsePropertyName=function(i){if(this.options.ecmaVersion>=6){if(this.eat(ee.bracketL))return i.computed=!0,i.key=this.parseMaybeAssign(),this.expect(ee.bracketR),i.key;i.computed=!1}return i.key=this.type===ee.num||this.type===ee.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Rt.initFunction=function(i){i.id=null,this.options.ecmaVersion>=6&&(i.generator=i.expression=!1),this.options.ecmaVersion>=8&&(i.async=!1)};Rt.parseMethod=function(i,t,r){var n=this.startNode(),s=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=i),this.options.ecmaVersion>=8&&(n.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(_1(t,n.generator)|Vp|(r?JT:0)),this.expect(ee.parenL),n.params=this.parseBindingList(ee.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(n,"FunctionExpression")};Rt.parseArrowExpression=function(i,t,r,n){var s=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.enterScope(_1(r,!1)|x1),this.initFunction(i),this.options.ecmaVersion>=8&&(i.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,i.params=this.toAssignableList(t,!0),this.parseFunctionBody(i,!0,!1,n),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(i,"ArrowFunctionExpression")};Rt.parseFunctionBody=function(i,t,r,n){var s=t&&this.type!==ee.braceL,a=this.strict,o=!1;if(s)i.body=this.parseMaybeAssign(n),i.expression=!0,this.checkParams(i,!1);else{var l=this.options.ecmaVersion>=7&&!this.isSimpleParamList(i.params);(!a||l)&&(o=this.strictDirective(this.end),o&&l&&this.raiseRecoverable(i.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var d=this.labels;this.labels=[],o&&(this.strict=!0),this.checkParams(i,!a&&!o&&!t&&!r&&this.isSimpleParamList(i.params)),this.strict&&i.id&&this.checkLValSimple(i.id,r5),i.body=this.parseBlock(!1,void 0,o&&!a),i.expression=!1,this.adaptDirectivePrologue(i.body.body),this.labels=d}this.exitScope()};Rt.isSimpleParamList=function(i){for(var t=0,r=i;t<r.length;t+=1){var n=r[t];if(n.type!=="Identifier")return!1}return!0};Rt.checkParams=function(i,t){for(var r=Object.create(null),n=0,s=i.params;n<s.length;n+=1){var a=s[n];this.checkLValInnerPattern(a,S1,t?null:r)}};Rt.parseExprList=function(i,t,r,n){for(var s=[],a=!0;!this.eat(i);){if(a)a=!1;else if(this.expect(ee.comma),t&&this.afterTrailingComma(i))break;var o=void 0;r&&this.type===ee.comma?o=null:this.type===ee.ellipsis?(o=this.parseSpread(n),n&&this.type===ee.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):o=this.parseMaybeAssign(!1,n),s.push(o)}return s};Rt.checkUnreserved=function(i){var t=i.start,r=i.end,n=i.name;if(this.inGenerator&&n==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&n==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),!(this.currentThisScope().flags&jp)&&n==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(n==="arguments"||n==="await")&&this.raise(t,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(t,"Unexpected keyword '"+n+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,r).indexOf("\\")!==-1)){var s=this.strict?this.reservedWordsStrict:this.reservedWords;s.test(n)&&(!this.inAsync&&n==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+n+"' is reserved"))}};Rt.parseIdent=function(i){var t=this.parseIdentNode();return this.next(!!i),this.finishNode(t,"Identifier"),i||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};Rt.parseIdentNode=function(){var i=this.startNode();return this.type===ee.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,(i.name==="class"||i.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=ee.name):this.unexpected(),i};Rt.parsePrivateIdent=function(){var i=this.startNode();return this.type===ee.privateId?i.name=this.value:this.unexpected(),this.next(),this.finishNode(i,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(i.start,"Private field '#"+i.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(i)),i};Rt.parseYield=function(i){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===ee.semi||this.canInsertSemicolon()||this.type!==ee.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(ee.star),t.argument=this.parseMaybeAssign(i)),this.finishNode(t,"YieldExpression")};Rt.parseAwait=function(i){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,i),this.finishNode(t,"AwaitExpression")};var Qd=cn.prototype;Qd.raise=function(i,t){var r=ZT(this.input,i);t+=" ("+r.line+":"+r.column+")",this.sourceFile&&(t+=" in "+this.sourceFile);var n=new SyntaxError(t);throw n.pos=i,n.loc=r,n.raisedAt=this.pos,n};Qd.raiseRecoverable=Qd.raise;Qd.curPosition=function(){if(this.options.locations)return new mh(this.curLine,this.pos-this.lineStart)};var za=cn.prototype,$I=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]};za.enterScope=function(i){this.scopeStack.push(new $I(i))};za.exitScope=function(){this.scopeStack.pop()};za.treatFunctionsAsVarInScope=function(i){return i.flags&wl||!this.inModule&&i.flags&yh};za.declareName=function(i,t,r){var n=!1;if(t===Ys){var s=this.currentScope();n=s.lexical.indexOf(i)>-1||s.functions.indexOf(i)>-1||s.var.indexOf(i)>-1,s.lexical.push(i),this.inModule&&s.flags&yh&&delete this.undefinedExports[i]}else if(t===t5){var a=this.currentScope();a.lexical.push(i)}else if(t===e5){var o=this.currentScope();this.treatFunctionsAsVar?n=o.lexical.indexOf(i)>-1:n=o.lexical.indexOf(i)>-1||o.var.indexOf(i)>-1,o.functions.push(i)}else for(var l=this.scopeStack.length-1;l>=0;--l){var d=this.scopeStack[l];if(d.lexical.indexOf(i)>-1&&!(d.flags&QT&&d.lexical[0]===i)||!this.treatFunctionsAsVarInScope(d)&&d.functions.indexOf(i)>-1){n=!0;break}if(d.var.push(i),this.inModule&&d.flags&yh&&delete this.undefinedExports[i],d.flags&jp)break}n&&this.raiseRecoverable(r,"Identifier '"+i+"' has already been declared")};za.checkLocalExport=function(i){this.scopeStack[0].lexical.indexOf(i.name)===-1&&this.scopeStack[0].var.indexOf(i.name)===-1&&(this.undefinedExports[i.name]=i)};za.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};za.currentVarScope=function(){for(var i=this.scopeStack.length-1;;i--){var t=this.scopeStack[i];if(t.flags&(jp|Oh|Uo))return t}};za.currentThisScope=function(){for(var i=this.scopeStack.length-1;;i--){var t=this.scopeStack[i];if(t.flags&(jp|Oh|Uo)&&!(t.flags&x1))return t}};var Gp=function(t,r,n){this.type="",this.start=r,this.end=0,t.options.locations&&(this.loc=new Up(t,n)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[r,0])},Fh=cn.prototype;Fh.startNode=function(){return new Gp(this,this.start,this.startLoc)};Fh.startNodeAt=function(i,t){return new Gp(this,i,t)};function s5(i,t,r,n){return i.type=t,i.end=r,this.options.locations&&(i.loc.end=n),this.options.ranges&&(i.range[1]=r),i}Fh.finishNode=function(i,t){return s5.call(this,i,t,this.lastTokEnd,this.lastTokEndLoc)};Fh.finishNodeAt=function(i,t,r,n){return s5.call(this,i,t,r,n)};Fh.copyNode=function(i){var t=new Gp(this,i.start,this.startLoc);for(var r in i)t[r]=i[r];return t};var WI="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",a5="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",o5=a5+" Extended_Pictographic",u5=o5,l5=u5+" EBase EComp EMod EPres ExtPict",c5=l5,YI=c5,XI={9:a5,10:o5,11:u5,12:l5,13:c5,14:YI},ZI="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",KI={9:"",10:"",11:"",12:"",13:"",14:ZI},Uw="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",h5="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",f5=h5+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",d5=f5+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",g5=d5+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",m5=g5+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",QI=m5+" "+WI,JI={9:h5,10:f5,11:d5,12:g5,13:m5,14:QI},y5={};function eB(i){var t=y5[i]={binary:Oa(XI[i]+" "+Uw),binaryOfStrings:Oa(KI[i]),nonBinary:{General_Category:Oa(Uw),Script:Oa(JI[i])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var Fm=0,Vw=[9,10,11,12,13,14];Fm<Vw.length;Fm+=1){var tB=Vw[Fm];eB(tB)}var dt=cn.prototype,Jd=function(t,r){this.parent=t,this.base=r||this};Jd.prototype.separatedFrom=function(t){for(var r=this;r;r=r.parent)for(var n=t;n;n=n.parent)if(r.base===n.base&&r!==n)return!0;return!1};Jd.prototype.sibling=function(){return new Jd(this.parent,this.base)};var cs=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=y5[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};cs.prototype.reset=function(t,r,n){var s=n.indexOf("v")!==-1,a=n.indexOf("u")!==-1;this.start=t|0,this.source=r+"",this.flags=n,s&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)};cs.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};cs.prototype.at=function(t,r){r===void 0&&(r=!1);var n=this.source,s=n.length;if(t>=s)return-1;var a=n.charCodeAt(t);if(!(r||this.switchU)||a<=55295||a>=57344||t+1>=s)return a;var o=n.charCodeAt(t+1);return o>=56320&&o<=57343?(a<<10)+o-56613888:a};cs.prototype.nextIndex=function(t,r){r===void 0&&(r=!1);var n=this.source,s=n.length;if(t>=s)return s;var a=n.charCodeAt(t),o;return!(r||this.switchU)||a<=55295||a>=57344||t+1>=s||(o=n.charCodeAt(t+1))<56320||o>57343?t+1:t+2};cs.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};cs.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};cs.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};cs.prototype.eat=function(t,r){return r===void 0&&(r=!1),this.current(r)===t?(this.advance(r),!0):!1};cs.prototype.eatChars=function(t,r){r===void 0&&(r=!1);for(var n=this.pos,s=0,a=t;s<a.length;s+=1){var o=a[s],l=this.at(n,r);if(l===-1||l!==o)return!1;n=this.nextIndex(n,r)}return this.pos=n,!0};dt.validateRegExpFlags=function(i){for(var t=i.validFlags,r=i.flags,n=!1,s=!1,a=0;a<r.length;a++){var o=r.charAt(a);t.indexOf(o)===-1&&this.raise(i.start,"Invalid regular expression flag"),r.indexOf(o,a+1)>-1&&this.raise(i.start,"Duplicate regular expression flag"),o==="u"&&(n=!0),o==="v"&&(s=!0)}this.options.ecmaVersion>=15&&n&&s&&this.raise(i.start,"Invalid regular expression flag")};function rB(i){for(var t in i)return!0;return!1}dt.validateRegExpPattern=function(i){this.regexp_pattern(i),!i.switchN&&this.options.ecmaVersion>=9&&rB(i.groupNames)&&(i.switchN=!0,this.regexp_pattern(i))};dt.regexp_pattern=function(i){i.pos=0,i.lastIntValue=0,i.lastStringValue="",i.lastAssertionIsQuantifiable=!1,i.numCapturingParens=0,i.maxBackReference=0,i.groupNames=Object.create(null),i.backReferenceNames.length=0,i.branchID=null,this.regexp_disjunction(i),i.pos!==i.source.length&&(i.eat(41)&&i.raise("Unmatched ')'"),(i.eat(93)||i.eat(125))&&i.raise("Lone quantifier brackets")),i.maxBackReference>i.numCapturingParens&&i.raise("Invalid escape");for(var t=0,r=i.backReferenceNames;t<r.length;t+=1){var n=r[t];i.groupNames[n]||i.raise("Invalid named capture referenced")}};dt.regexp_disjunction=function(i){var t=this.options.ecmaVersion>=16;for(t&&(i.branchID=new Jd(i.branchID,null)),this.regexp_alternative(i);i.eat(124);)t&&(i.branchID=i.branchID.sibling()),this.regexp_alternative(i);t&&(i.branchID=i.branchID.parent),this.regexp_eatQuantifier(i,!0)&&i.raise("Nothing to repeat"),i.eat(123)&&i.raise("Lone quantifier brackets")};dt.regexp_alternative=function(i){for(;i.pos<i.source.length&&this.regexp_eatTerm(i););};dt.regexp_eatTerm=function(i){return this.regexp_eatAssertion(i)?(i.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(i)&&i.switchU&&i.raise("Invalid quantifier"),!0):(i.switchU?this.regexp_eatAtom(i):this.regexp_eatExtendedAtom(i))?(this.regexp_eatQuantifier(i),!0):!1};dt.regexp_eatAssertion=function(i){var t=i.pos;if(i.lastAssertionIsQuantifiable=!1,i.eat(94)||i.eat(36))return!0;if(i.eat(92)){if(i.eat(66)||i.eat(98))return!0;i.pos=t}if(i.eat(40)&&i.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=i.eat(60)),i.eat(61)||i.eat(33))return this.regexp_disjunction(i),i.eat(41)||i.raise("Unterminated group"),i.lastAssertionIsQuantifiable=!r,!0}return i.pos=t,!1};dt.regexp_eatQuantifier=function(i,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(i,t)?(i.eat(63),!0):!1};dt.regexp_eatQuantifierPrefix=function(i,t){return i.eat(42)||i.eat(43)||i.eat(63)||this.regexp_eatBracedQuantifier(i,t)};dt.regexp_eatBracedQuantifier=function(i,t){var r=i.pos;if(i.eat(123)){var n=0,s=-1;if(this.regexp_eatDecimalDigits(i)&&(n=i.lastIntValue,i.eat(44)&&this.regexp_eatDecimalDigits(i)&&(s=i.lastIntValue),i.eat(125)))return s!==-1&&s<n&&!t&&i.raise("numbers out of order in {} quantifier"),!0;i.switchU&&!t&&i.raise("Incomplete quantifier"),i.pos=r}return!1};dt.regexp_eatAtom=function(i){return this.regexp_eatPatternCharacters(i)||i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)};dt.regexp_eatReverseSolidusAtomEscape=function(i){var t=i.pos;if(i.eat(92)){if(this.regexp_eatAtomEscape(i))return!0;i.pos=t}return!1};dt.regexp_eatUncapturingGroup=function(i){var t=i.pos;if(i.eat(40)){if(i.eat(63)){if(this.options.ecmaVersion>=16){var r=this.regexp_eatModifiers(i),n=i.eat(45);if(r||n){for(var s=0;s<r.length;s++){var a=r.charAt(s);r.indexOf(a,s+1)>-1&&i.raise("Duplicate regular expression modifiers")}if(n){var o=this.regexp_eatModifiers(i);!r&&!o&&i.current()===58&&i.raise("Invalid regular expression modifiers");for(var l=0;l<o.length;l++){var d=o.charAt(l);(o.indexOf(d,l+1)>-1||r.indexOf(d)>-1)&&i.raise("Duplicate regular expression modifiers")}}}}if(i.eat(58)){if(this.regexp_disjunction(i),i.eat(41))return!0;i.raise("Unterminated group")}}i.pos=t}return!1};dt.regexp_eatCapturingGroup=function(i){if(i.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(i):i.current()===63&&i.raise("Invalid group"),this.regexp_disjunction(i),i.eat(41))return i.numCapturingParens+=1,!0;i.raise("Unterminated group")}return!1};dt.regexp_eatModifiers=function(i){for(var t="",r=0;(r=i.current())!==-1&&nB(r);)t+=qs(r),i.advance();return t};function nB(i){return i===105||i===109||i===115}dt.regexp_eatExtendedAtom=function(i){return i.eat(46)||this.regexp_eatReverseSolidusAtomEscape(i)||this.regexp_eatCharacterClass(i)||this.regexp_eatUncapturingGroup(i)||this.regexp_eatCapturingGroup(i)||this.regexp_eatInvalidBracedQuantifier(i)||this.regexp_eatExtendedPatternCharacter(i)};dt.regexp_eatInvalidBracedQuantifier=function(i){return this.regexp_eatBracedQuantifier(i,!0)&&i.raise("Nothing to repeat"),!1};dt.regexp_eatSyntaxCharacter=function(i){var t=i.current();return v5(t)?(i.lastIntValue=t,i.advance(),!0):!1};function v5(i){return i===36||i>=40&&i<=43||i===46||i===63||i>=91&&i<=94||i>=123&&i<=125}dt.regexp_eatPatternCharacters=function(i){for(var t=i.pos,r=0;(r=i.current())!==-1&&!v5(r);)i.advance();return i.pos!==t};dt.regexp_eatExtendedPatternCharacter=function(i){var t=i.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(i.advance(),!0):!1};dt.regexp_groupSpecifier=function(i){if(i.eat(63)){this.regexp_eatGroupName(i)||i.raise("Invalid group");var t=this.options.ecmaVersion>=16,r=i.groupNames[i.lastStringValue];if(r)if(t)for(var n=0,s=r;n<s.length;n+=1){var a=s[n];a.separatedFrom(i.branchID)||i.raise("Duplicate capture group name")}else i.raise("Duplicate capture group name");t?(r||(i.groupNames[i.lastStringValue]=[])).push(i.branchID):i.groupNames[i.lastStringValue]=!0}};dt.regexp_eatGroupName=function(i){if(i.lastStringValue="",i.eat(60)){if(this.regexp_eatRegExpIdentifierName(i)&&i.eat(62))return!0;i.raise("Invalid capture group name")}return!1};dt.regexp_eatRegExpIdentifierName=function(i){if(i.lastStringValue="",this.regexp_eatRegExpIdentifierStart(i)){for(i.lastStringValue+=qs(i.lastIntValue);this.regexp_eatRegExpIdentifierPart(i);)i.lastStringValue+=qs(i.lastIntValue);return!0}return!1};dt.regexp_eatRegExpIdentifierStart=function(i){var t=i.pos,r=this.options.ecmaVersion>=11,n=i.current(r);return i.advance(r),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,r)&&(n=i.lastIntValue),iB(n)?(i.lastIntValue=n,!0):(i.pos=t,!1)};function iB(i){return Hs(i,!0)||i===36||i===95}dt.regexp_eatRegExpIdentifierPart=function(i){var t=i.pos,r=this.options.ecmaVersion>=11,n=i.current(r);return i.advance(r),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(i,r)&&(n=i.lastIntValue),sB(n)?(i.lastIntValue=n,!0):(i.pos=t,!1)};function sB(i){return dl(i,!0)||i===36||i===95||i===8204||i===8205}dt.regexp_eatAtomEscape=function(i){return this.regexp_eatBackReference(i)||this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)||i.switchN&&this.regexp_eatKGroupName(i)?!0:(i.switchU&&(i.current()===99&&i.raise("Invalid unicode escape"),i.raise("Invalid escape")),!1)};dt.regexp_eatBackReference=function(i){var t=i.pos;if(this.regexp_eatDecimalEscape(i)){var r=i.lastIntValue;if(i.switchU)return r>i.maxBackReference&&(i.maxBackReference=r),!0;if(r<=i.numCapturingParens)return!0;i.pos=t}return!1};dt.regexp_eatKGroupName=function(i){if(i.eat(107)){if(this.regexp_eatGroupName(i))return i.backReferenceNames.push(i.lastStringValue),!0;i.raise("Invalid named reference")}return!1};dt.regexp_eatCharacterEscape=function(i){return this.regexp_eatControlEscape(i)||this.regexp_eatCControlLetter(i)||this.regexp_eatZero(i)||this.regexp_eatHexEscapeSequence(i)||this.regexp_eatRegExpUnicodeEscapeSequence(i,!1)||!i.switchU&&this.regexp_eatLegacyOctalEscapeSequence(i)||this.regexp_eatIdentityEscape(i)};dt.regexp_eatCControlLetter=function(i){var t=i.pos;if(i.eat(99)){if(this.regexp_eatControlLetter(i))return!0;i.pos=t}return!1};dt.regexp_eatZero=function(i){return i.current()===48&&!Hp(i.lookahead())?(i.lastIntValue=0,i.advance(),!0):!1};dt.regexp_eatControlEscape=function(i){var t=i.current();return t===116?(i.lastIntValue=9,i.advance(),!0):t===110?(i.lastIntValue=10,i.advance(),!0):t===118?(i.lastIntValue=11,i.advance(),!0):t===102?(i.lastIntValue=12,i.advance(),!0):t===114?(i.lastIntValue=13,i.advance(),!0):!1};dt.regexp_eatControlLetter=function(i){var t=i.current();return b5(t)?(i.lastIntValue=t%32,i.advance(),!0):!1};function b5(i){return i>=65&&i<=90||i>=97&&i<=122}dt.regexp_eatRegExpUnicodeEscapeSequence=function(i,t){t===void 0&&(t=!1);var r=i.pos,n=t||i.switchU;if(i.eat(117)){if(this.regexp_eatFixedHexDigits(i,4)){var s=i.lastIntValue;if(n&&s>=55296&&s<=56319){var a=i.pos;if(i.eat(92)&&i.eat(117)&&this.regexp_eatFixedHexDigits(i,4)){var o=i.lastIntValue;if(o>=56320&&o<=57343)return i.lastIntValue=(s-55296)*1024+(o-56320)+65536,!0}i.pos=a,i.lastIntValue=s}return!0}if(n&&i.eat(123)&&this.regexp_eatHexDigits(i)&&i.eat(125)&&aB(i.lastIntValue))return!0;n&&i.raise("Invalid unicode escape"),i.pos=r}return!1};function aB(i){return i>=0&&i<=1114111}dt.regexp_eatIdentityEscape=function(i){if(i.switchU)return this.regexp_eatSyntaxCharacter(i)?!0:i.eat(47)?(i.lastIntValue=47,!0):!1;var t=i.current();return t!==99&&(!i.switchN||t!==107)?(i.lastIntValue=t,i.advance(),!0):!1};dt.regexp_eatDecimalEscape=function(i){i.lastIntValue=0;var t=i.current();if(t>=49&&t<=57){do i.lastIntValue=10*i.lastIntValue+(t-48),i.advance();while((t=i.current())>=48&&t<=57);return!0}return!1};var x5=0,$s=1,Ci=2;dt.regexp_eatCharacterClassEscape=function(i){var t=i.current();if(oB(t))return i.lastIntValue=-1,i.advance(),$s;var r=!1;if(i.switchU&&this.options.ecmaVersion>=9&&((r=t===80)||t===112)){i.lastIntValue=-1,i.advance();var n;if(i.eat(123)&&(n=this.regexp_eatUnicodePropertyValueExpression(i))&&i.eat(125))return r&&n===Ci&&i.raise("Invalid property name"),n;i.raise("Invalid property name")}return x5};function oB(i){return i===100||i===68||i===115||i===83||i===119||i===87}dt.regexp_eatUnicodePropertyValueExpression=function(i){var t=i.pos;if(this.regexp_eatUnicodePropertyName(i)&&i.eat(61)){var r=i.lastStringValue;if(this.regexp_eatUnicodePropertyValue(i)){var n=i.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(i,r,n),$s}}if(i.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(i)){var s=i.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(i,s)}return x5};dt.regexp_validateUnicodePropertyNameAndValue=function(i,t,r){Sl(i.unicodeProperties.nonBinary,t)||i.raise("Invalid property name"),i.unicodeProperties.nonBinary[t].test(r)||i.raise("Invalid property value")};dt.regexp_validateUnicodePropertyNameOrValue=function(i,t){if(i.unicodeProperties.binary.test(t))return $s;if(i.switchV&&i.unicodeProperties.binaryOfStrings.test(t))return Ci;i.raise("Invalid property name")};dt.regexp_eatUnicodePropertyName=function(i){var t=0;for(i.lastStringValue="";_5(t=i.current());)i.lastStringValue+=qs(t),i.advance();return i.lastStringValue!==""};function _5(i){return b5(i)||i===95}dt.regexp_eatUnicodePropertyValue=function(i){var t=0;for(i.lastStringValue="";uB(t=i.current());)i.lastStringValue+=qs(t),i.advance();return i.lastStringValue!==""};function uB(i){return _5(i)||Hp(i)}dt.regexp_eatLoneUnicodePropertyNameOrValue=function(i){return this.regexp_eatUnicodePropertyValue(i)};dt.regexp_eatCharacterClass=function(i){if(i.eat(91)){var t=i.eat(94),r=this.regexp_classContents(i);return i.eat(93)||i.raise("Unterminated character class"),t&&r===Ci&&i.raise("Negated character class may contain strings"),!0}return!1};dt.regexp_classContents=function(i){return i.current()===93?$s:i.switchV?this.regexp_classSetExpression(i):(this.regexp_nonEmptyClassRanges(i),$s)};dt.regexp_nonEmptyClassRanges=function(i){for(;this.regexp_eatClassAtom(i);){var t=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassAtom(i)){var r=i.lastIntValue;i.switchU&&(t===-1||r===-1)&&i.raise("Invalid character class"),t!==-1&&r!==-1&&t>r&&i.raise("Range out of order in character class")}}};dt.regexp_eatClassAtom=function(i){var t=i.pos;if(i.eat(92)){if(this.regexp_eatClassEscape(i))return!0;if(i.switchU){var r=i.current();(r===99||E5(r))&&i.raise("Invalid class escape"),i.raise("Invalid escape")}i.pos=t}var n=i.current();return n!==93?(i.lastIntValue=n,i.advance(),!0):!1};dt.regexp_eatClassEscape=function(i){var t=i.pos;if(i.eat(98))return i.lastIntValue=8,!0;if(i.switchU&&i.eat(45))return i.lastIntValue=45,!0;if(!i.switchU&&i.eat(99)){if(this.regexp_eatClassControlLetter(i))return!0;i.pos=t}return this.regexp_eatCharacterClassEscape(i)||this.regexp_eatCharacterEscape(i)};dt.regexp_classSetExpression=function(i){var t=$s,r;if(!this.regexp_eatClassSetRange(i))if(r=this.regexp_eatClassSetOperand(i)){r===Ci&&(t=Ci);for(var n=i.pos;i.eatChars([38,38]);){if(i.current()!==38&&(r=this.regexp_eatClassSetOperand(i))){r!==Ci&&(t=$s);continue}i.raise("Invalid character in character class")}if(n!==i.pos)return t;for(;i.eatChars([45,45]);)this.regexp_eatClassSetOperand(i)||i.raise("Invalid character in character class");if(n!==i.pos)return t}else i.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(i)){if(r=this.regexp_eatClassSetOperand(i),!r)return t;r===Ci&&(t=Ci)}};dt.regexp_eatClassSetRange=function(i){var t=i.pos;if(this.regexp_eatClassSetCharacter(i)){var r=i.lastIntValue;if(i.eat(45)&&this.regexp_eatClassSetCharacter(i)){var n=i.lastIntValue;return r!==-1&&n!==-1&&r>n&&i.raise("Range out of order in character class"),!0}i.pos=t}return!1};dt.regexp_eatClassSetOperand=function(i){return this.regexp_eatClassSetCharacter(i)?$s:this.regexp_eatClassStringDisjunction(i)||this.regexp_eatNestedClass(i)};dt.regexp_eatNestedClass=function(i){var t=i.pos;if(i.eat(91)){var r=i.eat(94),n=this.regexp_classContents(i);if(i.eat(93))return r&&n===Ci&&i.raise("Negated character class may contain strings"),n;i.pos=t}if(i.eat(92)){var s=this.regexp_eatCharacterClassEscape(i);if(s)return s;i.pos=t}return null};dt.regexp_eatClassStringDisjunction=function(i){var t=i.pos;if(i.eatChars([92,113])){if(i.eat(123)){var r=this.regexp_classStringDisjunctionContents(i);if(i.eat(125))return r}else i.raise("Invalid escape");i.pos=t}return null};dt.regexp_classStringDisjunctionContents=function(i){for(var t=this.regexp_classString(i);i.eat(124);)this.regexp_classString(i)===Ci&&(t=Ci);return t};dt.regexp_classString=function(i){for(var t=0;this.regexp_eatClassSetCharacter(i);)t++;return t===1?$s:Ci};dt.regexp_eatClassSetCharacter=function(i){var t=i.pos;if(i.eat(92))return this.regexp_eatCharacterEscape(i)||this.regexp_eatClassSetReservedPunctuator(i)?!0:i.eat(98)?(i.lastIntValue=8,!0):(i.pos=t,!1);var r=i.current();return r<0||r===i.lookahead()&&lB(r)||cB(r)?!1:(i.advance(),i.lastIntValue=r,!0)};function lB(i){return i===33||i>=35&&i<=38||i>=42&&i<=44||i===46||i>=58&&i<=64||i===94||i===96||i===126}function cB(i){return i===40||i===41||i===45||i===47||i>=91&&i<=93||i>=123&&i<=125}dt.regexp_eatClassSetReservedPunctuator=function(i){var t=i.current();return hB(t)?(i.lastIntValue=t,i.advance(),!0):!1};function hB(i){return i===33||i===35||i===37||i===38||i===44||i===45||i>=58&&i<=62||i===64||i===96||i===126}dt.regexp_eatClassControlLetter=function(i){var t=i.current();return Hp(t)||t===95?(i.lastIntValue=t%32,i.advance(),!0):!1};dt.regexp_eatHexEscapeSequence=function(i){var t=i.pos;if(i.eat(120)){if(this.regexp_eatFixedHexDigits(i,2))return!0;i.switchU&&i.raise("Invalid escape"),i.pos=t}return!1};dt.regexp_eatDecimalDigits=function(i){var t=i.pos,r=0;for(i.lastIntValue=0;Hp(r=i.current());)i.lastIntValue=10*i.lastIntValue+(r-48),i.advance();return i.pos!==t};function Hp(i){return i>=48&&i<=57}dt.regexp_eatHexDigits=function(i){var t=i.pos,r=0;for(i.lastIntValue=0;S5(r=i.current());)i.lastIntValue=16*i.lastIntValue+w5(r),i.advance();return i.pos!==t};function S5(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102}function w5(i){return i>=65&&i<=70?10+(i-65):i>=97&&i<=102?10+(i-97):i-48}dt.regexp_eatLegacyOctalEscapeSequence=function(i){if(this.regexp_eatOctalDigit(i)){var t=i.lastIntValue;if(this.regexp_eatOctalDigit(i)){var r=i.lastIntValue;t<=3&&this.regexp_eatOctalDigit(i)?i.lastIntValue=t*64+r*8+i.lastIntValue:i.lastIntValue=t*8+r}else i.lastIntValue=t;return!0}return!1};dt.regexp_eatOctalDigit=function(i){var t=i.current();return E5(t)?(i.lastIntValue=t-48,i.advance(),!0):(i.lastIntValue=0,!1)};function E5(i){return i>=48&&i<=55}dt.regexp_eatFixedHexDigits=function(i,t){var r=i.pos;i.lastIntValue=0;for(var n=0;n<t;++n){var s=i.current();if(!S5(s))return i.pos=r,!1;i.lastIntValue=16*i.lastIntValue+w5(s),i.advance()}return!0};var E1=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new Up(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},er=cn.prototype;er.next=function(i){!i&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new E1(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};er.getToken=function(){return this.next(),new E1(this)};typeof Symbol<"u"&&(er[Symbol.iterator]=function(){var i=this;return{next:function(){var t=i.getToken();return{done:t.type===ee.eof,value:t}}}});er.nextToken=function(){var i=this.curContext();if((!i||!i.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(ee.eof);if(i.override)return i.override(this);this.readToken(this.fullCharCodeAtPos())};er.readToken=function(i){return Hs(i,this.options.ecmaVersion>=6)||i===92?this.readWord():this.getTokenFromCode(i)};er.fullCharCodeAtPos=function(){var i=this.input.charCodeAt(this.pos);if(i<=55295||i>=56320)return i;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?i:(i<<10)+t-56613888};er.skipBlockComment=function(){var i=this.options.onComment&&this.curPosition(),t=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(r===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(var n=void 0,s=t;(n=WT(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,r),t,this.pos,i,this.curPosition())};er.skipLineComment=function(i){for(var t=this.pos,r=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=i);this.pos<this.input.length&&!_l(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+i,this.pos),t,this.pos,r,this.curPosition())};er.skipSpace=function(){e:for(;this.pos<this.input.length;){var i=this.input.charCodeAt(this.pos);switch(i){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(i>8&&i<14||i>=5760&&YT.test(String.fromCharCode(i)))++this.pos;else break e}}};er.finishToken=function(i,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=i,this.value=t,this.updateContext(r)};er.readToken_dot=function(){var i=this.input.charCodeAt(this.pos+1);if(i>=48&&i<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&i===46&&t===46?(this.pos+=3,this.finishToken(ee.ellipsis)):(++this.pos,this.finishToken(ee.dot))};er.readToken_slash=function(){var i=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):i===61?this.finishOp(ee.assign,2):this.finishOp(ee.slash,1)};er.readToken_mult_modulo_exp=function(i){var t=this.input.charCodeAt(this.pos+1),r=1,n=i===42?ee.star:ee.modulo;return this.options.ecmaVersion>=7&&i===42&&t===42&&(++r,n=ee.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(ee.assign,r+1):this.finishOp(n,r)};er.readToken_pipe_amp=function(i){var t=this.input.charCodeAt(this.pos+1);if(t===i){if(this.options.ecmaVersion>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(ee.assign,3)}return this.finishOp(i===124?ee.logicalOR:ee.logicalAND,2)}return t===61?this.finishOp(ee.assign,2):this.finishOp(i===124?ee.bitwiseOR:ee.bitwiseAND,1)};er.readToken_caret=function(){var i=this.input.charCodeAt(this.pos+1);return i===61?this.finishOp(ee.assign,2):this.finishOp(ee.bitwiseXOR,1)};er.readToken_plus_min=function(i){var t=this.input.charCodeAt(this.pos+1);return t===i?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Ni.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(ee.incDec,2):t===61?this.finishOp(ee.assign,2):this.finishOp(ee.plusMin,1)};er.readToken_lt_gt=function(i){var t=this.input.charCodeAt(this.pos+1),r=1;return t===i?(r=i===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+r)===61?this.finishOp(ee.assign,r+1):this.finishOp(ee.bitShift,r)):t===33&&i===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(r=2),this.finishOp(ee.relational,r))};er.readToken_eq_excl=function(i){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(ee.equality,this.input.charCodeAt(this.pos+2)===61?3:2):i===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(ee.arrow)):this.finishOp(i===61?ee.eq:ee.prefix,1)};er.readToken_question=function(){var i=this.options.ecmaVersion;if(i>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var r=this.input.charCodeAt(this.pos+2);if(r<48||r>57)return this.finishOp(ee.questionDot,2)}if(t===63){if(i>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(ee.assign,3)}return this.finishOp(ee.coalesce,2)}}return this.finishOp(ee.question,1)};er.readToken_numberSign=function(){var i=this.options.ecmaVersion,t=35;if(i>=13&&(++this.pos,t=this.fullCharCodeAtPos(),Hs(t,!0)||t===92))return this.finishToken(ee.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+qs(t)+"'")};er.getTokenFromCode=function(i){switch(i){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(ee.parenL);case 41:return++this.pos,this.finishToken(ee.parenR);case 59:return++this.pos,this.finishToken(ee.semi);case 44:return++this.pos,this.finishToken(ee.comma);case 91:return++this.pos,this.finishToken(ee.bracketL);case 93:return++this.pos,this.finishToken(ee.bracketR);case 123:return++this.pos,this.finishToken(ee.braceL);case 125:return++this.pos,this.finishToken(ee.braceR);case 58:return++this.pos,this.finishToken(ee.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(ee.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(i);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(i);case 124:case 38:return this.readToken_pipe_amp(i);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(i);case 60:case 62:return this.readToken_lt_gt(i);case 61:case 33:return this.readToken_eq_excl(i);case 63:return this.readToken_question();case 126:return this.finishOp(ee.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+qs(i)+"'")};er.finishOp=function(i,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(i,r)};er.readRegexp=function(){for(var i,t,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(Ni.test(n)&&this.raise(r,"Unterminated regular expression"),i)i=!1;else{if(n==="[")t=!0;else if(n==="]"&&t)t=!1;else if(n==="/"&&!t)break;i=n==="\\"}++this.pos}var s=this.input.slice(r,this.pos);++this.pos;var a=this.pos,o=this.readWord1();this.containsEsc&&this.unexpected(a);var l=this.regexpState||(this.regexpState=new cs(this));l.reset(r,s,o),this.validateRegExpFlags(l),this.validateRegExpPattern(l);var d=null;try{d=new RegExp(s,o)}catch{}return this.finishToken(ee.regexp,{pattern:s,flags:o,value:d})};er.readInt=function(i,t,r){for(var n=this.options.ecmaVersion>=12&&t===void 0,s=r&&this.input.charCodeAt(this.pos)===48,a=this.pos,o=0,l=0,d=0,p=t??1/0;d<p;++d,++this.pos){var g=this.input.charCodeAt(this.pos),y=void 0;if(n&&g===95){s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),l===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),d===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),l=g;continue}if(g>=97?y=g-97+10:g>=65?y=g-65+10:g>=48&&g<=57?y=g-48:y=1/0,y>=i)break;l=g,o=o*i+y}return n&&l===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||t!=null&&this.pos-a!==t?null:o};function fB(i,t){return t?parseInt(i,8):parseFloat(i.replace(/_/g,""))}function C5(i){return typeof BigInt!="function"?null:BigInt(i.replace(/_/g,""))}er.readRadixNumber=function(i){var t=this.pos;this.pos+=2;var r=this.readInt(i);return r==null&&this.raise(this.start+2,"Expected number in radix "+i),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(r=C5(this.input.slice(t,this.pos)),++this.pos):Hs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ee.num,r)};er.readNumber=function(i){var t=this.pos;!i&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var r=this.pos-t>=2&&this.input.charCodeAt(t)===48;r&&this.strict&&this.raise(t,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!r&&!i&&this.options.ecmaVersion>=11&&n===110){var s=C5(this.input.slice(t,this.pos));return++this.pos,Hs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(ee.num,s)}r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1),n===46&&!r&&(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),(n===69||n===101)&&!r&&(n=this.input.charCodeAt(++this.pos),(n===43||n===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),Hs(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=fB(this.input.slice(t,this.pos),r);return this.finishToken(ee.num,a)};er.readCodePoint=function(){var i=this.input.charCodeAt(this.pos),t;if(i===123){this.options.ecmaVersion<6&&this.unexpected();var r=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(r,"Code point out of bounds")}else t=this.readHexChar(4);return t};er.readString=function(i){for(var t="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===i)break;n===92?(t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!1),r=this.pos):n===8232||n===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(_l(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(r,this.pos++),this.finishToken(ee.string,t)};var A5={};er.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(i){if(i===A5)this.readInvalidTemplateToken();else throw i}this.inTemplateElement=!1};er.invalidStringToken=function(i,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw A5;this.raise(i,t)};er.readTmplToken=function(){for(var i="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(r===96||r===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===ee.template||this.type===ee.invalidTemplate)?r===36?(this.pos+=2,this.finishToken(ee.dollarBraceL)):(++this.pos,this.finishToken(ee.backQuote)):(i+=this.input.slice(t,this.pos),this.finishToken(ee.template,i));if(r===92)i+=this.input.slice(t,this.pos),i+=this.readEscapedChar(!0),t=this.pos;else if(_l(r)){switch(i+=this.input.slice(t,this.pos),++this.pos,r){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:i+=`
`;break;default:i+=String.fromCharCode(r);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};er.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(ee.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};er.readEscapedChar=function(i){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return qs(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),i){var r=this.pos-1;this.invalidStringToken(r,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(n,8);return s>255&&(n=n.slice(0,-1),s=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),(n!=="0"||t===56||t===57)&&(this.strict||i)&&this.invalidStringToken(this.pos-1-n.length,i?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return _l(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}};er.readHexChar=function(i){var t=this.pos,r=this.readInt(16,i);return r===null&&this.invalidStringToken(t,"Bad character escape sequence"),r};er.readWord1=function(){this.containsEsc=!1;for(var i="",t=!0,r=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(dl(s,n))this.pos+=s<=65535?1:2;else if(s===92){this.containsEsc=!0,i+=this.input.slice(r,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var o=this.readCodePoint();(t?Hs:dl)(o,n)||this.invalidStringToken(a,"Invalid Unicode escape"),i+=qs(o),r=this.pos}else break;t=!1}return i+this.input.slice(r,this.pos)};er.readWord=function(){var i=this.readWord1(),t=ee.name;return this.keywords.test(i)&&(t=v1[i]),this.finishToken(t,i)};var dB="8.14.1";cn.acorn={Parser:cn,version:dB,defaultOptions:ev,Position:mh,SourceLocation:Up,getLineInfo:ZT,Node:Gp,TokenType:or,tokTypes:ee,keywordTypes:v1,TokContext:ki,tokContexts:Mr,isIdentifierChar:dl,isIdentifierStart:Hs,Token:E1,isNewLine:_l,lineBreak:Ni,lineBreakG:PI,nonASCIIwhitespace:YT};function D5(i,t){return cn.parse(i,t)}function pB(i,t,r,n,s){r||(r=nt),function a(o,l,d){var p=d||o.type;r[p](o,l,a),t[p]&&t[p](o,l)}(i,n,s)}function gB(i,t,r,n,s){var a=[];r||(r=nt),function o(l,d,p){var g=p||l.type,y=l!==a[a.length-1];y&&a.push(l),r[g](l,d,o),t[g]&&t[g](l,d||a,a),y&&a.pop()}(i,n,s)}function C1(i,t,r){r(i,t)}function Vo(i,t,r){}var nt={};nt.Program=nt.BlockStatement=nt.StaticBlock=function(i,t,r){for(var n=0,s=i.body;n<s.length;n+=1){var a=s[n];r(a,t,"Statement")}};nt.Statement=C1;nt.EmptyStatement=Vo;nt.ExpressionStatement=nt.ParenthesizedExpression=nt.ChainExpression=function(i,t,r){return r(i.expression,t,"Expression")};nt.IfStatement=function(i,t,r){r(i.test,t,"Expression"),r(i.consequent,t,"Statement"),i.alternate&&r(i.alternate,t,"Statement")};nt.LabeledStatement=function(i,t,r){return r(i.body,t,"Statement")};nt.BreakStatement=nt.ContinueStatement=Vo;nt.WithStatement=function(i,t,r){r(i.object,t,"Expression"),r(i.body,t,"Statement")};nt.SwitchStatement=function(i,t,r){r(i.discriminant,t,"Expression");for(var n=0,s=i.cases;n<s.length;n+=1){var a=s[n];r(a,t)}};nt.SwitchCase=function(i,t,r){i.test&&r(i.test,t,"Expression");for(var n=0,s=i.consequent;n<s.length;n+=1){var a=s[n];r(a,t,"Statement")}};nt.ReturnStatement=nt.YieldExpression=nt.AwaitExpression=function(i,t,r){i.argument&&r(i.argument,t,"Expression")};nt.ThrowStatement=nt.SpreadElement=function(i,t,r){return r(i.argument,t,"Expression")};nt.TryStatement=function(i,t,r){r(i.block,t,"Statement"),i.handler&&r(i.handler,t),i.finalizer&&r(i.finalizer,t,"Statement")};nt.CatchClause=function(i,t,r){i.param&&r(i.param,t,"Pattern"),r(i.body,t,"Statement")};nt.WhileStatement=nt.DoWhileStatement=function(i,t,r){r(i.test,t,"Expression"),r(i.body,t,"Statement")};nt.ForStatement=function(i,t,r){i.init&&r(i.init,t,"ForInit"),i.test&&r(i.test,t,"Expression"),i.update&&r(i.update,t,"Expression"),r(i.body,t,"Statement")};nt.ForInStatement=nt.ForOfStatement=function(i,t,r){r(i.left,t,"ForInit"),r(i.right,t,"Expression"),r(i.body,t,"Statement")};nt.ForInit=function(i,t,r){i.type==="VariableDeclaration"?r(i,t):r(i,t,"Expression")};nt.DebuggerStatement=Vo;nt.FunctionDeclaration=function(i,t,r){return r(i,t,"Function")};nt.VariableDeclaration=function(i,t,r){for(var n=0,s=i.declarations;n<s.length;n+=1){var a=s[n];r(a,t)}};nt.VariableDeclarator=function(i,t,r){r(i.id,t,"Pattern"),i.init&&r(i.init,t,"Expression")};nt.Function=function(i,t,r){i.id&&r(i.id,t,"Pattern");for(var n=0,s=i.params;n<s.length;n+=1){var a=s[n];r(a,t,"Pattern")}r(i.body,t,i.expression?"Expression":"Statement")};nt.Pattern=function(i,t,r){i.type==="Identifier"?r(i,t,"VariablePattern"):i.type==="MemberExpression"?r(i,t,"MemberPattern"):r(i,t)};nt.VariablePattern=Vo;nt.MemberPattern=C1;nt.RestElement=function(i,t,r){return r(i.argument,t,"Pattern")};nt.ArrayPattern=function(i,t,r){for(var n=0,s=i.elements;n<s.length;n+=1){var a=s[n];a&&r(a,t,"Pattern")}};nt.ObjectPattern=function(i,t,r){for(var n=0,s=i.properties;n<s.length;n+=1){var a=s[n];a.type==="Property"?(a.computed&&r(a.key,t,"Expression"),r(a.value,t,"Pattern")):a.type==="RestElement"&&r(a.argument,t,"Pattern")}};nt.Expression=C1;nt.ThisExpression=nt.Super=nt.MetaProperty=Vo;nt.ArrayExpression=function(i,t,r){for(var n=0,s=i.elements;n<s.length;n+=1){var a=s[n];a&&r(a,t,"Expression")}};nt.ObjectExpression=function(i,t,r){for(var n=0,s=i.properties;n<s.length;n+=1){var a=s[n];r(a,t)}};nt.FunctionExpression=nt.ArrowFunctionExpression=nt.FunctionDeclaration;nt.SequenceExpression=function(i,t,r){for(var n=0,s=i.expressions;n<s.length;n+=1){var a=s[n];r(a,t,"Expression")}};nt.TemplateLiteral=function(i,t,r){for(var n=0,s=i.quasis;n<s.length;n+=1){var a=s[n];r(a,t)}for(var o=0,l=i.expressions;o<l.length;o+=1){var d=l[o];r(d,t,"Expression")}};nt.TemplateElement=Vo;nt.UnaryExpression=nt.UpdateExpression=function(i,t,r){r(i.argument,t,"Expression")};nt.BinaryExpression=nt.LogicalExpression=function(i,t,r){r(i.left,t,"Expression"),r(i.right,t,"Expression")};nt.AssignmentExpression=nt.AssignmentPattern=function(i,t,r){r(i.left,t,"Pattern"),r(i.right,t,"Expression")};nt.ConditionalExpression=function(i,t,r){r(i.test,t,"Expression"),r(i.consequent,t,"Expression"),r(i.alternate,t,"Expression")};nt.NewExpression=nt.CallExpression=function(i,t,r){if(r(i.callee,t,"Expression"),i.arguments)for(var n=0,s=i.arguments;n<s.length;n+=1){var a=s[n];r(a,t,"Expression")}};nt.MemberExpression=function(i,t,r){r(i.object,t,"Expression"),i.computed&&r(i.property,t,"Expression")};nt.ExportNamedDeclaration=nt.ExportDefaultDeclaration=function(i,t,r){i.declaration&&r(i.declaration,t,i.type==="ExportNamedDeclaration"||i.declaration.id?"Statement":"Expression"),i.source&&r(i.source,t,"Expression")};nt.ExportAllDeclaration=function(i,t,r){i.exported&&r(i.exported,t),r(i.source,t,"Expression")};nt.ImportDeclaration=function(i,t,r){for(var n=0,s=i.specifiers;n<s.length;n+=1){var a=s[n];r(a,t)}r(i.source,t,"Expression")};nt.ImportExpression=function(i,t,r){r(i.source,t,"Expression")};nt.ImportSpecifier=nt.ImportDefaultSpecifier=nt.ImportNamespaceSpecifier=nt.Identifier=nt.PrivateIdentifier=nt.Literal=Vo;nt.TaggedTemplateExpression=function(i,t,r){r(i.tag,t,"Expression"),r(i.quasi,t,"Expression")};nt.ClassDeclaration=nt.ClassExpression=function(i,t,r){return r(i,t,"Class")};nt.Class=function(i,t,r){i.id&&r(i.id,t,"Pattern"),i.superClass&&r(i.superClass,t,"Expression"),r(i.body,t)};nt.ClassBody=function(i,t,r){for(var n=0,s=i.body;n<s.length;n+=1){var a=s[n];r(a,t)}};nt.MethodDefinition=nt.PropertyDefinition=nt.Property=function(i,t,r){i.computed&&r(i.key,t,"Expression"),i.value&&r(i.value,t,"Expression")};const mB=["setup","draw","preload","deviceMoved","deviceTurned","deviceShaken","doubleClicked","mousePressed","mouseReleased","mouseMoved","mouseDragged","mouseClicked","mouseWheel","touchStarted","touchMoved","touchEnded","keyPressed","keyReleased","keyTyped","windowResized"],Mc={fetchScript:async function(i){if(i.src)try{return await fetch(i.src).then(r=>r.text())}catch(t){return console.error("Error fetching script:",t),""}else return i.textContent},extractUserDefinedVariablesAndFuncs:function(i){const t={variables:[],functions:[]},r=-1;try{const n=D5(i,{ecmaVersion:2021,sourceType:"module",locations:!0});pB(n,{VariableDeclarator(s){if(s.id.type==="Identifier"){const a=s.init&&["ArrowFunctionExpression","FunctionExpression"].includes(s.init.type)?"functions":"variables";t[a].push({name:s.id.name,line:s.loc.start.line+r})}},FunctionDeclaration(s){s.id&&s.id.type==="Identifier"&&t.functions.push({name:s.id.name,line:s.loc.start.line+r})},ClassDeclaration(s){s.id&&s.id.type==="Identifier"&&t.variables.push({name:s.id.name,line:s.loc.start.line+r})}})}catch(n){console.error("Error parsing code:",n)}return t},checkForConstsAndFuncs:function(i,t){const r=[...i.variables,...i.functions];function n(a,o,l){const d=`https://p5js.org/reference/p5/${o}`;return`${a} "${o}" on line ${l} is being redeclared and conflicts with a p5.js ${a.toLowerCase()}. p5.js reference: ${d}`}for(let{name:a,line:o}of r)if(To[a]!==void 0){const d=n("Constant",a,o);return console.log(d),!0}const s=new Set(Object.getOwnPropertyNames(t.prototype).filter(a=>!a.startsWith("_")&&a!=="constructor"));for(let{name:a,line:o}of r)if(!mB.includes(a)&&s.has(a)){const l=n("Function",a,o);return console.log(l),!0}return!1},getUserCode:async function(){const i=document.querySelectorAll("script"),t=i[i.length-1];return await Mc.fetchScript(t)},runFES:async function(i){const t=await Mc.getUserCode(),r=Mc.extractUserDefinedVariablesAndFuncs(t);Mc.checkForConstsAndFuncs(r,i)}};function T5(i,t,r){r.presetup=async function(){i.disableFriendlyErrors||Mc.runFES(i)}}typeof p5<"u"&&T5(p5,p5.prototype);function N5(i,t){const r=(n,s)=>{const a=kt("fes.fileLoadError.suggestion",{filePath:s,url:"https://github.com/processing/p5.js/wiki/Local-server"});switch(n){case 0:return{message:kt("fes.fileLoadError.image",{suggestion:a}),method:"loadImage"};case 1:return{message:kt("fes.fileLoadError.xml",{suggestion:a}),method:"loadXML"};case 2:return{message:kt("fes.fileLoadError.table",{suggestion:a}),method:"loadTable"};case 3:return{message:kt("fes.fileLoadError.strings",{suggestion:a}),method:"loadStrings"};case 4:return{message:kt("fes.fileLoadError.font",{suggestion:a}),method:"loadFont"};case 5:return{message:kt("fes.fileLoadError.json",{suggestion:a}),method:"loadJSON"};case 6:return{message:kt("fes.fileLoadError.bytes",{suggestion:a}),method:"loadBytes"};case 7:return{message:kt("fes.fileLoadError.large"),method:"loadX"};case 8:return{message:kt("fes.fileLoadError.gif"),method:"loadImage"}}};i._friendlyFileLoadError=function(n,s){const{message:a,method:o}=r(n,s);i._friendlyError(a,o,3)}}typeof p5<"u"&&N5(p5,p5.prototype);function yB(i){i.registerAddon(BT),i.registerAddon(UT),i.registerAddon(HT),i.registerAddon(T5),i.registerAddon(N5)}function O5(i,t){t.storeItem=function(r,n){typeof r!="string"&&console.log(`The argument that you passed to storeItem() - ${r} is not a string.`),r.endsWith("p5TypeID")&&console.log(`The argument that you passed to storeItem() - ${r} must not end with 'p5TypeID'.`),typeof n>"u"&&console.log("You cannot store undefined variables using storeItem().");let s=typeof n;switch(s){case"number":case"boolean":n=n.toString();break;case"object":n instanceof i.Color?(s="p5.Color",n=n.toString()):n instanceof i.Vector&&(s="p5.Vector",n=[n.x,n.y,n.z]),n=JSON.stringify(n);break}localStorage.setItem(r,n);const a=`${r}p5TypeID`;localStorage.setItem(a,s)},t.getItem=function(r){let n=localStorage.getItem(r);const s=localStorage.getItem(`${r}p5TypeID`);if(typeof s>"u")console.log(`Unable to determine type of item stored under ${r}in local storage. Did you save the item with something other than setItem()?`);else if(n!==null)switch(s){case"number":n=parseFloat(n);break;case"boolean":n=n==="true";break;case"object":n=JSON.parse(n);break;case"p5.Color":n=this.color(JSON.parse(n));break;case"p5.Vector":n=JSON.parse(n),n=this.createVector(...n);break}return n},t.clearStorage=function(){Object.keys(localStorage).forEach(n=>{n.endsWith("p5TypeID")&&this.removeItem(n.replace("p5TypeID",""))})},t.removeItem=function(r){typeof r!="string"&&console.log(`The argument that you passed to removeItem() - ${r} is not a string.`),localStorage.removeItem(r),localStorage.removeItem(`${r}p5TypeID`)}}typeof p5<"u"&&O5(p5,p5.prototype);function vB(i){i.registerAddon(O5)}function F5(i,t){t.select=function(s,a){const l=this._getContainer(a).querySelector(s);return l?this._wrapElement(l):null},t.selectAll=function(s,a){const o=[],d=this._getContainer(a).querySelectorAll(s);if(d)for(let p=0;p<d.length;p++){const g=this._wrapElement(d[p]);o.push(g)}return o},t._getContainer=function(s){let a=document;return typeof s=="string"?a=document.querySelector(s)||document:s instanceof Xt?a=s.elt:s instanceof HTMLElement&&(a=s),a},t._wrapElement=function(s){const a=Array.prototype.slice.call(s.children);if(s.tagName==="INPUT"&&s.type==="checkbox"){let o=new Xt(s,this);return o.checked=function(...l){return l.length===0?this.elt.checked:(l[0]?this.elt.checked=!0:this.elt.checked=!1,this)},o}else return s.tagName==="VIDEO"||s.tagName==="AUDIO"?new oh(s,this):s.tagName==="SELECT"?this.createSelect(new Xt(s,this)):a.length>0&&a.every(function(o){return o.tagName==="INPUT"||o.tagName==="LABEL"})&&(s.tagName==="DIV"||s.tagName==="SPAN")?this.createRadio(new Xt(s,this)):new Xt(s,this)},t.createElement=function(s,a){const o=document.createElement(s);return typeof a<"u"&&(o.innerHTML=a),r(o,this)},t.removeElements=function(s){const a=l=>!(l.elt instanceof HTMLCanvasElement);this._elements.filter(a).map(l=>l.remove())};function r(s,a,o){(a._userNode?a._userNode:document.body).appendChild(s);const d=o?new oh(s,a):new Xt(s,a);return a._elements.push(d),d}t.createDiv=function(s=""){let a=document.createElement("div");return a.innerHTML=s,r(a,this)},t.createP=function(s=""){let a=document.createElement("p");return a.innerHTML=s,r(a,this)},t.createSpan=function(s=""){let a=document.createElement("span");return a.innerHTML=s,r(a,this)},t.createImg=function(){const s=document.createElement("img"),a=arguments;let o;return a.length>1&&typeof a[1]=="string"&&(s.alt=a[1]),a.length>2&&typeof a[2]=="string"&&(s.crossOrigin=a[2]),s.src=a[0],o=r(s,this),s.addEventListener("load",function(){o.width=s.offsetWidth||s.width,o.height=s.offsetHeight||s.height;const l=a[a.length-1];typeof l=="function"&&l(o)}),o},t.createA=function(s,a,o){const l=document.createElement("a");return l.href=s,l.innerHTML=a,o&&(l.target=o),r(l,this)},t.createSlider=function(s,a,o,l){const d=document.createElement("input");return d.type="range",d.min=s,d.max=a,l===0?d.step=1e-18:l&&(d.step=l),typeof o=="number"&&(d.value=o),r(d,this)},t.createButton=function(s,a){const o=document.createElement("button");return o.innerHTML=s,a&&(o.value=a),r(o,this)},t.createCheckbox=function(...s){const a=document.createElement("div"),o=document.createElement("input");o.type="checkbox";const l=document.createElement("label");l.appendChild(o),a.appendChild(l);const d=r(a,this);if(d.checked=function(...p){const g=d.elt.firstElementChild.getElementsByTagName("input")[0];if(g){if(p.length===0)return g.checked;p[0]?g.checked=!0:g.checked=!1}return d},this.value=function(p){return d.value=p,this},s[0]){d.value(s[0]);const p=document.createElement("span");p.innerHTML=s[0],l.appendChild(p)}return s[1]&&(o.checked=!0),d},t.createSelect=function(...s){let a,o=s[0];if(o instanceof Xt&&o.elt instanceof HTMLSelectElement)a=o,this.elt=o.elt;else if(o instanceof HTMLSelectElement)a=r(o,this),this.elt=o;else{const l=document.createElement("select");o&&typeof o=="boolean"&&l.setAttribute("multiple","true"),a=r(l,this),this.elt=l}return a.option=function(l,d){let p;if(l!==void 0){for(let g=0;g<this.elt.length;g+=1)if(this.elt[g].textContent===l){p=g;break}if(p!==void 0)d===!1?this.elt.remove(p):this.elt[p].value=d;else{const g=document.createElement("option");g.textContent=l,g.value=d===void 0?l:d,this.elt.appendChild(g),this._pInst._elements.push(g)}}},a.selected=function(l){if(l!==void 0){for(let d=0;d<this.elt.length;d+=1)this.elt[d].value.toString()===l.toString()&&(this.elt.selectedIndex=d);return this}else if(this.elt.getAttribute("multiple")){let d=[];for(const p of this.elt.selectedOptions)d.push(p.value);return d}else return this.elt.value},a.disable=function(l){if(typeof l=="string")for(let d=0;d<this.elt.length;d++)this.elt[d].value.toString()===l&&(this.elt[d].disabled=!0,this.elt[d].selected=!1);else this.elt.disabled=!0;return this},a.enable=function(l){if(typeof l=="string")for(let d=0;d<this.elt.length;d++)this.elt[d].value.toString()===l&&(this.elt[d].disabled=!1,this.elt[d].selected=!1);else{this.elt.disabled=!1;for(let d=0;d<this.elt.length;d++)this.elt[d].disabled=!1,this.elt[d].selected=!1}return this},a};let n=0;t.createRadio=function(...s){let a,o,l;const d=s[0];d instanceof Xt&&(d.elt instanceof HTMLDivElement||d.elt instanceof HTMLSpanElement)?(a=d,this.elt=d.elt):d instanceof HTMLDivElement||d instanceof HTMLSpanElement?(a=r(d,this),this.elt=d,o=d,typeof s[1]=="string"&&(l=s[1])):(typeof d=="string"&&(l=d),o=document.createElement("div"),a=r(o,this),this.elt=o),a._name=l||`radioOption_${n++}`;const p=x=>x instanceof HTMLInputElement&&x.type==="radio",g=x=>x instanceof HTMLLabelElement,y=x=>x instanceof HTMLSpanElement;return a._getOptionsArray=function(){return Array.from(this.elt.children).filter(x=>p(x)||g(x)&&p(x.firstElementChild)).map(x=>p(x)?x:x.firstElementChild)},a.option=function(x,S){let _;for(const P of a._getOptionsArray())if(P.value===x){_=P;break}_===void 0&&(_=document.createElement("input"),_.setAttribute("type","radio"),_.setAttribute("value",x)),_.setAttribute("name",a._name);let w;g(_.parentElement)?w=_.parentElement:(w=document.createElement("label"),w.insertAdjacentElement("afterbegin",_));let A;return y(w.lastElementChild)?A=w.lastElementChild:(A=document.createElement("span"),_.insertAdjacentElement("afterend",A)),A.innerHTML=S===void 0?x:S,this.elt.appendChild(w),_},a.remove=function(x){for(const S of a._getOptionsArray())if(S.value===x){g(S.parentElement)?S.parentElement.remove():S.remove();return}},a.value=function(){let x="";for(const S of a._getOptionsArray())if(S.checked){x=S.value;break}return x},a.selected=function(x){let S=null;if(x===void 0){for(const _ of a._getOptionsArray())if(_.checked){S=_;break}}else{a._getOptionsArray().forEach(_=>{_.checked=!1,_.removeAttribute("checked")});for(const _ of a._getOptionsArray())_.value===x&&(_.setAttribute("checked",!0),_.checked=!0,S=_)}return S},a.disable=function(x=!0){for(const S of a._getOptionsArray())S.setAttribute("disabled",x)},a},t.createColorPicker=function(s){const a=document.createElement("input");let o;a.type="color",s?s instanceof i.Color?a.value=s.toString("#rrggbb"):(this.push(),this.colorMode("rgb"),a.value=this.color(s).toString("#rrggbb"),this.pop()):a.value="#000000",o=r(a,this);const l=this;return o.color=function(){l.push(),s&&s.mode&&l.colorMode(s.mode,...s!=null&&s.maxes?s.maxes[s.mode]||[]:[]);const d=l.color(this.elt.value);return l.pop(),d},o},t.createInput=function(s="",a="text"){let o=document.createElement("input");return o.setAttribute("value",s),o.setAttribute("type",a),r(o,this)},t.createFileInput=function(s,a=!1){const o=function(d){for(const p of d.target.files)Da._load(p,s)};if(!(window.File&&window.FileReader&&window.FileList&&window.Blob)){console.log("The File APIs are not fully supported in this browser. Cannot create element.");return}const l=document.createElement("input");return l.setAttribute("type","file"),a&&l.setAttribute("multiple",!0),l.addEventListener("change",o,!1),r(l,this)}}typeof p5<"u"&&F5(p5,p5.prototype);function bB(i){i.registerAddon(F5),i.registerAddon(vD),i.registerAddon(BD),i.registerAddon(yD)}function R5(i,t){t.deviceOrientation=window.innerWidth/window.innerHeight>1?"landscape":"portrait",t.accelerationX=0,t.accelerationY=0,t.accelerationZ=0,t.pAccelerationX=0,t.pAccelerationY=0,t.pAccelerationZ=0,t._updatePAccelerations=function(){this.pAccelerationX=this.accelerationX,this.pAccelerationY=this.accelerationY,this.pAccelerationZ=this.accelerationZ},t.rotationX=0,t.rotationY=0,t.rotationZ=0,t.pRotationX=0,t.pRotationY=0,t.pRotationZ=0;let r=0,n=0,s=0,a="clockwise",o="clockwise",l="clockwise";t.pRotateDirectionX=void 0,t.pRotateDirectionY=void 0,t.pRotateDirectionZ=void 0,t._updatePRotations=function(){this.pRotationX=this.rotationX,this.pRotationY=this.rotationY,this.pRotationZ=this.rotationZ},t.turnAxis=void 0;let d=.5,p=30;t.setMoveThreshold=function(g){d=g},t.setShakeThreshold=function(g){p=g},t._ondeviceorientation=function(g){this._updatePRotations(),this.rotationX=this._fromDegrees(g.beta),this.rotationY=this._fromDegrees(g.gamma),this.rotationZ=this._fromDegrees(g.alpha),this._handleMotion()},t._ondevicemotion=function(g){this._updatePAccelerations(),this.accelerationX=g.acceleration.x*2,this.accelerationY=g.acceleration.y*2,this.accelerationZ=g.acceleration.z*2,this._handleMotion()},t._handleMotion=function(){window.orientation===90||window.orientation===-90?this.deviceOrientation="landscape":window.orientation===0?this.deviceOrientation="portrait":window.orientation===void 0&&(this.deviceOrientation="undefined");const g=this._isGlobal?window:this;if(typeof g.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>d||Math.abs(this.accelerationY-this.pAccelerationY)>d||Math.abs(this.accelerationZ-this.pAccelerationZ)>d)&&g.deviceMoved(),typeof g.deviceTurned=="function"){const y=this._toDegrees(this.rotationX)+180,x=this._toDegrees(this.pRotationX)+180;let S=r+180;y-x>0&&y-x<270||y-x<-270?a="clockwise":(y-x<0||y-x>270)&&(a="counter-clockwise"),a!==this.pRotateDirectionX&&(S=y),Math.abs(y-S)>90&&Math.abs(y-S)<270&&(S=y,this.turnAxis="X",g.deviceTurned()),this.pRotateDirectionX=a,r=S-180;const _=this._toDegrees(this.rotationY)+180,w=this._toDegrees(this.pRotationY)+180;let A=n+180;_-w>0&&_-w<270||_-w<-270?o="clockwise":(_-w<0||_-this.pRotationY>270)&&(o="counter-clockwise"),o!==this.pRotateDirectionY&&(A=_),Math.abs(_-A)>90&&Math.abs(_-A)<270&&(A=_,this.turnAxis="Y",g.deviceTurned()),this.pRotateDirectionY=o,n=A-180;const P=this._toDegrees(this.rotationZ),D=this._toDegrees(this.pRotationZ);P-D>0&&P-D<270||P-D<-270?l="clockwise":(P-D<0||P-D>270)&&(l="counter-clockwise"),l!==this.pRotateDirectionZ&&(s=P),Math.abs(P-s)>90&&Math.abs(P-s)<270&&(s=P,this.turnAxis="Z",g.deviceTurned()),this.pRotateDirectionZ=l,this.turnAxis=void 0}if(typeof g.deviceShaken=="function"){let y,x;this.pAccelerationX!==null&&(y=Math.abs(this.accelerationX-this.pAccelerationX),x=Math.abs(this.accelerationY-this.pAccelerationY)),y+x>p&&g.deviceShaken()}}}typeof p5<"u"&&R5(p5,p5.prototype);function xB(i){return["Alt","Shift","Control","Meta"].includes(i)||typeof i!="string"?!1:i.length>1}function M5(i,t){t.keyIsPressed=!1,t.code=null,t.key="",t.keyCode=0,t._onkeydown=function(r){if(this._downKeys[r.code])return;this.keyIsPressed=!0,this.keyCode=r.which,this.key=r.key,this.code=r.code,this._downKeyCodes[r.code]=!0,this._downKeys[r.key]=!0;const n=this._isGlobal?window:this;typeof n.keyPressed=="function"&&!r.charCode&&n.keyPressed(r)===!1&&r.preventDefault()},t._onkeyup=function(r){const n=this._isGlobal?window:this;if(typeof n.keyReleased=="function"&&n.keyReleased(r)===!1&&r.preventDefault(),delete this._downKeyCodes[r.code],delete this._downKeys[r.key],!this._areDownKeys())this.keyIsPressed=!1,this.key="",this.code=null;else{const s=Object.keys(this._downKeyCodes).pop();this.code=s;const a=Object.keys(this._downKeys).pop();this.key=a}},t._onkeypress=function(r){if(r.which===this._lastKeyCodeTyped&&r.repeat)return;this._lastKeyCodeTyped=r.which,this.key=r.key||String.fromCharCode(r.which)||r.which;const n=this._isGlobal?window:this;typeof n.keyTyped=="function"&&n.keyTyped(r)===!1&&r.preventDefault()},t._onblur=function(r){this._downKeys={}},t.keyIsDown=function(r){return xB(r)?this._downKeyCodes[r]||this._downKeys[r]||!1:this._downKeys[r]||this._downKeyCodes[r]||!1},t._areDownKeys=function(){for(const r in this._downKeys)if(this._downKeys.hasOwnProperty(r)&&this._downKeys[r]===!0)return!0;return!1}}typeof p5<"u"&&M5(p5,p5.prototype);function k5(i,t){t.movedX=0,t.movedY=0,t._hasMouseInteracted=!1,t.mouseX=0,t.mouseY=0,t.pmouseX=0,t.pmouseY=0,t.winMouseX=0,t.winMouseY=0,t.pwinMouseX=0,t.pwinMouseY=0,t.mouseButton={left:!1,right:!1,center:!1},t.touches=[],t._activePointers=new Map,t.mouseIsPressed=!1,t._updatePointerCoords=function(s){if(this._curElement!==null){const a=this._curElement.elt,o=a.scrollWidth/this.width||1,l=a.scrollHeight/this.height||1;if(s.pointerType=="touch"){const p=[];for(const g of this._activePointers.values())p.push(n(a,o,l,g));this.touches=p}const d=r(a,o,l,s);this.movedX=s.movementX||0,this.movedY=s.movementY||0,this.mouseX=d.x,this.mouseY=d.y,this.winMouseX=d.winX,this.winMouseY=d.winY,this._hasMouseInteracted||(this._updateMouseCoords(),this._hasMouseInteracted=!0)}},t._updateMouseCoords=function(){this.pmouseX=this.mouseX,this.pmouseY=this.mouseY,this.pwinMouseX=this.winMouseX,this.pwinMouseY=this.winMouseY,this._pmouseWheelDeltaY=this._mouseWheelDeltaY};function r(s,a,o,l){const d=s.getBoundingClientRect();return{x:(l.clientX-d.left)/a,y:(l.clientY-d.top)/o,winX:l.clientX,winY:l.clientY}}function n(s,a,o,l){const d=s.getBoundingClientRect();return{x:(l.clientX-d.left)/a,y:(l.clientY-d.top)/o,winX:l.clientX,winY:l.clientY,id:l.pointerId}}t._setMouseButton=function(s){this.mouseButton.left=Array.from(this._activePointers.values()).some(a=>(a.buttons&1)!==0),this.mouseButton.center=Array.from(this._activePointers.values()).some(a=>(a.buttons&4)!==0),this.mouseButton.right=Array.from(this._activePointers.values()).some(a=>(a.buttons&2)!==0)},t._onpointermove=function(s){const a=this._isGlobal?window:this;let o;this._updatePointerCoords(s),this._activePointers.set(s.pointerId,s),this._setMouseButton(s),!this.mouseIsPressed&&typeof a.mouseMoved=="function"?(o=a.mouseMoved(s),o===!1&&s.preventDefault()):this.mouseIsPressed&&typeof a.mouseDragged=="function"&&(o=a.mouseDragged(s),o===!1&&s.preventDefault())},t._onpointerdown=function(s){const a=this._isGlobal?window:this;let o;this.mouseIsPressed=!0,this._activePointers.set(s.pointerId,s),this._setMouseButton(s),this._updatePointerCoords(s),typeof a.mousePressed=="function"&&(o=a.mousePressed(s),o===!1&&s.preventDefault())},t._onpointerup=function(s){const a=this._isGlobal?window:this;let o;this.mouseIsPressed=!1,this._activePointers.delete(s.pointerId),this._setMouseButton(s),this._updatePointerCoords(s),typeof a.mouseReleased=="function"&&(o=a.mouseReleased(s),o===!1&&s.preventDefault())},t._ondragend=t._onpointerup,t._ondragover=t._onpointermove,t._onclick=function(s){const a=this._isGlobal?window:this;typeof a.mouseClicked=="function"&&a.mouseClicked(s)===!1&&s.preventDefault()},t._ondblclick=function(s){const a=this._isGlobal?window:this;typeof a.doubleClicked=="function"&&a.doubleClicked(s)===!1&&s.preventDefault()},t._mouseWheelDeltaY=0,t._pmouseWheelDeltaY=0,t._onwheel=function(s){const a=this._isGlobal?window:this;this._mouseWheelDeltaY=s.deltaY,typeof a.mouseWheel=="function"&&(s.delta=s.deltaY,a.mouseWheel(s)===!1&&s.preventDefault())},t.requestPointerLock=function(){const s=this._curElement.elt;return s.requestPointerLock=s.requestPointerLock||s.mozRequestPointerLock,s.requestPointerLock?(s.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},t.exitPointerLock=function(){document.exitPointerLock()}}typeof p5<"u"&&k5(p5,p5.prototype);function _B(i){i.registerAddon(R5),i.registerAddon(M5),i.registerAddon(k5)}function SB(i){i.registerAddon(u1),i.registerAddon(l1),i.registerAddon(ID),i.registerAddon(a1),i.registerAddon(c1),i.registerAddon(g1)}class wB{constructor(t){this.columns=[],this.rows=[]}toString(t=","){let r=this.rows.map(n=>n.arr);return this.columns.some(n=>n===null)||(r=[this.columns,...r]),xP(r,{separator:t})}addRow(t){const r=t||new p5.TableRow;if(typeof r.arr>"u"||typeof r.obj>"u")throw new Error(`invalid TableRow: ${r}`);return r.table=this,this.rows.push(r),r}removeRow(t){this.rows[t].table=null;const r=this.rows.splice(t+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(r)}getRow(t){return this.rows[t]}getRows(){return this.rows}findRow(t,r){if(typeof r=="string"){for(let n=0;n<this.rows.length;n++)if(this.rows[n].obj[this.columns.indexOf(r)]===t)return this.rows[n]}else for(let n=0;n<this.rows.length;n++)if(this.rows[n].arr[r]===t)return this.rows[n];return null}findRows(t,r){const n=[];if(typeof r=="string")for(let s=0;s<this.rows.length;s++)this.rows[s].obj[this.columns.indexOf(r)]===t&&n.push(this.rows[s]);else for(let s=0;s<this.rows.length;s++)this.rows[s].arr[r]===t&&n.push(this.rows[s]);return n}matchRow(t,r){if(typeof r=="number"){for(let n=0;n<this.rows.length;n++)if(this.rows[n].arr[r].match(t))return this.rows[n]}else for(let n=0;n<this.rows.length;n++)if(this.rows[n].obj[this.columns.indexOf(r)].match(t))return this.rows[n];return null}matchRows(t,r){const n=[];if(typeof r=="number")for(let s=0;s<this.rows.length;s++)this.rows[s].arr[r].match(t)&&n.push(this.rows[s]);else for(let s=0;s<this.rows.length;s++)this.rows[s].obj[this.columns.indexOf(r)].match(t)&&n.push(this.rows[s]);return n}getColumn(t){const r=[];if(typeof t=="string")for(let n=0;n<this.rows.length;n++)r.push(this.rows[n].obj[this.columns.indexOf(t)]);else for(let n=0;n<this.rows.length;n++)r.push(this.rows[n].arr[t]);return r}clearRows(){delete this.rows,this.rows=[]}addColumn(t){const r=t||null;this.columns.push(r)}getColumnCount(){return this.columns.length}getRowCount(){return this.rows.length}removeTokens(t,r){const n=o=>o.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),s=[];for(let o=0;o<t.length;o++)s.push(n(t.charAt(o)));const a=new RegExp(s.join("|"),"g");if(typeof r>"u")for(let o=0;o<this.columns.length;o++)for(let l=0;l<this.rows.length;l++){let d=this.rows[l].arr[o];d=d.replace(a,""),this.rows[l].arr[o]=d,this.rows[l].obj[this.columns[o]]=d}else if(typeof r=="string")for(let o=0;o<this.rows.length;o++){let l=this.rows[o].obj[r];l=l.replace(a,""),this.rows[o].obj[r]=l;const d=this.columns.indexOf(r);this.rows[o].arr[d]=l}else for(let o=0;o<this.rows.length;o++){let l=this.rows[o].arr[r];l=l.replace(a,""),this.rows[o].arr[r]=l,this.rows[o].obj[this.columns[r]]=l}}trim(t){const r=new RegExp(" ","g");if(typeof t>"u")for(let n=0;n<this.columns.length;n++)for(let s=0;s<this.rows.length;s++){let a=this.rows[s].arr[n];a=a.replace(r,""),this.rows[s].arr[n]=a,this.rows[s].obj[this.columns[n]]=a}else if(typeof t=="string")for(let n=0;n<this.rows.length;n++){let s=this.rows[n].obj[t];s=s.replace(r,""),this.rows[n].obj[t]=s;const a=this.columns.indexOf(t);this.rows[n].arr[a]=s}else for(let n=0;n<this.rows.length;n++){let s=this.rows[n].arr[t];s=s.replace(r,""),this.rows[n].arr[t]=s,this.rows[n].obj[this.columns[t]]=s}}removeColumn(t){let r,n;typeof t=="string"?(r=t,n=this.columns.indexOf(t)):(n=t,r=this.columns[t]);const s=this.columns.splice(n+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(s);for(let a=0;a<this.rows.length;a++){const o=this.rows[a].arr,l=o.splice(n+1,o.length);o.pop(),this.rows[a].arr=o.concat(l),delete this.rows[a].obj[r]}}set(t,r,n){this.rows[t].set(r,n)}setNum(t,r,n){this.rows[t].setNum(r,n)}setString(t,r,n){this.rows[t].setString(r,n)}get(t,r){return typeof r=="string"?this.rows[t].get(this.columns.indexOf(r)):this.rows[t].get(r)}getNum(t,r){return this.rows[t].getNum(r)}getString(t,r){return this.rows[t].getString(r)}getObject(t){const r={};let n,s,a;for(let o=0;o<this.rows.length;o++)if(n=this.rows[o].obj,typeof t=="string")if(s=this.columns.indexOf(t),s>=0)a=n[t],r[a]=n;else throw new Error(`This table has no column named "${t}"`);else r[o]=this.rows[o].obj;return r}getArray(){const t=[];for(let r=0;r<this.rows.length;r++)t.push(this.rows[r].arr);return t}}function P5(i,t){i.Table=wB}typeof p5<"u"&&P5(p5,p5.prototype);class EB{constructor(t=[]){let r=t;this.arr=r,this.obj=Object.fromEntries(r.entries()),this.table=null}set(t,r){if(typeof t=="string"){const n=this.table.columns.indexOf(t);if(n>=0)this.obj[t]=r,this.arr[n]=r;else throw new Error(`This table has no column named "${t}"`)}else if(t<this.table.columns.length){this.arr[t]=r;const n=this.table.columns[t];this.obj[n]=r}else throw new Error(`Column #${t} is out of the range of this table`)}setNum(t,r){const n=parseFloat(r);this.set(t,n)}setString(t,r){const n=r.toString();this.set(t,n)}get(t){return typeof t=="string"?this.obj[this.table.columns.indexOf(t)]:this.arr[t]}getNum(t){let r;if(typeof t=="string"?r=parseFloat(this.obj[this.table.columns.indexOf(t)]):r=parseFloat(this.arr[t]),r.toString()==="NaN")throw`Error: ${this.obj[t]} is NaN (Not a Number)`;return r}getString(t){return typeof t=="string"?this.obj[this.table.columns.indexOf(t)].toString():this.arr[t].toString()}}function L5(i,t){i.TableRow=EB}typeof p5<"u"&&L5(p5,p5.prototype);function CB(i){i.registerAddon(rT),i.registerAddon(P5),i.registerAddon(L5),i.registerAddon(mD)}function I5(i,t){t.abs=Math.abs,t.ceil=Math.ceil,t.constrain=function(r,n,s){return Math.max(Math.min(r,s),n)},t.dist=function(...r){if(r.length===4)return Math.hypot(r[2]-r[0],r[3]-r[1]);if(r.length===6)return Math.hypot(r[3]-r[0],r[4]-r[1],r[5]-r[2])},t.exp=Math.exp,t.floor=Math.floor,t.lerp=function(r,n,s){return s*(n-r)+r},t.log=Math.log,t.mag=function(r,n){return Math.hypot(r,n)},t.map=function(r,n,s,a,o,l){const d=(r-n)/(s-n)*(o-a)+a;return l?a<o?this.constrain(d,a,o):this.constrain(d,o,a):d},t.max=function(...r){const n=s=>{let a=-1/0;for(let o of s)a=Math.max(a,o);return a};return r[0]instanceof Array?n(r[0]):n(r)},t.min=function(...r){const n=s=>{let a=1/0;for(let o of s)a=Math.min(a,o);return a};return r[0]instanceof Array?n(r[0]):n(r)},t.norm=function(r,n,s){return this.map(r,n,s,0,1)},t.pow=Math.pow,t.round=function(r,n){if(!n)return Math.round(r);const s=Math.pow(10,n);return Math.round(r*s)/s},t.sq=r=>r*r,t.sqrt=Math.sqrt,t.fract=function(r){let n=0,s=Number(r);if(isNaN(s)||Math.abs(s)===1/0)return s;if(s<0&&(s=-s,n=1),String(s).includes(".")&&!String(s).includes("e")){let a=String(s);return a=+("0"+a.slice(a.indexOf("."))),Math.abs(n-a)}else return s<1?Math.abs(n-s):0}}typeof p5<"u"&&I5(p5,p5.prototype);function B5(i,t){let l=4,d=.5;const p=y=>.5*(1-Math.cos(y*Math.PI));let g;t.noise=function(y,x=0,S=0){if(g==null){g=new Array(4096);for(let H=0;H<4096;H++)g[H]=Math.random()}y<0&&(y=-y),x<0&&(x=-x),S<0&&(S=-S);let _=Math.floor(y),w=Math.floor(x),A=Math.floor(S),P=y-_,D=x-w,R=S-A,F,T,U=0,k=.5,B,L,V;for(let H=0;H<l;H++){let z=_+(w<<4)+(A<<8);F=p(P),T=p(D),B=g[z&4095],B+=F*(g[z+1&4095]-B),L=g[z+16&4095],L+=F*(g[z+16+1&4095]-L),B+=T*(L-B),z+=256,L=g[z&4095],L+=F*(g[z+1&4095]-L),V=g[z+16&4095],V+=F*(g[z+16+1&4095]-V),L+=T*(V-L),B+=p(R)*(L-B),U+=B*k,k*=d,_<<=1,P*=2,w<<=1,D*=2,A<<=1,R*=2,P>=1&&(_++,P--),D>=1&&(w++,D--),R>=1&&(A++,R--)}return U},t.noiseDetail=function(y,x){y>0&&(l=y),x>0&&(d=x)},t.noiseSeed=function(y){const x=(()=>{let A,P;return{setSeed(D){P=A=(D??Math.random()*4294967296)>>>0},getSeed(){return A},rand(){return P=(1664525*P+1013904223)%4294967296,P/4294967296}}})();x.setSeed(y),g=new Array(4096);for(let S=0;S<4096;S++)g[S]=x.rand()}}typeof p5<"u"&&B5(p5,p5.prototype);function U5(i,t){const r="_lcg_random_state";let o=0;t._lcg=function(l){return this[l]=(1664525*this[l]+1013904223)%4294967296,this[l]/4294967296},t._lcgSetSeed=function(l,d){this[l]=(d??Math.random()*4294967296)>>>0},t.randomSeed=function(l){this._lcgSetSeed(r,l),this._gaussian_previous=!1},t.random=function(l,d){let p;if(this[r]!=null?p=this._lcg(r):p=Math.random(),typeof l>"u")return p;if(typeof d>"u")return l instanceof Array?l[Math.floor(p*l.length)]:p*l;if(l>d){const g=l;l=d,d=g}return p*(d-l)+l},t.randomGaussian=function(l,d=1){let p,g,y,x;if(this._gaussian_previous)p=o,this._gaussian_previous=!1;else{do g=this.random(2)-1,y=this.random(2)-1,x=g*g+y*y;while(x>=1);x=Math.sqrt(-2*Math.log(x)/x),p=g*x,o=y*x,this._gaussian_previous=!0}const S=l||0;return p*d+S}}typeof p5<"u"&&U5(p5,p5.prototype);function V5(i,t){t.createVector=function(r,n,s){return this instanceof i?new i.Vector(this._fromRadians.bind(this),this._toRadians.bind(this),...arguments):new i.Vector(r,n,s)},t.createMatrix=function(...r){return new i.Matrix(...r)}}typeof p5<"u"&&V5(p5,p5.prototype);function AB(i){i.registerAddon(I5),i.registerAddon(B5),i.registerAddon(U5),i.registerAddon(o1),i.registerAddon(V5),i.registerAddon(XA)}function j5(i,t){t.float=function(r){return r instanceof Array?r.map(parseFloat):parseFloat(r)},t.int=function(r,n=10){if(r===1/0||r==="Infinity")return 1/0;if(r===-1/0||r==="-Infinity")return-1/0;if(typeof r=="string")return parseInt(r,n);if(typeof r=="number")return r|0;if(typeof r=="boolean")return r?1:0;if(r instanceof Array)return r.map(s=>t.int(s,n))},t.str=function(r){return r instanceof Array?r.map(t.str):String(r)},t.boolean=function(r){if(typeof r=="number")return r!==0;if(typeof r=="string")return r.toLowerCase()==="true";if(typeof r=="boolean")return r;if(r instanceof Array)return r.map(t.boolean)},t.byte=function(r){const n=t.int(r,10);if(typeof n=="number")return(n+128)%256-128;if(n instanceof Array)return n.map(t.byte)},t.char=function(r){if(typeof r=="number"&&!isNaN(r))return String.fromCharCode(r);if(r instanceof Array)return r.map(t.char);if(typeof r=="string")return t.char(parseInt(r,10))},t.unchar=function(r){if(typeof r=="string"&&r.length===1)return r.charCodeAt(0);if(r instanceof Array)return r.map(t.unchar)},t.hex=function(r,n){if(n=n??(n=8),r instanceof Array)return r.map(s=>t.hex(s,n));if(r===1/0||r===-1/0)return(r===1/0?"F":"0").repeat(n);if(typeof r=="number"){r<0&&(r=4294967295+r+1);let s=Number(r).toString(16).toUpperCase();for(;s.length<n;)s=`0${s}`;return s.length>=n&&(s=s.substring(s.length-n,s.length)),s}},t.unhex=function(r){return r instanceof Array?r.map(t.unhex):parseInt(`0x${r}`,16)}}typeof p5<"u"&&j5(p5,p5.prototype);function z5(i,t){t.nf=function(o,l,d){return o instanceof Array?o.map(p=>r(p,l,d)):Object.prototype.toString.call(o)==="[object Arguments]"?o.length===3?this.nf(o[0],o[1],o[2]):o.length===2?this.nf(o[0],o[1]):this.nf(o[0]):r(o,l,d)};function r(o,l,d){let p=o<0;o=Math.abs(o);let[g,y]=o.toString().split(".");if(typeof d>"u"){g=g.padStart(l,"0");let x=y?g+"."+y:g;return p?"-"+x:x}else{[g,y]=o.toFixed(d).toString().split("."),g=g.padStart(l,"0");let S=typeof y>"u"?g:g+"."+y;return p?"-"+S:S}}t.nfc=function(o,l){return o instanceof Array?o.map(d=>n(d,l)):n(o,l)};function n(o,l){o=o.toString();const d=o.indexOf(".");let p=d!==-1?o.substring(d):"",g=d!==-1?o.substring(0,d):o;if(g=g.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),l===0)p="";else if(typeof l<"u")if(l>p.length){p+=d===-1?".":"";const y=l-p.length+1;for(let x=0;x<y;x++)p+="0"}else p=p.substring(0,l+1);return g+p}t.nfp=function(...o){const l=t.nf.apply(this,o);return l instanceof Array?l.map(s):s(l)};function s(o){return parseFloat(o)>0?`+${o.toString()}`:o.toString()}t.nfs=function(...o){const l=t.nf.apply(this,o);return l instanceof Array?l.map(a):a(l)};function a(o){return parseFloat(o)>=0?` ${o.toString()}`:o.toString()}t.splitTokens=function(o,l){let d;if(typeof l<"u"){let p=l;const g=/\]/g.exec(p);let y=/\[/g.exec(p);y&&g?(p=p.slice(0,g.index)+p.slice(g.index+1),y=/\[/g.exec(p),p=p.slice(0,y.index)+p.slice(y.index+1),d=new RegExp(`[\\[${p}\\]]`,"g")):g?(p=p.slice(0,g.index)+p.slice(g.index+1),d=new RegExp(`[${p}\\]]`,"g")):y?(p=p.slice(0,y.index)+p.slice(y.index+1),d=new RegExp(`[${p}\\[]`,"g")):d=new RegExp(`[${p}]`,"g")}else d=/\s/g;return o.split(d).filter(p=>p)},t.shuffle=function(o,l){const d=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(o);o=l||d?o:o.slice();let p,g,y=o.length;for(;y>1;)p=this.random(0,1)*y|0,g=o[--y],o[y]=o[p],o[p]=g;return o}}typeof p5<"u"&&z5(p5,p5.prototype);function G5(i,t){t.day=function(){return new Date().getDate()},t.hour=function(){return new Date().getHours()},t.minute=function(){return new Date().getMinutes()},t.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.month=function(){return new Date().getMonth()+1},t.second=function(){return new Date().getSeconds()},t.year=function(){return new Date().getFullYear()}}typeof p5<"u"&&G5(p5,p5.prototype);function DB(i){i.registerAddon(j5),i.registerAddon(z5),i.registerAddon(G5)}function H5(i,t){t.orbitControl=function(r,n,s,a){this._assert3d("orbitControl");const o=this._renderer.states.curCamera;typeof r>"u"&&(r=1),typeof n>"u"&&(n=r),typeof s>"u"&&(s=1),typeof a!="object"&&(a={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=()=>!1,this.contextMenuDisabled=!0),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=()=>!1,this.wheelDefaultDisabled=!0);const{disableTouchActions:l=!0}=a;this.touchActionsDisabled!==!0&&l&&(this.canvas.style["touch-action"]="none",this.touchActionsDisabled=!0);const{freeRotation:d=!1}=a,p=[];this.touches.forEach(U=>{this._renderer.prevTouches.forEach(k=>{if(U.id===k.id){const B={x:U.x,y:U.y,px:k.x,py:k.y};p.push(B)}})}),this._renderer.prevTouches=this.touches;let g=0,y=0,x=0,S=0,_=0;const w=.85,A=.6,P=.15,D=.01,R=4e-4,F=this.height<this.width?this.height:this.width;let T=!1;if(p.length>0){if(T=p[0].x>0&&p[0].x<this.width&&p[0].y>0&&p[0].y<this.height,p.length===1){const U=p[0];y=-r*(U.x-U.px)/F,x=n*(U.y-U.py)/F}else{const U=p[0],k=p[1],B=Math.hypot(U.x-k.x,U.y-k.y),L=Math.hypot(U.px-k.px,U.py-k.py);g=-(B-L)*s*R,S=.5*(U.x+k.x)-.5*(U.px+k.px),_=.5*(U.y+k.y)-.5*(U.py+k.py)}this.touches.length>0?T&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)}else T=this.mouseX>0&&this.mouseX<this.width&&this.mouseY>0&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(g=Math.sign(this._mouseWheelDeltaY)*s,g*=D,this._mouseWheelDeltaY=0,T&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton.left?(y=-r*this.movedX/F,x=n*this.movedY/F):this.mouseButton.right&&(S=this.movedX,_=this.movedY*o.yScale),T&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1;if(g!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=g),Math.abs(this._renderer.zoomVelocity)>.001?(d?o._orbitFree(0,0,this._renderer.zoomVelocity):o._orbit(0,0,this._renderer.zoomVelocity),o.projMatrix.mat4[15]!==0&&(o.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),o.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.states.setValue("uPMatrix",this._renderer.states.uPMatrix.clone()),this._renderer.states.uPMatrix.mat4[0]=o.projMatrix.mat4[0],this._renderer.states.uPMatrix.mat4[5]=o.projMatrix.mat4[5]),this._renderer.zoomVelocity*=w):this._renderer.zoomVelocity=0,(y!==0||x!==0)&&this._renderer.executeRotateAndMove&&this._renderer.rotateVelocity.add(y*A,x*A),this._renderer.rotateVelocity.magSq()>1e-6?(d?o._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):o._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(w)):this._renderer.rotateVelocity.set(0,0),(S!==0||_!==0)&&this._renderer.executeRotateAndMove){const U=S*2/this.width,k=-_*2/this.height;this._renderer.moveVelocity.add(U*P,k*P)}if(this._renderer.moveVelocity.magSq()>1e-6){const U=o._getLocalAxes(),k=o.eyeX-o.centerX,B=o.eyeY-o.centerY,L=o.eyeZ-o.centerZ,V=Math.sqrt(k*k+B*B+L*L);let H=new be(o.centerX,o.centerY,o.centerZ);H=o.cameraMatrix.multiplyPoint(H),H=this._renderer.states.uPMatrix.multiplyAndNormalizePoint(H),H.x-=this._renderer.moveVelocity.x,H.y-=this._renderer.moveVelocity.y;let z,G;const K=this._renderer.states.uPMatrix.mat4;K[15]===0?(z=(K[8]+H.x)/K[0]*V,G=(K[9]+H.y)/K[5]*V):(z=(H.x-K[12])/K[0],G=(H.y-K[13])/K[5]),o.setPosition(o.eyeX+z*U.x[0]+G*U.y[0],o.eyeY+z*U.x[1]+G*U.y[1],o.eyeZ+z*U.x[2]+G*U.y[2]),this._renderer.moveVelocity.mult(w)}else this._renderer.moveVelocity.set(0,0);return this},t.debugMode=function(...r){this._assert3d("debugMode");for(let n=i.lifecycleHooks.postdraw.length-1;n>=0;n--)(i.lifecycleHooks.postdraw[n].toString()===this._grid().toString()||i.lifecycleHooks.postdraw[n].toString()===this._axesIcon().toString())&&i.lifecycleHooks.postdraw.splice(n,1);r[0]===HA?i.lifecycleHooks.postdraw.push(this._grid(r[1],r[2],r[3],r[4],r[5])):r[0]===qA?i.lifecycleHooks.postdraw.push(this._axesIcon(r[1],r[2],r[3],r[4])):(i.lifecycleHooks.postdraw.push(this._grid(r[0],r[1],r[2],r[3],r[4])),i.lifecycleHooks.postdraw.push(this._axesIcon(r[5],r[6],r[7],r[8])))},t.noDebugMode=function(){this._assert3d("noDebugMode");for(let r=i.lifecycleHooks.postdraw.length-1;r>=0;r--)(i.lifecycleHooks.postdraw[r].toString()===this._grid().toString()||i.lifecycleHooks.postdraw[r].toString()===this._axesIcon().toString())&&i.lifecycleHooks.postdraw.splice(r,1)},t._grid=function(r,n,s,a,o){typeof r>"u"&&(r=this.width/2),typeof n>"u"&&(n=Math.round(r/30)<4?4:Math.round(r/30)),typeof s>"u"&&(s=0),typeof a>"u"&&(a=0),typeof o>"u"&&(o=0);const l=r/n,d=r/2;return function(){this.push(),this.stroke(this._renderer.states.curStrokeColor[0]*255,this._renderer.states.curStrokeColor[1]*255,this._renderer.states.curStrokeColor[2]*255),this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.uModelMatrix.reset();for(let p=0;p<=n;p++)this.beginShape(this.LINES),this.vertex(-d+s,a,p*l-d+o),this.vertex(+d+s,a,p*l-d+o),this.endShape();for(let p=0;p<=n;p++)this.beginShape(this.LINES),this.vertex(p*l-d+s,a,-d+o),this.vertex(p*l-d+s,a,+d+o),this.endShape();this.pop()}},t._axesIcon=function(r,n,s,a){return typeof r>"u"&&(r=this.width/20>40?this.width/20:40),typeof n>"u"&&(n=-this.width/4),typeof s>"u"&&(s=n),typeof a>"u"&&(a=n),()=>{this.push(),this._renderer.states.setValue("uModelMatrix",this._renderer.states.uModelMatrix.clone()),this._renderer.states.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(n,s,a),this.vertex(n+r,s,a),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(n,s,a),this.vertex(n,s+r,a),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(n,s,a),this.vertex(n,s,a+r),this.endShape(),this.pop()}}}typeof p5<"u"&&H5(p5,p5.prototype);async function TB(i){try{return(await fetch(i,{method:"HEAD"})).ok}catch{return!1}}function q5(i,t){t.loadModel=async function(g,y,x,S,_){let w=!1,A=!1;typeof y=="object"?(x=y.normalize||!1,S=y.successCallback,_=y.failureCallback,y=y.fileType||y,w=y.flipU||!1,A=y.flipV||!1):(typeof arguments[arguments.length-1]=="function"&&(typeof arguments[arguments.length-2]=="function"?(S=arguments[arguments.length-2],_=arguments[arguments.length-1]):S=arguments[arguments.length-1]),typeof y=="string"?typeof x!="boolean"&&(x=!1):typeof y=="boolean"?(x=y,y=g.slice(-4)):(y=g.slice(-4),x=!1)),y.toLowerCase()!==".obj"&&y.toLowerCase()!==".stl"&&(y=".obj");const P=new vn(void 0,void 0,void 0,this._renderer);P.gid=`${g}|${x}`;async function D(R){const F=[];for(let T of R){const U=T.match(/^mtllib (.+)/);if(U){let k="";const B=U[1],L=g.split("/");L.length>1?(L.pop(),k=L.join("/")+"/"+B):k=B,F.push(TB(k).then(V=>V?r(k):(console.warn(`MTL file not found or error in parsing; proceeding without materials: ${k}`),{})).catch(V=>(console.warn(`Error loading MTL file: ${k}`,V),{})))}}try{const T=await Promise.all(F);return Object.assign({},...T)}catch{return{}}}try{if(y.match(/\.stl$/i)){const{data:R}=await ai(g,"arrayBuffer");return s(P,R),x&&P.normalize(),w&&P.flipU(),A&&P.flipV(),P._makeTriangleEdges(),S?S(P):P}else if(y.match(/\.obj$/i)){const{data:R}=await ai(g,"text"),F=R.split(`
`),T=await D(F);return n(P,F,T),x&&P.normalize(),w&&P.flipU(),A&&P.flipV(),P._makeTriangleEdges(),S?S(P):P}}catch(R){if(i._friendlyFileLoadError(3,g),_)return _(R);throw R}};async function r(g){let y=null,x={};const{data:S}=await ai(g,"text"),_=S.split(`
`);for(let w=0;w<_.length;++w){const A=_[w].trim().split(/\s+/);A[0]==="newmtl"?(y=A[1],x[y]={}):A[0]==="Kd"?x[y].diffuseColor=[parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3])]:A[0]==="Ka"?x[y].ambientColor=[parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3])]:A[0]==="Ks"?x[y].specularColor=[parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3])]:A[0]==="map_Kd"&&(x[y].texturePath=A[1])}return x}function n(g,y,x={}){const S={v:[],vt:[],vn:[]},_={};let w=null,A=!1,P=!1;for(let D=0;D<y.length;++D){const R=y[D].trim().split(/\b\s+/);if(R.length>0){if(R[0]==="usemtl")w=R[1];else if(R[0]==="v"||R[0]==="vn"){const F=new be(parseFloat(R[1]),parseFloat(R[2]),parseFloat(R[3]));S[R[0]].push(F)}else if(R[0]==="vt"){const F=[parseFloat(R[1]),1-parseFloat(R[2])];S[R[0]].push(F)}else if(R[0]==="f")for(let F=3;F<R.length;++F){const T=[],U=[1,F-1,F];for(let k=0;k<U.length;++k){const B=R[U[k]];let L=B.split("/");for(let V=0;V<L.length;V++)L[V]=parseInt(L[V])-1;if(_[B]||(_[B]={}),_[B][w]===void 0){const V=g.vertices.length;if(g.vertices.push(S.v[L[0]].copy()),g.uvs.push(S.vt[L[1]]?S.vt[L[1]].slice():[0,0]),g.vertexNormals.push(S.vn[L[2]]?S.vn[L[2]].copy():new be),_[B][w]=V,T.push(V),w&&x[w]&&x[w].diffuseColor){A=!0;const H=x[w].diffuseColor;g.vertexColors.push(H[0]),g.vertexColors.push(H[1]),g.vertexColors.push(H[2]),g.vertexColors.push(1)}else P=!0}else T.push(_[B][w])}T[0]!==T[1]&&T[0]!==T[2]&&T[1]!==T[2]&&g.faces.push(T)}}}if(g.vertexNormals.length===0&&g.computeNormals(),A===P)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.");return g}function s(g,y){if(a(y))l(g,y);else{const x=new DataView(y);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)"),g;const w=new TextDecoder("utf-8").decode(x).split(`
`);d(g,w)}return g}function a(g){const y=new DataView(g),x=[115,111,108,105,100];for(let S=0;S<5;S++)if(o(x,y,S))return!1;return!0}function o(g,y,x){for(let S=0,_=g.length;S<_;S++)if(g[S]!==y.getUint8(x+S,!1))return!1;return!0}function l(g,y){const x=new DataView(y),S=x.getUint32(80,!0);let _,w,A,P=!1,D,R,F,T;for(let B=0;B<70;B++)x.getUint32(B,!1)===1129270351&&x.getUint8(B+4)===82&&x.getUint8(B+5)===61&&(P=!0,D=[],R=x.getUint8(B+6)/255,F=x.getUint8(B+7)/255,T=x.getUint8(B+8)/255);const U=84,k=12*4+2;for(let B=0;B<S;B++){const L=U+B*k,V=x.getFloat32(L,!0),H=x.getFloat32(L+4,!0),z=x.getFloat32(L+8,!0);if(P){const K=x.getUint16(L+48,!0);(K&32768)===0?(_=(K&31)/31,w=(K>>5&31)/31,A=(K>>10&31)/31):(_=R,w=F,A=T)}const G=new be(V,H,z);for(let K=1;K<=3;K++){const le=L+K*12,ne=new be(x.getFloat32(le,!0),x.getFloat32(le+4,!0),x.getFloat32(le+8,!0));g.vertices.push(ne),g.vertexNormals.push(G),P&&D.push(_,w,A)}g.faces.push([3*B,3*B+1,3*B+2]),g.uvs.push([0,0],[0,0],[0,0])}return g}function d(g,y){let x="",S=[],_,w;for(let A=0;A<y.length;++A){const P=y[A].trim(),D=P.split(" ");for(let R=0;R<D.length;++R)D[R]===""&&D.splice(R,1);if(D.length!==0)switch(x){case"":if(D[0]!=="solid"){console.error(P),console.error(`Invalid state "${D[0]}", should be "solid"`);return}else x="solid";break;case"solid":if(D[0]!=="facet"||D[1]!=="normal"){console.error(P),console.error(`Invalid state "${D[0]}", should be "facet normal"`);return}else _=new be(parseFloat(D[2]),parseFloat(D[3]),parseFloat(D[4])),g.vertexNormals.push(_,_,_),x="facet normal";break;case"facet normal":if(D[0]!=="outer"||D[1]!=="loop"){console.error(P),console.error(`Invalid state "${D[0]}", should be "outer loop"`);return}else x="vertex";break;case"vertex":if(D[0]==="vertex")w=new be(parseFloat(D[1]),parseFloat(D[2]),parseFloat(D[3])),g.vertices.push(w),g.uvs.push([0,0]),S.push(g.vertices.indexOf(w));else if(D[0]==="endloop")g.faces.push(S),S=[],x="endloop";else{console.error(P),console.error(`Invalid state "${D[0]}", should be "vertex" or "endloop"`);return}break;case"endloop":if(D[0]!=="endfacet"){console.error(P),console.error(`Invalid state "${D[0]}", should be "endfacet"`);return}else x="endfacet";break;case"endfacet":if(D[0]!=="endsolid")if(D[0]==="facet"&&D[1]==="normal")_=new be(parseFloat(D[2]),parseFloat(D[3]),parseFloat(D[4])),g.vertexNormals.push(_,_,_),x="facet normal";else{console.error(P),console.error(`Invalid state "${D[0]}", should be "endsolid" or "facet normal"`);return}break;default:console.error(`Invalid state "${x}"`);break}}return g}t.model=function(g,y=1){this._assert3d("model"),this._renderer.model(g,y)};let p=0;t.createModel=function(g,y=" ",x){let S=!1,_,w,A=!1,P=!1;x&&typeof x=="object"?(S=x.normalize||!1,_=x.successCallback,w=x.failureCallback,A=x.flipU||!1,P=x.flipV||!1):typeof x=="boolean"?(S=x,_=arguments[3],w=arguments[4]):(_=typeof arguments[2]=="function"?arguments[2]:void 0,w=arguments[3]);const D=new i.Geometry;if(D.gid=`${y}|${S}|${p++}`,y.match(/\.stl$/i))try{let F=new TextEncoder().encode(g).buffer;s(D,F)}catch(R){w?w(R):i._friendlyError("Error during parsing: "+R.message);return}else if(y.match(/\.obj$/i))try{const R=g.split(`
`);n(D,R)}catch(R){w?w(R):i._friendlyError("Error during parsing: "+R.message);return}else i._friendlyFileLoadError(3,g),w?w():i._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return S&&D.normalize(),A&&D.flipU(),P&&D.flipV(),D._makeTriangleEdges(),typeof _=="function"&&_(D),D}}typeof p5<"u"&&q5(p5,p5.prototype);const Hn={IDEOGRAPHIC:"ideographic",_CTX_MIDDLE:"middle",_TEXT_BOUNDS:"_textBoundsSingle",_FONT_BOUNDS:"_fontBoundsSingle",HANGING:"hanging",START:"start",END:"end"};function $5(i,t){const n="#000000",s=/\r?\n/g,a=/,\s+/,o=/^".*"$/,l=/\t/g,d="fontVariationSettings",p=["wght","wdth","ital","slnt","opsz"],g=new RegExp(`(?:${p.join("|")})`);["text","textAlign","textAscent","textDescent","textLeading","textMode","textFont","textSize","textStyle","textWidth","textWrap","textBounds","textDirection","textProperty","textProperties","fontBounds","fontWidth","fontAscent","fontDescent","textWeight"].forEach(D=>{t[D]=function(...R){if(!(D in _t.prototype))throw Error(`Renderer2D.prototype.${D} is not defined.`);return this._renderer[D](...R)},i.Graphics.prototype[D]=function(...R){return this._renderer[D](...R)}});const x={textAlign:{default:t.LEFT,type:"Context2d"},textBaseline:{default:t.BASELINE,type:"Context2d"},textFont:{default:{family:"sans-serif"}},textLeading:{default:15},textSize:{default:12},textWrap:{default:t.WORD},fontStretch:{default:t.NORMAL,isShorthand:!0},fontWeight:{default:t.NORMAL,isShorthand:!0},lineHeight:{default:t.NORMAL,isShorthand:!0},fontVariant:{default:t.NORMAL,isShorthand:!0},fontStyle:{default:t.NORMAL,isShorthand:!0},direction:{default:"inherit"}},S=["font","direction","fontKerning","fontStretch","fontVariantCaps","letterSpacing","textAlign","textBaseline","textRendering","wordSpacing"],_=Object.keys(x).filter(D=>x[D].isShorthand),w=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"];let A,P;if(_t.prototype.text=function(D,R,F,T,U){let k=this.textDrawingContext().textBaseline;({x:R,y:F,width:T,height:U}=this._handleRectMode(R,F,T,U));let B=this._processLines(D,T,U);B=this._positionLines(R,F,T,U,B),B.forEach(L=>this._renderText(L.text,L.x,L.y)),this.textDrawingContext().textBaseline=k},_t.prototype.textBounds=function(D,R,F,T,U){return this._computeBounds(Hn._TEXT_BOUNDS,D,R,F,T,U).bounds},_t.prototype.fontBounds=function(D,R,F,T,U){return this._computeBounds(Hn._FONT_BOUNDS,D,R,F,T,U).bounds},_t.prototype.textWidth=function(D){let R=this._processLines(D);return Math.max(...R.map(F=>this._textWidthSingle(F)))},_t.prototype.fontWidth=function(D){let R=this._processLines(D);return Math.max(...R.map(F=>this._fontWidthSingle(F)))},_t.prototype.textAscent=function(D=""){return D.length?this.textDrawingContext().measureText(D).actualBoundingBoxAscent:this.fontAscent()},_t.prototype.fontAscent=function(){return this.textDrawingContext().measureText("_").fontBoundingBoxAscent},_t.prototype.textDescent=function(D=""){return D.length?this.textDrawingContext().measureText(D).actualBoundingBoxDescent:this.fontDescent()},_t.prototype.fontDescent=function(){return this.textDrawingContext().measureText("_").fontBoundingBoxDescent},_t.prototype.textAlign=function(D,R){return typeof D<"u"?(this.states.setValue("textAlign",D),typeof R<"u"&&(R===t.CENTER&&(R=Hn._CTX_MIDDLE),this.states.setValue("textBaseline",R)),this._applyTextProperties()):{horizontal:this.states.textAlign,vertical:this.states.textBaseline}},_t.prototype._currentTextFont=function(){return this.states.textFont.font||this.states.textFont.family},_t.prototype.textFont=function(D,R,F){var U;if(arguments.length===0)return this._currentTextFont();let T=D;if(D instanceof i.Font?T=D.face.family:D.data instanceof Uint8Array?(T=D.name.fontFamily,(U=D.name)!=null&&U.fontSubfamily&&(T+="-"+D.name.fontSubfamily)):typeof D=="string"&&typeof R>"u"&&/[.0-9]+(%|em|p[xt])/.test(T)&&({family:T,size:R}=this._directSetFontString(T)),typeof T!="string")throw Error("null font in textFont()");return arguments.length===2&&typeof R=="object"&&(F=R,R=void 0),this.states.setValue("textFont",{font:D,family:T,size:R}),typeof R<"u"&&this._setTextSize(R),typeof F=="object"&&this.textProperties(F),this._applyTextProperties()},_t.prototype._directSetFontString=function(D,R=0){R&&console.log('_directSetFontString"'+D+'"');let F=_.reduce((k,B)=>(k[B]=x[B].default,k),{}),T=this._cachedDiv(F);T.style.font=D;let U=getComputedStyle(T);return _.forEach(k=>{this.states[k]=U[k],R&&console.log("  this.states."+k+'="'+U[k]+'"')}),{family:U.fontFamily,size:U.fontSize}},_t.prototype.textLeading=function(D){return typeof D=="number"?(this.states.setValue("leadingSet",!0),this.states.setValue("textLeading",D),this._applyTextProperties()):this.states.textLeading},_t.prototype.textWeight=function(D){if(typeof D=="number"){this.states.setValue("fontWeight",D),this._applyTextProperties(),i.prototype._isSafari()||this._setCanvasStyleProperty("font-variation-settings",`"wght" ${D}`);return}return this.states.fontWeight},_t.prototype.textSize=function(D){return typeof D<"u"?(this._setTextSize(D),this._applyTextProperties()):this.states.textSize},_t.prototype.textStyle=function(D){return typeof D<"u"?(this.states.setValue("fontStyle",D),this._applyTextProperties()):this.states.fontStyle},_t.prototype.textWrap=function(D){return D===t.WORD||D===t.CHAR?(this.states.setValue("textWrap",D),this._pInst):this.states.textWrap},_t.prototype.textDirection=function(D){return typeof D<"u"?(this.states.setValue("direction",D),this._applyTextProperties()):this.states.direction},_t.prototype.textProperty=function(D,R,F){let T=!1,U=(F==null?void 0:F.debug)||!1;if(typeof R>"u"){let k=this.textProperties();if(D in k)return k[D];throw Error('Unknown text option "'+D+'"')}return D in this.states&&this.states[D]!==R?(this.states[D]=R,T=!0,U&&console.log("this.states."+D+'="'+options[D]+'"')):D in this.textDrawingContext()?(this._setContextProperty(D,R,U),T=!0):D in this.textCanvas().style?(this._setCanvasStyleProperty(D,R,U),T=!0):console.warn('Ignoring unknown text option: "'+D+`"
`),T?this._applyTextProperties():this._pInst},_t.prototype.textProperties=function(D){if(typeof D<"u")return Object.keys(D).forEach(F=>{this.textProperty(F,D[F])}),this._pInst;let R=this.textDrawingContext();return D=S.reduce((F,T)=>(F[T]=R[T],F),{}),Object.keys(x).forEach(F=>{var T;if(((T=x[F])==null?void 0:T.type)==="Context2d")D[F]=R[F];else if(F==="textFont"){let U=this._currentTextFont();typeof U=="object"&&"_pInst"in U&&(U=Object.assign({},U),delete U._pInst),D[F]=U}else D[F]=this.states[F]}),D},_t.prototype.textMode=function(){},_t.prototype._currentTextFont=function(){return this.states.textFont.font||this.states.textFont.family},_t.prototype._computeBounds=function(D,R,F,T,U,k,B){let L=this.textDrawingContext(),V=L.textBaseline,{textLeading:H,textAlign:z}=this.states;({width:U,height:k}=this._rectModeAdjust(F,T,U,k));let G=this._processLines(R,U,k),K=G.map((ne,de)=>this[D].bind(this)(ne,F,T+de*H));G.length>1&&K.forEach(ne=>ne.x+=i.Renderer2D.prototype._xAlignOffset.call(this,z,U)),typeof k<"u"&&i.Renderer2D.prototype._yAlignOffset.call(this,K,k);let le=K[0];return G.length>1&&(le=this._aggregateBounds(K),B!=null&&B.ignoreRectMode||this._rectModeAlign(le,U||0,k||0)),L.textBaseline=V,{bounds:le,lines:G}},_t.prototype._rectModeAdjust=function(D,R,F,T){if(typeof F<"u")switch(this.states.rectMode){case t.CENTER:break;case t.CORNERS:F-=D,T-=R;break;case t.RADIUS:F*=2,T*=2;break}return{x:D,y:R,width:F,height:T}},_t.prototype._setCanvasStyleProperty=function(D,R,F){let T=R.toString();F&&console.log("canvas.style."+D+'="'+T+'"'),D===d&&this._handleFontVariationSettings(T),this.textCanvas().style[D]=T,this.textCanvas().style[D]},_t.prototype._handleFontVariationSettings=function(D,R=!1){typeof D=="object"&&(D=Object.keys(D).map(T=>T+" "+D[T]).join(", ")),D.split(a).forEach(T=>{T=T.replace(/["']/g,"");let U=g.exec(T);if(U&&U.length){let k=U[0],B=parseFloat(parseFloat(T.replace(k,"").trim()).toFixed(3));switch(k){case"wght":return R&&console.log("setting font-weight="+B),this.states.fontWeight!==B&&this.textWeight(B),B;case"wdth":break;case"ital":R&&console.log("setting font-style="+(B?"italic":"normal"));break;case"slnt":R&&console.log("setting font-style="+(B?"oblique":"normal"));break;case"opsz":R&&console.log("setting font-optical-size="+B);break}}})},_t.prototype._setContextProperty=function(D,R,F=!1){if(this.textDrawingContext()[D]===R)return this._pInst;(A??(A=[])).push([D,R]),F&&console.log("queued context2d."+D+'="'+R+'"')},_t.prototype._handleRectMode=function(D,R,F,T){let U=this.states.rectMode;if(typeof F<"u")switch(U){case t.RADIUS:F*=2,D-=F/2,typeof T<"u"&&(T*=2,R-=T/2);break;case t.CENTER:D-=F/2,typeof T<"u"&&(R-=T/2);break;case t.CORNERS:F-=D,typeof T<"u"&&(T-=R);break}return{x:D,y:R,width:F,height:T}},_t.prototype._fontSizePx=function(D,{family:R}=this.states.textFont){if((B=>!isNaN(B)&&B.trim()!=="")(D))return parseFloat(D);let T=this._cachedDiv({fontSize:D});T.style.fontSize=D,T.style.fontFamily=R;let U=getComputedStyle(T).fontSize,k=parseFloat(U);if(typeof k!="number")throw Error("textSize: invalid font-size");return k},_t.prototype._cachedDiv=function(D){if(typeof P>"u"){let R=document.createElement("div");R.ariaHidden="true",R.style.display="none",Object.entries(D).forEach(([F,T])=>{R.style[F]=T}),this.textCanvas().appendChild(R),P=R}return P},_t.prototype._aggregateBounds=function(D){let R=Math.min(...D.map(k=>k.x)),F=Math.min(...D.map(k=>k.y)),T=Math.max(...D.map(k=>k.y+k.h)),U=Math.max(...D.map(k=>k.x+k.w));return{x:R,y:F,w:U-R,h:T-F}},_t.prototype._processLines=function(D,R,F){typeof R<"u"&&this.textDrawingContext().textBaseline===t.BASELINE&&(this.drawingContext.textBaseline=t.TOP);let T=this._splitOnBreaks(D.toString()),U=T.length>1,k=typeof R<"u",B=k&&T.some(H=>this._textWidthSingle(H)>R),{textLeading:L,textWrap:V}=this.states;if((U||B)&&k&&(T=this._lineate(V,T,R)),k&&typeof F<"u"){if(typeof L>"u")throw Error("leading is required if height is specified");for(let H=0;H<T.length;H++)if(L*(H+1)>F){T=T.slice(0,H);break}}return T},_t.prototype._xAlignOffset=function(D,R){switch(D){case t.LEFT:return 0;case t.CENTER:return R/2;case t.RIGHT:return R;case Hn.START:return 0;case Hn.END:throw new Error("textBounds: END not yet supported for textAlign");default:return 0}},_t.prototype._rectModeAlign=function(D,R,F){if(typeof R<"u"){switch(this.states.rectMode){case t.CENTER:D.x-=(R-D.w)/2,D.y-=(F-D.h)/2;break;case t.CORNERS:D.w+=D.x,D.h+=D.y;break;case t.RADIUS:D.x-=(R-D.w)/2,D.y-=(F-D.h)/2,D.w/=2,D.h/=2;break}return D}},_t.prototype._rectModeAlignRevert=function(D,R,F){if(typeof R<"u"){switch(this.states.rectMode){case t.CENTER:D.x+=(R-D.w)/2,D.y+=(F-D.h)/2;break;case t.CORNERS:D.w-=D.x,D.h-=D.y;break;case t.RADIUS:D.x+=(R-D.w)/2,D.y+=(F-D.h)/2,D.w*=2,D.h*=2;break}return D}},_t.prototype._textWidthSingle=function(D){let R=this.textDrawingContext().measureText(D),F=R.actualBoundingBoxLeft;return R.actualBoundingBoxRight+F},_t.prototype._fontWidthSingle=function(D){return this.textDrawingContext().measureText(D).width},_t.prototype._textBoundsSingle=function(D,R=0,F=0){let T=this.textDrawingContext().measureText(D),U=T.actualBoundingBoxAscent,k=T.actualBoundingBoxDescent,B=T.actualBoundingBoxLeft,L=T.actualBoundingBoxRight;return{x:R-B,y:F-U,w:L+B,h:U+k}},_t.prototype._fontBoundsSingle=function(D,R=0,F=0){let T=this.textDrawingContext().measureText(D),U=T.fontBoundingBoxAscent,k=T.fontBoundingBoxDescent;return R-=this._xAlignOffset(this.states.textAlign,T.width),{x:R,y:F-U,w:T.width,h:U+k}},_t.prototype._setTextSize=function(D){if(typeof D=="string"&&(D=this._fontSizePx(D)),typeof D=="number"){if(this.states.textSize!==D)return this.states.setValue("textSize",D),this.states.leadingSet||this.states.setValue("textLeading",this.states.textSize*1.275),!0}else console.warn("textSize: invalid size: "+D);return!1},_t.prototype._lineate=function(D,R,F=1/0,T={}){let U=T.splitChar??(D===t.WORD?" ":""),k,B,L,V,H=[];for(let z=0;z<R.length;z++){k="",V=R[z].split(U);for(let G=0;G<V.length;G++)B=`${k+V[G]}`+U,L=this._textWidthSingle(B),k.length>0&&L>F?(H.push(k.trim()),k=`${V[G]}`+U):k=B;H.push(k.trim())}return H},_t.prototype._splitOnBreaks=function(D){return!D||D.length===0?[""]:D.replace(l,"  ").split(s)},_t.prototype._parseFontFamily=function(D){return D.split(a).map(T=>(T=T.trim(),T.indexOf(" ")>-1&&!o.test(T)&&(T=`"${T}"`),T)).join(", ")},_t.prototype._applyFontString=function(){let{textFont:D,textSize:R,lineHeight:F,fontStyle:T,fontWeight:U,fontVariant:k}=this.states,B=this.textDrawingContext(),L=this._parseFontFamily(D.family),V=T!==t.NORMAL?`${T} `:"",H=U!==t.NORMAL?`${U} `:"",z=k!==t.NORMAL?`${k} `:"",G=`${R}px`+(F!==t.NORMAL?`/${F} `:" "),K=`${V}${z}${H}${G}${L}`.trim();if(B.font=K,B.font!==K){let le=K,ne=B.font;if(le!==ne)return!1}return!0},_t.prototype._applyTextProperties=function(D=!1){this._applyFontString();let R=this.textDrawingContext();R.direction=this.states.direction,R.textAlign=this.states.textAlign,R.textBaseline=this.states.textBaseline;let F=this.states.fontStretch;for(w.includes(F)&&R.fontStretch!==F&&(R.fontStretch=F);A!=null&&A.length;){let[T,U]=A.shift();D&&console.log('apply context property "'+T+'" = "'+U+'"'),R[T]=U,R[T]!==U&&(console.warn(`Unable to set '${T}' property on context2d. It may not be supported.`),console.log('Expected "'+U+'" but got: "'+R[T]+'"'))}return this._pInst},i.Renderer2D&&(i.Renderer2D.prototype.textCanvas=function(){return this.canvas},i.Renderer2D.prototype.textDrawingContext=function(){return this.drawingContext},i.Renderer2D.prototype._renderText=function(D,R,F,T,U){let k=this.states,B=this.textDrawingContext();F<U||F>=T||(this.push(),k.strokeColor&&k.strokeSet&&B.strokeText(D,R,F),!this._clipping&&k.fillColor&&(k.fillSet||this._setFill(n),B.fillText(D,R,F)),this.pop())},i.Renderer2D.prototype._positionLines=function(D,R,F,T,U){let{textLeading:k,textAlign:B}=this.states,L,V=new Array(U.length),H=typeof F>"u"?0:F,z=typeof T>"u"?0:T;for(let G=0;G<U.length;G++){switch(B){case Hn.START:throw new Error("textBounds: START not yet supported for textAlign");case t.LEFT:L=D;break;case t.CENTER:L=D+H/2;break;case t.RIGHT:L=D+H;break;case Hn.END:throw new Error("textBounds: END not yet supported for textAlign")}V[G]={text:U[G],x:L,y:R+G*k}}return this._yAlignOffset(V,z)},i.Renderer2D.prototype._yAlignOffset=function(D,R){if(typeof R>"u")throw Error("_yAlignOffset: height is required");let{textLeading:F,textBaseline:T}=this.states,U=0,k=D.length,B=R-F*(k-1);switch(T){case t.TOP:break;case t.BASELINE:break;case Hn._CTX_MIDDLE:U=B/2;break;case t.BOTTOM:U=B;break;case Hn.IDEOGRAPHIC:console.warn("textBounds: IDEOGRAPHIC not yet supported for textBaseline");break;case Hn.HANGING:console.warn("textBounds: HANGING not yet supported for textBaseline");break}return D.forEach(L=>L.y+=U),D}),i.RendererGL){i.RendererGL.prototype.textCanvas=function(){return this._textCanvas||(this._textCanvas=document.createElement("canvas"),this._textCanvas.width=1,this._textCanvas.height=1,this._textCanvas.style.display="none",this.canvas.parentElement.insertBefore(this._textCanvas,this.canvas)),this._textCanvas},i.RendererGL.prototype.textDrawingContext=function(){if(!this._textDrawingContext){const R=this.textCanvas();this._textDrawingContext=R.getContext("2d")}return this._textDrawingContext};const D=i.RendererGL.prototype.remove;i.RendererGL.prototype.remove=function(){this._textCanvas&&this._textCanvas.parentElement.removeChild(this._textCanvas),D.call(this)},i.RendererGL.prototype._positionLines=function(R,F,T,U,k){let{textLeading:B,textAlign:L}=this.states;const V=k.map(le=>this._fontWidthSingle(le));let H,z=new Array(k.length),G=typeof T>"u"?Math.max(0,...V):T,K=typeof U>"u"?0:U;for(let le=0;le<k.length;le++){switch(L){case Hn.START:throw new Error("textBounds: START not yet supported for textAlign");case t.LEFT:H=R;break;case t.CENTER:H=R+(G-V[le])/2-G/2+(T||0)/2;break;case t.RIGHT:H=R+G-V[le]-G+(T||0);break;case Hn.END:throw new Error("textBounds: END not yet supported for textAlign")}z[le]={text:k[le],x:H,y:F+le*B}}return this._yAlignOffset(z,K)},i.RendererGL.prototype._yAlignOffset=function(R,F){var z;if(typeof F>"u")throw Error("_yAlignOffset: height is required");let{textLeading:T,textBaseline:U,textSize:k,textFont:B}=this.states,L=0,V=R.length,H=k*V+(T-k)*(V-1);switch(U){case t.TOP:L=k;break;case t.BASELINE:break;case Hn._CTX_MIDDLE:L=-H/2+k+(F||0)/2;break;case t.BOTTOM:L=-(H-k)+(F||0);break;default:console.warn(`${U} is not supported in WebGL mode.`);break}return L+=((z=this.states.textFont.font)==null?void 0:z._verticalAlign(k))||0,R.forEach(G=>G.y+=L),R}}}typeof p5<"u"&&$5(p5,p5.prototype);var rd={},jw;function NB(){if(jw)return rd;jw=1,Object.defineProperty(rd,"__esModule",{value:!0});var i=function(){function t(){}return t.parse=function(r){for(var n=new Set,s=0,a=r;s<a.length;s++){var o=a[s];if(!t.REGEXP.test(o))throw new TypeError('"'+o+'" is invalid unicode-range.');var l=o.match(t.REGEXP),d=l[1],p=l[2],g=l[3];if(d){if(/\?[^?]+$/.test(d))throw new TypeError('"'+o+'" is invalid unicode-range.');if(d.includes("?"))for(var y=d.replace(/\?/g,"0"),x=d.replace(/\?/g,"F"),S=t.parse(["U+"+y+"-"+x]),_=0,w=S;_<w.length;_++){var A=w[_];n.add(A)}else n.add(parseInt(d,16))}if(p&&g)for(var P=parseInt(p,16),D=parseInt(g,16),A=P;A<=D;A++)n.add(A)}return Array.from(n).sort(function(R,F){return R-F})},t.stringify=function(r){for(var n=Array.from(new Set(r)).sort(function(p,g){return p-g}),s=[],a,o=0;o<n.length;o++){var l=n[o],d=n[o-1];a&&l-d!==1&&(s.push(t.rangeString(a,d)),a=l),a||(a=l),o===n.length-1&&(a===l?s.push(t.rangeString(l)):s.push(t.rangeString(a,l)))}return s},t.rangeString=function(r,n){return!n||r===n?"U+"+r.toString(16):"U+"+r.toString(16)+"-"+n.toString(16)},t.REGEXP=/^u\+(?:([0-9a-f]?[0-9a-f?]{1,5})|([0-9a-f]{1,6})-([0-9a-f]{1,6}))?$/i,t}();return rd.UnicodeRange=i,rd}var zw=NB();const OB=[{category:"control character",hexrange:["0000","001f"]},{category:"basic latin",hexrange:["0000","007f"]},{category:"latin-1 supplement",hexrange:["0080","00ff"]},{category:"latin extended-a",hexrange:["0100","017f"]},{category:"latin extended-b",hexrange:["0180","024f"]},{category:"ipa extensions",hexrange:["0250","02af"]},{category:"spacing modifier letters",hexrange:["02b0","02ff"]},{category:"combining diacritical marks",hexrange:["0300","036f"]},{category:"greek and coptic",hexrange:["0370","03ff"]},{category:"cyrillic",hexrange:["0400","04ff"]},{category:"cyrillic supplement",hexrange:["0500","052f"]},{category:"armenian",hexrange:["0530","058f"]},{category:"hebrew",hexrange:["0590","05ff"]},{category:"arabic",hexrange:["0600","06ff"]},{category:"syriac",hexrange:["0700","074f"]},{category:"arabic supplement",hexrange:["0750","077f"]},{category:"thaana",hexrange:["0780","07bf"]},{category:"nko",hexrange:["07c0","07ff"]},{category:"samaritan",hexrange:["0800","083f"]},{category:"mandaic",hexrange:["0840","085f"]},{category:"syriac supplement",hexrange:["0860","086f"]},{category:"arabic extended-b",hexrange:["0870","089f"]},{category:"arabic extended-a",hexrange:["08a0","08ff"]},{category:"devanagari",hexrange:["0900","097f"]},{category:"bengali",hexrange:["0980","09ff"]},{category:"gurmukhi",hexrange:["0a00","0a7f"]},{category:"gujarati",hexrange:["0a80","0aff"]},{category:"oriya",hexrange:["0b00","0b7f"]},{category:"tamil",hexrange:["0b80","0bff"]},{category:"telugu",hexrange:["0c00","0c7f"]},{category:"kannada",hexrange:["0c80","0cff"]},{category:"malayalam",hexrange:["0d00","0d7f"]},{category:"sinhala",hexrange:["0d80","0dff"]},{category:"thai",hexrange:["0e00","0e7f"]},{category:"lao",hexrange:["0e80","0eff"]},{category:"tibetan",hexrange:["0f00","0fff"]},{category:"myanmar",hexrange:["1000","109f"]},{category:"georgian",hexrange:["10a0","10ff"]},{category:"hangul jamo",hexrange:["1100","11ff"]},{category:"ethiopic",hexrange:["1200","137f"]},{category:"ethiopic supplement",hexrange:["1380","139f"]},{category:"cherokee",hexrange:["13a0","13ff"]},{category:"unified canadian aboriginal syllabics",hexrange:["1400","167f"]},{category:"ogham",hexrange:["1680","169f"]},{category:"runic",hexrange:["16a0","16ff"]},{category:"tagalog",hexrange:["1700","171f"]},{category:"hanunoo",hexrange:["1720","173f"]},{category:"buhid",hexrange:["1740","175f"]},{category:"tagbanwa",hexrange:["1760","177f"]},{category:"khmer",hexrange:["1780","17ff"]},{category:"mongolian",hexrange:["1800","18af"]},{category:"unified canadian aboriginal syllabics extended",hexrange:["18b0","18ff"]},{category:"limbu",hexrange:["1900","194f"]},{category:"tai le",hexrange:["1950","197f"]},{category:"new tai lue",hexrange:["1980","19df"]},{category:"khmer symbols",hexrange:["19e0","19ff"]},{category:"buginese",hexrange:["1a00","1a1f"]},{category:"tai tham",hexrange:["1a20","1aaf"]},{category:"combining diacritical marks extended",hexrange:["1ab0","1aff"]},{category:"balinese",hexrange:["1b00","1b7f"]},{category:"sundanese",hexrange:["1b80","1bbf"]},{category:"batak",hexrange:["1bc0","1bff"]},{category:"lepcha",hexrange:["1c00","1c4f"]},{category:"ol chiki",hexrange:["1c50","1c7f"]},{category:"cyrillic extended-c",hexrange:["1c80","1c8f"]},{category:"georgian extended",hexrange:["1c90","1cbf"]},{category:"sundanese supplement",hexrange:["1cc0","1ccf"]},{category:"vedic extensions",hexrange:["1cd0","1cff"]},{category:"phonetic extensions",hexrange:["1d00","1d7f"]},{category:"phonetic extensions supplement",hexrange:["1d80","1dbf"]},{category:"combining diacritical marks supplement",hexrange:["1dc0","1dff"]},{category:"latin extended additional",hexrange:["1e00","1eff"]},{category:"greek extended",hexrange:["1f00","1fff"]},{category:"general punctuation",hexrange:["2000","206f"]},{category:"superscripts and subscripts",hexrange:["2070","209f"]},{category:"currency symbols",hexrange:["20a0","20cf"]},{category:"combining diacritical marks for symbols",hexrange:["20d0","20ff"]},{category:"letterlike symbols",hexrange:["2100","214f"]},{category:"number forms",hexrange:["2150","218f"]},{category:"arrows",hexrange:["2190","21ff"]},{category:"mathematical operators",hexrange:["2200","22ff"]},{category:"miscellaneous technical",hexrange:["2300","23ff"]},{category:"control pictures",hexrange:["2400","243f"]},{category:"optical character recognition",hexrange:["2440","245f"]},{category:"enclosed alphanumerics",hexrange:["2460","24ff"]},{category:"box drawing",hexrange:["2500","257f"]},{category:"block elements",hexrange:["2580","259f"]},{category:"geometric shapes",hexrange:["25a0","25ff"]},{category:"miscellaneous symbols",hexrange:["2600","26ff"]},{category:"dingbats",hexrange:["2700","27bf"]},{category:"miscellaneous mathematical symbols-a",hexrange:["27c0","27ef"]},{category:"supplemental arrows-a",hexrange:["27f0","27ff"]},{category:"braille patterns",hexrange:["2800","28ff"]},{category:"supplemental arrows-b",hexrange:["2900","297f"]},{category:"miscellaneous mathematical symbols-b",hexrange:["2980","29ff"]},{category:"supplemental mathematical operators",hexrange:["2a00","2aff"]},{category:"miscellaneous symbols and arrows",hexrange:["2b00","2bff"]},{category:"glagolitic",hexrange:["2c00","2c5f"]},{category:"latin extended-c",hexrange:["2c60","2c7f"]},{category:"coptic",hexrange:["2c80","2cff"]},{category:"georgian supplement",hexrange:["2d00","2d2f"]},{category:"tifinagh",hexrange:["2d30","2d7f"]},{category:"ethiopic extended",hexrange:["2d80","2ddf"]},{category:"cyrillic extended-a",hexrange:["2de0","2dff"]},{category:"supplemental punctuation",hexrange:["2e00","2e7f"]},{category:"cjk radicals supplement",hexrange:["2e80","2eff"]},{category:"kangxi radicals",hexrange:["2f00","2fdf"]},{category:"ideographic description characters",hexrange:["2ff0","2fff"]},{category:"cjk symbols and punctuation",hexrange:["3000","303f"]},{category:"hiragana",hexrange:["3040","309f"]},{category:"katakana",hexrange:["30a0","30ff"]},{category:"bopomofo",hexrange:["3100","312f"]},{category:"hangul compatibility jamo",hexrange:["3130","318f"]},{category:"kanbun",hexrange:["3190","319f"]},{category:"bopomofo extended",hexrange:["31a0","31bf"]},{category:"cjk strokes",hexrange:["31c0","31ef"]},{category:"katakana phonetic extensions",hexrange:["31f0","31ff"]},{category:"enclosed cjk letters and months",hexrange:["3200","32ff"]},{category:"cjk compatibility",hexrange:["3300","33ff"]},{category:"cjk unified ideographs extension a",hexrange:["3400","4dbf"]},{category:"yijing hexagram symbols",hexrange:["4dc0","4dff"]},{category:"cjk unified ideographs",hexrange:["4e00","9fff"]},{category:"yi syllables",hexrange:["a000","a48f"]},{category:"yi radicals",hexrange:["a490","a4cf"]},{category:"lisu",hexrange:["a4d0","a4ff"]},{category:"vai",hexrange:["a500","a63f"]},{category:"cyrillic extended-b",hexrange:["a640","a69f"]},{category:"bamum",hexrange:["a6a0","a6ff"]},{category:"modifier tone letters",hexrange:["a700","a71f"]},{category:"latin extended-d",hexrange:["a720","a7ff"]},{category:"syloti nagri",hexrange:["a800","a82f"]},{category:"common indic number forms",hexrange:["a830","a83f"]},{category:"phags-pa",hexrange:["a840","a87f"]},{category:"saurashtra",hexrange:["a880","a8df"]},{category:"devanagari extended",hexrange:["a8e0","a8ff"]},{category:"kayah li",hexrange:["a900","a92f"]},{category:"rejang",hexrange:["a930","a95f"]},{category:"hangul jamo extended-a",hexrange:["a960","a97f"]},{category:"javanese",hexrange:["a980","a9df"]},{category:"myanmar extended-b",hexrange:["a9e0","a9ff"]},{category:"cham",hexrange:["aa00","aa5f"]},{category:"myanmar extended-a",hexrange:["aa60","aa7f"]},{category:"tai viet",hexrange:["aa80","aadf"]},{category:"meetei mayek extensions",hexrange:["aae0","aaff"]},{category:"ethiopic extended-a",hexrange:["ab00","ab2f"]},{category:"latin extended-e",hexrange:["ab30","ab6f"]},{category:"cherokee supplement",hexrange:["ab70","abbf"]},{category:"meetei mayek",hexrange:["abc0","abff"]},{category:"hangul syllables",hexrange:["ac00","d7af"]},{category:"hangul jamo extended-b",hexrange:["d7b0","d7ff"]},{category:"high surrogates",hexrange:["d800","db7f"]},{category:"high private use surrogates",hexrange:["db80","dbff"]},{category:"low surrogates",hexrange:["dc00","dfff"]},{category:"private use area",hexrange:["e000","f8ff"]},{category:"cjk compatibility ideographs",hexrange:["f900","faff"]},{category:"alphabetic presentation forms",hexrange:["fb00","fb4f"]},{category:"arabic presentation forms-a",hexrange:["fb50","fdff"]},{category:"variation selectors",hexrange:["fe00","fe0f"]},{category:"vertical forms",hexrange:["fe10","fe1f"]},{category:"combining half marks",hexrange:["fe20","fe2f"]},{category:"cjk compatibility forms",hexrange:["fe30","fe4f"]},{category:"small form variants",hexrange:["fe50","fe6f"]},{category:"arabic presentation forms-b",hexrange:["fe70","feff"]},{category:"halfwidth and fullwidth forms",hexrange:["ff00","ffef"]},{category:"specials",hexrange:["fff0","ffff"]},{category:"linear b syllabary",hexrange:["10000","1007f"]},{category:"linear b ideograms",hexrange:["10080","100ff"]},{category:"aegean numbers",hexrange:["10100","1013f"]},{category:"ancient greek numbers",hexrange:["10140","1018f"]},{category:"ancient symbols",hexrange:["10190","101cf"]},{category:"phaistos disc",hexrange:["101d0","101ff"]},{category:"lycian",hexrange:["10280","1029f"]},{category:"carian",hexrange:["102a0","102df"]},{category:"coptic epact numbers",hexrange:["102e0","102ff"]},{category:"old italic",hexrange:["10300","1032f"]},{category:"gothic",hexrange:["10330","1034f"]},{category:"old permic",hexrange:["10350","1037f"]},{category:"ugaritic",hexrange:["10380","1039f"]},{category:"old persian",hexrange:["103a0","103df"]},{category:"deseret",hexrange:["10400","1044f"]},{category:"shavian",hexrange:["10450","1047f"]},{category:"osmanya",hexrange:["10480","104af"]},{category:"osage",hexrange:["104b0","104ff"]},{category:"elbasan",hexrange:["10500","1052f"]},{category:"caucasian albanian",hexrange:["10530","1056f"]},{category:"vithkuqi",hexrange:["10570","105bf"]},{category:"linear a",hexrange:["10600","1077f"]},{category:"latin extended-f",hexrange:["10780","107bf"]},{category:"cypriot syllabary",hexrange:["10800","1083f"]},{category:"imperial aramaic",hexrange:["10840","1085f"]},{category:"palmyrene",hexrange:["10860","1087f"]},{category:"nabataean",hexrange:["10880","108af"]},{category:"hatran",hexrange:["108e0","108ff"]},{category:"phoenician",hexrange:["10900","1091f"]},{category:"lydian",hexrange:["10920","1093f"]},{category:"meroitic hieroglyphs",hexrange:["10980","1099f"]},{category:"meroitic cursive",hexrange:["109a0","109ff"]},{category:"kharoshthi",hexrange:["10a00","10a5f"]},{category:"old south arabian",hexrange:["10a60","10a7f"]},{category:"old north arabian",hexrange:["10a80","10a9f"]},{category:"manichaean",hexrange:["10ac0","10aff"]},{category:"avestan",hexrange:["10b00","10b3f"]},{category:"inscriptional parthian",hexrange:["10b40","10b5f"]},{category:"inscriptional pahlavi",hexrange:["10b60","10b7f"]},{category:"psalter pahlavi",hexrange:["10b80","10baf"]},{category:"old turkic",hexrange:["10c00","10c4f"]},{category:"old hungarian",hexrange:["10c80","10cff"]},{category:"hanifi rohingya",hexrange:["10d00","10d3f"]},{category:"rumi numeral symbols",hexrange:["10e60","10e7f"]},{category:"yezidi",hexrange:["10e80","10ebf"]},{category:"arabic extended-c",hexrange:["10ec0","10eff"]},{category:"old sogdian",hexrange:["10f00","10f2f"]},{category:"sogdian",hexrange:["10f30","10f6f"]},{category:"old uyghur",hexrange:["10f70","10faf"]},{category:"chorasmian",hexrange:["10fb0","10fdf"]},{category:"elymaic",hexrange:["10fe0","10fff"]},{category:"brahmi",hexrange:["11000","1107f"]},{category:"kaithi",hexrange:["11080","110cf"]},{category:"sora sompeng",hexrange:["110d0","110ff"]},{category:"chakma",hexrange:["11100","1114f"]},{category:"mahajani",hexrange:["11150","1117f"]},{category:"sharada",hexrange:["11180","111df"]},{category:"sinhala archaic numbers",hexrange:["111e0","111ff"]},{category:"khojki",hexrange:["11200","1124f"]},{category:"multani",hexrange:["11280","112af"]},{category:"khudawadi",hexrange:["112b0","112ff"]},{category:"grantha",hexrange:["11300","1137f"]},{category:"newa",hexrange:["11400","1147f"]},{category:"tirhuta",hexrange:["11480","114df"]},{category:"siddham",hexrange:["11580","115ff"]},{category:"modi",hexrange:["11600","1165f"]},{category:"mongolian supplement",hexrange:["11660","1167f"]},{category:"takri",hexrange:["11680","116cf"]},{category:"ahom",hexrange:["11700","1174f"]},{category:"dogra",hexrange:["11800","1184f"]},{category:"warang citi",hexrange:["118a0","118ff"]},{category:"dives akuru",hexrange:["11900","1195f"]},{category:"nandinagari",hexrange:["119a0","119ff"]},{category:"zanabazar square",hexrange:["11a00","11a4f"]},{category:"soyombo",hexrange:["11a50","11aaf"]},{category:"unified canadian aboriginal syllabics extended-a",hexrange:["11ab0","11abf"]},{category:"pau cin hau",hexrange:["11ac0","11aff"]},{category:"devanagari extended-a",hexrange:["11b00","11b5f"]},{category:"bhaiksuki",hexrange:["11c00","11c6f"]},{category:"marchen",hexrange:["11c70","11cbf"]},{category:"masaram gondi",hexrange:["11d00","11d5f"]},{category:"gunjala gondi",hexrange:["11d60","11daf"]},{category:"makasar",hexrange:["11ee0","11eff"]},{category:"kawi",hexrange:["11f00","11f5f"]},{category:"lisu supplement",hexrange:["11fb0","11fbf"]},{category:"tamil supplement",hexrange:["11fc0","11fff"]},{category:"cuneiform",hexrange:["12000","123ff"]},{category:"cuneiform numbers and punctuation",hexrange:["12400","1247f"]},{category:"early dynastic cuneiform",hexrange:["12480","1254f"]},{category:"cypro-minoan",hexrange:["12f90","12fff"]},{category:"egyptian hieroglyphs",hexrange:["13000","1342f"]},{category:"egyptian hieroglyph format controls",hexrange:["13430","1345f"]},{category:"anatolian hieroglyphs",hexrange:["14400","1467f"]},{category:"bamum supplement",hexrange:["16800","16a3f"]},{category:"mro",hexrange:["16a40","16a6f"]},{category:"tangsa",hexrange:["16a70","16acf"]},{category:"bassa vah",hexrange:["16ad0","16aff"]},{category:"pahawh hmong",hexrange:["16b00","16b8f"]},{category:"medefaidrin",hexrange:["16e40","16e9f"]},{category:"miao",hexrange:["16f00","16f9f"]},{category:"ideographic symbols and punctuation",hexrange:["16fe0","16fff"]},{category:"tangut",hexrange:["17000","187ff"]},{category:"tangut components",hexrange:["18800","18aff"]},{category:"khitan small script",hexrange:["18b00","18cff"]},{category:"tangut supplement",hexrange:["18d00","18d7f"]},{category:"kana extended-b",hexrange:["1aff0","1afff"]},{category:"kana supplement",hexrange:["1b000","1b0ff"]},{category:"kana extended-a",hexrange:["1b100","1b12f"]},{category:"small kana extension",hexrange:["1b130","1b16f"]},{category:"nushu",hexrange:["1b170","1b2ff"]},{category:"duployan",hexrange:["1bc00","1bc9f"]},{category:"shorthand format controls",hexrange:["1bca0","1bcaf"]},{category:"znamenny musical notation",hexrange:["1cf00","1cfcf"]},{category:"byzantine musical symbols",hexrange:["1d000","1d0ff"]},{category:"musical symbols",hexrange:["1d100","1d1ff"]},{category:"ancient greek musical notation",hexrange:["1d200","1d24f"]},{category:"kaktovik numerals",hexrange:["1d2c0","1d2df"]},{category:"mayan numerals",hexrange:["1d2e0","1d2ff"]},{category:"tai xuan jing symbols",hexrange:["1d300","1d35f"]},{category:"counting rod numerals",hexrange:["1d360","1d37f"]},{category:"mathematical alphanumeric symbols",hexrange:["1d400","1d7ff"]},{category:"sutton signwriting",hexrange:["1d800","1daaf"]},{category:"latin extended-g",hexrange:["1df00","1dfff"]},{category:"glagolitic supplement",hexrange:["1e000","1e02f"]},{category:"cyrillic extended-d",hexrange:["1e030","1e08f"]},{category:"nyiakeng puachue hmong",hexrange:["1e100","1e14f"]},{category:"toto",hexrange:["1e290","1e2bf"]},{category:"wancho",hexrange:["1e2c0","1e2ff"]},{category:"nag mundari",hexrange:["1e4d0","1e4ff"]},{category:"ethiopic extended-b",hexrange:["1e7e0","1e7ff"]},{category:"mende kikakui",hexrange:["1e800","1e8df"]},{category:"adlam",hexrange:["1e900","1e95f"]},{category:"indic siyaq numbers",hexrange:["1ec70","1ecbf"]},{category:"ottoman siyaq numbers",hexrange:["1ed00","1ed4f"]},{category:"arabic mathematical alphabetic symbols",hexrange:["1ee00","1eeff"]},{category:"mahjong tiles",hexrange:["1f000","1f02f"]},{category:"domino tiles",hexrange:["1f030","1f09f"]},{category:"playing cards",hexrange:["1f0a0","1f0ff"]},{category:"enclosed alphanumeric supplement",hexrange:["1f100","1f1ff"]},{category:"enclosed ideographic supplement",hexrange:["1f200","1f2ff"]},{category:"miscellaneous symbols and pictographs",hexrange:["1f300","1f5ff"]},{category:"emoticons (emoji)",hexrange:["1f600","1f64f"]},{category:"ornamental dingbats",hexrange:["1f650","1f67f"]},{category:"transport and map symbols",hexrange:["1f680","1f6ff"]},{category:"alchemical symbols",hexrange:["1f700","1f77f"]},{category:"geometric shapes extended",hexrange:["1f780","1f7ff"]},{category:"supplemental arrows-c",hexrange:["1f800","1f8ff"]},{category:"supplemental symbols and pictographs",hexrange:["1f900","1f9ff"]},{category:"chess symbols",hexrange:["1fa00","1fa6f"]},{category:"symbols and pictographs extended-a",hexrange:["1fa70","1faff"]},{category:"symbols for legacy computing",hexrange:["1fb00","1fbff"]},{category:"cjk unified ideographs extension b",hexrange:["20000","2a6df"]},{category:"cjk unified ideographs extension c",hexrange:["2a700","2b73f"]},{category:"cjk unified ideographs extension d",hexrange:["2b740","2b81f"]},{category:"cjk unified ideographs extension e",hexrange:["2b820","2ceaf"]},{category:"cjk unified ideographs extension f",hexrange:["2ceb0","2ebef"]},{category:"cjk unified ideographs extension i",hexrange:["2ebf0","2ee5f"]},{category:"cjk compatibility ideographs supplement",hexrange:["2f800","2fa1f"]},{category:"cjk unified ideographs extension g",hexrange:["30000","3134f"]},{category:"cjk unified ideographs extension h",hexrange:["31350","323af"]},{category:"tags",hexrange:["e0000","e007f"]},{category:"variation selectors supplement",hexrange:["e0100","e01ef"]},{category:"supplementary private use area-a",hexrange:["f0000","fffff"]},{category:"supplementary private use area-b",hexrange:["100000","10ffff"]}];function Cl(i){let t=i.length;for(;--t>=0;)i[t]=0}const FB=3,RB=258,W5=29,MB=256,kB=MB+1+W5,Y5=30,PB=512,LB=new Array((kB+2)*2);Cl(LB);const IB=new Array(Y5*2);Cl(IB);const BB=new Array(PB);Cl(BB);const UB=new Array(RB-FB+1);Cl(UB);const VB=new Array(W5);Cl(VB);const jB=new Array(Y5);Cl(jB);const zB=(i,t,r,n)=>{let s=i&65535|0,a=i>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+t[n++]|0,a=a+s|0;while(--o);s%=65521,a%=65521}return s|a<<16|0};var nv=zB;const GB=()=>{let i,t=[];for(var r=0;r<256;r++){i=r;for(var n=0;n<8;n++)i=i&1?3988292384^i>>>1:i>>>1;t[r]=i}return t},HB=new Uint32Array(GB()),qB=(i,t,r,n)=>{const s=HB,a=n+r;i^=-1;for(let o=n;o<a;o++)i=i>>>8^s[(i^t[o])&255];return i^-1};var Qi=qB,iv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},X5={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const $B=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var WB=function(i){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)$B(r,n)&&(i[n]=r[n])}}return i},YB=i=>{let t=0;for(let n=0,s=i.length;n<s;n++)t+=i[n].length;const r=new Uint8Array(t);for(let n=0,s=0,a=i.length;n<a;n++){let o=i[n];r.set(o,s),s+=o.length}return r},Z5={assign:WB,flattenChunks:YB};let K5=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{K5=!1}const vh=new Uint8Array(256);for(let i=0;i<256;i++)vh[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;vh[254]=vh[254]=1;var XB=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let t,r,n,s,a,o=i.length,l=0;for(s=0;s<o;s++)r=i.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=i.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),a=0,s=0;a<l;s++)r=i.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=i.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const ZB=(i,t)=>{if(t<65534&&i.subarray&&K5)return String.fromCharCode.apply(null,i.length===t?i:i.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(i[n]);return r};var KB=(i,t)=>{const r=t||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,t));let n,s;const a=new Array(r*2);for(s=0,n=0;n<r;){let o=i[n++];if(o<128){a[s++]=o;continue}let l=vh[o];if(l>4){a[s++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|i[n++]&63,l--;if(l>1){a[s++]=65533;continue}o<65536?a[s++]=o:(o-=65536,a[s++]=55296|o>>10&1023,a[s++]=56320|o&1023)}return ZB(a,s)},QB=(i,t)=>{t=t||i.length,t>i.length&&(t=i.length);let r=t-1;for(;r>=0&&(i[r]&192)===128;)r--;return r<0||r===0?t:r+vh[i[r]]>t?r:t},sv={string2buf:XB,buf2string:KB,utf8border:QB};function JB(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var e8=JB;const nd=16209,t8=16191;var r8=function(t,r){let n,s,a,o,l,d,p,g,y,x,S,_,w,A,P,D,R,F,T,U,k,B,L,V;const H=t.state;n=t.next_in,L=t.input,s=n+(t.avail_in-5),a=t.next_out,V=t.output,o=a-(r-t.avail_out),l=a+(t.avail_out-257),d=H.dmax,p=H.wsize,g=H.whave,y=H.wnext,x=H.window,S=H.hold,_=H.bits,w=H.lencode,A=H.distcode,P=(1<<H.lenbits)-1,D=(1<<H.distbits)-1;e:do{_<15&&(S+=L[n++]<<_,_+=8,S+=L[n++]<<_,_+=8),R=w[S&P];t:for(;;){if(F=R>>>24,S>>>=F,_-=F,F=R>>>16&255,F===0)V[a++]=R&65535;else if(F&16){T=R&65535,F&=15,F&&(_<F&&(S+=L[n++]<<_,_+=8),T+=S&(1<<F)-1,S>>>=F,_-=F),_<15&&(S+=L[n++]<<_,_+=8,S+=L[n++]<<_,_+=8),R=A[S&D];r:for(;;){if(F=R>>>24,S>>>=F,_-=F,F=R>>>16&255,F&16){if(U=R&65535,F&=15,_<F&&(S+=L[n++]<<_,_+=8,_<F&&(S+=L[n++]<<_,_+=8)),U+=S&(1<<F)-1,U>d){t.msg="invalid distance too far back",H.mode=nd;break e}if(S>>>=F,_-=F,F=a-o,U>F){if(F=U-F,F>g&&H.sane){t.msg="invalid distance too far back",H.mode=nd;break e}if(k=0,B=x,y===0){if(k+=p-F,F<T){T-=F;do V[a++]=x[k++];while(--F);k=a-U,B=V}}else if(y<F){if(k+=p+y-F,F-=y,F<T){T-=F;do V[a++]=x[k++];while(--F);if(k=0,y<T){F=y,T-=F;do V[a++]=x[k++];while(--F);k=a-U,B=V}}}else if(k+=y-F,F<T){T-=F;do V[a++]=x[k++];while(--F);k=a-U,B=V}for(;T>2;)V[a++]=B[k++],V[a++]=B[k++],V[a++]=B[k++],T-=3;T&&(V[a++]=B[k++],T>1&&(V[a++]=B[k++]))}else{k=a-U;do V[a++]=V[k++],V[a++]=V[k++],V[a++]=V[k++],T-=3;while(T>2);T&&(V[a++]=V[k++],T>1&&(V[a++]=V[k++]))}}else if((F&64)===0){R=A[(R&65535)+(S&(1<<F)-1)];continue r}else{t.msg="invalid distance code",H.mode=nd;break e}break}}else if((F&64)===0){R=w[(R&65535)+(S&(1<<F)-1)];continue t}else if(F&32){H.mode=t8;break e}else{t.msg="invalid literal/length code",H.mode=nd;break e}break}}while(n<s&&a<l);T=_>>3,n-=T,_-=T<<3,S&=(1<<_)-1,t.next_in=n,t.next_out=a,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=a<l?257+(l-a):257-(a-l),H.hold=S,H.bits=_};const Ou=15,Gw=852,Hw=592,qw=0,Rm=1,$w=2,n8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),i8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),s8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),a8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),o8=(i,t,r,n,s,a,o,l)=>{const d=l.bits;let p=0,g=0,y=0,x=0,S=0,_=0,w=0,A=0,P=0,D=0,R,F,T,U,k,B=null,L;const V=new Uint16Array(Ou+1),H=new Uint16Array(Ou+1);let z=null,G,K,le;for(p=0;p<=Ou;p++)V[p]=0;for(g=0;g<n;g++)V[t[r+g]]++;for(S=d,x=Ou;x>=1&&V[x]===0;x--);if(S>x&&(S=x),x===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,l.bits=1,0;for(y=1;y<x&&V[y]===0;y++);for(S<y&&(S=y),A=1,p=1;p<=Ou;p++)if(A<<=1,A-=V[p],A<0)return-1;if(A>0&&(i===qw||x!==1))return-1;for(H[1]=0,p=1;p<Ou;p++)H[p+1]=H[p]+V[p];for(g=0;g<n;g++)t[r+g]!==0&&(o[H[t[r+g]]++]=g);if(i===qw?(B=z=o,L=20):i===Rm?(B=n8,z=i8,L=257):(B=s8,z=a8,L=0),D=0,g=0,p=y,k=a,_=S,w=0,T=-1,P=1<<S,U=P-1,i===Rm&&P>Gw||i===$w&&P>Hw)return 1;for(;;){G=p-w,o[g]+1<L?(K=0,le=o[g]):o[g]>=L?(K=z[o[g]-L],le=B[o[g]-L]):(K=96,le=0),R=1<<p-w,F=1<<_,y=F;do F-=R,s[k+(D>>w)+F]=G<<24|K<<16|le|0;while(F!==0);for(R=1<<p-1;D&R;)R>>=1;if(R!==0?(D&=R-1,D+=R):D=0,g++,--V[p]===0){if(p===x)break;p=t[r+o[g]]}if(p>S&&(D&U)!==T){for(w===0&&(w=S),k+=y,_=p-w,A=1<<_;_+w<x&&(A-=V[_+w],!(A<=0));)_++,A<<=1;if(P+=1<<_,i===Rm&&P>Gw||i===$w&&P>Hw)return 1;T=D&U,s[T]=S<<24|_<<16|k-a|0}}return D!==0&&(s[k+D]=p-w<<24|64<<16|0),l.bits=S,0};var Hc=o8;const u8=0,Q5=1,J5=2,{Z_FINISH:Ww,Z_BLOCK:l8,Z_TREES:id,Z_OK:Po,Z_STREAM_END:c8,Z_NEED_DICT:h8,Z_STREAM_ERROR:Di,Z_DATA_ERROR:e3,Z_MEM_ERROR:t3,Z_BUF_ERROR:f8,Z_DEFLATED:Yw}=X5,qp=16180,Xw=16181,Zw=16182,Kw=16183,Qw=16184,Jw=16185,eE=16186,tE=16187,rE=16188,nE=16189,ep=16190,Fs=16191,Mm=16192,iE=16193,km=16194,sE=16195,aE=16196,oE=16197,uE=16198,sd=16199,ad=16200,lE=16201,cE=16202,hE=16203,fE=16204,dE=16205,Pm=16206,pE=16207,gE=16208,Fr=16209,r3=16210,n3=16211,d8=852,p8=592,g8=15,m8=g8,mE=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function y8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const jo=i=>{if(!i)return 1;const t=i.state;return!t||t.strm!==i||t.mode<qp||t.mode>n3?1:0},i3=i=>{if(jo(i))return Di;const t=i.state;return i.total_in=i.total_out=t.total=0,i.msg="",t.wrap&&(i.adler=t.wrap&1),t.mode=qp,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(d8),t.distcode=t.distdyn=new Int32Array(p8),t.sane=1,t.back=-1,Po},s3=i=>{if(jo(i))return Di;const t=i.state;return t.wsize=0,t.whave=0,t.wnext=0,i3(i)},a3=(i,t)=>{let r;if(jo(i))return Di;const n=i.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Di:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,s3(i))},o3=(i,t)=>{if(!i)return Di;const r=new y8;i.state=r,r.strm=i,r.window=null,r.mode=qp;const n=a3(i,t);return n!==Po&&(i.state=null),n},v8=i=>o3(i,m8);let yE=!0,Lm,Im;const b8=i=>{if(yE){Lm=new Int32Array(512),Im=new Int32Array(32);let t=0;for(;t<144;)i.lens[t++]=8;for(;t<256;)i.lens[t++]=9;for(;t<280;)i.lens[t++]=7;for(;t<288;)i.lens[t++]=8;for(Hc(Q5,i.lens,0,288,Lm,0,i.work,{bits:9}),t=0;t<32;)i.lens[t++]=5;Hc(J5,i.lens,0,32,Im,0,i.work,{bits:5}),yE=!1}i.lencode=Lm,i.lenbits=9,i.distcode=Im,i.distbits=5},u3=(i,t,r,n)=>{let s;const a=i.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>n&&(s=n),a.window.set(t.subarray(r-n,r-n+s),a.wnext),n-=s,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0},x8=(i,t)=>{let r,n,s,a,o,l,d,p,g,y,x,S,_,w,A=0,P,D,R,F,T,U,k,B;const L=new Uint8Array(4);let V,H;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(jo(i)||!i.output||!i.input&&i.avail_in!==0)return Di;r=i.state,r.mode===Fs&&(r.mode=Mm),o=i.next_out,s=i.output,d=i.avail_out,a=i.next_in,n=i.input,l=i.avail_in,p=r.hold,g=r.bits,y=l,x=d,B=Po;e:for(;;)switch(r.mode){case qp:if(r.wrap===0){r.mode=Mm;break}for(;g<16;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}if(r.wrap&2&&p===35615){r.wbits===0&&(r.wbits=15),r.check=0,L[0]=p&255,L[1]=p>>>8&255,r.check=Qi(r.check,L,2,0),p=0,g=0,r.mode=Xw;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((p&255)<<8)+(p>>8))%31){i.msg="incorrect header check",r.mode=Fr;break}if((p&15)!==Yw){i.msg="unknown compression method",r.mode=Fr;break}if(p>>>=4,g-=4,k=(p&15)+8,r.wbits===0&&(r.wbits=k),k>15||k>r.wbits){i.msg="invalid window size",r.mode=Fr;break}r.dmax=1<<r.wbits,r.flags=0,i.adler=r.check=1,r.mode=p&512?nE:Fs,p=0,g=0;break;case Xw:for(;g<16;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}if(r.flags=p,(r.flags&255)!==Yw){i.msg="unknown compression method",r.mode=Fr;break}if(r.flags&57344){i.msg="unknown header flags set",r.mode=Fr;break}r.head&&(r.head.text=p>>8&1),r.flags&512&&r.wrap&4&&(L[0]=p&255,L[1]=p>>>8&255,r.check=Qi(r.check,L,2,0)),p=0,g=0,r.mode=Zw;case Zw:for(;g<32;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}r.head&&(r.head.time=p),r.flags&512&&r.wrap&4&&(L[0]=p&255,L[1]=p>>>8&255,L[2]=p>>>16&255,L[3]=p>>>24&255,r.check=Qi(r.check,L,4,0)),p=0,g=0,r.mode=Kw;case Kw:for(;g<16;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}r.head&&(r.head.xflags=p&255,r.head.os=p>>8),r.flags&512&&r.wrap&4&&(L[0]=p&255,L[1]=p>>>8&255,r.check=Qi(r.check,L,2,0)),p=0,g=0,r.mode=Qw;case Qw:if(r.flags&1024){for(;g<16;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}r.length=p,r.head&&(r.head.extra_len=p),r.flags&512&&r.wrap&4&&(L[0]=p&255,L[1]=p>>>8&255,r.check=Qi(r.check,L,2,0)),p=0,g=0}else r.head&&(r.head.extra=null);r.mode=Jw;case Jw:if(r.flags&1024&&(S=r.length,S>l&&(S=l),S&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+S),k)),r.flags&512&&r.wrap&4&&(r.check=Qi(r.check,n,S,a)),l-=S,a+=S,r.length-=S),r.length))break e;r.length=0,r.mode=eE;case eE:if(r.flags&2048){if(l===0)break e;S=0;do k=n[a+S++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&S<l);if(r.flags&512&&r.wrap&4&&(r.check=Qi(r.check,n,S,a)),l-=S,a+=S,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=tE;case tE:if(r.flags&4096){if(l===0)break e;S=0;do k=n[a+S++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&S<l);if(r.flags&512&&r.wrap&4&&(r.check=Qi(r.check,n,S,a)),l-=S,a+=S,k)break e}else r.head&&(r.head.comment=null);r.mode=rE;case rE:if(r.flags&512){for(;g<16;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}if(r.wrap&4&&p!==(r.check&65535)){i.msg="header crc mismatch",r.mode=Fr;break}p=0,g=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),i.adler=r.check=0,r.mode=Fs;break;case nE:for(;g<32;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}i.adler=r.check=mE(p),p=0,g=0,r.mode=ep;case ep:if(r.havedict===0)return i.next_out=o,i.avail_out=d,i.next_in=a,i.avail_in=l,r.hold=p,r.bits=g,h8;i.adler=r.check=1,r.mode=Fs;case Fs:if(t===l8||t===id)break e;case Mm:if(r.last){p>>>=g&7,g-=g&7,r.mode=Pm;break}for(;g<3;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}switch(r.last=p&1,p>>>=1,g-=1,p&3){case 0:r.mode=iE;break;case 1:if(b8(r),r.mode=sd,t===id){p>>>=2,g-=2;break e}break;case 2:r.mode=aE;break;case 3:i.msg="invalid block type",r.mode=Fr}p>>>=2,g-=2;break;case iE:for(p>>>=g&7,g-=g&7;g<32;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}if((p&65535)!==(p>>>16^65535)){i.msg="invalid stored block lengths",r.mode=Fr;break}if(r.length=p&65535,p=0,g=0,r.mode=km,t===id)break e;case km:r.mode=sE;case sE:if(S=r.length,S){if(S>l&&(S=l),S>d&&(S=d),S===0)break e;s.set(n.subarray(a,a+S),o),l-=S,a+=S,d-=S,o+=S,r.length-=S;break}r.mode=Fs;break;case aE:for(;g<14;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}if(r.nlen=(p&31)+257,p>>>=5,g-=5,r.ndist=(p&31)+1,p>>>=5,g-=5,r.ncode=(p&15)+4,p>>>=4,g-=4,r.nlen>286||r.ndist>30){i.msg="too many length or distance symbols",r.mode=Fr;break}r.have=0,r.mode=oE;case oE:for(;r.have<r.ncode;){for(;g<3;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}r.lens[z[r.have++]]=p&7,p>>>=3,g-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,V={bits:r.lenbits},B=Hc(u8,r.lens,0,19,r.lencode,0,r.work,V),r.lenbits=V.bits,B){i.msg="invalid code lengths set",r.mode=Fr;break}r.have=0,r.mode=uE;case uE:for(;r.have<r.nlen+r.ndist;){for(;A=r.lencode[p&(1<<r.lenbits)-1],P=A>>>24,D=A>>>16&255,R=A&65535,!(P<=g);){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}if(R<16)p>>>=P,g-=P,r.lens[r.have++]=R;else{if(R===16){for(H=P+2;g<H;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}if(p>>>=P,g-=P,r.have===0){i.msg="invalid bit length repeat",r.mode=Fr;break}k=r.lens[r.have-1],S=3+(p&3),p>>>=2,g-=2}else if(R===17){for(H=P+3;g<H;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}p>>>=P,g-=P,k=0,S=3+(p&7),p>>>=3,g-=3}else{for(H=P+7;g<H;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}p>>>=P,g-=P,k=0,S=11+(p&127),p>>>=7,g-=7}if(r.have+S>r.nlen+r.ndist){i.msg="invalid bit length repeat",r.mode=Fr;break}for(;S--;)r.lens[r.have++]=k}}if(r.mode===Fr)break;if(r.lens[256]===0){i.msg="invalid code -- missing end-of-block",r.mode=Fr;break}if(r.lenbits=9,V={bits:r.lenbits},B=Hc(Q5,r.lens,0,r.nlen,r.lencode,0,r.work,V),r.lenbits=V.bits,B){i.msg="invalid literal/lengths set",r.mode=Fr;break}if(r.distbits=6,r.distcode=r.distdyn,V={bits:r.distbits},B=Hc(J5,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,V),r.distbits=V.bits,B){i.msg="invalid distances set",r.mode=Fr;break}if(r.mode=sd,t===id)break e;case sd:r.mode=ad;case ad:if(l>=6&&d>=258){i.next_out=o,i.avail_out=d,i.next_in=a,i.avail_in=l,r.hold=p,r.bits=g,r8(i,x),o=i.next_out,s=i.output,d=i.avail_out,a=i.next_in,n=i.input,l=i.avail_in,p=r.hold,g=r.bits,r.mode===Fs&&(r.back=-1);break}for(r.back=0;A=r.lencode[p&(1<<r.lenbits)-1],P=A>>>24,D=A>>>16&255,R=A&65535,!(P<=g);){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}if(D&&(D&240)===0){for(F=P,T=D,U=R;A=r.lencode[U+((p&(1<<F+T)-1)>>F)],P=A>>>24,D=A>>>16&255,R=A&65535,!(F+P<=g);){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}p>>>=F,g-=F,r.back+=F}if(p>>>=P,g-=P,r.back+=P,r.length=R,D===0){r.mode=dE;break}if(D&32){r.back=-1,r.mode=Fs;break}if(D&64){i.msg="invalid literal/length code",r.mode=Fr;break}r.extra=D&15,r.mode=lE;case lE:if(r.extra){for(H=r.extra;g<H;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}r.length+=p&(1<<r.extra)-1,p>>>=r.extra,g-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=cE;case cE:for(;A=r.distcode[p&(1<<r.distbits)-1],P=A>>>24,D=A>>>16&255,R=A&65535,!(P<=g);){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}if((D&240)===0){for(F=P,T=D,U=R;A=r.distcode[U+((p&(1<<F+T)-1)>>F)],P=A>>>24,D=A>>>16&255,R=A&65535,!(F+P<=g);){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}p>>>=F,g-=F,r.back+=F}if(p>>>=P,g-=P,r.back+=P,D&64){i.msg="invalid distance code",r.mode=Fr;break}r.offset=R,r.extra=D&15,r.mode=hE;case hE:if(r.extra){for(H=r.extra;g<H;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}r.offset+=p&(1<<r.extra)-1,p>>>=r.extra,g-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){i.msg="invalid distance too far back",r.mode=Fr;break}r.mode=fE;case fE:if(d===0)break e;if(S=x-d,r.offset>S){if(S=r.offset-S,S>r.whave&&r.sane){i.msg="invalid distance too far back",r.mode=Fr;break}S>r.wnext?(S-=r.wnext,_=r.wsize-S):_=r.wnext-S,S>r.length&&(S=r.length),w=r.window}else w=s,_=o-r.offset,S=r.length;S>d&&(S=d),d-=S,r.length-=S;do s[o++]=w[_++];while(--S);r.length===0&&(r.mode=ad);break;case dE:if(d===0)break e;s[o++]=r.length,d--,r.mode=ad;break;case Pm:if(r.wrap){for(;g<32;){if(l===0)break e;l--,p|=n[a++]<<g,g+=8}if(x-=d,i.total_out+=x,r.total+=x,r.wrap&4&&x&&(i.adler=r.check=r.flags?Qi(r.check,s,x,o-x):nv(r.check,s,x,o-x)),x=d,r.wrap&4&&(r.flags?p:mE(p))!==r.check){i.msg="incorrect data check",r.mode=Fr;break}p=0,g=0}r.mode=pE;case pE:if(r.wrap&&r.flags){for(;g<32;){if(l===0)break e;l--,p+=n[a++]<<g,g+=8}if(r.wrap&4&&p!==(r.total&4294967295)){i.msg="incorrect length check",r.mode=Fr;break}p=0,g=0}r.mode=gE;case gE:B=c8;break e;case Fr:B=e3;break e;case r3:return t3;case n3:default:return Di}return i.next_out=o,i.avail_out=d,i.next_in=a,i.avail_in=l,r.hold=p,r.bits=g,(r.wsize||x!==i.avail_out&&r.mode<Fr&&(r.mode<Pm||t!==Ww))&&u3(i,i.output,i.next_out,x-i.avail_out),y-=i.avail_in,x-=i.avail_out,i.total_in+=y,i.total_out+=x,r.total+=x,r.wrap&4&&x&&(i.adler=r.check=r.flags?Qi(r.check,s,x,i.next_out-x):nv(r.check,s,x,i.next_out-x)),i.data_type=r.bits+(r.last?64:0)+(r.mode===Fs?128:0)+(r.mode===sd||r.mode===km?256:0),(y===0&&x===0||t===Ww)&&B===Po&&(B=f8),B},_8=i=>{if(jo(i))return Di;let t=i.state;return t.window&&(t.window=null),i.state=null,Po},S8=(i,t)=>{if(jo(i))return Di;const r=i.state;return(r.wrap&2)===0?Di:(r.head=t,t.done=!1,Po)},w8=(i,t)=>{const r=t.length;let n,s,a;return jo(i)||(n=i.state,n.wrap!==0&&n.mode!==ep)?Di:n.mode===ep&&(s=1,s=nv(s,t,r,0),s!==n.check)?e3:(a=u3(i,t,r,r),a?(n.mode=r3,t3):(n.havedict=1,Po))};var E8=s3,C8=a3,A8=i3,D8=v8,T8=o3,N8=x8,O8=_8,F8=S8,R8=w8,M8="pako inflate (from Nodeca project)",Ms={inflateReset:E8,inflateReset2:C8,inflateResetKeep:A8,inflateInit:D8,inflateInit2:T8,inflate:N8,inflateEnd:O8,inflateGetHeader:F8,inflateSetDictionary:R8,inflateInfo:M8};function k8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var P8=k8;const l3=Object.prototype.toString,{Z_NO_FLUSH:L8,Z_FINISH:I8,Z_OK:bh,Z_STREAM_END:Bm,Z_NEED_DICT:Um,Z_STREAM_ERROR:B8,Z_DATA_ERROR:vE,Z_MEM_ERROR:U8}=X5;function $p(i){this.options=Z5.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(i&&i.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new e8,this.strm.avail_out=0;let r=Ms.inflateInit2(this.strm,t.windowBits);if(r!==bh)throw new Error(iv[r]);if(this.header=new P8,Ms.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=sv.string2buf(t.dictionary):l3.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ms.inflateSetDictionary(this.strm,t.dictionary),r!==bh)))throw new Error(iv[r])}$p.prototype.push=function(i,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?I8:L8,l3.call(i)==="[object ArrayBuffer]"?r.input=new Uint8Array(i):r.input=i,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Ms.inflate(r,o),a===Um&&s&&(a=Ms.inflateSetDictionary(r,s),a===bh?a=Ms.inflate(r,o):a===vE&&(a=Um));r.avail_in>0&&a===Bm&&r.state.wrap>0&&i[r.next_in]!==0;)Ms.inflateReset(r),a=Ms.inflate(r,o);switch(a){case B8:case vE:case Um:case U8:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===Bm))if(this.options.to==="string"){let d=sv.utf8border(r.output,r.next_out),p=r.next_out-d,g=sv.buf2string(r.output,d);r.next_out=p,r.avail_out=n-p,p&&r.output.set(r.output.subarray(d,d+p),0),this.onData(g)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===bh&&l===0)){if(a===Bm)return a=Ms.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};$p.prototype.onData=function(i){this.chunks.push(i)};$p.prototype.onEnd=function(i){i===bh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Z5.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function V8(i,t){const r=new $p(t);if(r.push(i),r.err)throw r.msg||iv[r.err];return r.result}var j8=V8,z8={inflate:j8};const{inflate:G8}=z8;var H8=G8;const c3={inflate:H8};var qe={};qe.parse=function(i){var t=qe.B,r=function(F,T,U,k){var B=qe.T,L={cmap:B.cmap,head:B.head,hhea:B.hhea,maxp:B.maxp,hmtx:B.hmtx,name:B.name,"OS/2":B.OS2,post:B.post,loca:B.loca,kern:B.kern,glyf:B.glyf,"CFF ":B.CFF,GSUB:B.GSUB,CBLC:B.CBLC,CBDT:B.CBDT,"SVG ":B.SVG,COLR:B.colr,CPAL:B.cpal,sbix:B.sbix,fvar:B.fvar,gvar:B.gvar,avar:B.avar,HVAR:B.HVAR},V={_data:F,_index:T,_offset:U};for(var H in L){var z=qe.findTable(F,H,U);if(z){var G=z[0],K=k[G];K==null&&(K=L[H].parseTab(F,G,z[1],V)),V[H]=k[G]=K}}return V};function n(F){var T=t.readUshort(F,12),U=t.readUint(F,16),k=new Uint8Array(U),B=12+T*16;t.writeASCII(k,0,"OTTO"),t.writeUshort(k,4,T);for(var L=44,V=0;V<T;V++){var H=t.readASCII(F,L,4),z=t.readUint(F,L+4),G=t.readUint(F,L+8),K=t.readUint(F,L+12);L+=20;var le=F.slice(z,z+G);G!=K&&(le=c3.inflate(le));var ne=12+V*16;t.writeASCII(k,ne,H),t.writeUint(k,ne+8,B),t.writeUint(k,ne+12,K),k.set(le,B),B+=K}return k}var s=new Uint8Array(i);let a;s[0]==119&&(a=s,s=n(s));var o={},l=t.readASCII(s,0,4);if(l=="ttcf"){var d=4;t.readUshort(s,d),d+=2,t.readUshort(s,d),d+=2;var p=t.readUint(s,d);d+=4;for(var g=[],y=0;y<p;y++){var x=t.readUint(s,d);d+=4,g.push(r(s,y,x,o))}return g}var S=r(s,0,0,o);S._compressedData=a;var _=S.fvar;if(_){for(var w=[S],y=0;y<_[1].length;y++){var A=_[1][y],P={};w.push(P);for(var D in S)P[D]=S[D];P._index=y;var R=P.name=JSON.parse(JSON.stringify(P.name));R.fontSubfamily=A[0],A[3]==null&&(A[3]=(R.fontFamily+"-"+R.fontSubfamily).replaceAll(" ","")),R.postScriptName=A[3]}return w}return[S]};qe.findTable=function(i,t,r){for(var n=qe.B,s=n.readUshort(i,r+4),a=r+12,o=0;o<s;o++){var l=n.readASCII(i,a,4);n.readUint(i,a+4);var d=n.readUint(i,a+8),p=n.readUint(i,a+12);if(l==t)return[d,p];a+=16}return null};qe.T={};qe.B={readFixed:function(i,t){return(i[t]<<8|i[t+1])+(i[t+2]<<8|i[t+3])/(256*256+4)},readF2dot14:function(i,t){var r=qe.B.readShort(i,t);return r/16384},readInt:function(i,t){var r=qe.B.t.uint8;return r[0]=i[t+3],r[1]=i[t+2],r[2]=i[t+1],r[3]=i[t],qe.B.t.int32[0]},readInt8:function(i,t){var r=qe.B.t.uint8;return r[0]=i[t],qe.B.t.int8[0]},readShort:function(i,t){var r=qe.B.t.uint16;return r[0]=i[t]<<8|i[t+1],qe.B.t.int16[0]},readUshort:function(i,t){return i[t]<<8|i[t+1]},writeUshort:function(i,t,r){i[t]=r>>8&255,i[t+1]=r&255},readUshorts:function(i,t,r){for(var n=[],s=0;s<r;s++){var a=qe.B.readUshort(i,t+s*2);n.push(a)}return n},readUint:function(i,t){var r=qe.B.t.uint8;return r[3]=i[t],r[2]=i[t+1],r[1]=i[t+2],r[0]=i[t+3],qe.B.t.uint32[0]},writeUint:function(i,t,r){i[t]=r>>24&255,i[t+1]=r>>16&255,i[t+2]=r>>8&255,i[t+3]=r>>0&255},readUint64:function(i,t){return qe.B.readUint(i,t)*4294967296+qe.B.readUint(i,t+4)},readASCII:function(i,t,r){for(var n="",s=0;s<r;s++)n+=String.fromCharCode(i[t+s]);return n},writeASCII:function(i,t,r){for(var n=0;n<r.length;n++)i[t+n]=r.charCodeAt(n)},readUnicode:function(i,t,r){for(var n="",s=0;s<r;s++){var a=i[t++]<<8|i[t++];n+=String.fromCharCode(a)}return n},_tdec:window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,t,r){var n=qe.B._tdec;return n&&t==0&&r==i.length?n.decode(i):qe.B.readASCII(i,t,r)},readBytes:function(i,t,r){for(var n=[],s=0;s<r;s++)n.push(i[t+s]);return n},readASCIIArray:function(i,t,r){for(var n=[],s=0;s<r;s++)n.push(String.fromCharCode(i[t+s]));return n},t:function(){var i=new ArrayBuffer(8);return{buff:i,int8:new Int8Array(i),uint8:new Uint8Array(i),int16:new Int16Array(i),uint16:new Uint16Array(i),int32:new Int32Array(i),uint32:new Uint32Array(i)}}()};qe.T.CFF={parseTab:function(i,t,r){var n=qe.B,s=qe.T.CFF;i=new Uint8Array(i.buffer,t,r),t=0,i[t],t++,i[t],t++,i[t],t++,i[t],t++;var a=[];t=s.readIndex(i,t,a);for(var o=[],l=0;l<a.length-1;l++)o.push(n.readASCII(i,t+a[l],a[l+1]-a[l]));t+=a[a.length-1];var d=[];t=s.readIndex(i,t,d);for(var p=[],l=0;l<d.length-1;l++)p.push(s.readDict(i,t+d[l],t+d[l+1]));t+=d[d.length-1];var g=p[0],y=[];t=s.readIndex(i,t,y);for(var x=[],l=0;l<y.length-1;l++)x.push(n.readASCII(i,t+y[l],y[l+1]-y[l]));if(t+=y[y.length-1],s.readSubrs(i,t,g),g.CharStrings&&(g.CharStrings=s.readBytes(i,g.CharStrings)),g.ROS){t=g.FDArray;var S=[];t=s.readIndex(i,t,S),g.FDArray=[];for(var l=0;l<S.length-1;l++){var _=s.readDict(i,t+S[l],t+S[l+1]);s._readFDict(i,_,x),g.FDArray.push(_)}t+=S[S.length-1],t=g.FDSelect,g.FDSelect=[];var w=i[t];if(t++,w==3){var A=n.readUshort(i,t);t+=2;for(var l=0;l<A+1;l++)g.FDSelect.push(n.readUshort(i,t),i[t+2]),t+=3}else throw w}return g.charset&&(g.charset=s.readCharset(i,g.charset,g.CharStrings.length)),s._readFDict(i,g,x),g},_readFDict:function(i,t,r){var n=qe.T.CFF,s;t.Private&&(s=t.Private[1],t.Private=n.readDict(i,s,s+t.Private[0]),t.Private.Subrs&&n.readSubrs(i,s+t.Private.Subrs,t.Private));for(var a in t)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)!=-1&&(t[a]=r[t[a]-426+35])},readSubrs:function(i,t,r){r.Subrs=qe.T.CFF.readBytes(i,t);var n,s=r.Subrs.length+1;s<1240?n=107:s<33900?n=1131:n=32768,r.Bias=n},readBytes:function(i,t){qe.B;var r=[];t=qe.T.CFF.readIndex(i,t,r);for(var n=[],s=r.length-1,a=i.byteOffset+t,o=0;o<s;o++){var l=r[o];n.push(new Uint8Array(i.buffer,a+l,r[o+1]-l))}return n},tableSE:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],glyphByUnicode:function(i,t){for(var r=0;r<i.charset.length;r++)if(i.charset[r]==t)return r;return-1},glyphBySE:function(i,t){return t<0||t>255?-1:qe.T.CFF.glyphByUnicode(i,qe.T.CFF.tableSE[t])},readCharset:function(i,t,r){var n=qe.B,s=[".notdef"],a=i[t];if(t++,a==0)for(var o=0;o<r;o++){var l=n.readUshort(i,t);t+=2,s.push(l)}else if(a==1||a==2)for(;s.length<r;){var l=n.readUshort(i,t);t+=2;var d=0;a==1?(d=i[t],t++):(d=n.readUshort(i,t),t+=2);for(var o=0;o<=d;o++)s.push(l),l++}else throw"error: format: "+a;return s},readIndex:function(i,t,r){var n=qe.B,s=n.readUshort(i,t)+1;t+=2;var a=i[t];if(t++,a==1)for(var o=0;o<s;o++)r.push(i[t+o]);else if(a==2)for(var o=0;o<s;o++)r.push(n.readUshort(i,t+o*2));else if(a==3)for(var o=0;o<s;o++)r.push(n.readUint(i,t+o*3-1)&16777215);else if(a==4)for(var o=0;o<s;o++)r.push(n.readUint(i,t+o*4));else if(s!=1)throw"unsupported offset size: "+a+", count: "+s;return t+=s*a,t-1},getCharString:function(i,t,r){var n=qe.B,s=i[t],a=i[t+1];i[t+2],i[t+3],i[t+4];var o=1,l=null,d=null;s<=20&&(l=s,o=1),s==12&&(l=s*100+a,o=2),21<=s&&s<=27&&(l=s,o=1),s==28&&(d=n.readShort(i,t+1),o=3),29<=s&&s<=31&&(l=s,o=1),32<=s&&s<=246&&(d=s-139,o=1),247<=s&&s<=250&&(d=(s-247)*256+a+108,o=2),251<=s&&s<=254&&(d=-(s-251)*256-a-108,o=2),s==255&&(d=n.readInt(i,t+1)/65535,o=5),r.val=d??"o"+l,r.size=o},readCharString:function(i,t,r){for(var n=t+r,s=qe.B,a=[];t<n;){var o=i[t],l=i[t+1];i[t+2],i[t+3],i[t+4];var d=1,p=null,g=null;o<=20&&(p=o,d=1),o==12&&(p=o*100+l,d=2),(o==19||o==20)&&(p=o,d=2),21<=o&&o<=27&&(p=o,d=1),o==28&&(g=s.readShort(i,t+1),d=3),29<=o&&o<=31&&(p=o,d=1),32<=o&&o<=246&&(g=o-139,d=1),247<=o&&o<=250&&(g=(o-247)*256+l+108,d=2),251<=o&&o<=254&&(g=-(o-251)*256-l-108,d=2),o==255&&(g=s.readInt(i,t+1)/65535,d=5),a.push(g??"o"+p),t+=d}return a},readDict:function(i,t,r){for(var n=qe.B,s={},a=[];t<r;){var o=i[t],l=i[t+1];i[t+2],i[t+3],i[t+4];var d=1,p=null,g=null;if(o==28&&(g=n.readShort(i,t+1),d=3),o==29&&(g=n.readInt(i,t+1),d=5),32<=o&&o<=246&&(g=o-139,d=1),247<=o&&o<=250&&(g=(o-247)*256+l+108,d=2),251<=o&&o<=254&&(g=-(o-251)*256-l-108,d=2),o==255)throw g=n.readInt(i,t+1)/65535,d=5,"unknown number";if(o==30){var y=[];for(d=1;;){var x=i[t+d];d++;var S=x>>4,_=x&15;if(S!=15&&y.push(S),_!=15&&y.push(_),_==15)break}for(var w="",A=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],P=0;P<y.length;P++)w+=A[y[P]];g=parseFloat(w)}if(o<=21){var D=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"];if(p=D[o],d=1,o==12){var D=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold","","","LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend","","","","","","","ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"];p=D[l],d=2}}p!=null?(s[p]=a.length==1?a[0]:a,a=[]):a.push(g),t+=d}return s}};qe.T.cmap={parseTab:function(i,t,r){var n={tables:[],ids:{},off:t};i=new Uint8Array(i.buffer,t,r),t=0;var s=qe.B,a=s.readUshort,o=qe.T.cmap;a(i,t),t+=2;var l=a(i,t);t+=2;for(var d=[],p=0;p<l;p++){var g=a(i,t);t+=2;var y=a(i,t);t+=2;var x=s.readUint(i,t);t+=4;var S="p"+g+"e"+y,_=d.indexOf(x);if(_==-1){_=n.tables.length;var w={};d.push(x);var A=w.format=a(i,x);A==0?w=o.parse0(i,x,w):A==4?w=o.parse4(i,x,w):A==6?w=o.parse6(i,x,w):A==12&&(w=o.parse12(i,x,w)),n.tables.push(w)}n.ids[S]!=null&&console.log("multiple tables for one platform+encoding: "+S),n.ids[S]=_}return n},parse0:function(i,t,r){var n=qe.B;t+=2;var s=n.readUshort(i,t);t+=2,n.readUshort(i,t),t+=2,r.map=[];for(var a=0;a<s-6;a++)r.map.push(i[t+a]);return r},parse4:function(i,t,r){var n=qe.B,s=n.readUshort,a=n.readUshorts,o=t;t+=2;var l=s(i,t);t+=2,s(i,t),t+=2;var d=s(i,t);t+=2;var p=d>>>1;r.searchRange=s(i,t),t+=2,r.entrySelector=s(i,t),t+=2,r.rangeShift=s(i,t),t+=2,r.endCount=a(i,t,p),t+=p*2,t+=2,r.startCount=a(i,t,p),t+=p*2,r.idDelta=[];for(var g=0;g<p;g++)r.idDelta.push(n.readShort(i,t)),t+=2;return r.idRangeOffset=a(i,t,p),t+=p*2,r.glyphIdArray=a(i,t,o+l-t>>1),r},parse6:function(i,t,r){var n=qe.B;t+=2,n.readUshort(i,t),t+=2,n.readUshort(i,t),t+=2,r.firstCode=n.readUshort(i,t),t+=2;var s=n.readUshort(i,t);t+=2,r.glyphIdArray=[];for(var a=0;a<s;a++)r.glyphIdArray.push(n.readUshort(i,t)),t+=2;return r},parse12:function(i,t,r){var n=qe.B,s=n.readUint;t+=4,s(i,t),t+=4,s(i,t),t+=4;var a=s(i,t)*3;t+=4;for(var o=r.groups=new Uint32Array(a),l=0;l<a;l+=3)o[l]=s(i,t+(l<<2)),o[l+1]=s(i,t+(l<<2)+4),o[l+2]=s(i,t+(l<<2)+8);return r}};qe.T.CBLC={parseTab:function(i,t,r){var n=qe.B,s=t;n.readUshort(i,t),t+=2,n.readUshort(i,t),t+=2;var a=n.readUint(i,t);t+=4;for(var o=[],l=0;l<a;l++){var d=n.readUint(i,t);t+=4,n.readUint(i,t),t+=4,n.readUint(i,t),t+=4,t+=4,t+=2*12,n.readUshort(i,t),t+=2,n.readUshort(i,t),t+=2,t+=4;for(var p=s+d,g=0;g<3;g++){var y=n.readUshort(i,p);p+=2;var x=n.readUshort(i,p);p+=2;var S=n.readUint(i,p);p+=4;var _=x-y+1,w=s+d+S,A=n.readUshort(i,w);if(w+=2,A!=1)throw A;var P=n.readUshort(i,w);w+=2;var D=n.readUint(i,w);w+=4;for(var R=[],F=0;F<_;F++){var T=n.readUint(i,w+F*4);R.push(D+T)}o.push([y,x,P,R])}}return o}};qe.T.CBDT={parseTab:function(i,t,r){return qe.B,new Uint8Array(i.buffer,i.byteOffset+t,r)}};qe.T.glyf={parseTab:function(i,t,r,n){for(var s=[],a=n.maxp.numGlyphs,o=0;o<a;o++)s.push(null);return s},_parseGlyf:function(i,t){var r=qe.B,n=i._data,s=i.loca;if(s[t]==s[t+1])return null;var a=qe.findTable(n,"glyf",i._offset)[0]+s[t],o={};if(o.noc=r.readShort(n,a),a+=2,o.xMin=r.readShort(n,a),a+=2,o.yMin=r.readShort(n,a),a+=2,o.xMax=r.readShort(n,a),a+=2,o.yMax=r.readShort(n,a),a+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var l=0;l<o.noc;l++)o.endPts.push(r.readUshort(n,a)),a+=2;var d=r.readUshort(n,a);if(a+=2,n.length-a<d)return null;o.instructions=r.readBytes(n,a,d),a+=d;var p=o.endPts[o.noc-1]+1;o.flags=[];for(var l=0;l<p;l++){var g=n[a];if(a++,o.flags.push(g),(g&8)!=0){var y=n[a];a++;for(var x=0;x<y;x++)o.flags.push(g),l++}}o.xs=[];for(var l=0;l<p;l++){var S=(o.flags[l]&2)!=0,_=(o.flags[l]&16)!=0;S?(o.xs.push(_?n[a]:-n[a]),a++):_?o.xs.push(0):(o.xs.push(r.readShort(n,a)),a+=2)}o.ys=[];for(var l=0;l<p;l++){var S=(o.flags[l]&4)!=0,_=(o.flags[l]&32)!=0;S?(o.ys.push(_?n[a]:-n[a]),a++):_?o.ys.push(0):(o.ys.push(r.readShort(n,a)),a+=2)}for(var w=0,A=0,l=0;l<p;l++)w+=o.xs[l],A+=o.ys[l],o.xs[l]=w,o.ys[l]=A}else{var P=1,D=2,R=8,F=32,T=64,U=128,k=256;o.parts=[];var B;do{B=r.readUshort(n,a),a+=2;var L={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(L),L.glyphIndex=r.readUshort(n,a),a+=2,B&P){var V=r.readShort(n,a);a+=2;var H=r.readShort(n,a);a+=2}else{var V=r.readInt8(n,a);a++;var H=r.readInt8(n,a);a++}B&D?(L.m.tx=V,L.m.ty=H):(L.p1=V,L.p2=H),B&R?(L.m.a=L.m.d=r.readF2dot14(n,a),a+=2):B&T?(L.m.a=r.readF2dot14(n,a),a+=2,L.m.d=r.readF2dot14(n,a),a+=2):B&U&&(L.m.a=r.readF2dot14(n,a),a+=2,L.m.b=r.readF2dot14(n,a),a+=2,L.m.c=r.readF2dot14(n,a),a+=2,L.m.d=r.readF2dot14(n,a),a+=2)}while(B&F);if(B&k){var z=r.readUshort(n,a);a+=2,o.instr=[];for(var l=0;l<z;l++)o.instr.push(n[a]),a++}}return o}};qe.T.head={parseTab:function(i,t,r){var n=qe.B,s={};return n.readFixed(i,t),t+=4,s.fontRevision=n.readFixed(i,t),t+=4,n.readUint(i,t),t+=4,n.readUint(i,t),t+=4,s.flags=n.readUshort(i,t),t+=2,s.unitsPerEm=n.readUshort(i,t),t+=2,s.created=n.readUint64(i,t),t+=8,s.modified=n.readUint64(i,t),t+=8,s.xMin=n.readShort(i,t),t+=2,s.yMin=n.readShort(i,t),t+=2,s.xMax=n.readShort(i,t),t+=2,s.yMax=n.readShort(i,t),t+=2,s.macStyle=n.readUshort(i,t),t+=2,s.lowestRecPPEM=n.readUshort(i,t),t+=2,s.fontDirectionHint=n.readShort(i,t),t+=2,s.indexToLocFormat=n.readShort(i,t),t+=2,s.glyphDataFormat=n.readShort(i,t),t+=2,s}};qe.T.hhea={parseTab:function(i,t,r){var n=qe.B,s={};n.readFixed(i,t),t+=4;for(var a=["ascender","descender","lineGap","advanceWidthMax","minLeftSideBearing","minRightSideBearing","xMaxExtent","caretSlopeRise","caretSlopeRun","caretOffset","res0","res1","res2","res3","metricDataFormat","numberOfHMetrics"],o=0;o<a.length;o++){var l=a[o],d=l=="advanceWidthMax"||l=="numberOfHMetrics"?n.readUshort:n.readShort;s[l]=d(i,t+o*2)}return s}};qe.T.hmtx={parseTab:function(i,t,r,n){for(var s=qe.B,a=[],o=[],l=n.maxp.numGlyphs,d=n.hhea.numberOfHMetrics,p=0,g=0,y=0;y<d;)p=s.readUshort(i,t+(y<<2)),g=s.readShort(i,t+(y<<2)+2),a.push(p),o.push(g),y++;for(;y<l;)a.push(p),o.push(g),y++;return{aWidth:a,lsBearing:o}}};qe.T.kern={parseTab:function(i,t,r,n){var s=qe.B,a=qe.T.kern,o=s.readUshort(i,t);if(o==1)return a.parseV1(i,t,r,n);var l=s.readUshort(i,t+2);t+=4;for(var d={glyph1:[],rval:[]},p=0;p<l;p++){t+=2;var r=s.readUshort(i,t);t+=2;var g=s.readUshort(i,t);t+=2;var y=g>>>8;y&=15,y==0&&(t=a.readFormat0(i,t,d))}return d},parseV1:function(i,t,r,n){var s=qe.B,a=qe.T.kern;s.readFixed(i,t);var o=s.readUint(i,t+4);t+=8;for(var l={glyph1:[],rval:[]},d=0;d<o;d++){s.readUint(i,t),t+=4;var p=s.readUshort(i,t);t+=2,s.readUshort(i,t),t+=2;var g=p&255;g==0&&(t=a.readFormat0(i,t,l))}return l},readFormat0:function(i,t,r){var n=qe.B,s=n.readUshort,a=-1,o=s(i,t);s(i,t+2),s(i,t+4),s(i,t+6),t+=8;for(var l=0;l<o;l++){var d=s(i,t);t+=2;var p=s(i,t);t+=2;var g=n.readShort(i,t);t+=2,d!=a&&(r.glyph1.push(d),r.rval.push({glyph2:[],vals:[]}));var y=r.rval[r.rval.length-1];y.glyph2.push(p),y.vals.push(g),a=d}return t}};qe.T.loca={parseTab:function(i,t,r,n){var s=qe.B,a=[],o=n.head.indexToLocFormat,l=n.maxp.numGlyphs+1;if(o==0)for(var d=0;d<l;d++)a.push(s.readUshort(i,t+(d<<1))<<1);if(o==1)for(var d=0;d<l;d++)a.push(s.readUint(i,t+(d<<2)));return a}};qe.T.maxp={parseTab:function(i,t,r){var n=qe.B,s=n.readUshort,a={};return n.readUint(i,t),t+=4,a.numGlyphs=s(i,t),t+=2,a}};qe.T.name={parseTab:function(i,t,r){var n=qe.B,s={};n.readUshort(i,t),t+=2;var a=n.readUshort(i,t);t+=2;var o=n.readUshort(i,t);t+=2;for(var l=t-6+o,d=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],p=n.readUshort,g=0;g<a;g++){var y=p(i,t);t+=2;var x=p(i,t);t+=2;var S=p(i,t);t+=2;var _=p(i,t);t+=2;var w=p(i,t);t+=2;var A=p(i,t);t+=2;var P=l+A,D;y==0||y==3&&x==0||y==1&&x==25?D=n.readUnicode(i,P,w/2):x==0?D=n.readASCII(i,P,w):x==1||x==3||x==4||x==5||x==10?D=n.readUnicode(i,P,w/2):y==1?(D=n.readASCII(i,P,w),console.log("reading unknown MAC encoding "+x+" as ASCII")):(console.log("unknown encoding "+x+", platformID: "+y),D=n.readASCII(i,P,w));var R="p"+y+","+S.toString(16);s[R]==null&&(s[R]={});var F=d[_];F==null&&(F="_"+_),s[R][F]=D,s[R]._lang=S}var T=qe.T.name.selectOne(s),U="fontFamily";if(T[U]==null)for(var k in s)s[k][U]!=null&&(T[U]=s[k][U]);return T},selectOne:function(i){var t="postScriptName";for(var r in i)if(i[r][t]!=null&&i[r]._lang==1033)return i[r];for(var r in i)if(i[r][t]!=null&&i[r]._lang==0)return i[r];for(var r in i)if(i[r][t]!=null&&i[r]._lang==3084)return i[r];for(var r in i)if(i[r][t]!=null)return i[r];var n;for(var r in i){n=i[r];break}return console.log("returning name table with languageID "+n._lang),n[t]==null&&n.ID!=null&&(n[t]=n.ID),n}};qe.T.OS2={parseTab:function(i,t,r){var n=qe.B,s=n.readUshort(i,t);t+=2;var a=qe.T.OS2,o={};if(s==0)a.version0(i,t,o);else if(s==1)a.version1(i,t,o);else if(s==2||s==3||s==4)a.version2(i,t,o);else if(s==5)a.version5(i,t,o);else throw"unknown OS/2 table version: "+s;return o},version0:function(i,t,r){var n=qe.B;return r.xAvgCharWidth=n.readShort(i,t),t+=2,r.usWeightClass=n.readUshort(i,t),t+=2,r.usWidthClass=n.readUshort(i,t),t+=2,r.fsType=n.readUshort(i,t),t+=2,r.ySubscriptXSize=n.readShort(i,t),t+=2,r.ySubscriptYSize=n.readShort(i,t),t+=2,r.ySubscriptXOffset=n.readShort(i,t),t+=2,r.ySubscriptYOffset=n.readShort(i,t),t+=2,r.ySuperscriptXSize=n.readShort(i,t),t+=2,r.ySuperscriptYSize=n.readShort(i,t),t+=2,r.ySuperscriptXOffset=n.readShort(i,t),t+=2,r.ySuperscriptYOffset=n.readShort(i,t),t+=2,r.yStrikeoutSize=n.readShort(i,t),t+=2,r.yStrikeoutPosition=n.readShort(i,t),t+=2,r.sFamilyClass=n.readShort(i,t),t+=2,r.panose=n.readBytes(i,t,10),t+=10,r.ulUnicodeRange1=n.readUint(i,t),t+=4,r.ulUnicodeRange2=n.readUint(i,t),t+=4,r.ulUnicodeRange3=n.readUint(i,t),t+=4,r.ulUnicodeRange4=n.readUint(i,t),t+=4,r.achVendID=n.readASCII(i,t,4),t+=4,r.fsSelection=n.readUshort(i,t),t+=2,r.usFirstCharIndex=n.readUshort(i,t),t+=2,r.usLastCharIndex=n.readUshort(i,t),t+=2,r.sTypoAscender=n.readShort(i,t),t+=2,r.sTypoDescender=n.readShort(i,t),t+=2,r.sTypoLineGap=n.readShort(i,t),t+=2,r.usWinAscent=n.readUshort(i,t),t+=2,r.usWinDescent=n.readUshort(i,t),t+=2,t},version1:function(i,t,r){var n=qe.B;return t=qe.T.OS2.version0(i,t,r),r.ulCodePageRange1=n.readUint(i,t),t+=4,r.ulCodePageRange2=n.readUint(i,t),t+=4,t},version2:function(i,t,r){var n=qe.B,s=n.readUshort;return t=qe.T.OS2.version1(i,t,r),r.sxHeight=n.readShort(i,t),t+=2,r.sCapHeight=n.readShort(i,t),t+=2,r.usDefault=s(i,t),t+=2,r.usBreak=s(i,t),t+=2,r.usMaxContext=s(i,t),t+=2,t},version5:function(i,t,r){var n=qe.B.readUshort;return t=qe.T.OS2.version2(i,t,r),r.usLowerOpticalPointSize=n(i,t),t+=2,r.usUpperOpticalPointSize=n(i,t),t+=2,t}};qe.T.post={parseTab:function(i,t,r){var n=qe.B,s={};return s.version=n.readFixed(i,t),t+=4,s.italicAngle=n.readFixed(i,t),t+=4,s.underlinePosition=n.readShort(i,t),t+=2,s.underlineThickness=n.readShort(i,t),t+=2,s}};qe.T.SVG={parseTab:function(i,t,r){var n=qe.B,s={entries:[],svgs:[]},a=t;n.readUshort(i,t),t+=2;var o=n.readUint(i,t);t+=4,n.readUint(i,t),t+=4,t=o+a;var l=n.readUshort(i,t);t+=2;for(var d=0;d<l;d++){var p=n.readUshort(i,t);t+=2;var g=n.readUshort(i,t);t+=2;var y=n.readUint(i,t);t+=4;var x=n.readUint(i,t);t+=4;var S=new Uint8Array(i.buffer,a+y+o,x);S[0]==31&&S[1]==139&&S[2]==8&&(S=c3.inflate(S));for(var _=n.readUTF8(S,0,S.length),w=p;w<=g;w++)s.entries[w]=s.svgs.length;s.svgs.push(_)}return s}};qe.T.sbix={parseTab:function(i,t,r,n){for(var s=n.maxp.numGlyphs,a=t,o=qe.B,l=o.readUint(i,t+4),d=[],p=l-1;p<l;p++)for(var g=a+o.readUint(i,t+8+p*4),y=0;y<s;y++){var x=o.readUint(i,g+4+y*4),S=o.readUint(i,g+4+y*4+4);if(x==S){d[y]=null;continue}var _=g+x,w=o.readASCII(i,_+4,4);if(w!="png ")throw w;d[y]=new Uint8Array(i.buffer,i.byteOffset+_+8,S-x-8)}return d}};qe.T.colr={parseTab:function(i,t,r){var n=qe.B,s=t;t+=2;var a=n.readUshort(i,t);t+=2;var o=n.readUint(i,t);t+=4;var l=n.readUint(i,t);t+=4;var d=n.readUshort(i,t);t+=2;for(var p={},g=s+o,y=0;y<a;y++)p["g"+n.readUshort(i,g)]=[n.readUshort(i,g+2),n.readUshort(i,g+4)],g+=6;var x=[];g=s+l;for(var y=0;y<d;y++)x.push(n.readUshort(i,g),n.readUshort(i,g+2)),g+=4;return[p,x]}};qe.T.cpal={parseTab:function(i,t,r){var n=qe.B,s=t,a=n.readUshort(i,t);if(t+=2,a==0){n.readUshort(i,t),t+=2,n.readUshort(i,t),t+=2;var o=n.readUshort(i,t);t+=2;var l=n.readUint(i,t);return t+=4,new Uint8Array(i.buffer,s+l,o*4)}else throw a}};qe.T.GSUB={parseTab:function(i,t,r,n){var s=qe.B,a=s.readUshort;s.readUint;var o=t;a(i,o),o+=2,a(i,o),o+=2,a(i,o),o+=2;var l=a(i,o);o+=2,a(i,o),o+=2,o=t+l;var d={},p=a(i,o);o+=2;for(var g=0;g<p;g++){var y=s.readASCII(i,o,4);o+=4,a(i,o),o+=2,d[y]=!0}return d}};qe.T.fvar={parseTab:function(i,t,r,n){var s=n.name,a=t,o=qe.B,l=[],d=[];a+=8;var p=o.readUshort(i,a);a+=2,a+=2;var g=o.readUshort(i,a);a+=2;var y=o.readUshort(i,a);a+=2;for(var x=0;x<p;x++){var S=o.readASCII(i,a,4),_=o.readFixed(i,a+4),w=o.readFixed(i,a+8),A=o.readFixed(i,a+12),P=o.readUshort(i,a+16),D=o.readUshort(i,a+18);l.push([S,_,w,A,P,s["_"+D]]),a+=20}for(var x=0;x<g;x++){for(var R=o.readUshort(i,a),F=null,P=o.readUshort(i,a+2),T=[],U=0;U<p;U++)T.push(o.readFixed(i,a+4+U*4));a+=4+p*4,(y&3)==2&&(F=o.readUshort(i,a),a+=2),d.push([s["_"+R],P,T,F])}return[l,d]}};qe.T.gvar=function(){var i=32768,t=16384,r=8192,n=128,s=64,a=128,o=32768,l=qe.B;function d(x,S,_){for(var w=[],A=0;A<_;A++)w.push(l.readF2dot14(x,S+A*2));return w}function p(x,S,_,w,A){for(var P=[],D=0;D<_;D++){var R=l.readUshort(x,S);S+=2;var F=l.readUshort(x,S),T=F&61440;F=F&4095,S+=2;var U=null,k=null,B=null;T&i&&(U=d(x,S,w),S+=w*2),T&t&&(k=d(x,S,w),S+=w*2),T&t&&(B=d(x,S,w),S+=w*2),P.push([R,F,T,k,U,B])}return P}function g(x,S,_){var w=x[S];if(S++,w==0)return[[],S];127<w&&(w=(w&127)<<8|x[S++]);for(var A=[],P=0;A.length<w;){var D=x[S];S++;var R=(D&a)!=0;D=(D&127)+1;for(var F=0;F<D;F++){var T=0;R?(T=l.readUshort(x,S),S+=2):(T=x[S],S++),P+=T,A.push(P)}}return[A,S]}function y(x,S,_,w){var A=S+4,P=l.readUshort(x,A);A+=2;var D=l.readUshort(x,A);A+=2;var R=l.readUint(x,A);A+=4;var F=l.readUshort(x,A);A+=2,l.readUshort(x,A),A+=2;var T=l.readUint(x,A);A+=4;for(var U=[],k=0;k<F+1;k++)U.push(l.readUint(x,A+k*4));var B=[],L=[],V=[];A=S+R;for(var k=0;k<D;k++){var H=d(x,A+k*P*2,P),z=[],G=[];B.push(H),L.push(z),V.push(G);for(var K=0;K<P;K++)z[K]=Math.min(H[K],0),G[K]=Math.max(H[K],0)}for(var le=new Int8Array(x.buffer),ne=[],k=0;k<F;k++){A=S+T+U[k];var de=l.readUshort(x,A);A+=2;var ve=de&o;de&=4095;var xe=l.readUshort(x,A);A+=2;var Q=p(x,A,de,P),oe=[];ne.push(oe),A=S+T+U[k]+xe;var ae=null;if(ve){var ge=g(x,A);ae=ge[0],A=ge[1]}for(var me=0;me<de;me++){var Ae=Q[me],Ce=A+Ae[0],$e=ae;if(Ae[2]&r){var ge=g(x,A);$e=ge[0],A=ge[1]}for(var Ye=[];A<Ce;){var Le=x[A++],Re=(Le&63)+1;if(Le&n)for(var K=0;K<Re;K++)Ye.push(0);else if(Le&s){for(var K=0;K<Re;K++)Ye.push(l.readShort(x,A+K*2));A+=Re*2}else{for(var K=0;K<Re;K++)Ye.push(le[A+K]);A+=Re}}var Ne=Ae[1];if(oe.push([[Ae[3]?Ae[3]:L[Ne],Ae[4]?Ae[4]:B[Ne],Ae[5]?Ae[5]:V[Ne]],Ye,$e.length==0?null:$e]),$e.length!=0&&$e.length*2!=Ye.length)throw"e"}}return ne}return{parseTab:y}}();qe.T.avar={parseTab:function(i,t,r,n){var s=t,a=qe.B,o=[];s+=6;var l=a.readUshort(i,s);s+=2;for(var d=0;d<l;d++){var p=a.readUshort(i,s);s+=2;var g=[];o.push(g);for(var y=0;y<p;y++){var x=a.readF2dot14(i,s),S=a.readF2dot14(i,s+2);s+=4,g.push(x,S)}}return o}};qe.T.HVAR={parseTab:function(i,t,r,n){var s=t,a=t,o=qe.B;s+=4;var l=o.readUint(i,s);s+=4;var d=o.readUint(i,s);s+=4;var p=o.readUint(i,s);s+=4;var g=o.readUint(i,s);if(s+=4,p!=0||g!=0)throw p;s=a+l;var y=s,le=o.readUshort(i,s);if(s+=2,le!=1)throw"e";var x=o.readUint(i,s);s+=4;var S=o.readUshort(i,s);s+=2;for(var _=[],w=0;w<S;w++)_.push(o.readUint(i,s+w*4));s+=S*4,s=y+x;var A=o.readUshort(i,s);s+=2;var P=o.readUshort(i,s);s+=2;for(var D=[],w=0;w<P;w++){var R=[[],[],[]];D.push(R);for(var F=0;F<A;F++)R[0].push(o.readF2dot14(i,s+0)),R[1].push(o.readF2dot14(i,s+2)),R[2].push(o.readF2dot14(i,s+4)),s+=6}for(var T=new Int8Array(i.buffer),U=[],w=0;w<_.length;w++){s=a+l+_[w];var k=[];U.push(k);var B=o.readUshort(i,s);s+=2;var L=o.readUshort(i,s);if(s+=2,L&32768)throw"e";var P=o.readUshort(i,s);s+=2;for(var V=[],F=0;F<P;F++)V.push(o.readUshort(i,s+F*2));s+=P*2;for(var H=0;H<B;H++){for(var z=[],G=0;G<P;G++)z.push(G<L?o.readShort(i,s):T[s]),s+=G<L?2:1;var K=new Array(D.length);K.fill(0),k.push(K);for(var F=0;F<V.length;F++)K[V[F]]=z[F]}}s=a+d;var le=i[s++];if(le!=0)throw"e";var ne=i[s++],de=o.readUshort(i,s);s+=2;for(var ve=15,xe=48,Q=((ne&xe)>>4)+1,oe=[],w=0;w<de;w++){var ae=0;Q==1?ae=i[s++]:(ae=o.readUshort(i,s),s+=2);var ge=ae>>(ne&ve)+1,me=ae&(1<<(ne&ve)+1)-1;oe.push(U[ge][me])}return[D,oe]}};qe.U=function(){var i={MoveTo:function(B,L,V){B.cmds.push("M"),B.crds.push(L,V)},LineTo:function(B,L,V){B.cmds.push("L"),B.crds.push(L,V)},CurveTo:function(B,L,V,H,z,G,K){B.cmds.push("C"),B.crds.push(L,V,H,z,G,K)},qCurveTo:function(B,L,V,H,z){B.cmds.push("Q"),B.crds.push(L,V,H,z)},ClosePath:function(B){B.cmds.push("Z")}};function t(B,L,V,H){var z=L[V],G=L[V+1],K=B.kern;if(K){var le=K.glyph1.indexOf(z);if(le!=-1){var ne=K.rval[le].glyph2.indexOf(G);if(ne!=-1)return[0,0,K.rval[le].vals[ne],0]}}return[0,0,0,0]}function r(B,L,V){V==null&&(V={}),V.ltr,V.fts;var H=V.axs;B.fvar&&H==null&&(H=B.fvar[1][B._index][2]);var z=B.HVAR;H&&z&&(H=x(B,H));for(var G=[],K=0;K<L.length;K++){var le=L.codePointAt(K);le>65535&&K++,G.push(d(B,le))}for(var ne=[],K=0;K<G.length;K++){var de=t(B,G,K),ve=G[K],xe=B.hmtx.aWidth[ve]+de[2];if(z&&z[1][ve])for(var Q=z[1][ve],oe=0;oe<z[0].length;oe++)xe+=y(z[0][oe],H)*Q[oe];ne.push({g:ve,cl:K,dx:0,dy:0,ax:xe,ay:0})}return ne}function n(B,L,V){var H={cmds:[],crds:[]},z=0,G=0,K,le;V&&(K=V.clr,le=V.axs);for(var ne=0;ne<L.length;ne++){for(var de=L[ne],ve=p(B,de.g,!1,le),xe=ve.crds,Q=0;Q<xe.length;Q+=2)H.crds.push(xe[Q]+z+de.dx),H.crds.push(xe[Q+1]+G+de.dy);K&&H.cmds.push(K);for(var Q=0;Q<ve.cmds.length;Q++)H.cmds.push(ve.cmds[Q]);var oe=H.cmds.length;K&&oe!=0&&H.cmds[oe-1]!="X"&&H.cmds.push("X"),z+=de.ax,G+=de.ay}return{cmds:H.cmds,crds:H.crds}}function s(B,L,V){for(var H=0,z=~~(B.length/L);H+1!=z;){var G=H+(z-H>>>1);B[G*L]<=V?H=G:z=G}return H*L}for(var a=[9,10,11,12,13,32,133,160,5760,6158,8232,8233,8239,8288,12288,65279],o={},l=0;l<a.length;l++)o[a[l]]=1;for(var l=8192;l<=8205;l++)o[l]=1;function d(B,L){if(B._ctab==null){for(var V=B.cmap,H=-1,z=["p3e10","p0e4","p3e1","p1e0","p0e3","p0e1","p3e0","p3e5"],G=0;G<z.length;G++)if(V.ids[z[G]]!=null){H=V.ids[z[G]];break}if(H==-1)throw"no familiar platform and encoding!";B._ctab=V.tables[H]}var K=B._ctab,le=K.format,ne=-1;if(le==0)L>=K.map.length?ne=0:ne=K.map[L];else if(le==4){var de=K.endCount;if(ne=0,L<=de[de.length-1]){var ve=s(de,1,L);if(de[ve]<L&&ve++,L>=K.startCount[ve]){var xe=0;K.idRangeOffset[ve]!=0?xe=K.glyphIdArray[L-K.startCount[ve]+(K.idRangeOffset[ve]>>1)-(K.idRangeOffset.length-ve)]:xe=L+K.idDelta[ve],ne=xe&65535}}}else if(le==6){var Q=L-K.firstCode,oe=K.glyphIdArray;Q<0||Q>=oe.length?ne=0:ne=oe[Q]}else if(le==12){var ae=K.groups;if(ne=0,L<=ae[ae.length-2]){var G=s(ae,3,L);ae[G]<=L&&L<=ae[G+1]&&(ne=ae[G+2]+(L-ae[G]))}}else throw"unknown cmap table format "+K.format;var ge=B["SVG "],me=B.loca;return ne!=0&&B["CFF "]==null&&(ge==null||ge.entries[ne]==null)&&me&&me[ne]==me[ne+1]&&o[L]==null&&(ne=0),ne}function p(B,L,V,H){var z={cmds:[],crds:[]};B.fvar&&(H==null&&(H=B.fvar[1][B._index][2]),H=x(B,H));var G=B["SVG "],K=B["CFF "],le=B.COLR,ne=B.CBLC,de=B.CBDT,ve=B.sbix,xe=window.UPNG,Q=null;if(ne&&xe)for(var oe=0;oe<ne.length;oe++)ne[oe][0]<=L&&L<=ne[oe][1]&&(Q=ne[oe]);if(Q||ve&&ve[L]){if(Q&&Q[2]!=17)throw"not a PNG";B.__tmp==null&&(B.__tmp={});var ae=B.__tmp["g"+L];if(ae==null){var ge,me;if(ve)ge=ve[L],me=ge.length;else{var Ae=Q[3][L-Q[0]]+5;me=de[Ae+1]<<16|de[Ae+2]<<8|de[Ae+3],Ae+=4,ge=new Uint8Array(de.buffer,de.byteOffset+Ae,me)}for(var Ce="",oe=0;oe<me;oe++)Ce+=String.fromCharCode(ge[oe]);ae=B.__tmp["g"+L]="data:image/png;base64,"+btoa(Ce)}z.cmds.push(ae);var $e=B.head.unitsPerEm*1.15,Ye=Math.round($e),Le=Math.round($e),Re=Math.round(-Le*.15);z.crds.push(0,Le+Re,Ye,Le+Re,Ye,Re,0,Re)}else if(G&&G.entries[L]){var Ne=G.entries[L];if(Ne!=null){if(typeof Ne=="number"){var Ge=G.svgs[Ne];if(typeof Ge=="string"){var Xe=new DOMParser,Be=Xe.parseFromString(Ge,"image/svg+xml");Ge=G.svgs[Ne]=Be.getElementsByTagName("svg")[0]}Ne=qe.U.SVG.toPath(Ge,L),G.entries[L]=Ne}z=Ne}}else if(V!=!0&&le&&le[0]["g"+L]&&le[0]["g"+L][1]>1){let st=function(Mt){var et=Mt.toString(16);return(et.length==1?"0":"")+et};for(var se=B.CPAL,te=le[0]["g"+L],oe=0;oe<te[1];oe++){var ce=te[0]+oe,_e=le[1][2*ce],Me=le[1][2*ce+1]*4,Te=p(B,_e,_e==L),rt="#"+st(se[Me+2])+st(se[Me+1])+st(se[Me+0]);z.cmds.push(rt),z.cmds=z.cmds.concat(Te.cmds),z.crds=z.crds.concat(Te.crds),z.cmds.push("X")}}else if(K){var tt=K.Private,ct={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:tt?tt.defaultWidthX:0,open:!1};if(K.ROS){for(var wt=0;K.FDSelect[wt+2]<=L;)wt+=2;tt=K.FDArray[K.FDSelect[wt+1]].Private}U(K.CharStrings[L],ct,K,tt,z)}else B.glyf&&g(L,B,z,H);return{cmds:z.cmds,crds:z.crds}}function g(B,L,V,H){var z=L.glyf[B];z==null&&(z=L.glyf[B]=qe.T.glyf._parseGlyf(L,B)),z!=null&&(z.noc>-1?_(z,L,B,V,H):w(z,L,B,V,H))}function y(B,L){L.length;for(var V=1,H=B[0],z=B[1],G=B[2],K=0;K<L.length;K++){var le=1;H[K]>z[K]||z[K]>G[K]||H[K]<0&&G[K]>0&&z[K]!=0||z[K]==0?le=1:L[K]<H[K]||L[K]>G[K]?le=0:L[K]==z[K]?le=1:L[K]<z[K]?le=(L[K]-H[K])/(z[K]-H[K]):le=(G[K]-L[K])/(G[K]-z[K]),V=V*le}return V}function x(B,L){for(var V=B.fvar,H=B.avar,z=V?V[0]:null,G=[],K=0;K<z.length;K++){var le=z[K][1],ne=z[K][2],de=z[K][3],ve=Math.max(le,Math.min(de,L[K]));if(ve<ne?G[K]=(ne-ve)/(le-ne):ve>ne?G[K]=(ve-ne)/(de-ne):G[K]=0,H&&G[K]!=-1){for(var xe=H[K],Q=0;Q<xe.length&&!(xe[Q]>=G[K]);Q+=2);var oe=(G[K]-xe[Q-2])/(xe[Q]-xe[Q-2]);G[K]=oe*xe[Q+1]+(1-oe)*xe[Q-1]}}return G}function S(B,L,V,H,z){var G=V.length,K=new Array(G*2+8);K.fill(0);for(var le=0;le<G;le++){var ne=0,de=0,ve=L.indexOf(le);if(ve!=-1)ne=B[ve],de=B[L.length+ve];else{for(var xe=0;z[xe]<le;)xe++;for(var Q=xe==0?0:z[xe-1]+1,oe=z[xe],ae=-1,ge=-1,me=0;me<L.length;me++){var Ae=L[me];Ae<Q||Ae>oe||Ae>=G||(ae=me,ge==-1&&(ge=me))}for(var me=0;me<L.length;me++){var Ae=L[me];if(!(Ae<Q||Ae>oe||Ae>=G)&&(Ae<le&&(ae=me),le<Ae)){ge=me;break}}for(var Ce=0;Ce<2;Ce++){var $e=Ce==0?V:H,Ye=Ce*L.length,Le=0,Re=$e[L[ae]],Ne=$e[L[ge]],Ge=$e[le],Xe=B[Ye+ae],Be=B[Ye+ge];if(Re==Ne)Xe==Be?Le=Xe:Le=0;else if(Ge<=Math.min(Re,Ne))Re<Ne?Le=Xe:Le=Be;else if(Math.max(Re,Ne)<=Ge)Re<Ne?Le=Be:Le=Xe;else{var se=(Ge-Re)/(Ne-Re);Le=se*Be+(1-se)*Xe}Ce==0?ne=Le:de=Le}}K[le]=ne,K[G+4+le]=de}return K}function _(B,L,V,H,z){var G=B.xs,K=B.ys;if(L.fvar&&z){G=G.slice(0),K=K.slice(0);for(var le=L.gvar,ne=le?le[V]:null,de=0;de<ne.length;de++){var ve=ne[de][0],xe=y(ve,z);if(!(xe<1e-9)){var Q=ne[de][1],oe=ne[de][2];if(oe&&(Q=ne[de][1]=S(Q,oe,G,K,B.endPts),ne[de][2]=null),Q.length==G.length*2+8)for(var ae=0;ae<G.length;ae++)G[ae]+=xe*Q[ae],K[ae]+=xe*Q[ae+G.length+4]}}}for(var ge=0;ge<B.noc;ge++){for(var me=ge==0?0:B.endPts[ge-1]+1,Ae=B.endPts[ge],ae=me;ae<=Ae;ae++){var Ce=ae==me?Ae:ae-1,$e=ae==Ae?me:ae+1,Ye=B.flags[ae]&1,Le=B.flags[Ce]&1,Re=B.flags[$e]&1,Ne=G[ae],Ge=K[ae];if(ae==me)if(Ye)if(Le)i.MoveTo(H,G[Ce],K[Ce]);else{i.MoveTo(H,Ne,Ge);continue}else Le?i.MoveTo(H,G[Ce],K[Ce]):i.MoveTo(H,Math.floor((G[Ce]+Ne)*.5),Math.floor((K[Ce]+Ge)*.5));Ye?Le&&i.LineTo(H,Ne,Ge):Re?i.qCurveTo(H,Ne,Ge,G[$e],K[$e]):i.qCurveTo(H,Ne,Ge,Math.floor((Ne+G[$e])*.5),Math.floor((Ge+K[$e])*.5))}i.ClosePath(H)}}function w(B,L,V,H,z){var G=[0,0,0,0,0,0],K=[0,0,0,0,0,0],le=B.parts.length;if(L.fvar&&z)for(var ne=L.gvar,de=ne?ne[V]:null,ve=0;ve<de.length;ve++){var xe=de[ve][0],Q=y(xe,z);if(!(Q<1e-6)){var oe=de[ve][1],ae=de[ve][2];if(ae==null)for(var ge=0;ge<le;ge++)G[ge]+=Q*oe[ge],K[ge]+=Q*oe[ge+le+4];else for(var me=0;me<ae.length;me++){var ge=ae[me];G[ge]+=Q*oe[0],K[ge]+=Q*oe[0+le]}}}for(var me=0;me<le;me++){var Ae={cmds:[],crds:[]},Ce=B.parts[me];g(Ce.glyphIndex,L,Ae,z);for(var $e=Ce.m,Ye=$e.tx+G[me],Le=$e.ty+K[me],ge=0;ge<Ae.crds.length;ge+=2){var Re=Ae.crds[ge],Ne=Ae.crds[ge+1];H.crds.push(Re*$e.a+Ne*$e.c+Ye),H.crds.push(Re*$e.b+Ne*$e.d+Le)}for(var ge=0;ge<Ae.cmds.length;ge++)H.cmds.push(Ae.cmds[ge])}}function A(B,L){var V=B.cmds,H=B.crds;L==null&&(L=5);function z(Xe){return parseFloat(Xe.toFixed(L))}function G(Xe){for(var Be=[],se=!1,te="",ce=0;ce<Xe.length;ce++){var _e=Xe[ce],Me=typeof _e=="number";if(!Me){if(_e==te&&_e.length==1&&_e!="m")continue;te=_e}se&&Me&&_e>=0&&Be.push(" "),Be.push(_e),se=Me}return Be.join("")}for(var K=[],le=0,ne={M:2,L:2,Q:4,C:6},de=0,ve=0,xe=0,Q=0,oe=0,ae=0,ge=0;ge<V.length;ge++){var me=V[ge],Ae=ne[me]?ne[me]:0,Ce=[],$e,Ye,Le,Re;if(me=="L")$e=H[le]-de,Ye=H[le+1]-ve,Le=z($e+xe),Re=z(Ye+Q),V[ge+1]=="Z"&&H[le]==oe&&H[le+1]==ae?(Le=$e,Re=Ye):Le==0&&Re==0||(Le==0?Ce.push("v",Re):Re==0?Ce.push("h",Le):Ce.push("l",Le,Re));else{Ce.push(me.toLowerCase());for(var Ne=0;Ne<Ae;Ne+=2)$e=H[le+Ne]-de,Ye=H[le+Ne+1]-ve,Le=z($e+xe),Re=z(Ye+Q),Ce.push(Le,Re)}Ae!=0&&(xe+=$e-Le,Q+=Ye-Re);for(var Ge=Ce,Ne=0;Ne<Ge.length;Ne++)K.push(Ge[Ne]);Ae!=0&&(le+=Ae,de=H[le-2],ve=H[le-1]),me=="M"&&(oe=de,ae=ve),me=="Z"&&(de=oe,ve=ae)}return G(K)}function P(B){var L={cmds:[],crds:[]};return qe.U.SVG.svgToPath(B,L),{cmds:L.cmds,crds:L.crds}}function D(B,L,V,H){for(var z=L>>1,G=V>>1,K=new Uint8Array(z*G*4),le=new Uint32Array(B.buffer),ne=new Uint32Array(K.buffer),de=0;de<G;de++)for(var ve=0;ve<z;ve++){var xe=de*z+ve,Q=(de<<1)*L+(ve<<1),oe=le[Q],ae=le[Q+1],ge=le[Q+L],me=le[Q+L+1],Ae=oe>>>24,Ce=ae>>>24,$e=ge>>>24,Ye=me>>>24,Le=Ae+Ce+$e+Ye;if(Le==1020){var Re=(oe>>>0&255)+(ae>>>0&255)+(ge>>>0&255)+(me>>>0&255)+2>>>2,Ne=(oe>>>8&255)+(ae>>>8&255)+(ge>>>8&255)+(me>>>8&255)+2>>>2,Ge=(oe>>>16&255)+(ae>>>16&255)+(ge>>>16&255)+(me>>>16&255)+2>>>2;ne[xe]=255<<24|Ge<<16|Ne<<8|Re}else if(Le==0)ne[xe]=0;else{var Re=(oe>>>0&255)*Ae+(ae>>>0&255)*Ce+(ge>>>0&255)*$e+(me>>>0&255)*Ye,Ne=(oe>>>8&255)*Ae+(ae>>>8&255)*Ce+(ge>>>8&255)*$e+(me>>>8&255)*Ye,Ge=(oe>>>16&255)*Ae+(ae>>>16&255)*Ce+(ge>>>16&255)*$e+(me>>>16&255)*Ye,Xe=1/Le;Re=~~(Re*Xe+.5),Ne=~~(Ne*Xe+.5),Ge=~~(Ge*Xe+.5),ne[xe]=Le+2>>>2<<24|Ge<<16|Ne<<8|Re}}return{buff:K,w:z,h:G}}var R,F;function T(B,L){for(var V=0,H=B.cmds,z=B.crds,G=0;G<H.length;G++){var K=H[G];if(K=="M")L.moveTo(z[V],z[V+1]),V+=2;else if(K=="L")L.lineTo(z[V],z[V+1]),V+=2;else if(K=="C")L.bezierCurveTo(z[V],z[V+1],z[V+2],z[V+3],z[V+4],z[V+5]),V+=6;else if(K=="Q")L.quadraticCurveTo(z[V],z[V+1],z[V+2],z[V+3]),V+=4;else if(K[0]=="d"){var le=window.UPNG,ne=z[V],de=z[V+1],ve=z[V+2],xe=z[V+3],Q=z[V+4],oe=z[V+5],ae=z[V+6],ge=z[V+7];if(V+=8,le==null){L.moveTo(ne,de),L.lineTo(ve,xe),L.lineTo(Q,oe),L.lineTo(ae,ge),L.closePath();continue}for(var me=ve-ne,Ae=xe-de,Ce=ae-ne,$e=ge-de,Ye=atob(K.slice(22)),Le=new Uint8Array(Ye.length),Re=0;Re<Ye.length;Re++)Le[Re]=Ye.charCodeAt(Re);for(var Ne=le.decode(Le.buffer),Ge=Ne.width,Xe=Ne.height,Be=new Uint8Array(le.toRGBA8(Ne)[0]),se=L.getTransform(),te=Math.sqrt(Math.abs(se.a*se.d-se.b*se.c))*Math.sqrt(Ce*Ce+$e*$e)/Xe;te<.5;){var ce=D(Be,Ge,Xe);Be=ce.buff,Ge=ce.w,Xe=ce.h,te*=2}R==null&&(R=document.createElement("canvas"),F=R.getContext("2d")),(R.width!=Ge||R.height!=Xe)&&(R.width=Ge,R.height=Xe),F.putImageData(new ImageData(new Uint8ClampedArray(Be.buffer),Ge,Xe),0,0),L.save(),L.transform(me,Ae,Ce,$e,ne,de),L.scale(1/Ge,1/Xe),L.drawImage(R,0,0),L.restore()}else if(K.charAt(0)=="#"||K.charAt(0)=="r")L.beginPath(),L.fillStyle=K;else if(K.charAt(0)=="O"&&K!="OX"){L.beginPath();var _e=K.split("-");L.lineWidth=parseFloat(_e[2]),L.lineCap=["butt","round","square"][parseFloat(_e[3])],L.lineJoin=["miter","round","bevel"][parseFloat(_e[4])],L.miterLimit=parseFloat(_e[5]),L.lineDashOffset=parseFloat(_e[6]),L.setLineDash(_e[7].split(",").map(parseFloat)),L.strokeStyle=_e[1]}else K=="Z"?L.closePath():K=="X"?L.fill():K=="OX"&&L.stroke()}}function U(B,L,V,H,z){for(var G=L.stack,K=L.nStems,le=L.haveWidth,ne=L.width,de=L.open,ve=0,xe=L.x,Q=L.y,oe=0,ae=0,ge=0,me=0,Ae=0,Ce=0,$e=0,Ye=0,Le=0,Re=0,Ne=qe.T.CFF,Ge=H.nominalWidthX,Xe={val:0,size:0};ve<B.length;){Ne.getCharString(B,ve,Xe);var Be=Xe.val;if(ve+=Xe.size,Be=="o1"||Be=="o18"){var se;se=G.length%2!==0,se&&!le&&(ne=G.shift()+Ge),K+=G.length>>1,G.length=0,le=!0}else if(Be=="o3"||Be=="o23"){var se;se=G.length%2!==0,se&&!le&&(ne=G.shift()+Ge),K+=G.length>>1,G.length=0,le=!0}else if(Be=="o4")G.length>1&&!le&&(ne=G.shift()+Ge,le=!0),de&&i.ClosePath(z),Q+=G.pop(),i.MoveTo(z,xe,Q),de=!0;else if(Be=="o5")for(;G.length>0;)xe+=G.shift(),Q+=G.shift(),i.LineTo(z,xe,Q);else if(Be=="o6"||Be=="o7")for(var te=G.length,ce=Be=="o6",_e=0;_e<te;_e++){var Me=G.shift();ce?xe+=Me:Q+=Me,ce=!ce,i.LineTo(z,xe,Q)}else if(Be=="o8"||Be=="o24"){for(var te=G.length,Te=0;Te+6<=te;)oe=xe+G.shift(),ae=Q+G.shift(),ge=oe+G.shift(),me=ae+G.shift(),xe=ge+G.shift(),Q=me+G.shift(),i.CurveTo(z,oe,ae,ge,me,xe,Q),Te+=6;Be=="o24"&&(xe+=G.shift(),Q+=G.shift(),i.LineTo(z,xe,Q))}else{if(Be=="o11")break;if(Be=="o1234"||Be=="o1235"||Be=="o1236"||Be=="o1237")Be=="o1234"&&(oe=xe+G.shift(),ae=Q,ge=oe+G.shift(),me=ae+G.shift(),Le=ge+G.shift(),Re=me,Ae=Le+G.shift(),Ce=me,$e=Ae+G.shift(),Ye=Q,xe=$e+G.shift(),i.CurveTo(z,oe,ae,ge,me,Le,Re),i.CurveTo(z,Ae,Ce,$e,Ye,xe,Q)),Be=="o1235"&&(oe=xe+G.shift(),ae=Q+G.shift(),ge=oe+G.shift(),me=ae+G.shift(),Le=ge+G.shift(),Re=me+G.shift(),Ae=Le+G.shift(),Ce=Re+G.shift(),$e=Ae+G.shift(),Ye=Ce+G.shift(),xe=$e+G.shift(),Q=Ye+G.shift(),G.shift(),i.CurveTo(z,oe,ae,ge,me,Le,Re),i.CurveTo(z,Ae,Ce,$e,Ye,xe,Q)),Be=="o1236"&&(oe=xe+G.shift(),ae=Q+G.shift(),ge=oe+G.shift(),me=ae+G.shift(),Le=ge+G.shift(),Re=me,Ae=Le+G.shift(),Ce=me,$e=Ae+G.shift(),Ye=Ce+G.shift(),xe=$e+G.shift(),i.CurveTo(z,oe,ae,ge,me,Le,Re),i.CurveTo(z,Ae,Ce,$e,Ye,xe,Q)),Be=="o1237"&&(oe=xe+G.shift(),ae=Q+G.shift(),ge=oe+G.shift(),me=ae+G.shift(),Le=ge+G.shift(),Re=me+G.shift(),Ae=Le+G.shift(),Ce=Re+G.shift(),$e=Ae+G.shift(),Ye=Ce+G.shift(),Math.abs($e-xe)>Math.abs(Ye-Q)?xe=$e+G.shift():Q=Ye+G.shift(),i.CurveTo(z,oe,ae,ge,me,Le,Re),i.CurveTo(z,Ae,Ce,$e,Ye,xe,Q));else if(Be=="o14"){if(G.length>0&&G.length!=4&&!le&&(ne=G.shift()+V.nominalWidthX,le=!0),G.length==4){var rt=G.shift(),tt=G.shift(),ct=G.shift(),wt=G.shift(),st=Ne.glyphBySE(V,ct),Mt=Ne.glyphBySE(V,wt);U(V.CharStrings[st],L,V,H,z),L.x=rt,L.y=tt,U(V.CharStrings[Mt],L,V,H,z)}de&&(i.ClosePath(z),de=!1)}else if(Be=="o19"||Be=="o20"){var se;se=G.length%2!==0,se&&!le&&(ne=G.shift()+Ge),K+=G.length>>1,G.length=0,le=!0,ve+=K+7>>3}else if(Be=="o21")G.length>2&&!le&&(ne=G.shift()+Ge,le=!0),Q+=G.pop(),xe+=G.pop(),de&&i.ClosePath(z),i.MoveTo(z,xe,Q),de=!0;else if(Be=="o22")G.length>1&&!le&&(ne=G.shift()+Ge,le=!0),xe+=G.pop(),de&&i.ClosePath(z),i.MoveTo(z,xe,Q),de=!0;else if(Be=="o25"){for(;G.length>6;)xe+=G.shift(),Q+=G.shift(),i.LineTo(z,xe,Q);oe=xe+G.shift(),ae=Q+G.shift(),ge=oe+G.shift(),me=ae+G.shift(),xe=ge+G.shift(),Q=me+G.shift(),i.CurveTo(z,oe,ae,ge,me,xe,Q)}else if(Be=="o26")for(G.length%2&&(xe+=G.shift());G.length>0;)oe=xe,ae=Q+G.shift(),ge=oe+G.shift(),me=ae+G.shift(),xe=ge,Q=me+G.shift(),i.CurveTo(z,oe,ae,ge,me,xe,Q);else if(Be=="o27")for(G.length%2&&(Q+=G.shift());G.length>0;)oe=xe+G.shift(),ae=Q,ge=oe+G.shift(),me=ae+G.shift(),xe=ge+G.shift(),Q=me,i.CurveTo(z,oe,ae,ge,me,xe,Q);else if(Be=="o10"||Be=="o29"){var et=Be=="o10"?H:V;if(G.length==0)console.log("error: empty stack");else{var mt=G.pop(),pt=et.Subrs[mt+et.Bias];L.x=xe,L.y=Q,L.nStems=K,L.haveWidth=le,L.width=ne,L.open=de,U(pt,L,V,H,z),xe=L.x,Q=L.y,K=L.nStems,le=L.haveWidth,ne=L.width,de=L.open}}else if(Be=="o30"||Be=="o31"){var te,$r=G.length,Te=0,Wr=Be=="o31";for(te=$r&-3,Te+=$r-te;Te<te;)Wr?(oe=xe+G.shift(),ae=Q,ge=oe+G.shift(),me=ae+G.shift(),Q=me+G.shift(),te-Te==5?(xe=ge+G.shift(),Te++):xe=ge,Wr=!1):(oe=xe,ae=Q+G.shift(),ge=oe+G.shift(),me=ae+G.shift(),xe=ge+G.shift(),te-Te==5?(Q=me+G.shift(),Te++):Q=me,Wr=!0),i.CurveTo(z,oe,ae,ge,me,xe,Q),Te+=4}else{if((Be+"").charAt(0)=="o")throw console.log("Unknown operation: "+Be,B),Be;G.push(Be)}}}L.x=xe,L.y=Q,L.nStems=K,L.haveWidth=le,L.width=ne,L.open=de}function k(B,L){var V=function(H){var z=0;return(H&4294967168)==0?z=1:(H&4294965248)==0?z=2:(H&4294901760)==0?z=3:(H&4292870144)==0&&(z=4),z};fetch(B).then(function(H){return H.arrayBuffer()}).then(function(H){return WebAssembly.instantiate(H)}).then(function(H){console.log("HB ready");var z=H.instance.exports,G=z.memory,K,le,ne,de,ve,xe,Q,oe,ae;qe.U.shapeHB=function(){var ge=function(Ae){for(var Ce=z.hb_buffer_get_length(Ae),$e=[],Ye=z.hb_buffer_get_glyph_infos(Ae,0)>>>2,Le=z.hb_buffer_get_glyph_positions(Ae,0)>>>2,Re=0;Re<Ce;++Re){var Ne=Ye+Re*5,Ge=Le+Re*5;$e.push({g:le[Ne+0],cl:le[Ne+2],ax:ne[Ge+0],ay:ne[Ge+1],dx:ne[Ge+2],dy:ne[Ge+3]})}return $e},me;return function(Ae,Ce,$e){var Ye=Ae._data,Le=Ae.name.postScriptName,Re=$e.ltr,Ne=$e.fts,Ge=$e.axs;if(Ae.fvar&&Ge==null&&(Ge=Ae.fvar[1][Ae._index][2]),K=new Uint8Array(G.buffer),le=new Uint32Array(G.buffer),ne=new Int32Array(G.buffer),de=new Float32Array(G.buffer),ve!=Le&&(xe!=null&&(z.hb_blob_destroy(xe),z.free(Q),z.hb_face_destroy(oe),z.hb_font_destroy(ae)),Q=z.malloc(Ye.byteLength),K.set(Ye,Q),xe=z.hb_blob_create(Q,Ye.byteLength,2,0,0),oe=z.hb_face_create(xe,Ae._index),ae=z.hb_font_create(oe),ve=Le),window.TextEncoder==null){alert("Your browser is too old. Please, update it.");return}me==null&&(me=new window.TextEncoder("utf8"));var Xe=z.hb_buffer_create(),Be=me.encode(Ce),se=Be.length,te=z.malloc(se);K.set(Be,te),z.hb_buffer_add_utf8(Xe,te,se,0,se),z.free(te);var ce=qe.B,_e=0;if(Ne){_e=z.malloc(16*Ne.length);for(var Me=0;Me<Ne.length;Me++){var Te=Ne[Me],rt=_e+Me*16,tt=rt>>>2;ce.writeASCII(K,rt,Te[0].split("").reverse().join("")),le[tt+1]=Te[1],le[tt+2]=Te[2],le[tt+3]=Te[3]}}var ct=0;if(Ge&&Ae.fvar){var wt=Ae.fvar[0];ct=z.malloc(8*Ge.length);for(var Me=0;Me<Ge.length;Me++){var rt=ct+Me*8,tt=rt>>>2;ce.writeASCII(K,rt,wt[Me][0].split("").reverse().join("")),de[tt+1]=Ge[Me]}}Ge&&z.hb_font_set_variations(ae,ct,Ge.length),z.hb_buffer_set_direction(Xe,Re?4:5),z.hb_buffer_guess_segment_properties(Xe),z.hb_shape(ae,Xe,_e,Ne?Ne.length:0);var st=ge(Xe);z.hb_buffer_destroy(Xe),Ne&&z.free(_e),Ge&&z.free(ct);var Mt=st.slice(0);Re||Mt.reverse();for(var et=0,mt=0,Me=1;Me<Mt.length;Me++){for(var pt=Mt[Me],$r=pt.cl;;){var Wr=Ce.codePointAt(et),Qt=V(Wr);if(mt+Qt<=$r)mt+=Qt,et+=Wr<=65535?1:2;else break}pt.cl=et}return st}}(),L()})}return{shape:r,shapeToPath:n,codeToGlyph:d,glyphToPath:p,pathToSVG:A,SVGToPath:P,pathToContext:T,initHB:k}}();var Vm={exports:{}},bE;function q8(){return bE||(bE=1,function(i,t){(function(r,n){i.exports=n()})(self,()=>(()=>{var r={177:(s,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BezierPath=void 0;const l=o(558),d=o(188);a.BezierPath=class{constructor(p){this.samples=[],this.segments=p;const g=p.map(A=>A.getTotalLength()),y=[0];for(let A=1;A<g.length;A++)y.push(y[A-1]+g[A-1]);this._totalLength=y[y.length-1]+g[g.length-1];const x=p.map(A=>Math.max(4,Math.ceil(A.getTotalLength()/l.BezierSegment.sampleSpacing()))),S=x.reduce((A,P)=>A+P),_=1/S/10,w=this._totalLength/S;this.samples.push({dist:0,pt:this.segments[0].A,tan:this.segments[0].tangentAtParameter(0),segIdx:0,t:0}),p.forEach((A,P)=>{const D=x[P],R=(0,d.times)(D+1).map(k=>k/D),F=R.map(k=>A.pointAtParameter(k));let T;for(let k=0;k<4;k++){T=(0,d.times)(D).map(V=>Math.hypot(F[V+1].x-F[V].x,F[V+1].y-F[V].y));const B=T.map(V=>V-w);let L=0;for(let V=1;V<R.length-1;V++)L+=B[V-1],R[V]-=_*L,F[V]=A.pointAtParameter(R[V])}let U=0;F.slice(1).forEach((k,B)=>{U+=T[B],this.samples.push({dist:y[P]+U,pt:k,tan:this.segments[P].tangentAtParameter(R[B+1]),segIdx:P,t:R[B+1]})})}),this._jumps=[],this.segmentStartEnds=[{start:0,end:0}];for(let A=1;A<this.samples.length;A++){const P=this.samples[A-1],D=this.samples[A];if(D.segIdx===P.segIdx?this.segmentStartEnds[this.segmentStartEnds.length-1].end=D.dist:this.segmentStartEnds[D.segIdx]={start:D.dist,end:D.dist},P.segIdx!==D.segIdx&&(this.segments[P.segIdx].D.x!==this.segments[D.segIdx].A.x||this.segments[P.segIdx].D.y!==this.segments[D.segIdx].A.y)){const R=(P.dist+D.dist)/2,F={dist:R-1e-8,pt:this.segments[P.segIdx].D,tan:this.segments[P.segIdx].tangentAtParameter(1),segIdx:P.segIdx,t:1},T={dist:R+1e-8,pt:this.segments[D.segIdx].A,tan:this.segments[D.segIdx].tangentAtParameter(0),segIdx:D.segIdx,t:0};this._jumps.push(R),this.samples.splice(A,0,F,T),A+=2}}}jumps(){return[...this._jumps]}getTotalLength(){return this._totalLength}findClosestSampleIdx(p){let g=0,y=this.samples.length-1;for(;g<y;){const x=Math.floor((g+y)/2);if(this.samples[x].dist>p)y=x-1;else{if(!(this.samples[x].dist<p))return x;g=x+1}}return Math.max(0,Math.min(this.samples.length-1,Math.floor((g+y)/2)))}getPointAtLength(p,g=!1){if(p<=0)return this.samples[0].pt;if(p>=this._totalLength)return this.samples[this.samples.length-1].pt;const y=this.findClosestSampleIdx(p),x=this.samples[y].dist<p?Math.min(y+1,this.samples.length-1):Math.max(0,y-1),S=Math.abs(this.samples[x].dist-this.samples[y].dist)<1e-6?0:(p-this.samples[y].dist)/(this.samples[x].dist-this.samples[y].dist);if(g||this.samples[y].segIdx>this.samples[x].segIdx)return{x:(1-S)*this.samples[y].pt.x+S*this.samples[x].pt.x,y:(1-S)*this.samples[y].pt.y+S*this.samples[x].pt.y};if(this.samples[y].segIdx!==this.samples[x].segIdx){if(S<.5){const _=this.segments[this.samples[y].segIdx],w=2*S,A=(1-w)*this.samples[y].t+w;return _.pointAtParameter(A)}{const _=this.segments[this.samples[x].segIdx],w=2*(S-.5)*this.samples[x].t;return _.pointAtParameter(w)}}{const _=this.segments[this.samples[y].segIdx],w=(1-S)*this.samples[y].t+S*this.samples[x].t;return _.pointAtParameter(w)}}getAngleAtLength(p,g=!1){const y=this.getTangentAtLength(p,g);return Math.atan2(y.y,y.x)}getTangentAtLength(p,g=!1){if(p<=0)return this.samples[0].tan;if(p>=this._totalLength)return this.samples[this.samples.length-1].tan;const y=this.findClosestSampleIdx(p),x=this.samples[y].dist<p?Math.min(y+1,this.samples.length-1):Math.max(0,y-1),S=(p-this.samples[y].dist)/(this.samples[x].dist-this.samples[y].dist);if(g||this.samples[y].segIdx>this.samples[x].segIdx){let _=(1-S)*this.samples[y].tan.x+S*this.samples[x].tan.x,w=(1-S)*this.samples[y].tan.y+S*this.samples[x].tan.y;const A=Math.max(Math.hypot(_,w),1e-4);return _/=A,w/=A,{x:_,y:w}}if(this.samples[y].segIdx!==this.samples[x].segIdx){if(S<.5){const _=this.segments[this.samples[y].segIdx],w=2*S,A=(1-w)*this.samples[y].t+w;return _.tangentAtParameter(A)}{const _=this.segments[this.samples[x].segIdx],w=2*(S-.5)*this.samples[x].t;return _.tangentAtParameter(w)}}{const _=this.segments[this.samples[y].segIdx],w=(1-S)*this.samples[y].t+S*this.samples[x].t;return _.tangentAtParameter(w)}}}},558:(s,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BezierSegment=void 0;const l=o(188);class d{constructor(g,y,x,S){this._totalLength=void 0,this.A=g,this.B=y,this.C=x,this.D=S}static sampleSpacing(){return 2}tangentAtParameter(g){const y=Math.max(0,Math.min(1,g));if(y===0||y===1){let A,P;y===0?this.A.x===this.B.x&&this.A.y===this.B.y?(A=this.C.x-this.A.x,P=this.C.y-this.A.y):(A=this.B.x-this.A.x,P=this.B.y-this.A.y):this.D.x===this.C.x&&this.D.y===this.C.y?(A=this.D.x-this.B.x,P=this.D.y-this.B.y):(A=this.D.x-this.C.x,P=this.D.y-this.C.y);const D=Math.hypot(A,P);return Math.abs(D)>1e-4&&(A/=D,P/=D),{x:A,y:P}}const x=1-y;let S=3*this.D.x*Math.pow(y,2)-3*this.C.x*Math.pow(y,2)+6*this.C.x*x*y-6*this.B.x*x*y+3*this.B.x*Math.pow(x,2)-3*this.A.x*Math.pow(x,2),_=3*this.D.y*Math.pow(y,2)-3*this.C.y*Math.pow(y,2)+6*this.C.y*x*y-6*this.B.y*x*y+3*this.B.y*Math.pow(x,2)-3*this.A.y*Math.pow(x,2);const w=Math.hypot(S,_);return Math.abs(w)>1e-4&&(S/=w,_/=w),{x:S,y:_}}isLinear(){return this.A.x===this.B.x&&this.A.y===this.B.y&&this.C.x===this.D.x&&this.C.y===this.D.y}pointAtParameter(g){const y=Math.max(0,Math.min(1,g));return{x:Math.pow(1-y,3)*this.A.x+3*Math.pow(1-y,2)*y*this.B.x+3*(1-y)*Math.pow(y,2)*this.C.x+Math.pow(y,3)*this.D.x,y:Math.pow(1-y,3)*this.A.y+3*Math.pow(1-y,2)*y*this.B.y+3*(1-y)*Math.pow(y,2)*this.C.y+Math.pow(y,3)*this.D.y}}getTotalLength(){if(this._totalLength===void 0)if(this.isLinear())this._totalLength=Math.hypot(this.D.x-this.A.x,this.D.y-this.A.y);else{const g=Math.max(10,Math.ceil((Math.hypot(this.B.x-this.A.x,this.B.y-this.A.y)+Math.hypot(this.C.x-this.B.x,this.C.y-this.B.y)+Math.hypot(this.D.x-this.C.x,this.D.y-this.C.y))/d.sampleSpacing())),y=(0,l.times)(g).map(S=>this.pointAtParameter(S/(g-1)));let x=0;for(let S=1;S<y.length;S++)x+=Math.hypot(y[S].x-y[S-1].x,y[S].y-y[S-1].y);this._totalLength=x}return this._totalLength}}a.BezierSegment=d},729:(s,a,o)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createFromCommands=a.create=a.createFromElement=a.createFromCircle=a.createFromLine=a.createFromPath=void 0;const l=o(821),d=o(558),p={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};a.createFromPath=g=>{const y=function(_){const w=_.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").replace(/(\d)([A-Za-z])/g,"$1 $2").replace(/([A-Za-z])(\d)/g,"$1 $2").trim().split(/\s*,|\s+/),A=[];let P="",D={};for(;w.length>0;){let R=w.shift();p.hasOwnProperty(R)?P=R:w.unshift(R),D={type:P},p[P].forEach(F=>{R=w.shift(),D[F]=parseFloat(R)}),P==="M"?P="L":P==="m"&&(P="l"),A.push(D)}return A}(g.getAttribute("d"));if(y.length<2)throw new Error(`Path doesn't have enough commands: ${JSON.stringify(y)}`);if(y[0].type!=="M")throw new Error(`Path starts with ${y[0].type} instead of M!`);let x={x:y[0].x,y:y[0].y};y.shift();const S=[];for(;y.length>0;){const _=y.shift();if(_.type==="C")S.push(new d.BezierSegment(x,{x:_.x1,y:_.y1},{x:_.x2,y:_.y2},{x:_.x,y:_.y})),x={x:_.x,y:_.y};else if(_.type==="L")S.push(new d.BezierSegment(x,x,{x:_.x,y:_.y},{x:_.x,y:_.y})),x={x:_.x,y:_.y};else if(_.type==="H")S.push(new d.BezierSegment(x,x,{x:_.x,y:x.y},{x:_.x,y:x.y})),x={x:_.x,y:x.y};else if(_.type==="V")S.push(new d.BezierSegment(x,x,{x:x.x,y:_.y},{x:x.x,y:_.y})),x={x:x.x,y:_.y};else if(_.type!=="Z")throw new Error(`Unsupported path command ${_.type}; use only H, V, M, L, C, Z!`)}return new l.BezierPath(S)},a.createFromLine=g=>{const[y,x,S,_]=["x1","x2","y1","y2"].map(w=>parseFloat(g.getAttribute(w)||"0"));return new l.BezierPath([new d.BezierSegment({x:y,y:S},{x:y,y:S},{x,y:_},{x,y:_})])},a.createFromCircle=g=>{const[y,x,S]=["cx","cy","r"].map(w=>parseFloat(g.getAttribute(w)||"0")),_=1.3;return new l.BezierPath([new d.BezierSegment({x:y-S,y:x},{x:y-S,y:x-_*S},{x:y+S,y:x-_*S},{x:y+S,y:x}),new d.BezierSegment({x:y+S,y:x},{x:y+S,y:x+_*S},{x:y-S,y:x+_*S},{x:y-S,y:x})])},a.createFromElement=g=>{const y=g.tagName.toLowerCase();if(y==="path")return(0,a.createFromPath)(g);if(y==="line")return(0,a.createFromLine)(g);if(y==="circle")return(0,a.createFromCircle)(g);throw new Error(`Unsupported SVG tag: ${y}`)},a.create=g=>{const y=[];for(let x=1;x<g.length;x++){const S=g[x-1],_=g[x];y.push(new d.BezierSegment(S.pt,S.right||S.pt,_.left||_.pt,_.pt))}return new l.BezierPath(y)},a.createFromCommands=g=>{const y=g.slice();if(y.length<2)throw new Error(`Path doesn't have enough commands: ${JSON.stringify(y)}`);if(y[0].type!=="M")throw new Error(`Path starts with ${y[0].type} instead of M!`);let x={x:y[0].x,y:y[0].y},S=Object.assign({},x);const _=[];for(;y.length>0;){const w=y.shift();if(w.type==="M")S={x:w.x,y:w.y},x=S;else if(w.type==="C")_.push(new d.BezierSegment(x,{x:w.x1,y:w.y1},{x:w.x2,y:w.y2},{x:w.x,y:w.y})),x={x:w.x,y:w.y};else if(w.type==="L")w.x===x.x&&w.y===x.y||_.push(new d.BezierSegment(x,x,{x:w.x,y:w.y},{x:w.x,y:w.y})),x={x:w.x,y:w.y};else if(w.type==="H")w.x!==x.x&&_.push(new d.BezierSegment(x,x,{x:w.x,y:x.y},{x:w.x,y:x.y})),x={x:w.x,y:x.y};else if(w.type==="V")w.y!==x.y&&_.push(new d.BezierSegment(x,x,{x:x.x,y:w.y},{x:x.x,y:w.y})),x={x:x.x,y:w.y};else if(w.type==="Q")_.push(new d.BezierSegment(x,{x:x.x+.6666666666666666*(w.x1-x.x),y:x.y+.6666666666666666*(w.y1-x.y)},{x:w.x+.6666666666666666*(w.x1-w.x),y:w.y+.6666666666666666*(w.y1-w.y)},{x:w.x,y:w.y})),x={x:w.x,y:w.y};else{if(w.type!=="Z")throw new Error(`Unsupported path command ${w.type}; use only H, V, M, L, C, Z!`);Math.hypot(x.x-S.x,x.y-S.y)>0&&_.push(new d.BezierSegment(x,x,S,S))}}return new l.BezierPath(_)}},821:function(s,a,o){var l=this&&this.__createBinding||(Object.create?function(p,g,y,x){x===void 0&&(x=y);var S=Object.getOwnPropertyDescriptor(g,y);S&&!("get"in S?!g.__esModule:S.writable||S.configurable)||(S={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(p,x,S)}:function(p,g,y,x){x===void 0&&(x=y),p[x]=g[y]}),d=this&&this.__exportStar||function(p,g){for(var y in p)y==="default"||Object.prototype.hasOwnProperty.call(g,y)||l(g,p,y)};Object.defineProperty(a,"__esModule",{value:!0}),d(o(177),a),d(o(558),a),d(o(729),a),d(o(856),a)},856:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0})},188:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.times=void 0,a.times=function(o){const l=[];for(let d=0;d<o;d++)l.push(d);return l}}},n={};return function s(a){var o=n[a];if(o!==void 0)return o.exports;var l=n[a]={exports:{}};return r[a].call(l.exports,l,l.exports,s),l.exports}(821)})())}(Vm)),Vm.exports}var $8=q8();const xE={M:2,L:2,C:6,Q:4},h3=["ttf","otf","woff"],W8=new RegExp(`\\.(${h3.join("|")})`,"i"),Y8=new RegExp(`([^/]+)(\\.(?:${h3.join("|")}))`,"i"),f3="Sorry, only TTF, OTF and WOFF files are supported.",X8=["weight","stretch","style"];class A1{constructor(t,r,n,s,a){if(!(r instanceof FontFace))throw Error("FontFace is required");this._pInst=t,this.name=n,this.path=s,this.data=a,this.face=r}static hasGlyphData(t){let{font:r}=t;return typeof r=="object"&&typeof r.data<"u"}fontBounds(t,r,n,s,a,o){var d;({width:s,height:a,options:o}=this._parseArgs(s,a,o));let l=((d=o==null?void 0:o.graphics)==null?void 0:d._renderer)||this._pInst._renderer;if(!l)throw Error("p5 or graphics required for fontBounds()");return l.fontBounds(t,r,n,s,a)}textBounds(t,r,n,s,a,o){var d;({width:s,height:a,options:o}=this._parseArgs(s,a,o));let l=((d=o==null?void 0:o.graphics)==null?void 0:d._renderer)||this._pInst._renderer;if(!l)throw Error("p5 or graphics required for fontBounds()");return l.textBounds(t,r,n,s,a)}textToPaths(t,r,n,s,a,o){if({width:s,height:a,options:o}=this._parseArgs(s,a,o),!this.data)throw Error('No font data available for "'+this.name+`"
Try downloading a local copy of the font file`);return this._lineateAndPathify(t,r,n,s,a,o).map(p=>p.glyphs).flat().map(p=>p.path.commands).flat()}textToPoints(t,r,n,s,a,o){return this.textToContours(t,r,n,s,a,o).reduce((d,p)=>(d.push(...p),d),[])}textToContours(t,r=0,n=0,s,a,o){({width:s,height:a,options:o}=this._parseArgs(s,a,o));const l=this.textToPaths(t,r,n,s,a,o),d=[];for(const p of l)p[0]==="M"&&d.push([]),d[d.length-1].push(p);return d.map(p=>Q8(p,o,this))}textToModel(t,r,n,s,a,o){({width:s,height:a,options:o}=this._parseArgs(s,a,o));const l=(o==null?void 0:o.extrude)||0,d=this.textToContours(t,r,n,s,a,o),p=this._pInst.buildGeometry(()=>{if(l===0){this._pInst.beginShape(),this._pInst.normal(0,0,1);for(const g of d){this._pInst.beginContour();for(const{x:y,y:x}of g)this._pInst.vertex(y,x);this._pInst.endContour(this._pInst.CLOSE)}this._pInst.endShape()}else{for(const g of[1,-1]){this._pInst.beginShape();for(const y of d){this._pInst.beginContour();for(const{x,y:S}of y)this._pInst.vertex(x,S,g*l*.5);this._pInst.endContour(this._pInst.CLOSE)}this._pInst.endShape(),this._pInst.beginShape()}for(const g of d){this._pInst.beginShape(this._pInst.QUAD_STRIP);for(const y of g)for(const x of[-1,1])this._pInst.vertex(y.x,y.y,x*l*.5);this._pInst.endShape()}}});if(l!==0){p.computeNormals();for(const g of p.faces)if(g.every(y=>p.vertices[y].z<=-l*.5+.1)){for(const y of g)p.vertexNormals[y].set(0,0,-1);g.reverse()}}return p}variations(){var r;let t={};if(this.data){let n=(r=this.face)==null?void 0:r.axes;n&&n.forEach(s=>{t[s.tag]=s.value})}return X8.forEach(n=>{let s=this.face[n];s!=="normal"&&(t[n]=t[n]||s)}),t}metadata(){var r;let t=((r=this.data)==null?void 0:r.name)||{};for(let n in this.face)/^load/.test(n)||(t[n]=t[n]||this.face[n]);return t}static async list(t=!1){if(t){console.log("There are",document.fonts.size,`font-faces
`);let r=0;for(let n of document.fonts.values()){console.log("FontFace: {");for(let s in n)console.log("  "+s+": "+n[s]);console.log(`}
`),n.status==="loaded"&&r++}console.log(r+" loaded")}return await Array.from(document.fonts)}_verticalAlign(t){var p,g,y;const{sCapHeight:r}=((p=this.data)==null?void 0:p["OS/2"])||{},{unitsPerEm:n=1e3}=((g=this.data)==null?void 0:g.head)||{},{ascender:s=0,descender:a=0}=((y=this.data)==null?void 0:y.hhea)||{},o=s/2;return((r||s+a)/2-o)*t/n}_lineateAndPathify(t,r,n,s,a,o={}){var w,A,P;let l=((w=o==null?void 0:o.graphics)==null?void 0:w._renderer)||this._pInst._renderer,d=l.drawingContext.textBaseline,{lines:p,bounds:g}=l._computeBounds(Hn._FONT_BOUNDS,t,r,n,s,a,{ignoreRectMode:!0,...o});p=this._position(l,p,g,s,a);let y=((P=(A=this.data)==null?void 0:A.head)==null?void 0:P.unitsPerEm)||1e3,x=l.states.textSize/y;const S=this._currentAxes(l);let _=p.map(D=>this._lineToGlyphs(D,{scale:x,axs:S}));return l.drawingContext.textBaseline=d,_}_currentAxes(t){var n,s;let r;return(((s=(n=this.data)==null?void 0:n.fvar)==null?void 0:s.length)??0)>0&&(r=this.data.fvar[0].map(([o,l,d,p,g,y])=>{if(!t)return d;if(o==="wght")return t.states.fontWeight;if(o==="wdth")return 100;if(t.textCanvas().style.fontVariationSettings){const x=new RegExp(`\\b${o}s+(d+)`).exec(t.textCanvas().style.fontVariationSettings);return x?parseInt(x[1]):d}else return d})),r}_textToPathPoints(t,r,n,s,a,o){({width:s,height:a,options:o}=this._parseArgs(s,a,o));let l=this.textToPaths(t,r,n,s,a,o);const d=(x,S,_,w)=>{if(fn.dist(S.x,S.y,_.x,_.y)>w){let A={x:(S.x+_.x)/2,y:(S.y+_.y)/2};x.push(A),d(x,S,A,w),d(x,A,_,w)}};let p=[],{textSize:g}=this._pInst._renderer.states,y=g/this.data.head.unitsPerEm*500;for(let x=0;x<l.length;x++){let{type:S,data:_}=l[x];if(S!=="Z"){let w={x:_[_.length-2],y:_[_.length-1]};S==="L"&&p.length&&!(o!=null&&o.nodivide)>0&&d(p,p[p.length-1],w,y),p.push(w)}}return p}_parseArgs(t,r,n={}){return typeof t=="object"?(n=t,t=r=void 0):typeof r=="object"&&(n=r,r=void 0),{width:t,height:r,options:n}}_position(t,r,n,s,a){let{textAlign:o,textLeading:l}=t.states,p=this._measureTextDefault(t,"X").fontBoundingBoxAscent,g=(y,x)=>{let S=n.x,_=n.y+x*l+p,w=t._fontWidthSingle(y);if(o===$n?S+=(n.w-w)/2:o===Od&&(S+=n.w-w),typeof s<"u")switch(t.states.rectMode){case $n:S-=s/2,_-=a/2;break;case Kc:S-=s,_-=a;break}return{text:y,x:S,y:_}};return r.map(g)}_lineToGlyphs(t,{scale:r=1,axs:n}={}){if(!this.data)throw Error('No font data available for "'+this.name+`"
Try downloading a local copy of the font file`);let s=qe.U.shape(this.data,t.text,{axs:n});return t.glyphShapes=s,t.glyphs=this._shapeToPaths(s,t,{scale:r,axs:n}),t}_positionGlyphs(t,r){var d;let n=((d=r==null?void 0:r.graphics)==null?void 0:d._renderer)||this._pInst._renderer;const s=this._currentAxes(n),a=qe.U.shape(this.data,t,{axs:s}),o=[];let l=0;for(const p of a)o.push({x:l,index:p.g,shape:p}),l+=p.ax;return o}_singleShapeToPath(t,{scale:r=1,x:n=0,y:s=0,lineX:a=0,lineY:o=0,axs:l}={}){let d=this.data,p=0,{g,ax:y,ay:x,dx:S,dy:_}=t,{crds:w,cmds:A}=qe.U.glyphToPath(d,g,!0,l),P={path:{commands:[]}};for(let D=0;D<A.length;D++){let R=A[D],F=[R];if(R in xE){let T=xE[R];for(let U=0;U<T;U+=2){let k=w[U+p]+n+S,B=w[U+p+1]+s+_,L=a+k*r,V=o+B*-r;F.push(L),F.push(V)}p+=T}P.path.commands.push(F)}return{glyph:P,ax:y,ay:x}}_shapeToPaths(t,r,{scale:n=1,axs:s}={}){let a=0,o=0,l=[];if(t.length!==r.text.length)throw Error("Invalid shape data");for(let d=0;d<t.length;d++){const{glyph:p,ax:g,ay:y}=this._singleShapeToPath(t[d],{scale:n,x:a,y:o,lineX:r.x,lineY:r.y,axs:s});l.push(p),a+=g,o+=y}return l}_measureTextDefault(t,r){let{textAlign:n,textBaseline:s}=t.states,a=t.textDrawingContext();a.textAlign="left",a.textBaseline="alphabetic";let o=a.measureText(r);return a.textAlign=n,a.textBaseline=s,o}drawPaths(t,r,n){t.strokeStyle=(n==null?void 0:n.stroke)||t.strokeStyle,t.fillStyle=(n==null?void 0:n.fill)||t.fillStyle,t.beginPath(),r.forEach(([s,...a])=>{s==="M"?t.moveTo(...a):s==="L"?t.lineTo(...a):s==="C"?t.bezierCurveTo(...a):s==="Q"?t.quadraticCurveTo(...a):s==="Z"&&t.closePath()}),n!=null&&n.fill&&t.fill(),n!=null&&n.stroke&&t.stroke()}_pathsToCommands(t,r){let n=[];for(let s=0;s<t.length;s++){let a=t[s],{x:o,y:l,path:d}=a,{crds:p,cmds:g}=d;for(let y=0,x=0;x<g.length;x++){let S=g[x],_={type:S,data:[]};if(S=="M"||S=="L")_.data.push(o+p[y]*r,l+p[y+1]*-r),y+=2;else if(S=="C"){for(let w=0;w<6;w+=2)_.data.push(o+p[y+w]*r,l+p[y+w+1]*-r);y+=6}else if(S=="Q"){for(let w=0;w<4;w+=2)_.data.push(o+p[y+w]*r,l+p[y+w+1]*-r);y+=4}n.push(_)}}return n}}async function od(i,t,r,n,s){let a=Z8(t,r,n,s);return a.status!=="loaded"&&await a.load(),document.fonts.add(a),new A1(i,a,t,r,s)}function Z8(i,t,r,n){var o;i.includes(" ")&&(i="'"+i+"'");let s=(n==null?void 0:n._compressedData)??(n==null?void 0:n._data);if(!s){if(!W8.test(t))throw Error(f3);t.startsWith("url(")||(t="url("+t+")"),s=t}if((((o=n==null?void 0:n.fvar)==null?void 0:o.length)??0)>0){r=r||{};for(const[l,d,p,g,y,x]of n.fvar[0])l==="wght"?r.weight=`${d} ${g}`:l==="wdth"&&(r.stretch=`${d}% ${g}%`)}let a=new FontFace(i,s,r);if(a.status==="error")throw Error('Failed to create FontFace for "'+i+'"');return a}function K8(i,t){let r,n=i==null?void 0:i.name;if(n){if(n.fullName)return n.fullName;n.familyName&&(r=n.familyName)}if(!r){let s=Y8.exec(t);s&&s.length>=3?r=s[1]:r=t}return r.includes(" ")&&(r=r.replace(/ /g,"_")),r}function Q8(i,t,r){const n=(x,S)=>{if(typeof x!="object")x=S;else for(const _ in S)typeof x[_]>"u"&&(x[_]=S[_]);return x},s=(x,S)=>{const _=x.length;return x[S<0?S%_+_:S%_]},a=(x,S)=>{S=S||0;let _=0;for(let w=x.length-1;x.length>3&&w>=0;--w)collinear(s(x,w-1),s(x,w),s(x,w+1),S)&&(x.splice(w%x.length,1),_++);return _},o=$8.createFromCommands(p3(i));let l=n(t,{sampleFactor:.1,simplifyThreshold:0});const d=Math.max(1,Math.ceil(o.getTotalLength()*l.sampleFactor));let p=[];const g=r._pInst.angleMode(),y=r._pInst.DEGREES;for(let x=0;x<d;x++){const S=o.getTotalLength()*(d===1?0:x/(d-1));p.push({...o.getPointAtLength(S),get angle(){const _=o.getAngleAtLength(S);return g===y?_*180/Math.PI:_},get alpha(){return this.angle}})}return l.simplifyThreshold&&a(p,l.simplifyThreshold),p}function J8(i){return(i.startsWith('"')||i.startsWith("'"))&&i.at(0)===i.at(-1)?i.slice(1,-1).replace(/\/(['"])/g,"$1"):i}function e6(...i){let t=i.shift();(typeof t!="string"||t.length===0)&&p5._friendlyError(f3,"p5.loadFont");let r;typeof i[0]=="string"&&(r=i.shift());let n,s,a;for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?n?s=l:n=l:typeof l=="object"&&(a=l)}return{path:t,name:r,success:n,error:s,options:a}}function d3(i,t){i.Font=A1,t.parseFontData=async function(r){let n=r instanceof Uint8Array?r:await t.loadBytes(r);if(!n)throw Error("Failed to load font data");let s=qe.parse(n);if(s.length===0||s[0].cmap===void 0)throw Error("parsing font data");return s[0]},t.loadFont=async function(...r){var y;let{path:n,name:s,success:a,error:o,options:{sets:l,...d}={}}=e6(...r),p=n.includes("@font-face");if(p||(y=(await fetch(n,{method:"HEAD"})).headers.get("content-type"))!=null&&y.startsWith("text/css")&&(p=!0,n=await fetch(n).then(_=>_.text())),p){const x=new CSSStyleSheet;await x.replace(n);const S=[];for(const T of x.cssRules)if(T instanceof CSSFontFaceRule){const U=T.style;let k=J8(U.getPropertyValue("font-family"));const B=U.getPropertyValue("src"),L={...d||{}};for(const V of U){if(V==="font-family"||V==="src")continue;const H=V.replace(/^font-/,"").split("-").map((z,G)=>G===0?z:`${z[0].toUpperCase()}${z.slice(1)}`).join("");L[H]=U.getPropertyValue(V)}S.push({name:k,src:B,fontDescriptors:L,loadWithData:async()=>{let V;try{const H=/url\(([^\)]+)\)/.exec(B);if(H){let z=H[1];/^['"]/.exec(z)&&z.at(0)===z.at(-1)&&(z=z.slice(1,-1)),V=await t.parseFontData(z)}}catch{}return od(this,k,B,L,V)},loadWithoutData:()=>od(this,k,B,L)})}l=l||["latin"];const _=(l instanceof Array?l:[l]).map(T=>T.toLowerCase()),w=OB.filter(T=>_.some(U=>T.category.includes(U)&&T.category.includes("ext")===U.includes("ext"))),A=new Set(zw.UnicodeRange.parse(w.map(T=>`U+${T.hexrange[0]}-${T.hexrange[1]}`)));let P=0,D=0,R;for(const T of S){if(!T.fontDescriptors.unicodeRange)continue;const k=[...new Set(zw.UnicodeRange.parse(T.fontDescriptors.unicodeRange.split(/,\s*/g))).values()].filter(V=>A.has(V)).length,B={style:"normal",weight:400,...d},L=Object.keys(T.fontDescriptors).filter(V=>T.fontDescriptors[V]===B[V]).length;(L>D||L===D&&k>=P)&&(D=L,P=k,R=T)}const F=R||S.at(-1);for(const T of S)T!==F&&T.loadWithoutData();return F==null?void 0:F.loadWithData()}let g;try{const x=await t.parseFontData(n);s=s||K8(x,n),g=await od(this,s,n,d,x)}catch{let S=s||n.substring(n.lastIndexOf("/")+1).replace(/\.[^/.]+$/,"");console.warn(`WARN: No glyph data for '${S}', retrying as FontFace`);try{g=await od(this,S,n,d)}catch(_){if(o)return o(_);throw _}}return a?a(g):g}}const p3=i=>i.map(t=>{const r=t[0];switch(r){case"Z":return{type:r};case"M":case"L":{const[,n,s]=t;return{type:r,x:n,y:s}}case"Q":{const[,n,s,a,o]=t;return{type:r,x1:n,y1:s,x:a,y:o}}case"C":{const[,n,s,a,o,l,d]=t;return{type:r,x1:n,y1:s,x2:a,y2:o,x:l,y:d}}default:throw new Error(`Unexpected path command: ${r}`)}});typeof p5<"u"&&d3(p5,p5.prototype);function t6(i,t){Tt.prototype.maxCachedGlyphs=function(){return 200},A1.prototype._getFontInfo=function(_){this._fontInfos=this._fontInfos||{};const w=JSON.stringify(_);if(this._fontInfos[w])return this._fontInfos[w];{const A=new S(this,{axs:_});return this._fontInfos[w]=A,A}};const r=9,n=r,s=64,a=64,o=64,l=64,d=64,p=64;class g{constructor(w,A){this.width=w,this.height=A,this.infos=[]}findImage(w){const A=this.width*this.height;if(w>A)throw new Error("font is too complex to render in 3D");let P,D;for(let F=this.infos.length-1;F>=0;--F){const T=this.infos[F];if(T.index+w<A){P=T,D=T.imageData;break}}if(!P){try{D=new ImageData(this.width,this.height)}catch{let T=document.getElementsByTagName("canvas")[0];const U=!T;T||(T=document.createElement("canvas"),T.style.display="none",document.body.appendChild(T));const k=T.getContext("2d");k&&(D=k.createImageData(this.width,this.height)),U&&document.body.removeChild(T)}P={index:0,imageData:D},this.infos.push(P)}const R=P.index;return P.index+=w,D._dirty=!0,{imageData:D,index:R}}}function y(_,w,A,P,D){const F=_.imageData.data;let T=_.index++*4;F[T++]=w,F[T++]=A,F[T++]=P,F[T++]=D}const x=Math.sqrt(3);class S{constructor(w,{axs:A}={}){this.font=w,this.axs=A,this.strokeImageInfos=new g(s,a),this.colDimImageInfos=new g(o,l),this.rowDimImageInfos=new g(o,l),this.colCellImageInfos=new g(d,p),this.rowCellImageInfos=new g(d,p),this.glyphInfos={}}getGlyphInfo(w){let A=this.glyphInfos[w.index];if(A)return A;const P=this.axs,{glyph:{path:{commands:D}}}=this.font._singleShapeToPath(w.shape,{axs:P});let R=1/0,F=-1/0,T=1/0,U=-1/0;for(const Le of D)for(let Re=1;Re<Le.length;Re+=2)R=Math.min(R,Le[Re]),F=Math.max(F,Le[Re]),T=Math.min(T,Le[Re+1]),U=Math.max(U,Le[Re+1]);if(R>=F||T>=U||!D.length)return this.glyphInfos[w.index]={};const k=F-R,B=U-T,L=p3(D);let V;const H=[],z=[],G=[];for(V=r-1;V>=0;--V)G.push([]);for(V=n-1;V>=0;--V)z.push([]);function K(Le,Re,Ne){const Ge=H.length;H.push(Ne);function Xe(rt,tt,ct){for(let wt=rt.length;wt-- >0;){const st=rt[wt];tt>st&&(tt=st),ct<st&&(ct=st)}return{min:tt,max:ct}}const Be=.5,se=Xe(Le,1,0),te=Math.max(Math.floor(se.min*r-Be),0),ce=Math.min(Math.ceil(se.max*r+Be),r);for(let rt=te;rt<ce;++rt)G[rt].push(Ge);const _e=Xe(Re,1,0),Me=Math.max(Math.floor(_e.min*n-Be),0),Te=Math.min(Math.ceil(_e.max*n+Be),n);for(let rt=Me;rt<Te;++rt)z[rt].push(Ge)}function le(Le,Re,Ne){return Le<Re?Re:Le>Ne?Ne:Le}function ne(Le){return le(255*Le,0,255)}class de{constructor(Re,Ne,Ge,Xe){this.p0=Re,this.c0=Ne,this.c1=Ge,this.p1=Xe}toQuadratic(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:((this.c0.x+this.c1.x)*3-(this.p0.x+this.p1.x))/4,cy:((this.c0.y+this.c1.y)*3-(this.p0.y+this.p1.y))/4}}quadError(){return be.sub(be.sub(this.p1,this.p0),be.mult(be.sub(this.c1,this.c0),3)).mag()/2}split(Re){const Ne=be.lerp(this.p0,this.c0,Re),Ge=be.lerp(this.c0,this.c1,Re),Xe=be.lerp(Ne,Ge,Re);this.c1=be.lerp(this.c1,this.p1,Re),this.c0=be.lerp(Ge,this.c1,Re);const Be=be.lerp(Xe,this.c0,Re),se=new de(this.p0,Ne,Xe,Be);return this.p0=Be,se}splitInflections(){const Re=be.sub(this.c0,this.p0),Ne=be.sub(be.sub(this.c1,this.c0),Re),Ge=be.sub(be.sub(be.sub(this.p1,this.c1),Re),be.mult(Ne,2)),Xe=[];let Be=Ne.x*Ge.y-Ne.y*Ge.x;if(Be!==0){let se=Re.x*Ge.y-Re.y*Ge.x,te=Re.x*Ne.y-Re.y*Ne.x;const ce=se*se-4*Be*te;if(ce>=0){Be<0&&(Be=-Be,se=-se,te=-te);const _e=Math.sqrt(ce),Me=(-se-_e)/(2*Be);let Te=(-se+_e)/(2*Be);Me>0&&Me<1&&(Xe.push(this.split(Me)),Te=1-(1-Te)/(1-Me)),Te>0&&Te<1&&Xe.push(this.split(Te))}}return Xe.push(this),Xe}}function ve(Le,Re,Ne,Ge,Xe,Be,se,te){const ce=new de(new be(Le,Re),new be(Ne,Ge),new be(Xe,Be),new be(se,te)).splitInflections(),_e=[],Me=30/x;for(let Te of ce){const rt=[];let tt;for(;tt=Me/Te.quadError(),!(tt>=.5*.5*.5);){const ct=Math.pow(tt,1/3),wt=Te.split(ct),st=Te.split(1-ct/(1-ct));_e.push(wt),rt.push(Te),Te=st}tt<1&&_e.push(Te.split(.5)),_e.push(Te),Array.prototype.push.apply(_e,rt.reverse())}return _e}function xe(Le,Re,Ne,Ge){const Xe=(Le+Ne)/2,Be=(Re+Ge)/2;K([Le,Ne],[Re,Ge],{x:Le,y:Re,cx:Xe,cy:Be})}function Q(Le,Re,Ne,Ge){return Math.abs(Ne-Le)<1e-5&&Math.abs(Ge-Re)<1e-5}let oe,ae,ge,me;for(const Le of L){const Re=(Le.x-R)/k,Ne=(Le.y-T)/B;if(!Q(oe,ae,Re,Ne)){switch(Le.type){case"M":{ge=Re,me=Ne;break}case"L":{xe(oe,ae,Re,Ne);break}case"Q":{const Ge=(Le.x1-R)/k,Xe=(Le.y1-T)/B;K([oe,Re,Ge],[ae,Ne,Xe],{x:oe,y:ae,cx:Ge,cy:Xe});break}case"Z":{Q(oe,ae,ge,me)?H.push({x:oe,y:ae}):(xe(oe,ae,ge,me),H.push({x:ge,y:me}));break}case"C":{const Ge=(Le.x1-R)/k,Xe=(Le.y1-T)/B,Be=(Le.x2-R)/k,se=(Le.y2-T)/B,te=ve(oe,ae,Ge,Xe,Be,se,Re,Ne);for(let ce=0;ce<te.length;ce++){const _e=te[ce].toQuadratic();K([_e.x,_e.x1,_e.cx],[_e.y,_e.y1,_e.cy],_e)}break}default:throw new Error(`unknown command type: ${Le.type}`)}oe=Re,ae=Ne}}const Ae=H.length,Ce=this.strokeImageInfos.findImage(Ae),$e=Ce.index;for(let Le=0;Le<Ae;++Le){const Re=H[Le];y(Ce,ne(Re.x),ne(Re.y),ne(Re.cx),ne(Re.cy))}function Ye(Le,Re,Ne){const Ge=Le.length,Xe=Re.findImage(Ge),Be=Xe.index;let se=0;for(let ce=0;ce<Ge;++ce)se+=Le[ce].length;const te=Ne.findImage(se);for(let ce=0;ce<Ge;++ce){const _e=Le[ce],Me=_e.length,Te=te.index;y(Xe,Te>>7,Te&127,Me>>7,Me&127);for(let rt=0;rt<Me;++rt){const tt=_e[rt]+$e;y(te,tt>>7,tt&127,0,0)}}return{cellImageInfo:te,dimOffset:Be,dimImageInfo:Xe}}return A=this.glyphInfos[w.index]={glyph:w,uGlyphRect:[R,T,F,U],strokeImageInfo:Ce,strokes:H,colInfo:Ye(G,this.colDimImageInfos,this.colCellImageInfos),rowInfo:Ye(z,this.rowDimImageInfos,this.rowCellImageInfos)},A.uGridOffset=[A.colInfo.dimOffset,A.rowInfo.dimOffset],A}}Tt.prototype._renderText=function(_,w,A,P,D){var ne,de;if(!this.states.textFont||typeof this.states.textFont=="string"){console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.");return}if(A>=P||!this.states.fillColor)return;if(!i.Font.hasGlyphData(this.states.textFont)){console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts with glyph data are supported");return}this.push();const R=this.states.strokeColor,F=this.states.drawMode;this.states.setValue("strokeColor",null),this.states.setValue("drawMode",kd);const{font:T}=this.states.textFont;if(!T)throw new Error("In WebGL mode, textFont() needs to be given the result of loadFont() instead of a font family name.");const U=T._currentAxes(this);let k=T._getFontInfo(U);const B={x:w,y:A},V=this.states.textSize/(((de=(ne=T.data)==null?void 0:ne.head)==null?void 0:de.unitsPerEm)||1e3);this.translate(B.x,B.y,0),this.scale(V,V,1);const H=this.GL,z=!this._defaultFontShader,G=this._getFontShader();G.init(),G.bindShader(),z&&(G.setUniform("uGridImageSize",[o,l]),G.setUniform("uCellsImageSize",[d,p]),G.setUniform("uStrokeImageSize",[s,a]),G.setUniform("uGridSize",[r,n]));const K=this.states.fillSet?this.states.curFillColor:[0,0,0,255];this._setGlobalUniforms(G),this._applyColorBlend(K);let le=this.geometryBufferCache.getGeometryByID("glyph");le||(le=this._textGeom=new vn(1,1,function(){for(let ve=0;ve<=1;ve++)for(let xe=0;xe<=1;xe++)this.vertices.push(new be(xe,ve,0)),this.uvs.push(xe,ve)},this),le.gid="glyph",le.computeFaces().computeNormals(),this.geometryBufferCache.ensureCached(le));for(const ve of this.buffers.text)ve._prepareBuffer(le,G);this._bindBuffer(this.geometryBufferCache.cache.glyph.indexBuffer,H.ELEMENT_ARRAY_BUFFER),G.setUniform("uMaterialColor",K),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.glyphDataCache=this.glyphDataCache||new Set;try{const ve=T._positionGlyphs(_);for(const xe of ve){const Q=k.getGlyphInfo(xe);if(Q.uGlyphRect){const oe=Q.rowInfo,ae=Q.colInfo,ge=[Q.strokeImageInfo.imageData,oe.cellImageInfo.imageData,oe.dimImageInfo.imageData,ae.cellImageInfo.imageData,ae.dimImageInfo.imageData];for(const me of ge)this.glyphDataCache.delete(me),this.glyphDataCache.add(me);for(;this.glyphDataCache.size>this.maxCachedGlyphs();){const me=this.glyphDataCache.values().next().value;this.glyphDataCache.delete(me);const Ae=this.textures.get(me);Ae&&(Ae.remove(),this.textures.delete(me))}G.setUniform("uSamplerStrokes",Q.strokeImageInfo.imageData),G.setUniform("uSamplerRowStrokes",oe.cellImageInfo.imageData),G.setUniform("uSamplerRows",oe.dimImageInfo.imageData),G.setUniform("uSamplerColStrokes",ae.cellImageInfo.imageData),G.setUniform("uSamplerCols",ae.dimImageInfo.imageData),G.setUniform("uGridOffset",Q.uGridOffset),G.setUniform("uGlyphRect",Q.uGlyphRect),G.setUniform("uGlyphOffset",xe.x),G.bindTextures(),H.drawElements(H.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}}}finally{G.unbindShader(),this.states.setValue("strokeColor",R),this.states.setValue("drawMode",F),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.pop()}}}var jm={},zm={},_E;function r6(){return _E||(_E=1,function(i){(function t(r){var n,s,a,o,l,d;function p(T){var U={},k,B;for(k in T)T.hasOwnProperty(k)&&(B=T[k],typeof B=="object"&&B!==null?U[k]=p(B):U[k]=B);return U}function g(T,U){var k,B,L,V;for(B=T.length,L=0;B;)k=B>>>1,V=L+k,U(T[V])?B=k:(L=V+1,B-=k+1);return L}n={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},a={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},o={},l={},d={},s={Break:o,Skip:l,Remove:d};function y(T,U){this.parent=T,this.key=U}y.prototype.replace=function(U){this.parent[this.key]=U},y.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function x(T,U,k,B){this.node=T,this.path=U,this.wrap=k,this.ref=B}function S(){}S.prototype.path=function(){var U,k,B,L,V,H;function z(G,K){if(Array.isArray(K))for(B=0,L=K.length;B<L;++B)G.push(K[B]);else G.push(K)}if(!this.__current.path)return null;for(V=[],U=2,k=this.__leavelist.length;U<k;++U)H=this.__leavelist[U],z(V,H.path);return z(V,this.__current.path),V},S.prototype.type=function(){var T=this.current();return T.type||this.__current.wrap},S.prototype.parents=function(){var U,k,B;for(B=[],U=1,k=this.__leavelist.length;U<k;++U)B.push(this.__leavelist[U].node);return B},S.prototype.current=function(){return this.__current.node},S.prototype.__execute=function(U,k){var B,L;return L=void 0,B=this.__current,this.__current=k,this.__state=null,U&&(L=U.call(this,k.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=B,L},S.prototype.notify=function(U){this.__state=U},S.prototype.skip=function(){this.notify(l)},S.prototype.break=function(){this.notify(o)},S.prototype.remove=function(){this.notify(d)},S.prototype.__initialize=function(T,U){this.visitor=U,this.root=T,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,U.fallback==="iteration"?this.__fallback=Object.keys:typeof U.fallback=="function"&&(this.__fallback=U.fallback),this.__keys=a,U.keys&&(this.__keys=Object.assign(Object.create(this.__keys),U.keys))};function _(T){return T==null?!1:typeof T=="object"&&typeof T.type=="string"}function w(T,U){return(T===n.ObjectExpression||T===n.ObjectPattern)&&U==="properties"}function A(T,U){for(var k=T.length-1;k>=0;--k)if(T[k].node===U)return!0;return!1}S.prototype.traverse=function(U,k){var B,L,V,H,z,G,K,le,ne,de,ve,xe;for(this.__initialize(U,k),xe={},B=this.__worklist,L=this.__leavelist,B.push(new x(U,null,null,null)),L.push(new x(null,null,null,null));B.length;){if(V=B.pop(),V===xe){if(V=L.pop(),G=this.__execute(k.leave,V),this.__state===o||G===o)return;continue}if(V.node){if(G=this.__execute(k.enter,V),this.__state===o||G===o)return;if(B.push(xe),L.push(V),this.__state===l||G===l)continue;if(H=V.node,z=H.type||V.wrap,de=this.__keys[z],!de)if(this.__fallback)de=this.__fallback(H);else throw new Error("Unknown node type "+z+".");for(le=de.length;(le-=1)>=0;)if(K=de[le],ve=H[K],!!ve){if(Array.isArray(ve)){for(ne=ve.length;(ne-=1)>=0;)if(ve[ne]&&!A(L,ve[ne])){if(w(z,de[le]))V=new x(ve[ne],[K,ne],"Property",null);else if(_(ve[ne]))V=new x(ve[ne],[K,ne],null,null);else continue;B.push(V)}}else if(_(ve)){if(A(L,ve))continue;B.push(new x(ve,K,null,null))}}}}},S.prototype.replace=function(U,k){var B,L,V,H,z,G,K,le,ne,de,ve,xe,Q;function oe(ae){var ge,me,Ae,Ce;if(ae.ref.remove()){for(me=ae.ref.key,Ce=ae.ref.parent,ge=B.length;ge--;)if(Ae=B[ge],Ae.ref&&Ae.ref.parent===Ce){if(Ae.ref.key<me)break;--Ae.ref.key}}}for(this.__initialize(U,k),ve={},B=this.__worklist,L=this.__leavelist,xe={root:U},G=new x(U,null,null,new y(xe,"root")),B.push(G),L.push(G);B.length;){if(G=B.pop(),G===ve){if(G=L.pop(),z=this.__execute(k.leave,G),z!==void 0&&z!==o&&z!==l&&z!==d&&G.ref.replace(z),(this.__state===d||z===d)&&oe(G),this.__state===o||z===o)return xe.root;continue}if(z=this.__execute(k.enter,G),z!==void 0&&z!==o&&z!==l&&z!==d&&(G.ref.replace(z),G.node=z),(this.__state===d||z===d)&&(oe(G),G.node=null),this.__state===o||z===o)return xe.root;if(V=G.node,!!V&&(B.push(ve),L.push(G),!(this.__state===l||z===l))){if(H=V.type||G.wrap,ne=this.__keys[H],!ne)if(this.__fallback)ne=this.__fallback(V);else throw new Error("Unknown node type "+H+".");for(K=ne.length;(K-=1)>=0;)if(Q=ne[K],de=V[Q],!!de)if(Array.isArray(de)){for(le=de.length;(le-=1)>=0;)if(de[le]){if(w(H,ne[K]))G=new x(de[le],[Q,le],"Property",new y(de,le));else if(_(de[le]))G=new x(de[le],[Q,le],null,new y(de,le));else continue;B.push(G)}}else _(de)&&B.push(new x(de,Q,null,new y(V,Q)))}}return xe.root};function P(T,U){var k=new S;return k.traverse(T,U)}function D(T,U){var k=new S;return k.replace(T,U)}function R(T,U){var k;return k=g(U,function(L){return L.range[0]>T.range[0]}),T.extendedRange=[T.range[0],T.range[1]],k!==U.length&&(T.extendedRange[1]=U[k].range[0]),k-=1,k>=0&&(T.extendedRange[0]=U[k].range[1]),T}function F(T,U,k){var B=[],L,V,H,z;if(!T.range)throw new Error("attachComments needs range information");if(!k.length){if(U.length){for(H=0,V=U.length;H<V;H+=1)L=p(U[H]),L.extendedRange=[0,T.range[0]],B.push(L);T.leadingComments=B}return T}for(H=0,V=U.length;H<V;H+=1)B.push(R(p(U[H]),k));return z=0,P(T,{enter:function(G){for(var K;z<B.length&&(K=B[z],!(K.extendedRange[1]>G.range[0]));)K.extendedRange[1]===G.range[0]?(G.leadingComments||(G.leadingComments=[]),G.leadingComments.push(K),B.splice(z,1)):z+=1;if(z===B.length)return s.Break;if(B[z].extendedRange[0]>G.range[1])return s.Skip}}),z=0,P(T,{leave:function(G){for(var K;z<B.length&&(K=B[z],!(G.range[1]<K.extendedRange[0]));)G.range[1]===K.extendedRange[0]?(G.trailingComments||(G.trailingComments=[]),G.trailingComments.push(K),B.splice(z,1)):z+=1;if(z===B.length)return s.Break;if(B[z].extendedRange[0]>G.range[1])return s.Skip}}),T}return r.Syntax=n,r.traverse=P,r.replace=D,r.attachComments=F,r.VisitorKeys=a,r.VisitorOption=s,r.Controller=S,r.cloneEnvironment=function(){return t({})},r})(i)}(zm)),zm}var Dc={},Gm={exports:{}},SE;function n6(){return SE||(SE=1,function(){function i(o){if(o==null)return!1;switch(o.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function t(o){if(o==null)return!1;switch(o.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function r(o){if(o==null)return!1;switch(o.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function n(o){return r(o)||o!=null&&o.type==="FunctionDeclaration"}function s(o){switch(o.type){case"IfStatement":return o.alternate!=null?o.alternate:o.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return o.body}return null}function a(o){var l;if(o.type!=="IfStatement"||o.alternate==null)return!1;l=o.consequent;do{if(l.type==="IfStatement"&&l.alternate==null)return!0;l=s(l)}while(l);return!1}Gm.exports={isExpression:i,isStatement:r,isIterationStatement:t,isSourceElement:n,isProblematicIfStatement:a,trailingStatement:s}}()),Gm.exports}var Hm={exports:{}},wE;function g3(){return wE||(wE=1,function(){var i,t,r,n,s,a;t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},i={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function o(A){return 48<=A&&A<=57}function l(A){return 48<=A&&A<=57||97<=A&&A<=102||65<=A&&A<=70}function d(A){return A>=48&&A<=55}r=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function p(A){return A===32||A===9||A===11||A===12||A===160||A>=5760&&r.indexOf(A)>=0}function g(A){return A===10||A===13||A===8232||A===8233}function y(A){if(A<=65535)return String.fromCharCode(A);var P=String.fromCharCode(Math.floor((A-65536)/1024)+55296),D=String.fromCharCode((A-65536)%1024+56320);return P+D}for(n=new Array(128),a=0;a<128;++a)n[a]=a>=97&&a<=122||a>=65&&a<=90||a===36||a===95;for(s=new Array(128),a=0;a<128;++a)s[a]=a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||a===36||a===95;function x(A){return A<128?n[A]:t.NonAsciiIdentifierStart.test(y(A))}function S(A){return A<128?s[A]:t.NonAsciiIdentifierPart.test(y(A))}function _(A){return A<128?n[A]:i.NonAsciiIdentifierStart.test(y(A))}function w(A){return A<128?s[A]:i.NonAsciiIdentifierPart.test(y(A))}Hm.exports={isDecimalDigit:o,isHexDigit:l,isOctalDigit:d,isWhiteSpace:p,isLineTerminator:g,isIdentifierStartES5:x,isIdentifierPartES5:S,isIdentifierStartES6:_,isIdentifierPartES6:w}}()),Hm.exports}var qm={exports:{}},EE;function i6(){return EE||(EE=1,function(){var i=g3();function t(x){switch(x){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function r(x,S){return!S&&x==="yield"?!1:n(x,S)}function n(x,S){if(S&&t(x))return!0;switch(x.length){case 2:return x==="if"||x==="in"||x==="do";case 3:return x==="var"||x==="for"||x==="new"||x==="try";case 4:return x==="this"||x==="else"||x==="case"||x==="void"||x==="with"||x==="enum";case 5:return x==="while"||x==="break"||x==="catch"||x==="throw"||x==="const"||x==="yield"||x==="class"||x==="super";case 6:return x==="return"||x==="typeof"||x==="delete"||x==="switch"||x==="export"||x==="import";case 7:return x==="default"||x==="finally"||x==="extends";case 8:return x==="function"||x==="continue"||x==="debugger";case 10:return x==="instanceof";default:return!1}}function s(x,S){return x==="null"||x==="true"||x==="false"||r(x,S)}function a(x,S){return x==="null"||x==="true"||x==="false"||n(x,S)}function o(x){return x==="eval"||x==="arguments"}function l(x){var S,_,w;if(x.length===0||(w=x.charCodeAt(0),!i.isIdentifierStartES5(w)))return!1;for(S=1,_=x.length;S<_;++S)if(w=x.charCodeAt(S),!i.isIdentifierPartES5(w))return!1;return!0}function d(x,S){return(x-55296)*1024+(S-56320)+65536}function p(x){var S,_,w,A,P;if(x.length===0)return!1;for(P=i.isIdentifierStartES6,S=0,_=x.length;S<_;++S){if(w=x.charCodeAt(S),55296<=w&&w<=56319){if(++S,S>=_||(A=x.charCodeAt(S),!(56320<=A&&A<=57343)))return!1;w=d(w,A)}if(!P(w))return!1;P=i.isIdentifierPartES6}return!0}function g(x,S){return l(x)&&!s(x,S)}function y(x,S){return p(x)&&!a(x,S)}qm.exports={isKeywordES5:r,isKeywordES6:n,isReservedWordES5:s,isReservedWordES6:a,isRestrictedWord:o,isIdentifierNameES5:l,isIdentifierNameES6:p,isIdentifierES5:g,isIdentifierES6:y}}()),qm.exports}var CE;function s6(){return CE||(CE=1,function(){Dc.ast=n6(),Dc.code=g3(),Dc.keyword=i6()}()),Dc}var Tc={},$m={},ud={},ld={},AE;function a6(){if(AE)return ld;AE=1;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return ld.encode=function(t){if(0<=t&&t<i.length)return i[t];throw new TypeError("Must be between 0 and 63: "+t)},ld.decode=function(t){var r=65,n=90,s=97,a=122,o=48,l=57,d=43,p=47,g=26,y=52;return r<=t&&t<=n?t-r:s<=t&&t<=a?t-s+g:o<=t&&t<=l?t-o+y:t==d?62:t==p?63:-1},ld}var DE;function m3(){if(DE)return ud;DE=1;var i=a6(),t=5,r=1<<t,n=r-1,s=r;function a(l){return l<0?(-l<<1)+1:(l<<1)+0}function o(l){var d=(l&1)===1,p=l>>1;return d?-p:p}return ud.encode=function(d){var p="",g,y=a(d);do g=y&n,y>>>=t,y>0&&(g|=s),p+=i.encode(g);while(y>0);return p},ud.decode=function(d,p,g){var y=d.length,x=0,S=0,_,w;do{if(p>=y)throw new Error("Expected more digits in base 64 VLQ value.");if(w=i.decode(d.charCodeAt(p++)),w===-1)throw new Error("Invalid base64 digit: "+d.charAt(p-1));_=!!(w&s),w&=n,x=x+(w<<S),S+=t}while(_);g.value=o(x),g.rest=p},ud}var Wm={},TE;function Rh(){return TE||(TE=1,function(i){function t(F,T,U){if(T in F)return F[T];if(arguments.length===3)return U;throw new Error('"'+T+'" is a required argument.')}i.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function s(F){var T=F.match(r);return T?{scheme:T[1],auth:T[2],host:T[3],port:T[4],path:T[5]}:null}i.urlParse=s;function a(F){var T="";return F.scheme&&(T+=F.scheme+":"),T+="//",F.auth&&(T+=F.auth+"@"),F.host&&(T+=F.host),F.port&&(T+=":"+F.port),F.path&&(T+=F.path),T}i.urlGenerate=a;function o(F){var T=F,U=s(F);if(U){if(!U.path)return F;T=U.path}for(var k=i.isAbsolute(T),B=T.split(/\/+/),L,V=0,H=B.length-1;H>=0;H--)L=B[H],L==="."?B.splice(H,1):L===".."?V++:V>0&&(L===""?(B.splice(H+1,V),V=0):(B.splice(H,2),V--));return T=B.join("/"),T===""&&(T=k?"/":"."),U?(U.path=T,a(U)):T}i.normalize=o;function l(F,T){F===""&&(F="."),T===""&&(T=".");var U=s(T),k=s(F);if(k&&(F=k.path||"/"),U&&!U.scheme)return k&&(U.scheme=k.scheme),a(U);if(U||T.match(n))return T;if(k&&!k.host&&!k.path)return k.host=T,a(k);var B=T.charAt(0)==="/"?T:o(F.replace(/\/+$/,"")+"/"+T);return k?(k.path=B,a(k)):B}i.join=l,i.isAbsolute=function(F){return F.charAt(0)==="/"||r.test(F)};function d(F,T){F===""&&(F="."),F=F.replace(/\/$/,"");for(var U=0;T.indexOf(F+"/")!==0;){var k=F.lastIndexOf("/");if(k<0||(F=F.slice(0,k),F.match(/^([^\/]+:\/)?\/*$/)))return T;++U}return Array(U+1).join("../")+T.substr(F.length+1)}i.relative=d;var p=function(){var F=Object.create(null);return!("__proto__"in F)}();function g(F){return F}function y(F){return S(F)?"$"+F:F}i.toSetString=p?g:y;function x(F){return S(F)?F.slice(1):F}i.fromSetString=p?g:x;function S(F){if(!F)return!1;var T=F.length;if(T<9||F.charCodeAt(T-1)!==95||F.charCodeAt(T-2)!==95||F.charCodeAt(T-3)!==111||F.charCodeAt(T-4)!==116||F.charCodeAt(T-5)!==111||F.charCodeAt(T-6)!==114||F.charCodeAt(T-7)!==112||F.charCodeAt(T-8)!==95||F.charCodeAt(T-9)!==95)return!1;for(var U=T-10;U>=0;U--)if(F.charCodeAt(U)!==36)return!1;return!0}function _(F,T,U){var k=A(F.source,T.source);return k!==0||(k=F.originalLine-T.originalLine,k!==0)||(k=F.originalColumn-T.originalColumn,k!==0||U)||(k=F.generatedColumn-T.generatedColumn,k!==0)||(k=F.generatedLine-T.generatedLine,k!==0)?k:A(F.name,T.name)}i.compareByOriginalPositions=_;function w(F,T,U){var k=F.generatedLine-T.generatedLine;return k!==0||(k=F.generatedColumn-T.generatedColumn,k!==0||U)||(k=A(F.source,T.source),k!==0)||(k=F.originalLine-T.originalLine,k!==0)||(k=F.originalColumn-T.originalColumn,k!==0)?k:A(F.name,T.name)}i.compareByGeneratedPositionsDeflated=w;function A(F,T){return F===T?0:F===null?1:T===null?-1:F>T?1:-1}function P(F,T){var U=F.generatedLine-T.generatedLine;return U!==0||(U=F.generatedColumn-T.generatedColumn,U!==0)||(U=A(F.source,T.source),U!==0)||(U=F.originalLine-T.originalLine,U!==0)||(U=F.originalColumn-T.originalColumn,U!==0)?U:A(F.name,T.name)}i.compareByGeneratedPositionsInflated=P;function D(F){return JSON.parse(F.replace(/^\)]}'[^\n]*\n/,""))}i.parseSourceMapInput=D;function R(F,T,U){if(T=T||"",F&&(F[F.length-1]!=="/"&&T[0]!=="/"&&(F+="/"),T=F+T),U){var k=s(U);if(!k)throw new Error("sourceMapURL could not be parsed");if(k.path){var B=k.path.lastIndexOf("/");B>=0&&(k.path=k.path.substring(0,B+1))}T=l(a(k),T)}return o(T)}i.computeSourceURL=R}(Wm)),Wm}var Ym={},NE;function y3(){if(NE)return Ym;NE=1;var i=Rh(),t=Object.prototype.hasOwnProperty,r=typeof Map<"u";function n(){this._array=[],this._set=r?new Map:Object.create(null)}return n.fromArray=function(a,o){for(var l=new n,d=0,p=a.length;d<p;d++)l.add(a[d],o);return l},n.prototype.size=function(){return r?this._set.size:Object.getOwnPropertyNames(this._set).length},n.prototype.add=function(a,o){var l=r?a:i.toSetString(a),d=r?this.has(a):t.call(this._set,l),p=this._array.length;(!d||o)&&this._array.push(a),d||(r?this._set.set(a,p):this._set[l]=p)},n.prototype.has=function(a){if(r)return this._set.has(a);var o=i.toSetString(a);return t.call(this._set,o)},n.prototype.indexOf=function(a){if(r){var o=this._set.get(a);if(o>=0)return o}else{var l=i.toSetString(a);if(t.call(this._set,l))return this._set[l]}throw new Error('"'+a+'" is not in the set.')},n.prototype.at=function(a){if(a>=0&&a<this._array.length)return this._array[a];throw new Error("No element indexed by "+a)},n.prototype.toArray=function(){return this._array.slice()},Ym.ArraySet=n,Ym}var Xm={},OE;function o6(){if(OE)return Xm;OE=1;var i=Rh();function t(n,s){var a=n.generatedLine,o=s.generatedLine,l=n.generatedColumn,d=s.generatedColumn;return o>a||o==a&&d>=l||i.compareByGeneratedPositionsInflated(n,s)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return r.prototype.unsortedForEach=function(s,a){this._array.forEach(s,a)},r.prototype.add=function(s){t(this._last,s)?(this._last=s,this._array.push(s)):(this._sorted=!1,this._array.push(s))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(i.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Xm.MappingList=r,Xm}var FE;function v3(){if(FE)return $m;FE=1;var i=m3(),t=Rh(),r=y3().ArraySet,n=o6().MappingList;function s(a){a||(a={}),this._file=t.getArg(a,"file",null),this._sourceRoot=t.getArg(a,"sourceRoot",null),this._skipValidation=t.getArg(a,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new n,this._sourcesContents=null}return s.prototype._version=3,s.fromSourceMap=function(o){var l=o.sourceRoot,d=new s({file:o.file,sourceRoot:l});return o.eachMapping(function(p){var g={generated:{line:p.generatedLine,column:p.generatedColumn}};p.source!=null&&(g.source=p.source,l!=null&&(g.source=t.relative(l,g.source)),g.original={line:p.originalLine,column:p.originalColumn},p.name!=null&&(g.name=p.name)),d.addMapping(g)}),o.sources.forEach(function(p){var g=p;l!==null&&(g=t.relative(l,p)),d._sources.has(g)||d._sources.add(g);var y=o.sourceContentFor(p);y!=null&&d.setSourceContent(p,y)}),d},s.prototype.addMapping=function(o){var l=t.getArg(o,"generated"),d=t.getArg(o,"original",null),p=t.getArg(o,"source",null),g=t.getArg(o,"name",null);this._skipValidation||this._validateMapping(l,d,p,g),p!=null&&(p=String(p),this._sources.has(p)||this._sources.add(p)),g!=null&&(g=String(g),this._names.has(g)||this._names.add(g)),this._mappings.add({generatedLine:l.line,generatedColumn:l.column,originalLine:d!=null&&d.line,originalColumn:d!=null&&d.column,source:p,name:g})},s.prototype.setSourceContent=function(o,l){var d=o;this._sourceRoot!=null&&(d=t.relative(this._sourceRoot,d)),l!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[t.toSetString(d)]=l):this._sourcesContents&&(delete this._sourcesContents[t.toSetString(d)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(o,l,d){var p=l;if(l==null){if(o.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);p=o.file}var g=this._sourceRoot;g!=null&&(p=t.relative(g,p));var y=new r,x=new r;this._mappings.unsortedForEach(function(S){if(S.source===p&&S.originalLine!=null){var _=o.originalPositionFor({line:S.originalLine,column:S.originalColumn});_.source!=null&&(S.source=_.source,d!=null&&(S.source=t.join(d,S.source)),g!=null&&(S.source=t.relative(g,S.source)),S.originalLine=_.line,S.originalColumn=_.column,_.name!=null&&(S.name=_.name))}var w=S.source;w!=null&&!y.has(w)&&y.add(w);var A=S.name;A!=null&&!x.has(A)&&x.add(A)},this),this._sources=y,this._names=x,o.sources.forEach(function(S){var _=o.sourceContentFor(S);_!=null&&(d!=null&&(S=t.join(d,S)),g!=null&&(S=t.relative(g,S)),this.setSourceContent(S,_))},this)},s.prototype._validateMapping=function(o,l,d,p){if(l&&typeof l.line!="number"&&typeof l.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(o&&"line"in o&&"column"in o&&o.line>0&&o.column>=0&&!l&&!d&&!p)){if(o&&"line"in o&&"column"in o&&l&&"line"in l&&"column"in l&&o.line>0&&o.column>=0&&l.line>0&&l.column>=0&&d)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:o,source:d,original:l,name:p}))}},s.prototype._serializeMappings=function(){for(var o=0,l=1,d=0,p=0,g=0,y=0,x="",S,_,w,A,P=this._mappings.toArray(),D=0,R=P.length;D<R;D++){if(_=P[D],S="",_.generatedLine!==l)for(o=0;_.generatedLine!==l;)S+=";",l++;else if(D>0){if(!t.compareByGeneratedPositionsInflated(_,P[D-1]))continue;S+=","}S+=i.encode(_.generatedColumn-o),o=_.generatedColumn,_.source!=null&&(A=this._sources.indexOf(_.source),S+=i.encode(A-y),y=A,S+=i.encode(_.originalLine-1-p),p=_.originalLine-1,S+=i.encode(_.originalColumn-d),d=_.originalColumn,_.name!=null&&(w=this._names.indexOf(_.name),S+=i.encode(w-g),g=w)),x+=S}return x},s.prototype._generateSourcesContent=function(o,l){return o.map(function(d){if(!this._sourcesContents)return null;l!=null&&(d=t.relative(l,d));var p=t.toSetString(d);return Object.prototype.hasOwnProperty.call(this._sourcesContents,p)?this._sourcesContents[p]:null},this)},s.prototype.toJSON=function(){var o={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(o.file=this._file),this._sourceRoot!=null&&(o.sourceRoot=this._sourceRoot),this._sourcesContents&&(o.sourcesContent=this._generateSourcesContent(o.sources,o.sourceRoot)),o},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},$m.SourceMapGenerator=s,$m}var Nc={},Zm={},RE;function u6(){return RE||(RE=1,function(i){i.GREATEST_LOWER_BOUND=1,i.LEAST_UPPER_BOUND=2;function t(r,n,s,a,o,l){var d=Math.floor((n-r)/2)+r,p=o(s,a[d],!0);return p===0?d:p>0?n-d>1?t(d,n,s,a,o,l):l==i.LEAST_UPPER_BOUND?n<a.length?n:-1:d:d-r>1?t(r,d,s,a,o,l):l==i.LEAST_UPPER_BOUND?d:r<0?-1:r}i.search=function(n,s,a,o){if(s.length===0)return-1;var l=t(-1,s.length,n,s,a,o||i.GREATEST_LOWER_BOUND);if(l<0)return-1;for(;l-1>=0&&a(s[l],s[l-1],!0)===0;)--l;return l}}(Zm)),Zm}var Km={},ME;function l6(){if(ME)return Km;ME=1;function i(n,s,a){var o=n[s];n[s]=n[a],n[a]=o}function t(n,s){return Math.round(n+Math.random()*(s-n))}function r(n,s,a,o){if(a<o){var l=t(a,o),d=a-1;i(n,l,o);for(var p=n[o],g=a;g<o;g++)s(n[g],p)<=0&&(d+=1,i(n,d,g));i(n,d+1,g);var y=d+1;r(n,s,a,y-1),r(n,s,y+1,o)}}return Km.quickSort=function(n,s){r(n,s,0,n.length-1)},Km}var kE;function c6(){if(kE)return Nc;kE=1;var i=Rh(),t=u6(),r=y3().ArraySet,n=m3(),s=l6().quickSort;function a(p,g){var y=p;return typeof p=="string"&&(y=i.parseSourceMapInput(p)),y.sections!=null?new d(y,g):new o(y,g)}a.fromSourceMap=function(p,g){return o.fromSourceMap(p,g)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=function(g,y){var x=g.charAt(y);return x===";"||x===","},a.prototype._parseMappings=function(g,y){throw new Error("Subclasses must implement _parseMappings")},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=function(g,y,x){var S=y||null,_=x||a.GENERATED_ORDER,w;switch(_){case a.GENERATED_ORDER:w=this._generatedMappings;break;case a.ORIGINAL_ORDER:w=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var A=this.sourceRoot;w.map(function(P){var D=P.source===null?null:this._sources.at(P.source);return D=i.computeSourceURL(A,D,this._sourceMapURL),{source:D,generatedLine:P.generatedLine,generatedColumn:P.generatedColumn,originalLine:P.originalLine,originalColumn:P.originalColumn,name:P.name===null?null:this._names.at(P.name)}},this).forEach(g,S)},a.prototype.allGeneratedPositionsFor=function(g){var y=i.getArg(g,"line"),x={source:i.getArg(g,"source"),originalLine:y,originalColumn:i.getArg(g,"column",0)};if(x.source=this._findSourceIndex(x.source),x.source<0)return[];var S=[],_=this._findMapping(x,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions,t.LEAST_UPPER_BOUND);if(_>=0){var w=this._originalMappings[_];if(g.column===void 0)for(var A=w.originalLine;w&&w.originalLine===A;)S.push({line:i.getArg(w,"generatedLine",null),column:i.getArg(w,"generatedColumn",null),lastColumn:i.getArg(w,"lastGeneratedColumn",null)}),w=this._originalMappings[++_];else for(var P=w.originalColumn;w&&w.originalLine===y&&w.originalColumn==P;)S.push({line:i.getArg(w,"generatedLine",null),column:i.getArg(w,"generatedColumn",null),lastColumn:i.getArg(w,"lastGeneratedColumn",null)}),w=this._originalMappings[++_]}return S},Nc.SourceMapConsumer=a;function o(p,g){var y=p;typeof p=="string"&&(y=i.parseSourceMapInput(p));var x=i.getArg(y,"version"),S=i.getArg(y,"sources"),_=i.getArg(y,"names",[]),w=i.getArg(y,"sourceRoot",null),A=i.getArg(y,"sourcesContent",null),P=i.getArg(y,"mappings"),D=i.getArg(y,"file",null);if(x!=this._version)throw new Error("Unsupported version: "+x);w&&(w=i.normalize(w)),S=S.map(String).map(i.normalize).map(function(R){return w&&i.isAbsolute(w)&&i.isAbsolute(R)?i.relative(w,R):R}),this._names=r.fromArray(_.map(String),!0),this._sources=r.fromArray(S,!0),this._absoluteSources=this._sources.toArray().map(function(R){return i.computeSourceURL(w,R,g)}),this.sourceRoot=w,this.sourcesContent=A,this._mappings=P,this._sourceMapURL=g,this.file=D}o.prototype=Object.create(a.prototype),o.prototype.consumer=a,o.prototype._findSourceIndex=function(p){var g=p;if(this.sourceRoot!=null&&(g=i.relative(this.sourceRoot,g)),this._sources.has(g))return this._sources.indexOf(g);var y;for(y=0;y<this._absoluteSources.length;++y)if(this._absoluteSources[y]==p)return y;return-1},o.fromSourceMap=function(g,y){var x=Object.create(o.prototype),S=x._names=r.fromArray(g._names.toArray(),!0),_=x._sources=r.fromArray(g._sources.toArray(),!0);x.sourceRoot=g._sourceRoot,x.sourcesContent=g._generateSourcesContent(x._sources.toArray(),x.sourceRoot),x.file=g._file,x._sourceMapURL=y,x._absoluteSources=x._sources.toArray().map(function(U){return i.computeSourceURL(x.sourceRoot,U,y)});for(var w=g._mappings.toArray().slice(),A=x.__generatedMappings=[],P=x.__originalMappings=[],D=0,R=w.length;D<R;D++){var F=w[D],T=new l;T.generatedLine=F.generatedLine,T.generatedColumn=F.generatedColumn,F.source&&(T.source=_.indexOf(F.source),T.originalLine=F.originalLine,T.originalColumn=F.originalColumn,F.name&&(T.name=S.indexOf(F.name)),P.push(T)),A.push(T)}return s(x.__originalMappings,i.compareByOriginalPositions),x},o.prototype._version=3,Object.defineProperty(o.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}o.prototype._parseMappings=function(g,y){for(var x=1,S=0,_=0,w=0,A=0,P=0,D=g.length,R=0,F={},T={},U=[],k=[],B,L,V,H,z;R<D;)if(g.charAt(R)===";")x++,R++,S=0;else if(g.charAt(R)===",")R++;else{for(B=new l,B.generatedLine=x,H=R;H<D&&!this._charIsMappingSeparator(g,H);H++);if(L=g.slice(R,H),V=F[L],V)R+=L.length;else{for(V=[];R<H;)n.decode(g,R,T),z=T.value,R=T.rest,V.push(z);if(V.length===2)throw new Error("Found a source, but no line and column");if(V.length===3)throw new Error("Found a source and line, but no column");F[L]=V}B.generatedColumn=S+V[0],S=B.generatedColumn,V.length>1&&(B.source=A+V[1],A+=V[1],B.originalLine=_+V[2],_=B.originalLine,B.originalLine+=1,B.originalColumn=w+V[3],w=B.originalColumn,V.length>4&&(B.name=P+V[4],P+=V[4])),k.push(B),typeof B.originalLine=="number"&&U.push(B)}s(k,i.compareByGeneratedPositionsDeflated),this.__generatedMappings=k,s(U,i.compareByOriginalPositions),this.__originalMappings=U},o.prototype._findMapping=function(g,y,x,S,_,w){if(g[x]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+g[x]);if(g[S]<0)throw new TypeError("Column must be greater than or equal to 0, got "+g[S]);return t.search(g,y,_,w)},o.prototype.computeColumnSpans=function(){for(var g=0;g<this._generatedMappings.length;++g){var y=this._generatedMappings[g];if(g+1<this._generatedMappings.length){var x=this._generatedMappings[g+1];if(y.generatedLine===x.generatedLine){y.lastGeneratedColumn=x.generatedColumn-1;continue}}y.lastGeneratedColumn=1/0}},o.prototype.originalPositionFor=function(g){var y={generatedLine:i.getArg(g,"line"),generatedColumn:i.getArg(g,"column")},x=this._findMapping(y,this._generatedMappings,"generatedLine","generatedColumn",i.compareByGeneratedPositionsDeflated,i.getArg(g,"bias",a.GREATEST_LOWER_BOUND));if(x>=0){var S=this._generatedMappings[x];if(S.generatedLine===y.generatedLine){var _=i.getArg(S,"source",null);_!==null&&(_=this._sources.at(_),_=i.computeSourceURL(this.sourceRoot,_,this._sourceMapURL));var w=i.getArg(S,"name",null);return w!==null&&(w=this._names.at(w)),{source:_,line:i.getArg(S,"originalLine",null),column:i.getArg(S,"originalColumn",null),name:w}}}return{source:null,line:null,column:null,name:null}},o.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(g){return g==null}):!1},o.prototype.sourceContentFor=function(g,y){if(!this.sourcesContent)return null;var x=this._findSourceIndex(g);if(x>=0)return this.sourcesContent[x];var S=g;this.sourceRoot!=null&&(S=i.relative(this.sourceRoot,S));var _;if(this.sourceRoot!=null&&(_=i.urlParse(this.sourceRoot))){var w=S.replace(/^file:\/\//,"");if(_.scheme=="file"&&this._sources.has(w))return this.sourcesContent[this._sources.indexOf(w)];if((!_.path||_.path=="/")&&this._sources.has("/"+S))return this.sourcesContent[this._sources.indexOf("/"+S)]}if(y)return null;throw new Error('"'+S+'" is not in the SourceMap.')},o.prototype.generatedPositionFor=function(g){var y=i.getArg(g,"source");if(y=this._findSourceIndex(y),y<0)return{line:null,column:null,lastColumn:null};var x={source:y,originalLine:i.getArg(g,"line"),originalColumn:i.getArg(g,"column")},S=this._findMapping(x,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions,i.getArg(g,"bias",a.GREATEST_LOWER_BOUND));if(S>=0){var _=this._originalMappings[S];if(_.source===x.source)return{line:i.getArg(_,"generatedLine",null),column:i.getArg(_,"generatedColumn",null),lastColumn:i.getArg(_,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},Nc.BasicSourceMapConsumer=o;function d(p,g){var y=p;typeof p=="string"&&(y=i.parseSourceMapInput(p));var x=i.getArg(y,"version"),S=i.getArg(y,"sections");if(x!=this._version)throw new Error("Unsupported version: "+x);this._sources=new r,this._names=new r;var _={line:-1,column:0};this._sections=S.map(function(w){if(w.url)throw new Error("Support for url field in sections not implemented.");var A=i.getArg(w,"offset"),P=i.getArg(A,"line"),D=i.getArg(A,"column");if(P<_.line||P===_.line&&D<_.column)throw new Error("Section offsets must be ordered and non-overlapping.");return _=A,{generatedOffset:{generatedLine:P+1,generatedColumn:D+1},consumer:new a(i.getArg(w,"map"),g)}})}return d.prototype=Object.create(a.prototype),d.prototype.constructor=a,d.prototype._version=3,Object.defineProperty(d.prototype,"sources",{get:function(){for(var p=[],g=0;g<this._sections.length;g++)for(var y=0;y<this._sections[g].consumer.sources.length;y++)p.push(this._sections[g].consumer.sources[y]);return p}}),d.prototype.originalPositionFor=function(g){var y={generatedLine:i.getArg(g,"line"),generatedColumn:i.getArg(g,"column")},x=t.search(y,this._sections,function(_,w){var A=_.generatedLine-w.generatedOffset.generatedLine;return A||_.generatedColumn-w.generatedOffset.generatedColumn}),S=this._sections[x];return S?S.consumer.originalPositionFor({line:y.generatedLine-(S.generatedOffset.generatedLine-1),column:y.generatedColumn-(S.generatedOffset.generatedLine===y.generatedLine?S.generatedOffset.generatedColumn-1:0),bias:g.bias}):{source:null,line:null,column:null,name:null}},d.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(g){return g.consumer.hasContentsOfAllSources()})},d.prototype.sourceContentFor=function(g,y){for(var x=0;x<this._sections.length;x++){var S=this._sections[x],_=S.consumer.sourceContentFor(g,!0);if(_)return _}if(y)return null;throw new Error('"'+g+'" is not in the SourceMap.')},d.prototype.generatedPositionFor=function(g){for(var y=0;y<this._sections.length;y++){var x=this._sections[y];if(x.consumer._findSourceIndex(i.getArg(g,"source"))!==-1){var S=x.consumer.generatedPositionFor(g);if(S){var _={line:S.line+(x.generatedOffset.generatedLine-1),column:S.column+(x.generatedOffset.generatedLine===S.line?x.generatedOffset.generatedColumn-1:0)};return _}}}return{line:null,column:null}},d.prototype._parseMappings=function(g,y){this.__generatedMappings=[],this.__originalMappings=[];for(var x=0;x<this._sections.length;x++)for(var S=this._sections[x],_=S.consumer._generatedMappings,w=0;w<_.length;w++){var A=_[w],P=S.consumer._sources.at(A.source);P=i.computeSourceURL(S.consumer.sourceRoot,P,this._sourceMapURL),this._sources.add(P),P=this._sources.indexOf(P);var D=null;A.name&&(D=S.consumer._names.at(A.name),this._names.add(D),D=this._names.indexOf(D));var R={source:P,generatedLine:A.generatedLine+(S.generatedOffset.generatedLine-1),generatedColumn:A.generatedColumn+(S.generatedOffset.generatedLine===A.generatedLine?S.generatedOffset.generatedColumn-1:0),originalLine:A.originalLine,originalColumn:A.originalColumn,name:D};this.__generatedMappings.push(R),typeof R.originalLine=="number"&&this.__originalMappings.push(R)}s(this.__generatedMappings,i.compareByGeneratedPositionsDeflated),s(this.__originalMappings,i.compareByOriginalPositions)},Nc.IndexedSourceMapConsumer=d,Nc}var Qm={},PE;function h6(){if(PE)return Qm;PE=1;var i=v3().SourceMapGenerator,t=Rh(),r=/(\r?\n)/,n=10,s="$$$isSourceNode$$$";function a(o,l,d,p,g){this.children=[],this.sourceContents={},this.line=o??null,this.column=l??null,this.source=d??null,this.name=g??null,this[s]=!0,p!=null&&this.add(p)}return a.fromStringWithSourceMap=function(l,d,p){var g=new a,y=l.split(r),x=0,S=function(){var D=F(),R=F()||"";return D+R;function F(){return x<y.length?y[x++]:void 0}},_=1,w=0,A=null;return d.eachMapping(function(D){if(A!==null)if(_<D.generatedLine)P(A,S()),_++,w=0;else{var R=y[x]||"",F=R.substr(0,D.generatedColumn-w);y[x]=R.substr(D.generatedColumn-w),w=D.generatedColumn,P(A,F),A=D;return}for(;_<D.generatedLine;)g.add(S()),_++;if(w<D.generatedColumn){var R=y[x]||"";g.add(R.substr(0,D.generatedColumn)),y[x]=R.substr(D.generatedColumn),w=D.generatedColumn}A=D},this),x<y.length&&(A&&P(A,S()),g.add(y.splice(x).join(""))),d.sources.forEach(function(D){var R=d.sourceContentFor(D);R!=null&&(p!=null&&(D=t.join(p,D)),g.setSourceContent(D,R))}),g;function P(D,R){if(D===null||D.source===void 0)g.add(R);else{var F=p?t.join(p,D.source):D.source;g.add(new a(D.originalLine,D.originalColumn,F,R,D.name))}}},a.prototype.add=function(l){if(Array.isArray(l))l.forEach(function(d){this.add(d)},this);else if(l[s]||typeof l=="string")l&&this.children.push(l);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},a.prototype.prepend=function(l){if(Array.isArray(l))for(var d=l.length-1;d>=0;d--)this.prepend(l[d]);else if(l[s]||typeof l=="string")this.children.unshift(l);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+l);return this},a.prototype.walk=function(l){for(var d,p=0,g=this.children.length;p<g;p++)d=this.children[p],d[s]?d.walk(l):d!==""&&l(d,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(l){var d,p,g=this.children.length;if(g>0){for(d=[],p=0;p<g-1;p++)d.push(this.children[p]),d.push(l);d.push(this.children[p]),this.children=d}return this},a.prototype.replaceRight=function(l,d){var p=this.children[this.children.length-1];return p[s]?p.replaceRight(l,d):typeof p=="string"?this.children[this.children.length-1]=p.replace(l,d):this.children.push("".replace(l,d)),this},a.prototype.setSourceContent=function(l,d){this.sourceContents[t.toSetString(l)]=d},a.prototype.walkSourceContents=function(l){for(var d=0,p=this.children.length;d<p;d++)this.children[d][s]&&this.children[d].walkSourceContents(l);for(var g=Object.keys(this.sourceContents),d=0,p=g.length;d<p;d++)l(t.fromSetString(g[d]),this.sourceContents[g[d]])},a.prototype.toString=function(){var l="";return this.walk(function(d){l+=d}),l},a.prototype.toStringWithSourceMap=function(l){var d={code:"",line:1,column:0},p=new i(l),g=!1,y=null,x=null,S=null,_=null;return this.walk(function(w,A){d.code+=w,A.source!==null&&A.line!==null&&A.column!==null?((y!==A.source||x!==A.line||S!==A.column||_!==A.name)&&p.addMapping({source:A.source,original:{line:A.line,column:A.column},generated:{line:d.line,column:d.column},name:A.name}),y=A.source,x=A.line,S=A.column,_=A.name,g=!0):g&&(p.addMapping({generated:{line:d.line,column:d.column}}),y=null,g=!1);for(var P=0,D=w.length;P<D;P++)w.charCodeAt(P)===n?(d.line++,d.column=0,P+1===D?(y=null,g=!1):g&&p.addMapping({source:A.source,original:{line:A.line,column:A.column},generated:{line:d.line,column:d.column},name:A.name})):d.column++}),this.walkSourceContents(function(w,A){p.setSourceContent(w,A)}),{code:d.code,map:p}},Qm.SourceNode=a,Qm}var LE;function f6(){return LE||(LE=1,Tc.SourceMapGenerator=v3().SourceMapGenerator,Tc.SourceMapConsumer=c6().SourceMapConsumer,Tc.SourceNode=h6().SourceNode),Tc}const d6="2.1.0",p6={version:d6};var IE;function g6(){return IE||(IE=1,function(i){(function(){var t,r,n,s,a,o,l,d,p,g,y,x,S,_,w,A,P,D,R,F,T,U,k,B,L,V;a=r6(),o=s6(),t=a.Syntax;function H(I){return pe.Expression.hasOwnProperty(I.type)}function z(I){return pe.Statement.hasOwnProperty(I.type)}r={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},n={"??":r.Coalesce,"||":r.LogicalOR,"&&":r.LogicalAND,"|":r.BitwiseOR,"^":r.BitwiseXOR,"&":r.BitwiseAND,"==":r.Equality,"!=":r.Equality,"===":r.Equality,"!==":r.Equality,is:r.Equality,isnt:r.Equality,"<":r.Relational,">":r.Relational,"<=":r.Relational,">=":r.Relational,in:r.Relational,instanceof:r.Relational,"<<":r.BitwiseSHIFT,">>":r.BitwiseSHIFT,">>>":r.BitwiseSHIFT,"+":r.Additive,"-":r.Additive,"*":r.Multiplicative,"%":r.Multiplicative,"/":r.Multiplicative,"**":r.Exponentiation};var G=1,K=2,le=4,ne=8,de=16,ve=32,xe=64,Q=K|le,oe=G|K,ae=G|K|le,ge=G,me=le,Ae=G|le,Ce=G,$e=G|ve,Ye=0,Le=G|de,Re=G|ne;function Ne(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function Ge(I,X){var W="";for(X|=0;X>0;X>>>=1,I+=I)X&1&&(W+=I);return W}function Xe(I){return/[\r\n]/g.test(I)}function Be(I){var X=I.length;return X&&o.code.isLineTerminator(I.charCodeAt(X-1))}function se(I,X){var W;for(W in X)X.hasOwnProperty(W)&&(I[W]=X[W]);return I}function te(I,X){var W,Y;function ie(Fe){return typeof Fe=="object"&&Fe instanceof Object&&!(Fe instanceof RegExp)}for(W in X)X.hasOwnProperty(W)&&(Y=X[W],ie(Y)?ie(I[W])?te(I[W],Y):I[W]=te({},Y):I[W]=Y);return I}function ce(I){var X,W,Y,ie,Fe;if(I!==I)throw new Error("Numeric literal whose value is NaN");if(I<0||I===0&&1/I<0)throw new Error("Numeric literal whose value is negative");if(I===1/0)return p?"null":g?"1e400":"1e+400";if(X=""+I,!g||X.length<3)return X;for(W=X.indexOf("."),!p&&X.charCodeAt(0)===48&&W===1&&(W=0,X=X.slice(1)),Y=X,X=X.replace("e+","e"),ie=0,(Fe=Y.indexOf("e"))>0&&(ie=+Y.slice(Fe+1),Y=Y.slice(0,Fe)),W>=0&&(ie-=Y.length-W-1,Y=+(Y.slice(0,W)+Y.slice(W+1))+""),Fe=0;Y.charCodeAt(Y.length+Fe-1)===48;)--Fe;return Fe!==0&&(ie-=Fe,Y=Y.slice(0,Fe)),ie!==0&&(Y+="e"+ie),(Y.length<X.length||y&&I>1e12&&Math.floor(I)===I&&(Y="0x"+I.toString(16)).length<X.length)&&+Y===I&&(X=Y),X}function _e(I,X){return(I&-2)===8232?(X?"u":"\\u")+(I===8232?"2028":"2029"):I===10||I===13?(X?"":"\\")+(I===10?"n":"r"):String.fromCharCode(I)}function Me(I){var X,W,Y,ie,Fe,Ie,We,at;if(W=I.toString(),I.source){if(X=W.match(/\/([^/]*)$/),!X)return W;for(Y=X[1],W="",We=!1,at=!1,ie=0,Fe=I.source.length;ie<Fe;++ie)Ie=I.source.charCodeAt(ie),at?(W+=_e(Ie,at),at=!1):(We?Ie===93&&(We=!1):Ie===47?W+="\\":Ie===91&&(We=!0),W+=_e(Ie,at),at=Ie===92);return"/"+W+"/"+Y}return W}function Te(I,X){var W;return I===8?"\\b":I===12?"\\f":I===9?"\\t":(W=I.toString(16).toUpperCase(),p||I>255?"\\u"+"0000".slice(W.length)+W:I===0&&!o.code.isDecimalDigit(X)?"\\0":I===11?"\\x0B":"\\x"+"00".slice(W.length)+W)}function rt(I){if(I===92)return"\\\\";if(I===10)return"\\n";if(I===13)return"\\r";if(I===8232)return"\\u2028";if(I===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function tt(I){var X,W,Y,ie;for(ie=x==="double"?'"':"'",X=0,W=I.length;X<W;++X)if(Y=I.charCodeAt(X),Y===39){ie='"';break}else if(Y===34){ie="'";break}else Y===92&&++X;return ie+I+ie}function ct(I){var X="",W,Y,ie,Fe=0,Ie=0,We,at;for(W=0,Y=I.length;W<Y;++W){if(ie=I.charCodeAt(W),ie===39)++Fe;else if(ie===34)++Ie;else if(ie===47&&p)X+="\\";else if(o.code.isLineTerminator(ie)||ie===92){X+=rt(ie);continue}else if(!o.code.isIdentifierPartES5(ie)&&(p&&ie<32||!p&&!S&&(ie<32||ie>126))){X+=Te(ie,I.charCodeAt(W+1));continue}X+=String.fromCharCode(ie)}if(We=!(x==="double"||x==="auto"&&Ie<Fe),at=We?"'":'"',!(We?Fe:Ie))return at+X+at;for(I=X,X=at,W=0,Y=I.length;W<Y;++W)ie=I.charCodeAt(W),(ie===39&&We||ie===34&&!We)&&(X+="\\"),X+=String.fromCharCode(ie);return X+at}function wt(I){var X,W,Y,ie="";for(X=0,W=I.length;X<W;++X)Y=I[X],ie+=Array.isArray(Y)?wt(Y):Y;return ie}function st(I,X){if(!U)return Array.isArray(I)?wt(I):I;if(X==null){if(I instanceof s)return I;X={}}return X.loc==null?new s(null,null,U,I,X.name||null):new s(X.loc.start.line,X.loc.start.column,U===!0?X.loc.source||null:U,I,X.name||null)}function Mt(){return w||" "}function et(I,X){var W,Y,ie,Fe;return W=st(I).toString(),W.length===0?[X]:(Y=st(X).toString(),Y.length===0?[I]:(ie=W.charCodeAt(W.length-1),Fe=Y.charCodeAt(0),(ie===43||ie===45)&&ie===Fe||o.code.isIdentifierPartES5(ie)&&o.code.isIdentifierPartES5(Fe)||ie===47&&Fe===105?[I,Mt(),X]:o.code.isWhiteSpace(ie)||o.code.isLineTerminator(ie)||o.code.isWhiteSpace(Fe)||o.code.isLineTerminator(Fe)?[I,X]:[I,w,X]))}function mt(I){return[l,I]}function pt(I){var X;X=l,l+=d,I(l),l=X}function $r(I){var X;for(X=I.length-1;X>=0&&!o.code.isLineTerminator(I.charCodeAt(X));--X);return I.length-1-X}function Wr(I,X){var W,Y,ie,Fe,Ie,We,at,Gt;for(W=I.split(/\r\n|[\r\n]/),We=Number.MAX_VALUE,Y=1,ie=W.length;Y<ie;++Y){for(Fe=W[Y],Ie=0;Ie<Fe.length&&o.code.isWhiteSpace(Fe.charCodeAt(Ie));)++Ie;We>Ie&&(We=Ie)}for(typeof X<"u"?(at=l,W[1][We]==="*"&&(X+=" "),l=X):(We&1&&--We,at=l),Y=1,ie=W.length;Y<ie;++Y)Gt=st(mt(W[Y].slice(We))),W[Y]=U?Gt.join(""):Gt;return l=at,W.join(`
`)}function Qt(I,X){if(I.type==="Line"){if(Be(I.value))return"//"+I.value;var W="//"+I.value;return B||(W+=`
`),W}return F.format.indent.adjustMultilineComment&&/[\n\r]/.test(I.value)?Wr("/*"+I.value+"*/",X):"/*"+I.value+"*/"}function jr(I,X){var W,Y,ie,Fe,Ie,We,at,Gt,zr,hs,fs,Xs,zo,xn;if(I.leadingComments&&I.leadingComments.length>0){if(Fe=X,B){for(ie=I.leadingComments[0],X=[],Gt=ie.extendedRange,zr=ie.range,fs=k.substring(Gt[0],zr[0]),xn=(fs.match(/\n/g)||[]).length,xn>0?(X.push(Ge(`
`,xn)),X.push(mt(Qt(ie)))):(X.push(fs),X.push(Qt(ie))),hs=zr,W=1,Y=I.leadingComments.length;W<Y;W++)ie=I.leadingComments[W],zr=ie.range,Xs=k.substring(hs[1],zr[0]),xn=(Xs.match(/\n/g)||[]).length,X.push(Ge(`
`,xn)),X.push(mt(Qt(ie))),hs=zr;zo=k.substring(zr[1],Gt[1]),xn=(zo.match(/\n/g)||[]).length,X.push(Ge(`
`,xn))}else for(ie=I.leadingComments[0],X=[],D&&I.type===t.Program&&I.body.length===0&&X.push(`
`),X.push(Qt(ie)),Be(st(X).toString())||X.push(`
`),W=1,Y=I.leadingComments.length;W<Y;++W)ie=I.leadingComments[W],at=[Qt(ie)],Be(st(at).toString())||at.push(`
`),X.push(mt(at));X.push(mt(Fe))}if(I.trailingComments)if(B)ie=I.trailingComments[0],Gt=ie.extendedRange,zr=ie.range,fs=k.substring(Gt[0],zr[0]),xn=(fs.match(/\n/g)||[]).length,xn>0?(X.push(Ge(`
`,xn)),X.push(mt(Qt(ie)))):(X.push(fs),X.push(Qt(ie)));else for(Ie=!Be(st(X).toString()),We=Ge(" ",$r(st([l,X,d]).toString())),W=0,Y=I.trailingComments.length;W<Y;++W)ie=I.trailingComments[W],Ie?(W===0?X=[X,d]:X=[X,We],X.push(Qt(ie,We))):X=[X,mt(Qt(ie))],W!==Y-1&&!Be(st(X).toString())&&(X=[X,`
`]);return X}function j(I,X,W){var Y,ie=0;for(Y=I;Y<X;Y++)k[Y]===`
`&&ie++;for(Y=1;Y<ie;Y++)W.push(_)}function Z(I,X,W){return X<W?["(",I,")"]:I}function re(I){var X,W,Y;for(Y=I.split(/\r\n|\n/),X=1,W=Y.length;X<W;X++)Y[X]=_+l+Y[X];return Y}function ue(I,X){var W,Y,ie;return W=I[F.verbatim],typeof W=="string"?Y=Z(re(W),r.Sequence,X):(Y=re(W.content),ie=W.precedence!=null?W.precedence:r.Sequence,Y=Z(Y,ie,X)),st(Y,I)}function pe(){}pe.prototype.maybeBlock=function(I,X){var W,Y,ie=this;return Y=!F.comment||!I.leadingComments,I.type===t.BlockStatement&&Y?[w,this.generateStatement(I,X)]:I.type===t.EmptyStatement&&Y?";":(pt(function(){W=[_,mt(ie.generateStatement(I,X))]}),W)},pe.prototype.maybeBlockSuffix=function(I,X){var W=Be(st(X).toString());return I.type===t.BlockStatement&&(!F.comment||!I.leadingComments)&&!W?[X,w]:W?[X,l]:[X,_,l]};function Pe(I){return st(I.name,I)}function je(I,X){return I.async?"async"+(X?Mt():w):""}function it(I){var X=I.generator&&!F.moz.starlessGenerator;return X?"*"+w:""}function vt(I){var X=I.value,W="";return X.async&&(W+=je(X,!I.computed)),X.generator&&(W+=it(X)?"*":""),W}pe.prototype.generatePattern=function(I,X,W){return I.type===t.Identifier?Pe(I):this.generateExpression(I,X,W)},pe.prototype.generateFunctionParams=function(I){var X,W,Y,ie;if(ie=!1,I.type===t.ArrowFunctionExpression&&!I.rest&&(!I.defaults||I.defaults.length===0)&&I.params.length===1&&I.params[0].type===t.Identifier)Y=[je(I,!0),Pe(I.params[0])];else{for(Y=I.type===t.ArrowFunctionExpression?[je(I,!1)]:[],Y.push("("),I.defaults&&(ie=!0),X=0,W=I.params.length;X<W;++X)ie&&I.defaults[X]?Y.push(this.generateAssignment(I.params[X],I.defaults[X],"=",r.Assignment,ae)):Y.push(this.generatePattern(I.params[X],r.Assignment,ae)),X+1<W&&Y.push(","+w);I.rest&&(I.params.length&&Y.push(","+w),Y.push("..."),Y.push(Pe(I.rest))),Y.push(")")}return Y},pe.prototype.generateFunctionBody=function(I){var X,W;return X=this.generateFunctionParams(I),I.type===t.ArrowFunctionExpression&&(X.push(w),X.push("=>")),I.expression?(X.push(w),W=this.generateExpression(I.body,r.Assignment,ae),W.toString().charAt(0)==="{"&&(W=["(",W,")"]),X.push(W)):X.push(this.maybeBlock(I.body,Re)),X},pe.prototype.generateIterationForStatement=function(I,X,W){var Y=["for"+(X.await?Mt()+"await":"")+w+"("],ie=this;return pt(function(){X.left.type===t.VariableDeclaration?pt(function(){Y.push(X.left.kind+Mt()),Y.push(ie.generateStatement(X.left.declarations[0],Ye))}):Y.push(ie.generateExpression(X.left,r.Call,ae)),Y=et(Y,I),Y=[et(Y,ie.generateExpression(X.right,r.Assignment,ae)),")"]}),Y.push(this.maybeBlock(X.body,W)),Y},pe.prototype.generatePropertyKey=function(I,X){var W=[];return X&&W.push("["),W.push(this.generateExpression(I,r.Assignment,ae)),X&&W.push("]"),W},pe.prototype.generateAssignment=function(I,X,W,Y,ie){return r.Assignment<Y&&(ie|=G),Z([this.generateExpression(I,r.Call,ie),w+W+w,this.generateExpression(X,r.Assignment,ie)],r.Assignment,Y)},pe.prototype.semicolon=function(I){return!P&&I&ve?"":";"},pe.Statement={BlockStatement:function(I,X){var W,Y,ie=["{",_],Fe=this;return pt(function(){I.body.length===0&&B&&(W=I.range,W[1]-W[0]>2&&(Y=k.substring(W[0]+1,W[1]-1),Y[0]===`
`&&(ie=["{"]),ie.push(Y)));var Ie,We,at,Gt;for(Gt=Ce,X&ne&&(Gt|=de),Ie=0,We=I.body.length;Ie<We;++Ie)B&&(Ie===0&&(I.body[0].leadingComments&&(W=I.body[0].leadingComments[0].extendedRange,Y=k.substring(W[0],W[1]),Y[0]===`
`&&(ie=["{"])),I.body[0].leadingComments||j(I.range[0],I.body[0].range[0],ie)),Ie>0&&!I.body[Ie-1].trailingComments&&!I.body[Ie].leadingComments&&j(I.body[Ie-1].range[1],I.body[Ie].range[0],ie)),Ie===We-1&&(Gt|=ve),I.body[Ie].leadingComments&&B?at=Fe.generateStatement(I.body[Ie],Gt):at=mt(Fe.generateStatement(I.body[Ie],Gt)),ie.push(at),Be(st(at).toString())||B&&Ie<We-1&&I.body[Ie+1].leadingComments||ie.push(_),B&&Ie===We-1&&(I.body[Ie].trailingComments||j(I.body[Ie].range[1],I.range[1],ie))}),ie.push(mt("}")),ie},BreakStatement:function(I,X){return I.label?"break "+I.label.name+this.semicolon(X):"break"+this.semicolon(X)},ContinueStatement:function(I,X){return I.label?"continue "+I.label.name+this.semicolon(X):"continue"+this.semicolon(X)},ClassBody:function(I,X){var W=["{",_],Y=this;return pt(function(ie){var Fe,Ie;for(Fe=0,Ie=I.body.length;Fe<Ie;++Fe)W.push(ie),W.push(Y.generateExpression(I.body[Fe],r.Sequence,ae)),Fe+1<Ie&&W.push(_)}),Be(st(W).toString())||W.push(_),W.push(l),W.push("}"),W},ClassDeclaration:function(I,X){var W,Y;return W=["class"],I.id&&(W=et(W,this.generateExpression(I.id,r.Sequence,ae))),I.superClass&&(Y=et("extends",this.generateExpression(I.superClass,r.Unary,ae)),W=et(W,Y)),W.push(w),W.push(this.generateStatement(I.body,$e)),W},DirectiveStatement:function(I,X){return F.raw&&I.raw?I.raw+this.semicolon(X):tt(I.directive)+this.semicolon(X)},DoWhileStatement:function(I,X){var W=et("do",this.maybeBlock(I.body,Ce));return W=this.maybeBlockSuffix(I.body,W),et(W,["while"+w+"(",this.generateExpression(I.test,r.Sequence,ae),")"+this.semicolon(X)])},CatchClause:function(I,X){var W,Y=this;return pt(function(){var ie;I.param?(W=["catch"+w+"(",Y.generateExpression(I.param,r.Sequence,ae),")"],I.guard&&(ie=Y.generateExpression(I.guard,r.Sequence,ae),W.splice(2,0," if ",ie))):W=["catch"]}),W.push(this.maybeBlock(I.body,Ce)),W},DebuggerStatement:function(I,X){return"debugger"+this.semicolon(X)},EmptyStatement:function(I,X){return";"},ExportDefaultDeclaration:function(I,X){var W=["export"],Y;return Y=X&ve?$e:Ce,W=et(W,"default"),z(I.declaration)?W=et(W,this.generateStatement(I.declaration,Y)):W=et(W,this.generateExpression(I.declaration,r.Assignment,ae)+this.semicolon(X)),W},ExportNamedDeclaration:function(I,X){var W=["export"],Y,ie=this;return Y=X&ve?$e:Ce,I.declaration?et(W,this.generateStatement(I.declaration,Y)):(I.specifiers&&(I.specifiers.length===0?W=et(W,"{"+w+"}"):I.specifiers[0].type===t.ExportBatchSpecifier?W=et(W,this.generateExpression(I.specifiers[0],r.Sequence,ae)):(W=et(W,"{"),pt(function(Fe){var Ie,We;for(W.push(_),Ie=0,We=I.specifiers.length;Ie<We;++Ie)W.push(Fe),W.push(ie.generateExpression(I.specifiers[Ie],r.Sequence,ae)),Ie+1<We&&W.push(","+_)}),Be(st(W).toString())||W.push(_),W.push(l+"}")),I.source?W=et(W,["from"+w,this.generateExpression(I.source,r.Sequence,ae),this.semicolon(X)]):W.push(this.semicolon(X))),W)},ExportAllDeclaration:function(I,X){return["export"+w,"*"+w,"from"+w,this.generateExpression(I.source,r.Sequence,ae),this.semicolon(X)]},ExpressionStatement:function(I,X){var W,Y;function ie(We){var at;return We.slice(0,5)!=="class"?!1:(at=We.charCodeAt(5),at===123||o.code.isWhiteSpace(at)||o.code.isLineTerminator(at))}function Fe(We){var at;return We.slice(0,8)!=="function"?!1:(at=We.charCodeAt(8),at===40||o.code.isWhiteSpace(at)||at===42||o.code.isLineTerminator(at))}function Ie(We){var at,Gt,zr;if(We.slice(0,5)!=="async"||!o.code.isWhiteSpace(We.charCodeAt(5)))return!1;for(Gt=6,zr=We.length;Gt<zr&&o.code.isWhiteSpace(We.charCodeAt(Gt));++Gt);return Gt===zr||We.slice(Gt,Gt+8)!=="function"?!1:(at=We.charCodeAt(Gt+8),at===40||o.code.isWhiteSpace(at)||at===42||o.code.isLineTerminator(at))}return W=[this.generateExpression(I.expression,r.Sequence,ae)],Y=st(W).toString(),Y.charCodeAt(0)===123||ie(Y)||Fe(Y)||Ie(Y)||R&&X&de&&I.expression.type===t.Literal&&typeof I.expression.value=="string"?W=["(",W,")"+this.semicolon(X)]:W.push(this.semicolon(X)),W},ImportDeclaration:function(I,X){var W,Y,ie=this;return I.specifiers.length===0?["import",w,this.generateExpression(I.source,r.Sequence,ae),this.semicolon(X)]:(W=["import"],Y=0,I.specifiers[Y].type===t.ImportDefaultSpecifier&&(W=et(W,[this.generateExpression(I.specifiers[Y],r.Sequence,ae)]),++Y),I.specifiers[Y]&&(Y!==0&&W.push(","),I.specifiers[Y].type===t.ImportNamespaceSpecifier?W=et(W,[w,this.generateExpression(I.specifiers[Y],r.Sequence,ae)]):(W.push(w+"{"),I.specifiers.length-Y===1?(W.push(w),W.push(this.generateExpression(I.specifiers[Y],r.Sequence,ae)),W.push(w+"}"+w)):(pt(function(Fe){var Ie,We;for(W.push(_),Ie=Y,We=I.specifiers.length;Ie<We;++Ie)W.push(Fe),W.push(ie.generateExpression(I.specifiers[Ie],r.Sequence,ae)),Ie+1<We&&W.push(","+_)}),Be(st(W).toString())||W.push(_),W.push(l+"}"+w)))),W=et(W,["from"+w,this.generateExpression(I.source,r.Sequence,ae),this.semicolon(X)]),W)},VariableDeclarator:function(I,X){var W=X&G?ae:Q;return I.init?[this.generateExpression(I.id,r.Assignment,W),w,"=",w,this.generateExpression(I.init,r.Assignment,W)]:this.generatePattern(I.id,r.Assignment,W)},VariableDeclaration:function(I,X){var W,Y,ie,Fe,Ie,We=this;W=[I.kind],Ie=X&G?Ce:Ye;function at(){for(Fe=I.declarations[0],F.comment&&Fe.leadingComments?(W.push(`
`),W.push(mt(We.generateStatement(Fe,Ie)))):(W.push(Mt()),W.push(We.generateStatement(Fe,Ie))),Y=1,ie=I.declarations.length;Y<ie;++Y)Fe=I.declarations[Y],F.comment&&Fe.leadingComments?(W.push(","+_),W.push(mt(We.generateStatement(Fe,Ie)))):(W.push(","+w),W.push(We.generateStatement(Fe,Ie)))}return I.declarations.length>1?pt(at):at(),W.push(this.semicolon(X)),W},ThrowStatement:function(I,X){return[et("throw",this.generateExpression(I.argument,r.Sequence,ae)),this.semicolon(X)]},TryStatement:function(I,X){var W,Y,ie,Fe;if(W=["try",this.maybeBlock(I.block,Ce)],W=this.maybeBlockSuffix(I.block,W),I.handlers)for(Y=0,ie=I.handlers.length;Y<ie;++Y)W=et(W,this.generateStatement(I.handlers[Y],Ce)),(I.finalizer||Y+1!==ie)&&(W=this.maybeBlockSuffix(I.handlers[Y].body,W));else{for(Fe=I.guardedHandlers||[],Y=0,ie=Fe.length;Y<ie;++Y)W=et(W,this.generateStatement(Fe[Y],Ce)),(I.finalizer||Y+1!==ie)&&(W=this.maybeBlockSuffix(Fe[Y].body,W));if(I.handler)if(Array.isArray(I.handler))for(Y=0,ie=I.handler.length;Y<ie;++Y)W=et(W,this.generateStatement(I.handler[Y],Ce)),(I.finalizer||Y+1!==ie)&&(W=this.maybeBlockSuffix(I.handler[Y].body,W));else W=et(W,this.generateStatement(I.handler,Ce)),I.finalizer&&(W=this.maybeBlockSuffix(I.handler.body,W))}return I.finalizer&&(W=et(W,["finally",this.maybeBlock(I.finalizer,Ce)])),W},SwitchStatement:function(I,X){var W,Y,ie,Fe,Ie,We=this;if(pt(function(){W=["switch"+w+"(",We.generateExpression(I.discriminant,r.Sequence,ae),")"+w+"{"+_]}),I.cases)for(Ie=Ce,ie=0,Fe=I.cases.length;ie<Fe;++ie)ie===Fe-1&&(Ie|=ve),Y=mt(this.generateStatement(I.cases[ie],Ie)),W.push(Y),Be(st(Y).toString())||W.push(_);return W.push(mt("}")),W},SwitchCase:function(I,X){var W,Y,ie,Fe,Ie,We=this;return pt(function(){for(I.test?W=[et("case",We.generateExpression(I.test,r.Sequence,ae)),":"]:W=["default:"],ie=0,Fe=I.consequent.length,Fe&&I.consequent[0].type===t.BlockStatement&&(Y=We.maybeBlock(I.consequent[0],Ce),W.push(Y),ie=1),ie!==Fe&&!Be(st(W).toString())&&W.push(_),Ie=Ce;ie<Fe;++ie)ie===Fe-1&&X&ve&&(Ie|=ve),Y=mt(We.generateStatement(I.consequent[ie],Ie)),W.push(Y),ie+1!==Fe&&!Be(st(Y).toString())&&W.push(_)}),W},IfStatement:function(I,X){var W,Y,ie,Fe=this;return pt(function(){W=["if"+w+"(",Fe.generateExpression(I.test,r.Sequence,ae),")"]}),ie=X&ve,Y=Ce,ie&&(Y|=ve),I.alternate?(W.push(this.maybeBlock(I.consequent,Ce)),W=this.maybeBlockSuffix(I.consequent,W),I.alternate.type===t.IfStatement?W=et(W,["else ",this.generateStatement(I.alternate,Y)]):W=et(W,et("else",this.maybeBlock(I.alternate,Y)))):W.push(this.maybeBlock(I.consequent,Y)),W},ForStatement:function(I,X){var W,Y=this;return pt(function(){W=["for"+w+"("],I.init?I.init.type===t.VariableDeclaration?W.push(Y.generateStatement(I.init,Ye)):(W.push(Y.generateExpression(I.init,r.Sequence,Q)),W.push(";")):W.push(";"),I.test&&(W.push(w),W.push(Y.generateExpression(I.test,r.Sequence,ae))),W.push(";"),I.update&&(W.push(w),W.push(Y.generateExpression(I.update,r.Sequence,ae))),W.push(")")}),W.push(this.maybeBlock(I.body,X&ve?$e:Ce)),W},ForInStatement:function(I,X){return this.generateIterationForStatement("in",I,X&ve?$e:Ce)},ForOfStatement:function(I,X){return this.generateIterationForStatement("of",I,X&ve?$e:Ce)},LabeledStatement:function(I,X){return[I.label.name+":",this.maybeBlock(I.body,X&ve?$e:Ce)]},Program:function(I,X){var W,Y,ie,Fe,Ie;for(Fe=I.body.length,W=[D&&Fe>0?`
`:""],Ie=Le,ie=0;ie<Fe;++ie)!D&&ie===Fe-1&&(Ie|=ve),B&&(ie===0&&(I.body[0].leadingComments||j(I.range[0],I.body[ie].range[0],W)),ie>0&&!I.body[ie-1].trailingComments&&!I.body[ie].leadingComments&&j(I.body[ie-1].range[1],I.body[ie].range[0],W)),Y=mt(this.generateStatement(I.body[ie],Ie)),W.push(Y),ie+1<Fe&&!Be(st(Y).toString())&&(B&&I.body[ie+1].leadingComments||W.push(_)),B&&ie===Fe-1&&(I.body[ie].trailingComments||j(I.body[ie].range[1],I.range[1],W));return W},FunctionDeclaration:function(I,X){return[je(I,!0),"function",it(I)||Mt(),I.id?Pe(I.id):"",this.generateFunctionBody(I)]},ReturnStatement:function(I,X){return I.argument?[et("return",this.generateExpression(I.argument,r.Sequence,ae)),this.semicolon(X)]:["return"+this.semicolon(X)]},WhileStatement:function(I,X){var W,Y=this;return pt(function(){W=["while"+w+"(",Y.generateExpression(I.test,r.Sequence,ae),")"]}),W.push(this.maybeBlock(I.body,X&ve?$e:Ce)),W},WithStatement:function(I,X){var W,Y=this;return pt(function(){W=["with"+w+"(",Y.generateExpression(I.object,r.Sequence,ae),")"]}),W.push(this.maybeBlock(I.body,X&ve?$e:Ce)),W}},se(pe.prototype,pe.Statement),pe.Expression={SequenceExpression:function(I,X,W){var Y,ie,Fe;for(r.Sequence<X&&(W|=G),Y=[],ie=0,Fe=I.expressions.length;ie<Fe;++ie)Y.push(this.generateExpression(I.expressions[ie],r.Assignment,W)),ie+1<Fe&&Y.push(","+w);return Z(Y,r.Sequence,X)},AssignmentExpression:function(I,X,W){return this.generateAssignment(I.left,I.right,I.operator,X,W)},ArrowFunctionExpression:function(I,X,W){return Z(this.generateFunctionBody(I),r.ArrowFunction,X)},ConditionalExpression:function(I,X,W){return r.Conditional<X&&(W|=G),Z([this.generateExpression(I.test,r.Coalesce,W),w+"?"+w,this.generateExpression(I.consequent,r.Assignment,W),w+":"+w,this.generateExpression(I.alternate,r.Assignment,W)],r.Conditional,X)},LogicalExpression:function(I,X,W){return I.operator==="??"&&(W|=xe),this.BinaryExpression(I,X,W)},BinaryExpression:function(I,X,W){var Y,ie,Fe,Ie,We,at;return Ie=n[I.operator],ie=I.operator==="**"?r.Postfix:Ie,Fe=I.operator==="**"?Ie:Ie+1,Ie<X&&(W|=G),We=this.generateExpression(I.left,ie,W),at=We.toString(),at.charCodeAt(at.length-1)===47&&o.code.isIdentifierPartES5(I.operator.charCodeAt(0))?Y=[We,Mt(),I.operator]:Y=et(We,I.operator),We=this.generateExpression(I.right,Fe,W),I.operator==="/"&&We.toString().charAt(0)==="/"||I.operator.slice(-1)==="<"&&We.toString().slice(0,3)==="!--"?(Y.push(Mt()),Y.push(We)):Y=et(Y,We),I.operator==="in"&&!(W&G)?["(",Y,")"]:(I.operator==="||"||I.operator==="&&")&&W&xe?["(",Y,")"]:Z(Y,Ie,X)},CallExpression:function(I,X,W){var Y,ie,Fe;for(Y=[this.generateExpression(I.callee,r.Call,oe)],I.optional&&Y.push("?."),Y.push("("),ie=0,Fe=I.arguments.length;ie<Fe;++ie)Y.push(this.generateExpression(I.arguments[ie],r.Assignment,ae)),ie+1<Fe&&Y.push(","+w);return Y.push(")"),W&K?Z(Y,r.Call,X):["(",Y,")"]},ChainExpression:function(I,X,W){r.OptionalChaining<X&&(W|=K);var Y=this.generateExpression(I.expression,r.OptionalChaining,W);return Z(Y,r.OptionalChaining,X)},NewExpression:function(I,X,W){var Y,ie,Fe,Ie,We;if(ie=I.arguments.length,We=W&le&&!A&&ie===0?Ae:ge,Y=et("new",this.generateExpression(I.callee,r.New,We)),!(W&le)||A||ie>0){for(Y.push("("),Fe=0,Ie=ie;Fe<Ie;++Fe)Y.push(this.generateExpression(I.arguments[Fe],r.Assignment,ae)),Fe+1<Ie&&Y.push(","+w);Y.push(")")}return Z(Y,r.New,X)},MemberExpression:function(I,X,W){var Y,ie;return Y=[this.generateExpression(I.object,r.Call,W&K?oe:ge)],I.computed?(I.optional&&Y.push("?."),Y.push("["),Y.push(this.generateExpression(I.property,r.Sequence,W&K?ae:Ae)),Y.push("]")):(!I.optional&&I.object.type===t.Literal&&typeof I.object.value=="number"&&(ie=st(Y).toString(),ie.indexOf(".")<0&&!/[eExX]/.test(ie)&&o.code.isDecimalDigit(ie.charCodeAt(ie.length-1))&&!(ie.length>=2&&ie.charCodeAt(0)===48)&&Y.push(" ")),Y.push(I.optional?"?.":"."),Y.push(Pe(I.property))),Z(Y,r.Member,X)},MetaProperty:function(I,X,W){var Y;return Y=[],Y.push(typeof I.meta=="string"?I.meta:Pe(I.meta)),Y.push("."),Y.push(typeof I.property=="string"?I.property:Pe(I.property)),Z(Y,r.Member,X)},UnaryExpression:function(I,X,W){var Y,ie,Fe,Ie,We;return ie=this.generateExpression(I.argument,r.Unary,ae),w===""?Y=et(I.operator,ie):(Y=[I.operator],I.operator.length>2?Y=et(Y,ie):(Ie=st(Y).toString(),We=Ie.charCodeAt(Ie.length-1),Fe=ie.toString().charCodeAt(0),((We===43||We===45)&&We===Fe||o.code.isIdentifierPartES5(We)&&o.code.isIdentifierPartES5(Fe))&&Y.push(Mt()),Y.push(ie))),Z(Y,r.Unary,X)},YieldExpression:function(I,X,W){var Y;return I.delegate?Y="yield*":Y="yield",I.argument&&(Y=et(Y,this.generateExpression(I.argument,r.Yield,ae))),Z(Y,r.Yield,X)},AwaitExpression:function(I,X,W){var Y=et(I.all?"await*":"await",this.generateExpression(I.argument,r.Await,ae));return Z(Y,r.Await,X)},UpdateExpression:function(I,X,W){return I.prefix?Z([I.operator,this.generateExpression(I.argument,r.Unary,ae)],r.Unary,X):Z([this.generateExpression(I.argument,r.Postfix,ae),I.operator],r.Postfix,X)},FunctionExpression:function(I,X,W){var Y=[je(I,!0),"function"];return I.id?(Y.push(it(I)||Mt()),Y.push(Pe(I.id))):Y.push(it(I)||w),Y.push(this.generateFunctionBody(I)),Y},ArrayPattern:function(I,X,W){return this.ArrayExpression(I,X,W,!0)},ArrayExpression:function(I,X,W,Y){var ie,Fe,Ie=this;return I.elements.length?(Fe=Y?!1:I.elements.length>1,ie=["[",Fe?_:""],pt(function(We){var at,Gt;for(at=0,Gt=I.elements.length;at<Gt;++at)I.elements[at]?(ie.push(Fe?We:""),ie.push(Ie.generateExpression(I.elements[at],r.Assignment,ae))):(Fe&&ie.push(We),at+1===Gt&&ie.push(",")),at+1<Gt&&ie.push(","+(Fe?_:w))}),Fe&&!Be(st(ie).toString())&&ie.push(_),ie.push(Fe?l:""),ie.push("]"),ie):"[]"},RestElement:function(I,X,W){return"..."+this.generatePattern(I.argument)},ClassExpression:function(I,X,W){var Y,ie;return Y=["class"],I.id&&(Y=et(Y,this.generateExpression(I.id,r.Sequence,ae))),I.superClass&&(ie=et("extends",this.generateExpression(I.superClass,r.Unary,ae)),Y=et(Y,ie)),Y.push(w),Y.push(this.generateStatement(I.body,$e)),Y},MethodDefinition:function(I,X,W){var Y,ie;return I.static?Y=["static"+w]:Y=[],I.kind==="get"||I.kind==="set"?ie=[et(I.kind,this.generatePropertyKey(I.key,I.computed)),this.generateFunctionBody(I.value)]:ie=[vt(I),this.generatePropertyKey(I.key,I.computed),this.generateFunctionBody(I.value)],et(Y,ie)},Property:function(I,X,W){return I.kind==="get"||I.kind==="set"?[I.kind,Mt(),this.generatePropertyKey(I.key,I.computed),this.generateFunctionBody(I.value)]:I.shorthand?I.value.type==="AssignmentPattern"?this.AssignmentPattern(I.value,r.Sequence,ae):this.generatePropertyKey(I.key,I.computed):I.method?[vt(I),this.generatePropertyKey(I.key,I.computed),this.generateFunctionBody(I.value)]:[this.generatePropertyKey(I.key,I.computed),":"+w,this.generateExpression(I.value,r.Assignment,ae)]},ObjectExpression:function(I,X,W){var Y,ie,Fe,Ie=this;return I.properties.length?(Y=I.properties.length>1,pt(function(){Fe=Ie.generateExpression(I.properties[0],r.Sequence,ae)}),!Y&&!Xe(st(Fe).toString())?["{",w,Fe,w,"}"]:(pt(function(We){var at,Gt;if(ie=["{",_,We,Fe],Y)for(ie.push(","+_),at=1,Gt=I.properties.length;at<Gt;++at)ie.push(We),ie.push(Ie.generateExpression(I.properties[at],r.Sequence,ae)),at+1<Gt&&ie.push(","+_)}),Be(st(ie).toString())||ie.push(_),ie.push(l),ie.push("}"),ie)):"{}"},AssignmentPattern:function(I,X,W){return this.generateAssignment(I.left,I.right,"=",X,W)},ObjectPattern:function(I,X,W){var Y,ie,Fe,Ie,We,at=this;if(!I.properties.length)return"{}";if(Ie=!1,I.properties.length===1)We=I.properties[0],We.type===t.Property&&We.value.type!==t.Identifier&&(Ie=!0);else for(ie=0,Fe=I.properties.length;ie<Fe;++ie)if(We=I.properties[ie],We.type===t.Property&&!We.shorthand){Ie=!0;break}return Y=["{",Ie?_:""],pt(function(Gt){var zr,hs;for(zr=0,hs=I.properties.length;zr<hs;++zr)Y.push(Ie?Gt:""),Y.push(at.generateExpression(I.properties[zr],r.Sequence,ae)),zr+1<hs&&Y.push(","+(Ie?_:w))}),Ie&&!Be(st(Y).toString())&&Y.push(_),Y.push(Ie?l:""),Y.push("}"),Y},ThisExpression:function(I,X,W){return"this"},Super:function(I,X,W){return"super"},Identifier:function(I,X,W){return Pe(I)},ImportDefaultSpecifier:function(I,X,W){return Pe(I.id||I.local)},ImportNamespaceSpecifier:function(I,X,W){var Y=["*"],ie=I.id||I.local;return ie&&Y.push(w+"as"+Mt()+Pe(ie)),Y},ImportSpecifier:function(I,X,W){var Y=I.imported,ie=[Y.name],Fe=I.local;return Fe&&Fe.name!==Y.name&&ie.push(Mt()+"as"+Mt()+Pe(Fe)),ie},ExportSpecifier:function(I,X,W){var Y=I.local,ie=[Y.name],Fe=I.exported;return Fe&&Fe.name!==Y.name&&ie.push(Mt()+"as"+Mt()+Pe(Fe)),ie},Literal:function(I,X,W){var Y;if(I.hasOwnProperty("raw")&&T&&F.raw)try{if(Y=T(I.raw).body[0].expression,Y.type===t.Literal&&Y.value===I.value)return I.raw}catch{}return I.regex?"/"+I.regex.pattern+"/"+I.regex.flags:typeof I.value=="bigint"?I.value.toString()+"n":I.bigint?I.bigint+"n":I.value===null?"null":typeof I.value=="string"?ct(I.value):typeof I.value=="number"?ce(I.value):typeof I.value=="boolean"?I.value?"true":"false":Me(I.value)},GeneratorExpression:function(I,X,W){return this.ComprehensionExpression(I,X,W)},ComprehensionExpression:function(I,X,W){var Y,ie,Fe,Ie,We=this;return Y=I.type===t.GeneratorExpression?["("]:["["],F.moz.comprehensionExpressionStartsWithAssignment&&(Ie=this.generateExpression(I.body,r.Assignment,ae),Y.push(Ie)),I.blocks&&pt(function(){for(ie=0,Fe=I.blocks.length;ie<Fe;++ie)Ie=We.generateExpression(I.blocks[ie],r.Sequence,ae),ie>0||F.moz.comprehensionExpressionStartsWithAssignment?Y=et(Y,Ie):Y.push(Ie)}),I.filter&&(Y=et(Y,"if"+w),Ie=this.generateExpression(I.filter,r.Sequence,ae),Y=et(Y,["(",Ie,")"])),F.moz.comprehensionExpressionStartsWithAssignment||(Ie=this.generateExpression(I.body,r.Assignment,ae),Y=et(Y,Ie)),Y.push(I.type===t.GeneratorExpression?")":"]"),Y},ComprehensionBlock:function(I,X,W){var Y;return I.left.type===t.VariableDeclaration?Y=[I.left.kind,Mt(),this.generateStatement(I.left.declarations[0],Ye)]:Y=this.generateExpression(I.left,r.Call,ae),Y=et(Y,I.of?"of":"in"),Y=et(Y,this.generateExpression(I.right,r.Sequence,ae)),["for"+w+"(",Y,")"]},SpreadElement:function(I,X,W){return["...",this.generateExpression(I.argument,r.Assignment,ae)]},TaggedTemplateExpression:function(I,X,W){var Y=oe;W&K||(Y=ge);var ie=[this.generateExpression(I.tag,r.Call,Y),this.generateExpression(I.quasi,r.Primary,me)];return Z(ie,r.TaggedTemplate,X)},TemplateElement:function(I,X,W){return I.value.raw},TemplateLiteral:function(I,X,W){var Y,ie,Fe;for(Y=["`"],ie=0,Fe=I.quasis.length;ie<Fe;++ie)Y.push(this.generateExpression(I.quasis[ie],r.Primary,ae)),ie+1<Fe&&(Y.push("${"+w),Y.push(this.generateExpression(I.expressions[ie],r.Sequence,ae)),Y.push(w+"}"));return Y.push("`"),Y},ModuleSpecifier:function(I,X,W){return this.Literal(I,X,W)},ImportExpression:function(I,X,W){return Z(["import(",this.generateExpression(I.source,r.Assignment,ae),")"],r.Call,X)}},se(pe.prototype,pe.Expression),pe.prototype.generateExpression=function(I,X,W){var Y,ie;return ie=I.type||t.Property,F.verbatim&&I.hasOwnProperty(F.verbatim)?ue(I,X):(Y=this[ie](I,X,W),F.comment&&(Y=jr(I,Y)),st(Y,I))},pe.prototype.generateStatement=function(I,X){var W,Y;return W=this[I.type](I,X),F.comment&&(W=jr(I,W)),Y=st(W).toString(),I.type===t.Program&&!D&&_===""&&Y.charAt(Y.length-1)===`
`&&(W=U?st(W).replaceRight(/\s+$/,""):Y.replace(/\s+$/,"")),st(W,I)};function Ft(I){var X;if(X=new pe,z(I))return X.generateStatement(I,Ce);if(H(I))return X.generateExpression(I,r.Sequence,ae);throw new Error("Unknown node type: "+I.type)}function Sr(I,X){var W=Ne(),Y,ie;return X!=null?(typeof X.indent=="string"&&(W.format.indent.style=X.indent),typeof X.base=="number"&&(W.format.indent.base=X.base),X=te(W,X),d=X.format.indent.style,typeof X.base=="string"?l=X.base:l=Ge(d,X.format.indent.base)):(X=W,d=X.format.indent.style,l=Ge(d,X.format.indent.base)),p=X.format.json,g=X.format.renumber,y=p?!1:X.format.hexadecimal,x=p?"double":X.format.quotes,S=X.format.escapeless,_=X.format.newline,w=X.format.space,X.format.compact&&(_=w=d=l=""),A=X.format.parentheses,P=X.format.semicolons,D=X.format.safeConcatenation,R=X.directive,T=p?null:X.parse,U=X.sourceMap,k=X.sourceCode,B=X.format.preserveBlankLines&&k!==null,F=X,U&&(i.browser?s=OO.sourceMap.SourceNode:s=f6().SourceNode),Y=Ft(I),U?(ie=Y.toStringWithSourceMap({file:X.file,sourceRoot:X.sourceMapRoot}),X.sourceContent&&ie.map.setSourceContent(X.sourceMap,X.sourceContent),X.sourceMapWithCode?ie:ie.map.toString()):(ie={code:Y.toString(),map:null},X.sourceMapWithCode?ie:ie.code)}L={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},V=Ne().format,i.version=p6.version,i.generate=Sr,i.attachComments=a.attachComments,i.Precedence=te({},r),i.browser=!1,i.FORMAT_MINIFY=L,i.FORMAT_DEFAULTS=V})()}(jm)),jm}var m6=g6();const y6=uv(m6);function b3(i,t){let r,n;const s=i.Shader.prototype.modify;i.Shader.prototype.modify=function(se,te={parser:!0,srcLocations:!1}){if(se instanceof Function){let ce;if(te.parser){const Te=se.toString(),rt=D5(Te,{ecmaVersion:2021,locations:te.srcLocations});gB(rt,l,void 0,{varyings:{}});const tt=y6.generate(rt);ce=new Function(tt.slice(tt.indexOf("{")+1,tt.lastIndexOf("}")).replaceAll(";",""))}else ce=se;const Me=new ge(ce,this,te.srcLocations).generate();return s.call(this,Me)}else return s.call(this,se)};function a(se){switch(se){case"+":return"add";case"-":return"sub";case"*":return"mult";case"/":return"div";case"%":return"mod";case"==":case"===":return"equalTo";case">":return"greaterThan";case">=":return"greaterThanEqualTo";case"<":return"lessThan";case"&&":return"and";case"||":return"or"}}function o(se){var te,ce;return se.type==="CallExpression"&&((te=se.callee)==null?void 0:te.type)==="Identifier"&&((ce=se.callee)==null?void 0:ce.name.startsWith("uniform"))}const l={UnaryExpression(se,te,ce){if(ce.some(o))return;const _e={type:"Literal",value:se.operator},Me=Te=>{Te.type="CallExpression",Te.callee={type:"Identifier",name:"unaryNode"},Te.arguments=[Te.argument,_e]};if(se.type==="MemberExpression"){const Te=se.argument.property.name;[["x","y","z","w"],["r","g","b","a"],["s","t","p","q"]].some(ct=>[...Te].every(wt=>ct.includes(wt)))&&se.argument.type==="MemberExpression"?(se.type="MemberExpression",se.object={type:"CallExpression",callee:{type:"Identifier",name:"unaryNode"},arguments:[se.argument.object,_e]},se.property={type:"Identifier",name:Te}):Me(se)}else Me(se);delete se.argument,delete se.operator},VariableDeclarator(se,te,ce){var _e,Me;if(se.init.callee&&((_e=se.init.callee.name)!=null&&_e.startsWith("uniform"))){const Te={type:"Literal",value:se.id.name};se.init.arguments.unshift(Te)}if(se.init.callee&&((Me=se.init.callee.name)!=null&&Me.startsWith("varying"))){const Te={type:"Literal",value:se.id.name};se.init.arguments.unshift(Te),te.varyings[se.id.name]=Te}},Identifier(se,te,ce){te.varyings[se.name]&&!ce.some(_e=>_e.type==="AssignmentExpression"&&_e.left===se)&&(se.type="ExpressionStatement",se.expression={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:se.name},property:{type:"Identifier",name:"getValue"}},arguments:[]})},ArrayExpression(se,te,ce){const _e=JSON.parse(JSON.stringify(se));se.type="CallExpression",se.callee={type:"Identifier",name:"dynamicNode"},se.arguments=[_e]},AssignmentExpression(se,te,ce){if(se.operator!=="="){const _e=a(se.operator.replace("=","")),Me={type:"CallExpression",callee:{type:"MemberExpression",object:se.left,property:{type:"Identifier",name:_e}},arguments:[se.right]};se.operator="=",se.right=Me}te.varyings[se.left.name]&&(se.type="ExpressionStatement",se.expression={type:"CallExpression",callee:{type:"MemberExpression",object:{type:"Identifier",name:se.left.name},property:{type:"Identifier",name:"bridge"}},arguments:[se.right]})},BinaryExpression(se,te,ce){if(ce.some(o))return;if(["Literal","ArrayExpression","Identifier"].includes(se.left.type)){const Me={type:"CallExpression",callee:{type:"Identifier",name:"dynamicNode"},arguments:[se.left]};se.left=Me}se.type="CallExpression",se.callee={type:"MemberExpression",object:se.left,property:{type:"Identifier",name:a(se.operator)}},se.arguments=[se.right]}};class d{constructor(te,ce){if(new.target===d)throw new TypeError("Cannot construct BaseNode instances directly. This is an abstract class.");if(this.type=ce,this.componentNames=[],this.componentsChanged=!1,this.isInternal=te,this.usedIn=[],this.dependsOn=[],this.srcLine=null,this.usedInConditional=!1,r.srcLocations===!0&&te===!1)try{throw new Error("StackCapture")}catch(_e){const Me=_e.stack.split(`
`);let Te=5;K(this)&&Te--,this.srcLine=Me[Te].trim()}}addVectorComponents(){if(this.type.startsWith("vec")){const te=parseInt(this.type.slice(3));this.componentNames=["x","y","z","w"].slice(0,te);const ce=this;for(let _e of this.componentNames){let Me=new _(ce,_e,"float",!0);Object.defineProperty(this,_e,{get(){return Me},set(Te){this.componentsChanged=!0,oe(this)?this.node.value=Te:Me=Te}})}}}forceTemporaryVariable(){(!(z(this)&&Q(this.parent))||!le(this))&&(this.useTemp=!0)}assertUsedInConditional(te){this.usedInConditional=!0,this.usedIn.push(te),this.forceTemporaryVariable()}isUsedInConditional(){return this.usedInConditional}checkConditionalDependencies(te){te.ifs.forEach(ce=>{const _e=()=>ce.usedInSatisfied.length>=1,Me=()=>ce.dependsOn.length===ce.dependsOnSatisfied.length;ce.insertionPoint>-1||!ce.usedIn.length||(ce.dependsOn.some(Te=>Te.node===this)&&!ce.dependsOnSatisfied.includes(this)&&ce.dependsOnSatisfied.push(this),ce.usedIn.includes(this)&&!ce.usedInSatisfied.includes(this)&&ce.usedInSatisfied.push(this),Me()&&_e()&&ce.saveState(te,Me(),_e()))})}toGLSLBase(te){let ce;if(this.shouldUseTemporaryVariable()){let _e=te.declarations.length;ce=this.getTemporaryVariable(te);let Me=te.declarations.length-1-_e;Me=Me>0?Me:void 0,this.dependsOn.forEach(Te=>{if(Te.isVector){const rt=Te.originalComponents.map((tt,ct)=>tt===Te.currentComponents[ct]);te.updateComponents(Te.node,Me,rt)}else te.updateComponents(Te.node,Me)})}else ce=this.toGLSL(te);return this.checkConditionalDependencies(te),ce}shouldUseTemporaryVariable(){if(this.componentsChanged||de(this)||this.useTemp)return!0;if(this.isInternal||le(this)||ne(this)||this.type==="sampler2D")return!1;let te=0;return te+=xe(this)*2,te+=K(this)*2,te+=G(this)*3,te+=this.usedIn.length,te>=4}getTemporaryVariable(te){if(!this.temporaryVariable){this.temporaryVariable=`temp_${te.getNextID()}`;let ce="";this.srcLine&&(ce+=`
// From ${this.srcLine}
`),ce+="  "+this.type+" "+this.temporaryVariable+" = "+this.toGLSL(te)+";",te.declarations.push(ce)}return this.temporaryVariable}add(te){return Re(this,this.enforceType(te),"+")}sub(te){return Re(this,this.enforceType(te),"-")}mult(te){return Re(this,this.enforceType(te),"*")}div(te){return Re(this,this.enforceType(te),"/")}mod(te){return Re(this,this.enforceType(te),"%")}enforceType(te){if(L(te)){if(!ae(te.type))throw new TypeError(`You've tried to perform an operation on a struct of type: ${te.type}. Try accessing a member on that struct with '.'`);if(!ae(te.type))throw new TypeError(`You've tried to perform an operation on a struct of type: ${te.type}. Try accessing a member on that struct with '.'`);return(H(this)||G(this))&&V(te)?new g(te):te}else return typeof te=="number"?V(this)?new p(te):new g(te):Array.isArray(te)?Xe.dynamicVector(te):Xe[this.type](te)}toFloat(){if(H(this))return this;if(V(this))return new g(this)}toGLSL(te){throw new TypeError("Not supposed to call this function on BaseNode, which is an abstract class.")}}class p extends d{constructor(te=0,ce=!1){super(ce,"int"),this.x=te}toGLSL(te){if(L(this.x)){let ce=this.x.toGLSLBase(te);return V(this.x.type)?ce:`int(${ce})`}else return typeof this.x=="number"?`${Math.floor(this.x)}`:`int(${this.x})`}}class g extends d{constructor(te=0,ce=!1,_e=!1){if(super(ce,"float"),Array.isArray(te)&&(te=te[0]),_e){const{parent:Me,name:Te}=_e;this.name=Te,this.parent=Me}this.x=te}toGLSL(te){if(L(this.x)){let ce=this.x.toGLSLBase(te);return H(this.x)?ce:`float(${ce})`}else return typeof this.x=="number"?`${this.x.toFixed(4)}`:`float(${this.x})`}}class y extends d{constructor(te,ce,_e=!1){super(_e,ce),this.originalValues=Ce(te,parseInt(ce.slice(3))),this.componentNames=["x","y","z","w"].slice(0,this.originalValues.length)}addVectorComponents(){const te=this.originalValues;this.componentsChanged=!1,this.componentNames.forEach((ce,_e)=>{const Me={name:ce,parent:this};let Te=z(te[_e])?te[_e]:new g(te[_e],!0,Me);Object.defineProperty(this,ce,{get(){return Te},set(rt){this.componentsChanged=!0,oe(this)?this.node.value=rt:Te=z(rt)?rt:new g(rt,!0,Me)}})}),this.originalValues=this.componentNames.map(ce=>this[ce])}toGLSL(te){if((!this.componentsChanged||!this.defined)&&!this.oldName){let ce=this.componentNames.map((_e,Me)=>this.originalValues[Me].toGLSLBase(te)).join(", ");return this.defined=!0,`${this.type}(${ce})`}else return this.temporaryVariable}}class x extends d{constructor(te,ce,_e,Me=!1){let Te;const rt=tt=>{let ct,wt=0;const st=ce.every((Mt,et)=>{const mt=k(Mt);let pt=tt.args[et];return pt==="genType"&&((ct===void 0||ct==="float"&&mt.startsWith("vec"))&&(ct=mt),pt=ct),wt+=mt===pt,mt===pt||mt==="float"&&pt.startsWith("vec")});return{...tt,valid:st,similarity:wt,genType:ct}};if(Array.isArray(_e)){let tt=_e.filter(wt=>wt.args.length===ce.length);if(tt.length===0){const wt=new Set,st=[];_e.forEach(et=>wt.add(et.args.length)),wt.forEach(et=>st.push(`${et}`));const Mt=st.join(" or ");throw new Error(`Function '${te}' has ${_e.length} variants which expect ${Mt} arguments, but ${ce.length} arguments were provided.`)}const ct=function(wt,st){return st=rt(st),st.valid&&(!wt||st.similarity>wt.similarity)&&(wt=st),wt};Te=tt.reduce(ct,null)}else Te=rt(_e);if(!Te||!Te.valid){const tt=st=>`(${st.map(Mt=>Mt).join(", ")})`,ct=Array.isArray(_e)?_e.map(st=>tt(st.args)).join(" or "):tt(_e.args),wt=tt(ce.map(st=>k(st)));throw new Error(`Function '${te}' was called with wrong arguments. Most likely, you provided mixed lengths vectors as arguments.
Expected argument types: ${ct}
Provided argument types: ${wt}
All of the arguments with expected type 'genType' should have a matching type. If one of those is different, try to find where it was created.
        `)}if(ce.length!==Te.args.length)throw new Error(`Function '${te}' expects ${Te.args.length} arguments, but ${ce.length} were provided.`);ce=ce.map((tt,ct)=>{if(L(tt))H(tt)&&Te.args[ct]==="genType"&&Te.genType!=="float"&&(tt=Xe[Te.genType](tt));else{const wt=Te.args[ct]==="genType"?Te.genType:Te.args[ct];tt=Xe[wt](tt)}return tt}),Te.returnType==="genType"&&(Te.returnType=Te.genType),super(Me,Te.returnType),this.name=te,this.args=ce,this.argumentTypes=Te.args}deconstructArgs(te){return this.args.map((_e,Me)=>(V(_e)&&this.argumentTypes[Me]!="float"&&(_e=_e.toFloat()),_e.toGLSLBase(te),_e.toGLSLBase(te))).join(", ")}toGLSL(te){return`${this.name}(${this.deconstructArgs(te)})`}}class S extends d{constructor(te,ce,_e=!1){super(_e,ce),this.name=te}toGLSL(te){return`${this.name}`}}class _ extends d{constructor(te,ce,_e,Me=!1){super(Me,_e),this.parent=te,this.componentName=ce,this.type=_e}toGLSL(te){let ce=this.parent.toGLSLBase(te);return!le(this.parent)&&!de(this.parent)&&(ce=`(${ce})`),`${ce}.${this.componentName}`}}class w extends S{constructor(te,ce,_e=!1){super(te,ce,_e),this.timesChanged=0,this.tempVars=0}getValue(){const te=r.context;if(!te.varyings[this.name]||!this.timesChanged)return this;let ce=te.varyings[this.name].splice(0,this.timesChanged),_e;return ce.forEach((Me,Te)=>{let{value:rt}=Me;if(te.declarations.push(`  ${this.name} = ${rt.toGLSLBase(te)};`),Te===ce.length-1){const tt=`${this.name}_${this.tempVars++}`;_e=Le(new S(tt,this.type,!0)),te.declarations.push(`  ${this.type} ${tt} = ${this.name};`)}}),this.timesChanged=0,_e}bridge(te){(!L(te)||this.type.startsWith("vec")&&k(te)==="float")&&(te=Xe[this.type](te)),r.registerVarying(this,te),this.timesChanged+=1}}class A extends d{constructor(te,ce,_e,Me=!1){super(Me,null),this.operator=_e,this.left=te,this.right=ce;for(const Te of[te,ce])Te.usedIn.push(this);this.type=this.determineType()}determineType(){if(["==",">",">=","<","<=","||","!","&&"].includes(this.operator))return"bool";if(this.left.type===this.right.type)return this.left.type;if(G(this.left)&&H(this.right))return this.left.type;if(G(this.right)&&H(this.left))return this.right.type;if(H(this.left)&&V(this.right)||V(this.left)&&H(this.right))return"float";throw new Error("Incompatible types for binary operator")}processOperand(te,ce){if(te.temporaryVariable)return te.temporaryVariable;let _e=te.toGLSLBase(ce);return K(te)&&!te.temporaryVariable&&(_e=`(${_e})`),this.type==="float"&&V(te)&&(_e=`float(${_e})`),_e}toGLSL(te){const ce=this.processOperand(this.left,te),_e=this.processOperand(this.right,te);return`${ce} ${this.operator} ${_e}`}}class P extends A{constructor(te,ce,_e){super(te,ce,_e)}toGLSL(te){return G(this)||H(this)?`mod(${this.left.toGLSLBase(te)}, ${this.right.toGLSLBase(te)})`:`${this.processOperand(te,this.left)} % ${this.processOperand(te,this.right)}`}}class D extends d{constructor(te,ce,_e=!1){super(_e,te.type),this.node=te,this.operator=ce}toGLSL(te){let ce=this.node.toGLSLBase(te);return!le(this.node)&&!de(this.node)&&!ve(this.node)&&(ce=`(${ce})`),`${this.operator}${ce}`}}d.prototype.equalTo=function(se){return Re(this,this.enforceType(se),"==")},d.prototype.greaterThan=function(se){return Re(this,this.enforceType(se),">")},d.prototype.greaterThanEqualTo=function(se){return Re(this,this.enforceType(se),">=")},d.prototype.lessThan=function(se){return Re(this,this.enforceType(se),"<")},d.prototype.lessThanEqualTo=function(se){return Re(this,this.enforceType(se),"<=")},d.prototype.not=function(){return new D(this.condition,"!",!0)},d.prototype.or=function(se){return new Re(this,this.enforceType(se),"||",!0)},d.prototype.and=function(se){return new Re(this,this.enforceType(se),"&&",!0)};function R(se){const te=new T;return se(),n=null,te}class F{constructor(te,ce){this.dependsOn=[],this.usedIn=[],this.dependsOnSatisfied=[],this.usedInSatisfied=[],this.states=[],this.if(te,ce),this.insertionPoint=-1,this.elseIfs=[],this.elseBranch=null,r.context.ifs.push(this)}if(te,ce){this.condition=te,this.conditionString=te.toGLSL(r.context),this.ifBranch=R(ce),this.ifBranch.parent=this}elseIf(te,ce){let _e=R(ce);return ce.parent=this,this.elseIfs.push({condition:te,elseBranch:_e}),this}else(te){return this.elseBranch=R(te),this.elseBranch.parent=this,this}thenDiscard(){return new U(this.condition)}saveState(te,ce,_e){this.states.push({line:te.declarations.length,usedInSatisfied:ce,dependsOnSatisfied:_e}),this.insertionPoint=te.declarations.length-1}toGLSL(te){const ce=te.declarations.length;this.dependsOn.forEach(rt=>te.updateComponents(rt.node));const Me=te.declarations.length-ce;this.insertionPoint+=Me;let Te=[`
  if (${this.conditionString}) {`,`
    ${this.ifBranch.toGLSL(te)}`,`
  }`];return this.elseIfs.length&&this.elseIfs.forEach(rt=>{let{condition:tt,elseBranch:ct}=rt;Te.push(` else if (${tt.toGLSL(te)}) {`),Te.push(`
    ${ct.toGLSL(te)}`),Te.push(`
  }`)}),this.elseBranch&&(Te.push(" else {"),Te.push(`
    ${this.elseBranch.toGLSL(te)}`),Te.push(`
  }
`)),Te.push(`
`),Te.flat().join("")}}t.assign=function(se,te){if(!n)throw new error('assign() is supposed to be used inside of conditional branchs. Use the "=" operator as normal otherwise.');n.assign(se,te)};class T{constructor(){n=this,this.statements=[],this.assignments=[],this.dependsOn=[],this.declarations=[];let te=null;Object.defineProperty(this,"parent",{get(){return te},set(ce){ce.dependsOn.push(...this.dependsOn),te=ce}})}assign(te,ce){!L(ce)||ce.type!==te.type?(ce=Xe[te.type](ce),this.declarations.push(ce),this.assignments.push({node:te})):this.assignments.push({node:te,value:ce}),te=te.parent?te.parent:te,ce=ce.parent?ce.parent:ce,![te,ce].some(_e=>this.dependsOn.some(Me=>Me.node===_e))&&(te.assertUsedInConditional(this),this.dependsOn.push(me(te)),ce.shouldUseTemporaryVariable()&&(ce.assertUsedInConditional(this),this.dependsOn.push(me(ce))))}toGLSL(te){let ce=0;return this.assignments.forEach(({node:_e,value:Me})=>{let Te,rt;if(Me)rt=Me.toGLSLBase(te);else{let tt=this.declarations[ce];ce++,tt.temporaryVariable=`temp_${te.getNextID()}`,this.statements.push(`${tt.type} ${tt.temporaryVariable} = ${tt.toGLSL(te)};`),rt=tt.toGLSLBase(te)}le(_e)||de(_e)?Te=`${_e.toGLSLBase(te)} = ${rt};`:z(_e)&&_e.name?Te=`${_e.parent.toGLSLBase(te)}.${_e.name} = ${rt};`:(_e.temporaryVariable=`temp_${te.getNextID()}`,Te=`${_e.type} ${_e.toGLSLBase(te)} = ${rt};`),this.statements.push(Te)}),this.statements.join(`
    `)}}class U{constructor(te){this.condition=te}toGLSL(te){te.discardConditions.push(`if (${this.condition}{discard;})`)}}function k(se){if(L(se))return se.type;if(Array.isArray(se)&&se.length>1)return`vec${se.length}`;if(typeof se=="number"||Array.isArray(se)&&se.length===1)return"float"}function B(se){let te=0;if(Array.isArray(se))for(let ce of se)G(ce)?te+=parseInt(ce.type.slice(3)):te+=1;else G(se)&&(te+=parseInt(val.type.slice(3)));if(![2,3,4].includes(te))throw new Error(`You have attempted to construct a vector with ${te} values. Only vec2, vec3, and vec4 types are supported.`);return te}t.dynamicNode=function(se){if(L(se))return se;if(typeof se=="number")return new g(se);if(Array.isArray(se))return Xe.dynamicVector(se)},t.unaryNode=function(se,te){return se=dynamicNode(se),Le(new D(se,te))};function L(se){return se instanceof d}function V(se){return L(se)&&se.type==="int"}function H(se){return L(se)&&se.type==="float"}function z(se){return se instanceof g}function G(se){return L(se)&&(se.type==="vec2"||se.type==="vec3"||se.type==="vec4")}function K(se){return se instanceof A}function le(se){return se instanceof S||se instanceof _}function ne(se){return se instanceof F||se instanceof T}function de(se){return se.temporaryVariable}function ve(se){return se instanceof g||se instanceof p||se instanceof y}function xe(se){return se instanceof x}function Q(se){return se instanceof y}function oe(se){return se instanceof D}function ae(se){return["int","float","vec2","vec3","vec4","sampler2D"].includes(se)}class ge{constructor(te,ce,_e){r=this,this.userCallback=te,this.srcLocations=_e,this.cleanup=()=>{},this.generateHookOverrides(ce),this.output={vertexDeclarations:new Set,fragmentDeclarations:new Set,uniforms:{}},this.uniformNodes=[],this.resetGLSLContext(),this.isGenerating=!1}generate(){const te=i.disableFriendlyErrors;return i.disableFriendlyErrors=!0,this.isGenerating=!0,this.userCallback(),this.output.vertexDeclarations=[...this.output.vertexDeclarations].join(`
`),this.output.fragmentDeclarations=[...this.output.fragmentDeclarations].join(`
`),this.isGenerating=!1,this.cleanup(),i.disableFriendlyErrors=te,this.output}generateHookOverrides(te){const ce={...te.hooks.vertex,...te.hooks.fragment},_e={};Object.keys(ce).forEach(Me=>{const Te=te.hookTypes(Me);this[Te.name]=function(rt){const tt=[],ct=[];Te.parameters.forEach(mt=>{if(ae(mt.type.typeName))tt.push(Ne(mt.name,mt.type.typeName,!0));else{const $r={};mt.type.properties.forEach(Wr=>{$r[Wr.name]=Ne(`${mt.name}.${Wr.name}`,Wr.type.typeName,!0)}),tt.push($r)}const pt=mt.type.qualifiers.length>0?mt.type.qualifiers.join(" "):"";ct.push(`${pt} ${mt.type.typeName} ${mt.name}`.trim())});let wt=rt(...tt);const st=Te.returnType,Mt={};ae(st.typeName)?(L(wt)?H(wt)&&st.typeName.startsWith("vec")&&(wt=Xe[st.typeName](wt)):wt=Xe[st.typeName](wt),Mt.notAProperty=wt.toGLSLBase(this.context),this.context.updateComponents(wt)):Object.entries(wt).forEach(([mt,pt])=>{pt=dynamicNode(pt),Mt[mt]=pt.toGLSLBase(this.context),this.context.updateComponents(pt)}),this.context.ifs.forEach(mt=>{if(mt.usedIn.length===0)return;const pt=mt.toGLSL(this.context);this.context.declarations.splice(mt.insertionPoint,0,pt)});let et=[`(${ct.join(", ")}) {`,...this.context.declarations,`
  ${Te.returnType.typeName} finalReturnValue;`];Object.entries(Mt).forEach(([mt,pt])=>{const $r=st.properties?`.${mt}`:"";et.push(`  finalReturnValue${$r} = ${pt};`)}),this.context.declarations=[];for(let mt in this.context.varyings){const pt=this.context.varyings[mt],$r=[];pt.forEach(Wr=>{const{node:Qt,value:jr}=Wr;$r.push(`  ${Qt.name} = ${jr.toGLSLBase(this.context)};`),$r.unshift(...this.context.declarations),Qt.timesChanged=0}),et.push(...$r)}et.push("  return finalReturnValue;","}"),this.output[Me]=et.join(`
`),this.resetGLSLContext()},_e[Te.name]=window[Te.name],window[Te.name]=function(rt){r[Te.name](rt)}}),this.cleanup=()=>{for(const Me in _e)window[Me]=_e[Me]}}registerVarying(te,ce){Array.isArray(this.context.varyings[te.name])||(this.context.varyings[te.name]=[]),this.context.varyings[te.name].push({node:te,value:ce}),this.output.vertexDeclarations.add(`OUT ${te.type} ${te.name};`),this.output.fragmentDeclarations.add(`IN ${te.type} ${te.name};`)}resetGLSLContext(){this.uniformNodes.forEach(te=>{te.usedIn=[],te.temporaryVariable=void 0}),this.context={id:0,getNextID(){return this.id++},declarations:[],varyings:[],ifs:[],updateComponents:function(te,ce,_e){if(te.componentsChanged){_e||(_e=te.componentNames.map(()=>!0));const Me=[];if(Q(te))te.componentNames.forEach((Te,rt)=>{if(_e[rt]&&te[Te]!==te.originalValues[rt]){const tt=Xe.float(te[Te]),ct=`  ${te.temporaryVariable}.${Te} = ${tt.toGLSLBase(this)};`;Me.push(ct)}});else{const Te=te.componentNames.map(ct=>te[ct]),rt=Xe[te.type](Te),tt=`  ${te.temporaryVariable} = ${rt.toGLSLBase(this)};`;Me.push(tt)}ce?this.declarations.splice(ce,0,...Me):this.declarations.push(...Me),te.componentsChanged=!1}}},this.uniformNodes=[]}}function me(se){return G(se)?{node:se,isVector:!0,originalComponents:[...se.componentNames.map(te=>se[te])],get currentComponents(){return se.componentNames.map(te=>se[te])}}:{node:se,isVector:!1}}function Ae(se){return se.map(te=>me(te))}function Ce(se,te){return Array.isArray(se)||(se=[se]),se=se.flat(),se=se.map(ce=>G(ce)?ce.componentNames.map(Me=>ce[Me]):ce).flat(),se.length===1&&!Q(se[0])&&(se=Array(te).fill(se[0])),se}function $e(se){const te=[["x","y","z","w"],["r","g","b","a"],["s","t","p","q"]].map(ce=>ce.slice(0,se));return{get(ce,_e,Me){if(_e in ce)return Reflect.get(...arguments);for(const Te of te)if([..._e].every(rt=>Te.includes(rt))){if(_e.length===1)return ce[te[0][Te.indexOf(_e[0])]];const rt=[..._e].map(ct=>{const wt=Te.indexOf(ct),st=te[0][wt];return ce[st]}),tt=`vec${_e.length}`;return Xe[tt](rt)}},set(ce,_e,Me,Te){for(const rt of te){const tt=[..._e];if(tt.every(ct=>rt.includes(ct))){const ct=Array.isArray(Me)?Me:Array(_e.length).fill(Me);return tt.forEach((wt,st)=>{const Mt=rt.indexOf(wt),et=te[0][Mt];Reflect.set(ce,et,ct[st],Te)}),!0}}return Reflect.set(...arguments)}}}t.If=function(se,te){return new F(se,te)},t.instanceID=function(){return Ne("gl_InstanceID","int")},t.getTexture=function(...se){return Ge("getTexture",se,{args:["sampler2D","vec2"],returnType:"vec4",isp5Function:!0})};const Ye={int:"Int",float:"Float",vec2:"Vector2",vec3:"Vector3",vec4:"Vector4",sampler2D:"Texture"};function Le(se,te){if(se.type.startsWith("vec")||te){const ce=parseInt(se.type.slice(3));se=new Proxy(se,$e(ce)),se.addVectorComponents()}return se}function Re(se,te,ce,_e){let Me;return ce==="%"?Me=new P(se,te):Me=new A(se,te,ce,_e),Le(Me)}function Ne(se,te,ce){const _e=new S(se,te,ce);return Le(_e)}function Ge(se,te,ce,_e){let Me=new x(se,te,ce,_e);return Me=Le(Me),Me.dependsOn=Ae(Me.args),Me.args.map(rt=>rt.usedIn.filter(ct=>ne(ct)).map(ct=>ct instanceof T?ct.parent:ct)).flat().forEach(rt=>rt.usedIn.push(Me)),Me}const Xe={int:se=>new p(se),float:se=>new g(se),vec2:se=>Le(new y(se,"vec2")),vec3:se=>Le(new y(se,"vec3")),vec4:se=>Le(new y(se,"vec4")),dynamicVector:function(se){const te=B(se);return this[`vec${te}`](se)}};for(const se in Ye){const te=Ye[se],ce=`uniform${te}`;if(ge.prototype[ce]=function(...Te){let[rt,...tt]=Te;se.startsWith("vec")&&!(tt[0]instanceof Function)?(tt=Ce(tt,parseInt(se.slice(3))),this.output.uniforms[`${se} ${rt}`]=tt):this.output.uniforms[`${se} ${rt}`]=tt[0];const ct=Ne(rt,se,!1);return this.uniformNodes.push(ct),ct},t[ce]=function(...Te){return r[ce](...Te)},se==="sampler2D")continue;const _e=`varying${te}`;ge.prototype[_e]=function(Te){return Le(new w(Te,se,!1))},t[_e]=function(Te){return r[_e](Te)};const Me=t[se];t[se]=function(...Te){if(r!=null&&r.isGenerating)return se.startsWith("vec")?Te=Ce(Te,parseInt(se.slice(3))):Te=Te[0],Xe[se](Te);if(Me)return Me.apply(this,Te);i._friendlyError(`It looks like you've called ${se} outside of a shader's modify() function.`)}}Object.entries({acos:{args:["genType"],returnType:"genType",isp5Function:!0},acosh:{args:["genType"],returnType:"genType",isp5Function:!1},asin:{args:["genType"],returnType:"genType",isp5Function:!0},asinh:{args:["genType"],returnType:"genType",isp5Function:!1},atan:[{args:["genType"],returnType:"genType",isp5Function:!1},{args:["genType","genType"],returnType:"genType",isp5Function:!1}],atanh:{args:["genType"],returnType:"genType",isp5Function:!1},cos:{args:["genType"],returnType:"genType",isp5Function:!0},cosh:{args:["genType"],returnType:"genType",isp5Function:!1},degrees:{args:["genType"],returnType:"genType",isp5Function:!0},radians:{args:["genType"],returnType:"genType",isp5Function:!0},sin:{args:["genType"],returnType:"genType",isp5Function:!0},sinh:{args:["genType"],returnType:"genType",isp5Function:!1},tan:{args:["genType"],returnType:"genType",isp5Function:!0},tanh:{args:["genType"],returnType:"genType",isp5Function:!1},abs:{args:["genType"],returnType:"genType",isp5Function:!0},ceil:{args:["genType"],returnType:"genType",isp5Function:!0},clamp:{args:["genType","genType","genType"],returnType:"genType",isp5Function:!1},dFdx:{args:["genType"],returnType:"genType",isp5Function:!1},dFdy:{args:["genType"],returnType:"genType",isp5Function:!1},exp:{args:["genType"],returnType:"genType",isp5Function:!0},exp2:{args:["genType"],returnType:"genType",isp5Function:!1},floor:{args:["genType"],returnType:"genType",isp5Function:!0},fma:{args:["genType","genType","genType"],returnType:"genType",isp5Function:!1},fract:{args:["genType"],returnType:"genType",isp5Function:!0},fwidth:{args:["genType"],returnType:"genType",isp5Function:!1},inversesqrt:{args:["genType"],returnType:"genType",isp5Function:!0},log:{args:["genType"],returnType:"genType",isp5Function:!0},log2:{args:["genType"],returnType:"genType",isp5Function:!1},max:[{args:["genType","genType"],returnType:"genType",isp5Function:!0},{args:["genType","float"],returnType:"genType",isp5Function:!0}],min:[{args:["genType","genType"],returnType:"genType",isp5Function:!0},{args:["genType","float"],returnType:"genType",isp5Function:!0}],mix:[{args:["genType","genType","genType"],returnType:"genType",isp5Function:!1},{args:["genType","genType","float"],returnType:"genType",isp5Function:!1}],pow:{args:["genType","genType"],returnType:"genType",isp5Function:!0},round:{args:["genType"],returnType:"genType",isp5Function:!0},roundEven:{args:["genType"],returnType:"genType",isp5Function:!1},smoothstep:[{args:["genType","genType","genType"],returnType:"genType",isp5Function:!1},{args:["float","float","genType"],returnType:"genType",isp5Function:!1}],sqrt:{args:["genType"],returnType:"genType",isp5Function:!0},step:{args:["genType","genType"],returnType:"genType",isp5Function:!1},trunc:{args:["genType"],returnType:"genType",isp5Function:!1},cross:{args:["vec3","vec3"],returnType:"vec3",isp5Function:!0},distance:{args:["genType","genType"],returnType:"float",isp5Function:!0},dot:{args:["genType","genType"],returnType:"float",isp5Function:!0},faceforward:{args:["genType","genType","genType"],returnType:"genType",isp5Function:!1},length:{args:["genType"],returnType:"float",isp5Function:!1},normalize:{args:["genType"],returnType:"genType",isp5Function:!0},reflect:{args:["genType","genType"],returnType:"genType",isp5Function:!1},refract:{args:["genType","genType","float"],returnType:"genType",isp5Function:!1},texture:{args:["sampler2D","vec2"],returnType:"vec4",isp5Function:!0}}).forEach(([se,te])=>{if(Array.isArray(te)?te[0].isp5Function:te.isp5Function){const _e=t[se];t[se]=function(...Me){return r!=null&&r.isGenerating?Ge(se,Me,te):_e.apply(this,Me)}}else t[se]=function(..._e){if(r!=null&&r.isGenerating)return new Ge(se,_e,te);i._friendlyError(`It looks like you've called ${se} outside of a shader's modify() function.`)}})}typeof p5<"u"&&p5.registerAddon(b3);function v6(i){yT(i,i.prototype),d1(i,i.prototype),H5(i,i.prototype),p1(i,i.prototype),q5(i,i.prototype),bT(i,i.prototype),t6(i,i.prototype),eT(i,i.prototype),JD(i,i.prototype),ZD(i,i.prototype),QD(i,i.prototype),nT(i,i.prototype),wT(i,i.prototype),KD(i,i.prototype),c1(i,i.prototype),g1(i,i.prototype),b3(i,i.prototype)}function b6(i){i.registerAddon($5),i.registerAddon(d3)}const x6=()=>{if(typeof window._setupDone<"u"){console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import");return}if(!window.mocha){const i=new Event("p5Ready");window.dispatchEvent(i),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!gr.instance&&new gr}},_6=()=>new Promise((i,t)=>{document.readyState==="complete"?i():window.addEventListener("load",i,!1)}),S6=typeof IS_MINIFIED>"u"?KL():Promise.resolve();dL(gr);gL(gr);mL(gr);yB(gr);vB(gr);bB(gr);_B(gr);SB(gr);CB(gr);AB(gr);DB(gr);v6(gr);b6(gr);Promise.all([_6(),S6]).then(x6);function w6(i,t){new gr(r=>{let n,s,a,o,l=[],d=[],p=0;const g=_=>[/^[!@#$%^&*_+\-=\\|;:'",.<>?]+$/,/^[\u3000-\u303F]+$/,/^[\uFF00-\uFFEF]+$/].some(A=>A.test(_));r.setup=()=>{const _=window.innerWidth,w=window.innerHeight;n=Math.min(_,w)*.13,s=n*1.2,a=n*1.2,o=n*.2,r.createCanvas(_,w).parent("lyrics"),r.colorMode(r.HSB,100),r.frameRate(60),r.textFont("Noto Sans JP"),r.textWeight("bold"),r.textAlign(r.CENTER,r.CENTER),r.smooth()},r.windowResized=()=>{const _=window.innerWidth,w=window.innerHeight;n=Math.min(_,w)*.13,s=n*1.2,a=n*1.2,o=n*.2,r.resizeCanvas(_,w)},r.draw=()=>{if(!i||!i.video)return;const _=i.timer.position;if(r.clear(),_<500)return;const w=i.video.findChar(_,{loose:!0});if(_>p&&l.length>0&&(d.push([...l]),l=[]),w){const D=w.parent,R=`${D.startTime}-${D.text}`,F=i.videoPosition>D.startTime-160&&i.videoPosition<D.startTime+160;if(console.log("wordInTime for char ",w.text,": ",F),console.log("!processedWords for char ",w.text,": ",!t.has(R)),F&&!t.has(R)&&!g(D.text)){t.add(R);const T={text:D.text,startTime:D.startTime,endTime:D.endTime,baseSize:n,x:0,width:0,id:R,shadowAlpha:20};D.text.length===1&&d.length>0?(d[d.length-1].push(T),p=D.endTime,y(r,d,l)):(l.push(T),p=D.endTime)}if(l.length>0){const T=l[l.length-1];T.id===R&&(T.endTime=Math.max(T.endTime,D.endTime),T.pulse=Math.sin(_/150)*5)}}const A=d.length+(l.length>0?1:0),P=r.height/2-(A-1)*a/2;if(y(r,d,l),d.forEach((D,R)=>{const F=D[D.length-1].endTime,T=_>F?Math.max(0,1-(_-F)/1e3):1,U=Math.sin(_/300+R)*3;S(r,D,_,P+R*a+U,!0,1,T)}),l.length>0){const D=l[l.length-1],R=_-D.startTime,T=Math.min(R/2e3,1),U=1+(s/n-1)*Cc.circInOut(T);D.scale=U,D.isExpanding=!0,D.shadowAlpha=50+Math.sin(_/150)*20,S(r,l,_,P+d.length*a,!1,U,1)}if(d=d.filter(D=>{const R=D[D.length-1].endTime;return _<R+1e3}),l.length>0){const D=i.timer.position,R=l[l.length-1];l=l.filter(F=>D<F.endTime+1e3),l.includes(R)||l.push(R)}};function y(_,w,A){[...w,A].forEach(D=>{if(D.length===0)return;let R=0;const F=[];for(const U of D){const k=U.isExpanding&&U.scale||1;_.textSize(U.baseSize*k);const B=_.textWidth(U.text);F.push(B),R+=B+o}R-=o;let T=_.width/2-R/2;for(let U=0;U<D.length;U++){const k=D[U],B=F[U];k.x=T+B/2,k.width=B,T+=B+o}})}function x(_,w,A,P,D,R,F){let T=w.baseSize*R,U=100,k=w.pulse||0;if(A<w.startTime){const L=1-(w.startTime-A)/150;T=w.baseSize*R*Cc.quintOut(L),U=100*Cc.quintOut(L),k+=(1-L)*15}else if(A>w.endTime&&!D){const L=(A-w.endTime)/250;U=100*(1-Cc.circIn(L)),k-=Cc.circIn(L)*10}U*=F;const B=w.shadowAlpha||20;U>0&&(_.push(),_.fill(0,0,0,B*U/100),_.textSize(T+2),_.text(w.text,w.x+3,P+k+3),_.pop()),_.fill(0,0,100,U),_.textSize(T),_.text(w.text,w.x,P+k)}function S(_,w,A,P,D,R,F){w.forEach(T=>{A>=T.startTime-500&&x(_,T,A,P,D,R,F)})}})}function E6(){const i=new k4({app:{token:"qzuKA90J9NSxH5mv"},throttleInterval:200,vocalAmplitudeEnabled:!0}),t=800,r=new Set;return w6(i,r),he.jsx("div",{className:"flex flex-col",children:he.jsx(uM,{player:i,musicOffset:t,processedWords:r})})}VO.createRoot(document.getElementById("root")).render(he.jsx(E6,{}));export{OO as c,uv as g};
